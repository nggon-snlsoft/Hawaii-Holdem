{"version":3,"sources":["../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/AudioController.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Board.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/Card.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/extensions/colyseus-sdk/runtime/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/extensions/colyseus-sdk/runtime/colyseus.js","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/CommonUtil.ts","../../file:/C:/ProgramData/cocos/editors/Creator/3.7.3/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.7.3/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/GameEntry.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/GameManager.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/HoldemDefines.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/LobbyAudioContoller.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/LobbyEntry.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/LobbySystemPopup.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/LoginSystemPopup.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Main.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/NetworkManager.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/PlayerActionInformation.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/PokerEvaluator.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/ResourceManager.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiBettingChips.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiBettingControl.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiBuyIn.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiCard.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiCommunityCards.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiControls.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiEffectShowRiver.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiEntity.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiEntityAvatar.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiGameChatting.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiGameInput.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiGameSystemPopup.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiJoinPlayer.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_CHARGE.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_EVENT.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_NOTICE.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_POINT.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_QnA.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_RANKING.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_TICKETS.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_TRANSFER.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiLobby.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLobbyBottom.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLobbyLoading.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLobbyPopup.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiLogin.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/UiLoginPOPUP_VERSION_MISMATCH.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/UiLoginPOPUP.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiPlayer.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiPlayerAction.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiPlayerActionReservation.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiPopupChangeAvatar.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiPopupGameProfile.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiPopupProfile.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiPopupSetting.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiPot.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiPotChips.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiProfile.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiResultEffect.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiRoundPotValue.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiSeat.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiSeats.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiShowDownEffect.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiTable.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiTableList.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiWinEffect.ts"],"names":["ccclass","_decorator","property","_dec","_dec2","AudioSource","_dec3","_class3","_Component","AudioController","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","volumn","_inheritsLoose","_proto","prototype","init","instance","this","ApplyVolumn","setting","NetworkManager","Instance","GetSetting","undefined","sound","audioSource","volume","VOLUMNE_MULTIPLIER","audioSourceTimeLimitFourSec","PlayTimeLimit","play","StopTimeLimit","stop","PlaySound","name","source","ResourceManager","getSoundSource","playOneShot","ButtonClick","Component","_applyDecoratedDescriptor","_class2","configurable","enumerable","writable","initializer","_class","_RF","pop","Board","setInfo","info","id","small","smallBlind","big","bigBlind","ante","balance","buyin","passPrice","passTerm","room","table","minStakePrice","maxStakePrice","reserveSeat","isPublic","ip","Sprite","_dec4","Card","_descriptor3","vec3Original","anim","num","type","ENUM_CARD_TYPE","NONE","flipDone","Init","Vec3","node","position","spriteCard","spriteHighlight","spriteDimmed","spriteFrame","getCardImage","active","PLAYER_HIDDEN","getComponent","Animation","on","OnFlipFinished","bind","Show","ShowFlip","delay","done","_this2","scheduleOnce","ShowImmediate","Fold","SetWinCard","pools","_this3","find","e","x","y","z","Hide","ResetPosition","Reset","card","OnFlipCentered","GetType","__cjsMetaURL","import","define","exports","require","module","__filename","__dirname","global","factory","amd","globalThis","self","Colyseus","ArrayBuffer","isView","a","buffer","window","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","TypeError","String","__","constructor","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","then","__generator","body","f","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","push","src","tar","headers","statusMessage","statusText","statusCode","status","data","response","send","method","uri","opts","res","rej","k","tmp","arr","req","XMLHttpRequest","str","timeout","ontimeout","onerror","err","open","href","onload","getAllResponseHeaders","trim","split","shift","toLowerCase","join","indexOf","JSON","parse","reviver","FormData","stringify","withCredentials","setRequestHeader","get","post","patch","del_1","get_1","patch_1","post_1","put_1","send_1","xhr","del","put","http","freeze","assign","ServerError","_super","code","message","Error","Decoder","offset","_offset","_buffer","_view","DataView","byteOffset","byteLength","utf8Write","view","c","i","l","charCodeAt","setUint8","_encode","bytes","defers","hi","lo","size","utf8Length$1","_str","_length","Math","floor","isFinite","pow","_float","isArray","Date","time","getTime","_bin","toJSON","keys","key","allKeys","encode","buf","deferIndex","deferWritten","nextOffset","defer","deferLength","bin","Uint8Array","j","setFloat64","_array","_parse","_map","string","chr","end","byte","getUint8","toString","fromCharCode","utf8Read$1","slice","prefix","getUint16","getUint32","getInt8","getFloat32","getFloat64","getInt16","getInt32","Protocol","ErrorCode","WebSocket","WebSocketTransport","events","ws","connect","url","protocols","binaryType","onopen","onmessage","onclose","close","reason","Connection","transport","serializers","registerSerializer","serializer","getSerializer","EventEmitter","handlers","register","cb","once","invoke","_i","forEach","handler","invokeAsync","all","map","remove","index","clear","createSignal","emitter","callback","storage","umd","fn","createCommonjsModule","__decorate","decorators","target","desc","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__spreadArray","to","from","il","OPERATION","SWITCH_TO_STRUCTURE","TYPE_ID","Root","refs","Map","refCounts","deletedRefs","Set","nextUniqueId","getNextUniqueId","addRef","refId","ref","incrementCount","set","removeRef","add","clearRefs","garbageCollectDeletedRefs","Schema","fieldName","schema","definition","parent","_definition","fieldsByIndex","parentIndex","values","child","ChangeTree","root","changed","changes","allChanges","caches","currentCustomOperation","setParent","indexes","field","parentIndex_1","changeTreee","parentIndex_2","operation","change","ADD","assertValidIndex","previousChange","DELETE","TOUCH","DELETE_AND_ADD","touchParents","touch","has","getType","parentType","getChildrenFilter","childFilters","getValue","previousValue","console","warn","discard","discardAll","cache","cachedBytes","clone","ensureRefId","DEFAULT_SORT","A","B","getArrayProxy","Proxy","obj","prop","isNaN","at","setValue","parseInt","deleteAt","setAt","deleteProperty","ArraySchema","items","$changes","$items","$indexes","$refId","is","splice","lastIndex","_a","_b","$deleteAt","isDecoding","item","CLEAR","separator","reverse","shiftAt","start","sort","compareFn","deleteCount","removedItems","unshift","addedLength","previousValues","searchElement","fromIndex","lastIndexOf","every","callbackfn","some","filter","reduce","initialValue","reduceRight","predicate","findIndex","fill","copyWithin","toLocaleString","unscopables","entries","includes","flatMap","flat","depth","setIndex","getIndex","getByIndex","deleteByIndex","toArray","triggerAll","getMapProxy","MapSchema","initialValues","toStringTag","hasIndex","REPLACE","isRef","cloned","registeredTypes","registerType","identifier","SchemaDefinition","deprecated","descriptors","addField","getNextFieldIndex","array","addFilter","filters","indexesWithFilters","addChildrenFilter","hasFilter","klass","_context","useFilters","Context","types","schemas","typeid","_typeid","context","globalContext","definitionAtLine","stack","isMap","childType","fieldCached","filterChildren","throws","defineTypes","fields","utf8Length","int8$1","uint8$1","int16$1","uint16$1","int32$1","uint32$1","b4","b3","b2","b1","int64$1","high","uint64$1","float32$1","writeFloat32","float64$1","writeFloat64","_int32$1","Int32Array","_float32$1","Float32Array","_float64$1","Float64Array","boolean$1","string$1","number$1","Number","MAX_SAFE_INTEGER","int8","uint8","int16","uint16","int32","uint32","int64","uint64","float32","float64","number","utf8Read","error","it","readFloat32","readFloat64","low","_int32","_float32","_float64","boolean","stringCheck","numberCheck","arrayCheck","switchStructureCheck","decode","CollectionSchema","entry","SetSchema","EventEmitter_","ClientState","refIds","WeakSet","containerIndexes","WeakMap","addRefId","changeTree","client","$filterState","EncodeSchemaError","assertType","typeofTarget","allowNull","log","foundValue","assertInstanceType","encodePrimitiveType","encodeFunc","decodePrimitiveType","defineProperties","$listeners","onError","props","listen","attr","$root","totalBytes","isSchema","fieldIndex","dynamicIndex","refId_1","getSchemaType","createTypeInstance","onChange","onRemove","typeDef","refId_2","valueRef","onAdd","deletes","iter","value_1","getProxy","hasChange","nextIterator","nextRef","_triggerChanges","encodeAll","rootChangeTree","refIdsVisited","changeTrees","numChangeTrees","cl","beginIndex","tryEncodeTypeId","applyFilters","refIdsDissallowed","filteredBytes","_loop_1","clientHasRefId","isEncodeAll","indexWithFilter","_triggerAllFillChanges","discardAllChanges","targetType","defaultType","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","listener","dumpChanges","dump","currentStructure","reflectionContext","ReflectionField","ReflectionType","Reflection","rootSchemaType","reflection","rootType","buildType","currentType","fieldType","type_1","childTypeSchema","referencedType","type_2","schemaTypes","reflectionType","schemaType","refType","typeInfo","rootInstance","Room","rootSchema","onStateChange","onLeave","onJoin","hasJoined","onMessageHandlers","emit","event","state","removeAllListeners","endpoint","connection","onMessageCallback","destroy","leave","consented","LEAVE_ROOM","onMessage","getMessageHandlerKey","initialBytes","ROOM_DATA","encoded","getState","JOIN_ROOM","serializerId","handshake","ERROR","it_1","code_1","ROOM_DATA_SCHEMA","it_2","dispatchMessage","ROOM_STATE","setState","ROOM_STATE_PATCH","it_3","decoder","encodedState","binaryPatch","messageType","teardown","getStorage","cc","sys","localStorage","setItem","getItem","removeItem","Platform","TOKEN_STORAGE","Auth","_id","username","displayName","avatarUrl","isAnonymous","email","lang","location","timezone","metadata","devices","facebookId","twitterId","googleId","gameCenterId","steamId","friendIds","blockedUserIds","createdAt","updatedAt","token","replace","login","options","queryParams","hasToken","request","registerPingService","save","getFriends","getOnlineFriends","getFriendRequests","sendFriendRequest","friendId","userId","acceptFriendRequest","declineFriendRequest","blockUser","unblockUser","segments","query","name_1","queryString","logout","unregisterPingService","keepOnlineInterval","setInterval","clearInterval","MatchMakeError","DEFAULT_ENDPOINT","hostname","protocol","port","Client","_auth","joinOrCreate","roomName","createMatchMakeRequest","joinById","roomId","reconnect","sessionId","getAvailableRooms","consumeSeatReservation","createRoom","buildEndpoint","params","processId","SchemaSerializer","rawState","patches","NoneSerializer","__esModule","CommonUtil","getNumberStringWithComma","showCurrency","getKoreanNumber","setAvatarSprite","sf","resources","load","setCardSprite","setEmoticonSprite","TruncateString","setGameSetting","avatars","getGameSetting","Node","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","color","Color","WHITE","BLACK","RED","GREEN","BLUE","Canvas","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","miscNode","getChildByName","buttonNode","instantiate","titleNode","newLabel","EnableAllCompositeModeButton","setPosition","setScale","labelComponent","Label","overflow","currentRow","newNode","singleModeToggle","textComponent","getComponentInChildren","RichText","Toggle","EventType","TOGGLE","toggleSingleMode","Button","CLICK","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","search","substr","toggle","debugView","director","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","toggleComponent","activeValue","onLoad","update","deltaTime","GameEntry","_root","_popup","_controls","_isChildrenRegisted","_table","_rootInformation","_labelID","_labelAnte","_labelSB","_labelBB","_labelIP","rootPortrait","rootLandscape","GameManager","GetInfo","device","ENUM_DEVICE_TYPE","MOBILE_PORTRAIT","PC_LANDSCAPE","RegisterChildren","audioController","SetCurrentScene","ENUM_CURRENT_SCENE","GAME_SCENE","show","game","Game","EVENT_SHOW","onEVENT_SHOW","EVENT_HIDE","onEVENT_HIDE","getChildByPath","UiGameSystemPopup","UiControls","UiTable","onEVENT_FOREGROUND","onEVENT_BACKGROUND","onDestroy","off","_cc$Component","version","deviceType","leaveReason","ENUM_LEAVE_REASON","LEAVE_UNKNOWN","currentScene","LOGIN_SCENE","showEventPopup","_instance","GetVersion","SetVersion","SetDeviceType","scene","GetShowEventPopup","SetShowEventPopup","ForceExit","LEAVE_NONE","LEAVE_VERSION_MISMATCH","LEAVE_TOKEN_EXPIRE","LEAVE_LONG_AFK","loadScene","ResetLeaveReason","GetLeaveReason","ENUM_COMMUNTY_CARD_STATE","ENUM_BET_SOUND","AudioClip","LobbyAudioContoller","PlayButtonClick","clipButtonClick","LobbyEntry","_lobby","AudioContoller","initialize","LOBBY_SCENE","UiLobby","LobbySystemPopup","ePopupType","PopUpElement","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","onClose","onYes","onNo","btnOk","onClickOk","btnYes","onClickYes","btnNo","onClickNo","hide","title","content","closeCallback","yesCallback","noCallback","lbTitle","lbTitleShadow","lbContents","lbContentsShadow","popUpOk","popUpYesOrNo","None","Ok","YesOrNo","_dec12","_dec13","_class6","_descriptor11","popupQueue","isPopupShow","_proto2","uiPopUp","showPopUpOk","showPopup","showPopUpYesOrNo","showInfo","IsPOPUP_SHOW","closePopup","_class5","_class4","LoginPopupType","LoginPopUpElement","LoginSystemPopup","Main","_login","_join","_loginPopup","_lableVersion","Initialize","onShowJoinMember","onShowLogin","UiLogin","UiJoinPlayer","ENUM_RESULT_CODE","HOLDEM_SERVER_TYPE","apiHost","gameHost","apiPort","gamePort","useSSL","user","statics","config","store","API_SERVER","GAME_SERVER","api_port","game_port","user_id","getQueryStringParams","decodeURIComponent","_Init","_asyncToGenerator","_regeneratorRuntime","mark","_callee","onSuccess","onFail","result_api","wrap","prev","Post","API_SERVER_SUB","DISCONNECT_SERVER","msg","abrupt","UNKNOWN_FAIL","SUCCESS","_x","_x2","_x3","reqTOKEN_VERIFY","_reqTOKEN_VERIFY","_callee2","onSUCCESS","onFAIL","_context2","parsedError","_x4","_x5","reqCHECK_VERSION","_reqCHECK_VERSION","_callee3","_context3","_x6","_x7","_x8","reqCHECK_TICKETS","_reqCHECK_TICKETS","_callee4","ticket_id","_context4","_x9","_x10","_x11","reqLOGIN_HOLDEM","_reqLOGIN_HOLDEM","_callee5","login_id","password","isConnect","platform","os","_context5","_x12","_x13","_x14","_x15","reqJOIN_REQUEST","_reqJOIN_REQUEST","_callee6","_context6","_x16","_x17","getDATA","_getDATA","_callee7","_context7","conf","_x18","_x19","_x20","getPOPUPS","_getPOPUPS","_callee8","store_id","_context8","_x21","_x22","getSTATICS","_getSTATICS","_callee9","_context9","_x23","_x24","_x25","reqREFRESH","_reqREFRESH","_callee10","_context10","_x26","_x27","reqREAD_QNA","_reqREAD_QNA","_callee11","_context11","_x28","_x29","_x30","reqDELETE_QNA","_reqDELETE_QNA","_callee12","_context12","_x31","_x32","_x33","getTABLE_LIST","_getTABLE_LIST","_callee13","_context13","_x34","_x35","reqENTER_TABLE","_reqENTER_TABLE","_callee14","table_id","_context14","ColySeus","errorCode","t0","_x36","_x37","_x38","reqCOMPANY","_reqCOMPANY","_callee15","errMessage","_context15","_x39","_x40","getSTORE","_getSTORE","_callee16","_context16","_x41","_x42","getCHARGE_REQUESTS","_getCHARGE_REQUESTS","_callee17","_context17","_x43","_x44","getTRANSFER_REQUESTS","_getTRANSFER_REQUESTS","_callee18","_context18","_x45","_x46","reqCHARGE_REQUEST","_reqCHARGE_REQUEST","_callee19","amount","holder","_context19","_x47","_x48","_x49","reqTRANSFER_REQUEST","_reqTRANSFER_REQUEST","_callee20","_context20","_x50","_x51","_x52","getSETTING","_getSETTING","_callee21","_context21","_x53","_x54","_x55","reqJOIN_MEMBER","_reqJOIN_MEMBER","_callee22","_context22","_x56","_x57","_x58","reqCHECK_LOGIN_ID","_reqCHECK_LOGIN_ID","_callee23","_context23","_x59","_x60","_x61","reqCHECK_NICKNAME","_reqCHECK_NICKNAME","_callee24","nickname","_context24","_x62","_x63","_x64","reqPOINT_TRANSFER","_reqPOINT_TRANSFER","_callee25","_context25","_x65","_x66","_x67","getPOINT_TRANSFERS","_getPOINT_TRANSFERS","_callee26","_context26","_x68","_x69","reqGET_QNA","_reqGET_QNA","_callee27","_context27","_x70","_x71","reqSEND_QNA","_reqSEND_QNA","_callee28","_context28","_x72","_x73","_x74","getPOINT_RECEIVES","_getPOINT_RECEIVES","_callee29","_context29","_x75","_x76","GetUser","GetConfig","updateUSER_AVATAR","_updateUSER_AVATAR","_callee30","avatar","_context30","_x77","_x78","_x79","updateUSER_SETTING","_updateUSER_SETTING","_callee31","selected","_context31","_x80","_x81","_x82","getUSER_FromDB","_getUSER_FromDB","_callee32","_context32","_x83","_x84","reqCHECK_GAME_SERVER","_reqCHECK_GAME_SERVER","_callee33","game_servers","_context33","server","GAME_SERVER_SUB","_x85","_x86","onreadystatechange","readyState","respone","responseText","fullUrl","PlayerActionInformation","labelMinBet","labelCurBet","labelPlayerChips","labelMaxChips","labelMaxBet","labelMinRaise","labelCurrentPot","labelCurrentBet","minBet","currBet","chips","maxBet","maxChip","minRaise","Hand","RoyalFlush","NaturalRoyalFlush","WildRoyalFlush","FiveOfAKind","StraightFlush","FourOfAKindPairPlus","FourOfAKind","FourWilds","TwoThreeOfAKind","ThreeOfAKindTwoPair","FullHouse","Flush","Straight","ThreeOfAKind","ThreePair","TwoPair","OnePair","HighCard","PaiGowPokerHelper","suit","rank","wildValue","cards","canDisqualify","cardPool","suits","wilds","sfLength","alwaysQualifies","isPossible","descr","sfQualify","lowestQualified","myCards","obj1","key1","handRank","handValues","solve","compare","loseTo","hand","getNumCardsByRank","val","checkCardsLength","wildStatus","getCardsForFlush","setRanks","wild","resetWildCards","nextHighest","picks","excluding","qualifiesHigh","winners","hands","h","highestRank","max","lose","stripWilds","nonWilds","_Hand","possibleStraight","nonCards","straight","_StraightFlush","_RoyalFlush","_RoyalFlush2","_Hand2","cardsInHand","_Hand3","_Hand4","noKickers","_Hand5","_Hand6","_Hand7","_Hand8","_Hand9","_proto14","checkCards","wheelStatus","getWheel","wildCount","getGaps","checkHandLength","wildCards","cardsToCheck","gapCards","cardsList","gapCount","prevCard","diff","stripReturn","wheelCards","cardFound","_Hand10","_Hand11","_Hand12","_Hand13","_Hand14","_Hand15","baseHand","hiHand","loHand","loGame","hiGame","_proto21","splitHouseWay","hiCards","loCards","handValue","sfReturn","altGame","altHand","altRank","getSFData","possibleSF","possibleLoCards","bestLoCards","bestHand","handsToCheck","qualifiesValid","compareHands","player","banker","hiWinner","loWinner","setHands","fullHand","gameRules","CARDS_NAME","SOUNDS_NAME","preloadCardsResource","preloadChipsResource","preloadSoundsResource","preloadAvatarResource","preloadTableResource","preloadBackgroundResource","currentCardType","currentTableType","currentBgType","loadAvatars","count","cbProgress","cbDone","cnt","finished","total","ext","loadChips","loadCards","_this4","loadSounds","_this5","_loop","loadTables","_this6","board","loadBackground","_this7","background","getChipImage","getAvatarImage","getTableImage","getBackgroundImage","setBackgroundImage","s","setTableImage","getCardPreloadState","getChipPreloadState","getSoundsPreloadState","getTablePreloadState","getBackgroundPreloadState","clipName","resetCardsPreload","resetChipsPreload","UiBettingChips","sprites","positions","numbers","digits","ss","rootBettingValue","labelBettingValue","setNumbers","setDigits","reset","move","targets","moveChipsToPot","idx","moveToPot","digit","UIOpacity","opacity","tw","tween","easing","easeOutQuad","onUpdate","ratio","o","vecTo","convertToWorldSpaceAR","convertToNodeSpaceAR","easeOutBack","c1","ENUM_BETTING_TYPE","ENUM_BETTING_KIND","Slider","_dec14","UiBettingControl","_descriptor12","_descriptor13","pot","displayValue","valueRange","valueStart","CONST_BET_STEP","bb","cbBetting","_this$sliderBetting","labelDisplayValue","sliderEventHandler","EventHandler","component","customEventData","sliderBetting","slideEvents","buttonBetMinus","onClickBetMinus","buttonBetPlus","onClickBetPlus","buttonBetHalf","onClickBetHalf","buttonBetQuater","onClickBetQuater","buttonBetPot","onClickBetPot","buttonBetMax","onClickBetMax","labelMaxValue","labelFullValue","labelHalfValue","labelQuaterValue","progress","nodeRoot","sb","cbConfirm","min","setRatio","setPotValue","kind","HALF","QUATER","FULL","MAX","onSliderChangeBetValue","slider","getResult","Bet","Raise","UiBuyIn","buyInRange","buyInResult","cbExit","cbBuyIn","initialized","_this$sliderBuyIn","buttonExit","onClickExit","buttonBuyIn","onClickBuyIn","buttonMin","onClickMin","buttonMax","onClickMax","buttonInput","onClickInput","sliderBuyIn","buyIn","labelBuyIn","labelUserChips","labelBlind","m","labelMinStakePrice","labelMaxStakePrice","setBuyInRatio","onSliderChangeValue","addChips","labelTitle","reBuyIn","minValue","buyInDone","buyInRemain","AnimationClip","UiCard","sprite","originalPos","onCardFlipFinished","spriteWin","onCardFlippCenter","UiCommunityCards","isRegistedChildren","RegistedChildren","Ready","SetCommunityCards","ShowFlopCards","_loop2","ShowTurnCard","COMMUNITY_TURN","ShowRiverCard","COMMUNITY_RIVER","ShowRiverCardImmediate","SetWinCards","GetCommunityCards","COMMUNITY_FLOP","setExitCallback","UiEffectShowRiver","animation","onFinished","unscheduleAllCallbacks","onChangeCard","UiEntity","uiEntityAvatar","isChildRegistered","rootCards","rootButtons","timerDeltaTime","turnDuration","playTimeLimitSound","buttons","rootHandRank","labelHandRank","isFold","isWait","isMe","isSitout","bezierPoints","nodeEmoticon","spriteEmoticon","nodeChatting","animationEmoticon","animationChatting","labelChatting","buttonAvatar","uiBettingChips","uiResultEffect","timeOutId","uiPotChips","cbProfileOpen","cbProfileClose","isPlaying","rootHandCards","handCards","rootHiddenCards","hiddenCards","rootCardDispensing","seat","rootReserveExit","childRegistered","UiEntityAvatar","UiResultEffect","PLAYER_HAND","SIZE_CHANGED","uiTransLB","uiTransSpr","setContentSize","contentSize","point","onFinishedEmoticonAnimation","onFinishedChattingAnimation","UiPotChips","onClickAvatar","SetEntity","entity","cbOpen","cbClose","SetAvatar","endTurn","ClearAction","ClearBetValue","ClearHands","fold","wait","isSitOut","SetStatus","SetWait","SetSitout","SetEscape","SetClearRound","SetChips","ResetResultEffect","SetFold","SetPlay","SetPrepareRound","setChipsMoveToPot","setEscape","clearTimeout","clearUiBetValue","SetNickname","SetBlindBet","isSB","isBB","SetBigBlind","SetSmallBlind","SetShowChips","SetButtons","element","ClearButtons","SetAction","action","ENUM_STATUS_TYPE","SITOUT","WAITING","SetBetValue","betValue","ResetHands","HideHiddenCard","HideHandCard","ClearHandRank","SetShowHiddenCard","SetHandCardsFold","SetHandRank","handEval","startTurn","duration","StartActionTimer","SetUiFold","SetAllIn","SetSitback","SetSitbackStatus","setEmoticon","setEmoticonButtinInteractive","EMOTICON_TYPE","Emoticon","Chatting","EMOTICON_CHAT_MESSAGE","dt","updateTimer","setShowTimer","setWaitingTimerColor","YELLOW","setWaitingTimer","setWaitingTimerProgress","GetNickname","SetDraw","SetDrawEffect","SetReturn","SetReturnEffect","SetWinner","MovePotToEntity","SetWinEffect","setAniWinner","setTweenFadeInFromToMove","originalColor","fadeInRatio","easingFunc","union","PrepareDispensingCards","CardDispensing","ShowHands","hiddenCardFadeOut","TIMER_BEGIN_COLOR","TIMER_END_COLOR","SpriteFrame","rootSelected","rootNameTag","rootActions","rootStatus","spriteAvatarProfile","spriteTimer","spriteStatus","spriteFold","labelNickname","labelChips","labelWaitingTimer","actions","isChildRegisted","uiEntity","SetPlayerThumbnail","GRAY","fillRange","clearUiAction","delta","lerp","spriteFrameStatus","EmoticonElement","copy","copyObj","newObj","emoticon","onClick","ChattingElement","buttonChatting","setChatting","chat","_dec15","_dec16","_dec17","_class8","UiGameChatting","_descriptor14","cbSelect","isSet","_proto3","originEmoticonElement","onClickEmoticon","nodeEmoticonContents","originChattingElement","onClickChatting","nodeChattingContents","toggleEmoticon","onToggleEmoticon","toggleChatting","onToggleChatting","nodeChattingPanel","nodeEmoticonPanel","_class7","UiGameInput","inputValue","maxValue","cbOk","cbYes","cbNo","labelDescription","nodeOkPopup","nodeYesNoPopup","buttonOk","buttonYes","buttonNo","showOkPopup","showYesNoPopup","EditBox","main","isCheckID","isCheckNickname","buttonJoin","onCLICK_JOIN","buttonCancel","onCLICK_CANCEL","buttonIDCheck","onCLICK_CHECK_ID","buttonNicknameCheck","onCLICK_CHECK_NICKNAME","editBoxID","onLOGIN_ID_EDITBOX_DID_BEGAN","onLOGIN_ID_EDITBOX_RETURN","onLOGIN_ID_EDITBOX_TEXT_CHANGED","onLOGIN_ID_EDITBOX_DID_ENDED","editBoxNickname","onEDITBOX_DID_BEGAN","onEDITBOX_RETURN","onEDITBOX_TEXT_CHANGED","onEDITBOX_DID_ENDED","editBoxPassword","editBoxPasswordConfirm","editBoxTransferPassword","editBoxPhone","editBoxBank","editBoxHolder","editBoxAccount","editBoxRecommender","interactable","validate","store_code","transfer_password","phone","bank","account","recommender","validateID","validateNickname","validatePassword","validateTransferPassword","validatePhone","validateBank","validateHolder","validateAccount","validateRecommender","test","c2","editbox","blur","UiLOBBY_POPUP_CHARGE","charge_min","cbEXIT","cbAPPLY","editboxChargeAmount","labelAccount","labelHolder","labelContact","onEXIT","buttonApply","onAPPLY","min_charge","labelChargeMin","charges","charge","GetStoreInfo","editboxChargeHolder","labelKorValue","telegram","kakao","RequestCharge","ENUM_EVENT_POPUP_TYPE","UiLOBBY_POPUP_EVENT","popups","current","maxPopup","cbDONE","labelLoadingMessage","spriteEvent","defaultSpriteFrame","buttonConfirm","onCONFIRM","labelButtonLabel","buttonConfirmDisable","popup","SetPopup","onDONE","EVENT_POPUP_NONE","_SetPopup","GetSpriteFromUrl","_GetSpriteFromUrl","assetManager","loadRemote","xhrMimeType","imageAsset","texture","Texture2D","image","UiLOBBY_POPUP_NOTICE","PointTransferElement","CopyObject","rootNode","labelDate","labelTransferPoint","labelRemainPoint","labelAddBalance","Clear","createDate","newPoint","newBalance","oldBalance","SetActive","SetParent","PointGiftElement","labelSender","labelReceivePoint","labelPoint","sender","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_dec24","ScrollView","_dec25","_dec26","Layout","_dec27","_dec28","_dec29","_dec30","_dec31","_dec32","_dec33","UiLOBBY_POPUP_POINT","_descriptor15","_descriptor16","_descriptor17","_descriptor18","_descriptor19","_descriptor20","_descriptor21","_descriptor22","_descriptor23","_descriptor24","_descriptor25","_descriptor26","_descriptor27","_descriptor28","_descriptor29","_descriptor30","pointTransferElementOnList","pointGiftElementOnList","transfer_min","labelUserBalance","labelUserPoint","togglePoint","onTOGGLE_POINT","toggleGift","onTOGGLE_GIFT","originPointTransfer","originPointGift","editboxPointTransfer","min_point_transfer","labelTransferMin","SetUserInfo","ShowPointTransferList","logs","rootPoint","rootGift","ClearPointTransferList","DestroyPointTransferElements","ClearPointGiftList","DestroyPointGiftElements","logLength","layoutPointLogs","svPointTransfer","scrollToTop","ShowPointGiftList","layoutGiftLogs","svPointGift","oldPoint","PointTransfer","ShowGiftLog","QnAElement","qna","spriteSlot","spriteUnread","buttonQNA","spriteButton","labelButton","questionDate","pending","unread","onSELECT_QNA","_dec34","_dec35","UiLOBBY_POPUP_QnA","_descriptor31","_descriptor32","_descriptor33","QNAAElementOnList","selectedInfo","labelTitleText","rootPANEL_LIST","rootPANEL_INPUT","rootPANEL_SHOW","labelShowTitleText","labelShowQuestionText","labelShowAnswerText","labelShowPending","labelQuestionUpdate","labelAnswerUpdate","editboxTitle","onTITLE_EDITBOX_DID_BEGAN","onTITLE_EDITBOX_RETURN","onTITLE_EDITBOX_TEXT_CHANGED","onTITLE_EDITBOX_DID_ENDED","editboxQuestion","onQUESTION_EDITBOX_DID_BEGAN","onQUESTION_EDITBOX_RETURN","onQUESTION_EDITBOX_TEXT_CHANGED","onQUESTION_EDITBOX_DID_ENDED","buttonWrite","onWRITE","buttonActivateTitle","onACTIVATE_TITLE","buttonBack","onBACK_LIST","buttonDelete","onDELETE_QNA","buttonSend","onSEND_QNA","onSEND_CANCEL","originQNA","ShowList","qnas","onREFRESH","ClearList","QnAsLength","layoutQnAList","svQnAs","ClearShowPanel","question","answer","answerDate","DestoryElements","onRESET_WRITE","labelTitleCount","labelDescCount","focus","DELETE_QNA","onSHOW_LIST","q","affected","UiLOBBY_POPUP_RANKING","UiLOBBY_POPUP_TICKETS","tickets","maxTickets","ticket","SetTicket","_SetTicket","description","updateDate","transfer","UiLOBBY_POPUP_TRANSFER","remain","labelBank","labelPhone","labelBalance","labelAfterBalance","labelKorAmount","editboxTransferAmount","onAMOUNT_EDITBOX_DID_BEGAN","onAMOUNT_EDITBOX_RETURN","onAMOUNT_EDITBOX_TEXT_CHANGED","onAMOUNT_EDITBOX_DID_ENDED","editboxTransferPassword","onPASSWORD_EDITBOX_DID_BEGAN","onPASSWORD_EDITBOX_RETURN","onPASSWORD_EDITBOX_TEXT_CHANGED","onPASSWORD_EDITBOX_DID_ENDED","min_transfer","transfers","GetUserInfo","UiPlayer","UiTableList","UiLobbyPopup","UiLobbyBottom","UiLobbyLoading","cbEnd","canRefresh","onHideTimestamp","uiLobbyPopup","uiPlayer","onShowAvartProfile","uiTableList","onJoinTable","EXIT_LOBBY","uiLobbyLoading","uiLobbyBottom","onSHOW_POINT","onSHOW_RANKING","onSHOW_CHARGE","onSHOW_TRANSFER","onSHOW_QND","onSHOW_NOTICE","buttonSetting","onShowSetting","spriteBlocker","CheckEventPopup","onREGIST_SCHEDULE","OpenEventPopup","tester","CloseEventPopup","SetUnreadAnswer","SetUnreadBadge","ShowTicketResult","OpenTicketsPopup","CloseTicketsPopup","refreshPlayer","refresh","schedule","onUNREGIST_SCHEDULE","IsOpen","disable","LEAVE_DISABLE_ACCOUNT","unreads","getTableList","refreshUiPlayer","openProfile","_this8","openSetting","_this9","seatMaxFromServer","OpenPoint","OpenRanking","OpenCharge","OpenTransfer","OpenQNA","OpenNotice","now","ts","cbPOINT","cbRANKING","cbCHARGE","cbTRANSFER","cbQNA","cbNOTICE","buttonPoint","onCLICK_POINT","buttonRanking","onCLICK_RANKING","buttonCharge","onCLICK_CHARGE","buttonTransfer","onCLICK_TRANSFER","onCLICK_QNA","buttonNotice","onCLICK_NOTICE","rootQNABadge","labelUnreadMessage","ProgressBar","cbNext","rootFadeIn","progressBar","FadeIn","preLoadResource","loadTable","launch","preloadScene","completedCount","totalCount","UiPopupProfile","UiPopupSetting","UiPopupChangeAvatar","uiLobby","isOpen","uiPopupProfile","openChargeAvatar","uiPopupSetting","applySetting","uiPopupChangeAvatar","hideChangeAvatar","applyChangeAvatar","uiLOBBY_POPUP_POINT","ClosePoint","applyPointTransfer","uiLOBBY_POPUP_RANKING","CloseRanking","uiLOBBY_POPUP_CHARGE","CloseCharge","uiLOBBY_POPUP_TRANFER","CloseTransfer","onAPPLY_TRANSFER","uiLOBBY_POPUP_QNA","CloseQNA","uiLOBBY_POPUP_NOTICE","CloseNotice","uiLOBBY_POPUP_EVENT","uiLOBBY_POPUP_TICKETS","closeAllPopup","Open","closeProfile","closeSetting","closeChangeAvatar","UiLoginPOPUP","RegistEditboxEvent","uiLoginPOPUP","spriteEventBlocker","buttonLogin","onClickLogin","onClickJoin","exitGame","editBoxUID","onUID_EDITBOX_DID_BEGAN","onUID_EDITBOX_RETURN","onUID_EDITBOX_TEXT_CHANGED","onUID_EDITBOX_DID_ENDED","onUIDEditboxReturn","onUIDEditboxChanged","text","onUIDEditboxDidBegan","onPasswordEditboxReturn","soundButtonClick","onLogin","onPasswordEditboxChanged","onPasswordEditboxDidBegan","onLOAD_DATA","referal","OPEN_VersionMismatch","onEXIT_GAME","onDOWNLOAD_PAGE","forceExit","openURL","UiLoginPOPUP_VERSION_MISMATCH","cbDOWNLOAD","onCLICK_EXIT","buttonDownload","onCLICK_DOWNLOAD","homepage","uiLoginPopupVersionMismatch","CLOSE_VersionMismatch","avatarType","points","cbClickAvatar","labelPoints","labelIp","spriteAvatar","chip","login_ip","UiPlayerAction","buttonFold","buttonCheck","buttonCall","buttonAllIn","turnBet","myBet","myChips","betMin","betStart","betRange","callValue","isBet","maxChips","buttonQuater","buttonHalf","buttonFull","buttonQuaterDisable","buttonHalfDisable","buttonFullDisable","labelCallValue","labelQuaterDisableValue","labelHalfDisableValue","labelFullDisableValue","labelBet","labelRaise","quaterValue","halfValue","fullValue","betType","rotateType","cbFold","cbCall","cbCheck","cbBet","cbRaise","cbAllIn","cbBetAnnounce","_this$nodeRoot$getChi","_this$buttonFold","_this$nodeRoot$getChi2","_this$buttonCheck","_this$nodeRoot$getChi3","_this$buttonCall","_this$nodeRoot$getChi4","_this$buttonAllIn","rootPortraitController","rootLandscapeContoller","onClickFold","onClickCheck","onClickCall","onClickAllin","onClickQuater","onClickHalf","onClickFull","isLast","hasAction","quater","half","full","currentPot","sendValue","BET_QUATER","BET_HALF","BET_FULL","BET_MAX","ENUM_RESERVATION_TYPE","UiPlayerActionReservation","reservationType","RESERVATION_NONE","toggleFoldReservation","toggleCheckReservation","resetCheck","isOpenReservation","showCheck","checkReservation","RESERVATION_FOLD","RESERVATION_CHECK","getReservationType","PlayerAvatarElement","setAvatar","currentId","onToggle","userInfo","gameSetting","selectId","cbApply","onClickApply","showAvatars","container","contents","ToggleContainer","allowSwitchOff","origin","onClickToggle","removeAllChildren","CARD_NAME","UiPopupGameProfile","rootInfo","rootHands","rootBalance","labelHandCount","labelMaxPots","labelWin","labelFold","labelWinPreflop","labelWinFlop","labelWinTurn","labelWinRiver","labelFoldPreflop","labelFoldFlop","labelFoldTurn","labelFoldRiver","labelHandRankDesc","lib","PokerEvaluator","InitCards","SetProfile","GetActivate","labeNickname","maxPots","win","toFixed","winPreflop","win_preflop","winFlop","win_flop","winTurn","win_turn","winRiver","win_river","foldPreflop","fold_preflop","foldFlop","fold_flop","foldTurn","fold_turn","foldRiver","fold_river","best_hands","ResetCards","evaluate","GetHandsEval","elem","ConvertCardNameToIndex","SetCards","rs","cbChangeAvatar","labelRanking","buttonChangeAvatar","onClickChangeAvatar","SetInformation","selectCard","selectTable","selectBackground","initSetting","togglesCard","toggleItems","onToggleCardsChanged","togglesTable","onToggleTablesChanged","togglesBackground","onToggleBackgroundChanged","sliderVolumn","labelVolumn","onSliderChangeVolumn","Pot","ClearCallback","UiPot","svPots","potCount","selectedPot","potInfoTimeout","pots","shown","players","SetPotCount","potUi","sidePot","showRoot","potInfo","valueLabel","rake","UpdatePotTotal","totalValue","labelMaxPot","GetPots","potCountRoot","labelPotCount","ClearPotCount","maxPotRoot","HidePotInfo","vecOriginal","vecFrom","UiProfile","nodePanel","getPlayerProfile","profile","spriteWinAnimation1","spriteWinAnimation2","spriteWinAnimation3","vecWinAnimation3","spriteEffectWin","spriteEffectDraw","spriteEffectReturn","AnimationWinEffect","AnimationDrawEffect","AnimationReturnEffect","rootLabelValue","labelEffectValue","winTweens","childedRegisted","WinTweenEffect","tw1","tw3","scale","dest","Quat","IDENTITY","tw2","fromEuler","setRotation","bezier","onFinishedResultWin","onFinishedResultDraw","onFinishedResultReturn","UiRoundPotValue","labelPotValue","layout","updateLayout","updatePotVaule","UiSeat","spriteSelected","posSymbols","setUi","setEscapee","clearUiPosSymbol","setNickname","setStatus","setUiChips","setUiPosSymbol","symbolName","getTakeButton","buttonTakeSeat","setShowEntity","setShowReserve","spriteReserve","getEntity","OpenUserProfile","UiSeats","uiSeats","buttonTakeSeats","isWaitingResult","timerId","limitTime","pauseTimer","joinPlayer","playingPlayer","unselectSeatDuringTime","maxSeat","onClickCallback","seatCount","seatsRoot9","seatsRoot6","nodeTarget","seatRootPath","children","cn","uiSeat","bg","tb","labelLimitTimer","updateSeatInfo","seats","dealer","onClickSeatButton","_i2","playing","startSeatsSelect","second","checkTimer","clearTimer","seatPos","pause","unpause","onResultFail","LoadLobby","checkTimerId","isSeatsSelectOpen","leaveRoom","buyInAmount","UiShowDownEffect","animState","totalCards","UiWinEffect","GAME_STATE","SHOWDOWN_STATE","SEAT_PLAYERS","PLAYER_CARDS","ENTITY_ELEMENTS","roundState","spritePotRoot","uiPlayerAction","nodeCardDispensingRoot","timerRoot","labelReadyMessage","objPotMoveToWinnerChips","objPotReturnChips","curPotValue","mySeat","myWaitStatus","startBetFromServer","seatMax","enableSeats","seatDealer","seatSB","seatBB","msgWINNERS","isAllIn","readyMessageHandler","countPlayers","isSitOutReservation","rootPotChips","labelSitout","labelSitback","isReserveSitout","isSitoutable","labelReservationSitout","rootCurrentPot","reserveLeave","updateClinet","onClickSeatSelect","uiBuyIn","uiProfile","uiGameChatting","onClickEmticonExit","uiPlayerActionReservation","uiWinEffect","uiRoundPotValue","uiShowDownEffect","uiEffectShowRiver","uiCommunityCards","playerActionInformation","registRoomEvent","buttonEmoticon","onClickShowEmoticon","buttonAddChips","onClickAddChips","sendMsg","GetEntityFromSeat","enable","entitiesRoot9","entitiesRoot6","entitiesRootPath","playerMe","winnerChips","sprChips","spr","removeFromParent","originalSprChipsCount","loopIdx","cloneSprArray","isValid","returnChips","originSprReturnChipsCount","buttonShowCard","onClickShowCard","buttonSitout","onClickSitout","buttonSitback","onClickSitback","nodeCardShuffleMessage","buttonSitoutCancel","onClickSitCancel","SetCurrentPot","ResetCurrentPot","no","onSHOW_SELECT_SEAT","onSELECT_SEAT_ERROR","onUPDATE_SELECT_SEAT","onNEW_ENTITY","onHANDLE_ESCAPEE","onSUSPEND_ROUND","onREADY_ROUND","onPREPARE_ROUND","onCARD_DISPENSING","onBLIND_BET","onPRE_FLOP_END","onSHOW_FLOP","onFLOP_END","onSHOW_TURN","onTURN_END","onSHOW_RIVER","onRIVER_END","onSHOWDOWN_START","onSHOWDOWN_FLOP","onSHOWDOWN_TURN","onSHOWDOWN_RIVER","onCLEAR_ROUND","onYOUR_TURN","onFOLD","onCHECK","onCALL","onBET","onRAISE","onSHOW_CARD","onPLAYER_CARDS","onWINNERS","onBUY_IN","onRES_BUY_IN","onRES_RE_BUY","onRE_BUY_IN","onRES_ADD_CHIPS_REQUEST","onRES_ADD_CHIPS","onRES_ADD_CHIPS_PEND","onSIT_OUT","onSIT_OUT_PEND","onSIT_OUT_CANCEL","onSIT_BACK","onSHOW_EMOTICON","onSHOW_PROFILE","onTOKEN_VERIFY","onSYNC_TABLE","onEXIT_TABLE","onMASTER_CALL","onJOIN","onRE_JOIN","onPING","me","_this$room","uiPot","myEntity","SetEntities","_loop3","uiDealer","uiSB","uiBB","roundBet","SetUiCommunityCards","playerCards","showdown","ShowdownOpenHands","UpdatePlayerHandRank","SetSitoutButtons","ClearEntities","ClearPot","entities","_loop4","OpenProfile","CloseProfile","setUiPot","ClearEntitiesButtons","communities","SetMyHandRank","SetPlayerHandRank","EndTurns","ClearUiEntities","clearUiEntitiesAction","clearUiEntitiesBetValue","isEnableSeat","_this$room2","curBet","curPot","reservation","betAmount","PLAYERS","CLEAR_EFFECT","totalBet","_this10","_loop5","_this11","timeMs","lb","_this12","_loop6","_this13","potValue","_loop7","_this14","_this15","_loop8","_this16","_this17","_loop9","_this18","_this19","_loop10","_this20","ShowPlayersHand","_this21","ChipsMoveToPot","_this22","_this23","_this24","river","_this25","_loop11","_this26","_loop12","enoughChip","_self$room","_self$room2","_self$room3","_this27","_this28","_this29","_this30","_this31","_this32","_this33","SetWinners","folder","skip","_this34","_loop13","ResultSkipAnimation","ResultPotAnimation","setAniPotUiFadeOut","_ResultSkipAnimation","uiPots","winner","winAmount","ret","setTimeout","_ResultPotAnimation","returnPot","showPot","totalPotValue","_pot","_loop14","_i9","_this35","_uiEntity3","wns","_loop15","w","ev","ui","delegateYield","eval","handType","ShowWinningCards","_this36","_this37","SetDispensingAnimation","ShowMyHands","_this38","_this39","_this40","setAniPotMoveToWinner","startNode","movingChipsIdx","isPlaySound","isReturn","bezierPathNodes","moveTarget","bezierPts","pos","setTweenFadeInOutFromToMove","easeOutQuart","fromNode","setTweenMoveFromTo","onStart","tv","bezierPath","getBezierSampleValue","_this41","_this$room3","_this42","getAddChipsErrorMessage","onPing","_this$room4","reservable","TableListUiElement","cbJoinTable","_newObject$getChildBy","_newObject$getChildBy2","_newObject$getChildBy3","_newObject$getChildBy4","_newObject$getChildBy5","_newObject$getChildBy6","_newObject$getChildBy7","copyObject","newObject","labelTableName","labelTableMax","labelAnte","labelPlayers","setTable","maxPlayers","minBuyIn","onClickJoinTable","setActive","tables","elementOnList","elementPool","cbExitLobby","exitLobby","toggleHoldemTable","onToggleHoldemTable","toggleTournament","onToggleTournament","clearList","showTableList","_this$elementOnList","toPool","onClickJoinRoom","spriteWinEffectBackGround","spriteWinEffectRank","labelWinners","labelHands","spriteFrameRanks","grade","spriteFrameGrades"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, Component, Node, AudioSource, AudioClip } from 'cc';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { VOLUMNE_MULTIPLIER } from '../HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('AudioController')\r\nexport class AudioController extends Component {\r\n    static instance: AudioController;\r\n    @property(AudioSource) audioSource: AudioSource = null;\r\n    @property(AudioSource) audioSourceTimeLimitFourSec: AudioSource = null;\r\n\r\n    private volumn: number = 0;\r\n\r\n    init() {\r\n        AudioController.instance = this;\r\n        this.ApplyVolumn();\r\n    }\r\n\r\n    public ApplyVolumn() {\r\n        let setting: any = null;\r\n        setting = NetworkManager.Instance().GetSetting();\r\n        if ( setting == null || setting == undefined ) {\r\n            this.volumn = 5;\r\n        } else {\r\n            this.volumn = setting.sound;\r\n        }\r\n        this.audioSource.volume = this.volumn / VOLUMNE_MULTIPLIER;\r\n        this.audioSourceTimeLimitFourSec.volume = this.volumn / VOLUMNE_MULTIPLIER;\r\n    }\r\n\r\n    public PlayTimeLimit() {\r\n        this.audioSourceTimeLimitFourSec.play();\r\n    }\r\n\r\n    public StopTimeLimit() {\r\n        this.audioSourceTimeLimitFourSec.stop();\r\n    }\r\n\r\n    PlaySound( name: string ) {\r\n        let source: AudioClip = null;\r\n        source = ResourceManager.Instance().getSoundSource(name);\r\n        if ( source != null ) {\r\n            this.audioSource.playOneShot(source);\r\n        }\r\n    }\r\n\r\n    ButtonClick() {\r\n        this.PlaySound('BUTTON_CLICK');\r\n    }\r\n}\r\n\r\n\r\n","import { UiTable } from \"./UiTable\";\r\n\r\nexport class Board {\r\n\t// static autoBuyIn: boolean = false;\r\n\t// static autoBuyInAmount: number = 0;\r\n\tstatic balance: number = 0;\r\n\tstatic buyin: number = 0;\r\n\tstatic small: number = 0;\r\n\tstatic big: number = 0;\r\n\tstatic passPrice : number = 0;\r\n\tstatic passTerm : number = 0;\r\n\tstatic id: number = 0;\r\n\tstatic room: Colyseus.Room = null;\r\n\tstatic table : UiTable = null;\r\n\tstatic minStakePrice : number = 0;\r\n\tstatic maxStakePrice : number = 0;\r\n\tstatic reserveSeat: number = -1;\r\n\tstatic isPublic: boolean = false;\r\n\tstatic info: any = null;\r\n\tstatic ante: number = 0;\r\n\tstatic ip: string = '';\r\n\r\n\tstatic setInfo( info: any ) {\r\n\t\tBoard.info = info;\r\n\t\tBoard.id = info.id;\r\n\r\n\t\tBoard.small = info.smallBlind;\r\n\t\tBoard.big = info.bigBlind;\r\n\t\tBoard.ante = info.ante;\r\n\t}\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, Vec3, Animation } from 'cc';\r\nimport { ENUM_CARD_TYPE } from '../HoldemDefines';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Card')\r\nexport class Card extends Component {\r\n    @property(Sprite) spriteCard: Sprite = null;\r\n    @property(Sprite) spriteHighlight: Sprite = null;\r\n    @property(Sprite) spriteDimmed: Sprite = null;\r\n\r\n    private vec3Original: Vec3 = null;\r\n    private anim: Animation = null;\r\n    private num: number = 0;\r\n    private type: ENUM_CARD_TYPE = ENUM_CARD_TYPE.NONE;\r\n    private flipDone: ()=>void = null;\r\n\r\n    public Init( type: ENUM_CARD_TYPE ) {\r\n        this.type = type;\r\n\r\n        this.vec3Original = new Vec3( this.node.position );\r\n        this.spriteCard.node.position = new Vec3(0, 0, 0);\r\n        this.spriteHighlight.node.position = new Vec3(0, 0, 0);\r\n        this.spriteDimmed.node.position = new Vec3(0, 0, 0);\r\n\r\n        this.num = 0;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( this.num );\r\n        this.spriteHighlight.node.active= false;\r\n        this.spriteDimmed.node.active = false;\r\n\r\n        if ( this.type != ENUM_CARD_TYPE.NONE && this.type != ENUM_CARD_TYPE.PLAYER_HIDDEN ) {\r\n            this.anim = this.node.getComponent(Animation);\r\n            if ( this.anim != null ) {\r\n                this.anim.on('finished', this.OnFlipFinished.bind(this), this);\r\n            }\r\n        }\r\n\r\n        this.spriteCard.node.active = false;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show() {\r\n        this.spriteCard.node.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public ShowFlip( num: number, delay: number, done: ()=>void = null ) {\r\n        if ( done != null ) {\r\n            this.flipDone = done;\r\n        }\r\n\r\n        this.num = num;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage(0);\r\n        this.spriteCard.node.active = true;\r\n        this.node.active = true;\r\n\r\n        this.scheduleOnce(()=>{\r\n            this.anim.play();\r\n        }, delay );\r\n    }\r\n\r\n    public ShowImmediate( num: number ) {\r\n        this.num = num;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( this.num + 1 );\r\n        this.spriteCard.node.active = true;\r\n        this.node.active = true;        \r\n    }\r\n\r\n    public Fold() {\r\n        this.spriteDimmed.node.active = true;\r\n    }\r\n\r\n    public SetWinCard( pools: number[] ) {\r\n        let c = pools.find( (e)=>{\r\n            return e == this.num;\r\n        });\r\n\r\n        if ( c != null ) {\r\n            this.spriteHighlight.node.active = true;\r\n            this.spriteDimmed.node.active = false;\r\n\r\n            this.node.position = new Vec3( this.vec3Original.x, this.vec3Original.y + 30, this.vec3Original.z);\r\n        } else {\r\n            this.spriteHighlight.node.active = false;\r\n            this.spriteDimmed.node.active = true;            \r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    public ResetPosition() {\r\n        this.node.position = new Vec3( this.vec3Original );\r\n        this.spriteCard.node.position = new Vec3(0, 0, 0);\r\n        this.spriteHighlight.node.position = new Vec3(0, 0, 0);\r\n        this.spriteDimmed.node.position = new Vec3(0, 0, 0);\r\n    }\r\n\r\n    public Reset() {\r\n        this.anim.stop();\r\n\r\n        this.num = 0;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( this.num );\r\n\r\n        this.ResetPosition();\r\n\r\n        this.spriteHighlight.node.active = false;\r\n        this.spriteDimmed.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    OnFlipFinished() {\r\n        this.anim.stop();\r\n        let card: number = this.num + 1;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( card );\r\n        \r\n        if ( this.flipDone != null ) {\r\n            this.flipDone();\r\n            \r\n            this.flipDone = null;\r\n        }\r\n    }\r\n\r\n    OnFlipCentered() {\r\n        let card: number = this.num + 1;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( card );\r\n    }\r\n\r\n    public GetType(): ENUM_CARD_TYPE {\r\n        return this.type;\r\n    }\r\n}\r\n\r\n","import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nlet _Protocol;\nlet _ErrorCode;\nlet _OPERATION;\nlet _ArraySchema;\nlet _CollectionSchema;\nlet _Context;\nlet _MapSchema;\nlet _Reflection;\nlet _ReflectionField;\nlet _ReflectionType;\nlet _Schema;\nlet _SchemaDefinition;\nlet _SetSchema;\nlet _decode;\nlet _defineTypes;\nlet _deprecated;\nlet _dumpChanges;\nlet _encode0;\nlet _filter;\nlet _filterChildren;\nlet _hasFilter;\nlet _registerType;\nlet _type;\nlet ___esModule;\nlet _Platform;\nlet _Auth;\nlet _Client;\nlet _Room;\nlet _SchemaSerializer;\nlet _registerSerializer;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n // colyseus.js@0.14.12 (@colyseus/schema 1.0.22)\r\n (function (global, factory) {\r\n     typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\r\n     typeof define === 'function' && define.amd ? define('colyseus.js', ['exports'], factory) :\r\n     (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Colyseus = {}));\r\n }(this, (function (exports) { 'use strict';\r\n\r\n     //\r\n     // Polyfills for legacy environments\r\n     //\r\n     /*\r\n      * Support Android 4.4.x\r\n      */\r\n     if (!ArrayBuffer.isView) {\r\n         ArrayBuffer.isView = function (a) {\r\n             return a !== null && typeof (a) === 'object' && a.buffer instanceof ArrayBuffer;\r\n         };\r\n     }\r\n     // Define globalThis if not available.\r\n     // https://github.com/colyseus/colyseus.js/issues/86\r\n     if (typeof (globalThis) === \"undefined\" &&\r\n         typeof (window) !== \"undefined\") {\r\n         // @ts-ignore\r\n         window['globalThis'] = window;\r\n     }\r\n\r\n     /*! *****************************************************************************\r\n     Copyright (c) Microsoft Corporation.\r\n\r\n     Permission to use, copy, modify, and/or distribute this software for any\r\n     purpose with or without fee is hereby granted.\r\n\r\n     THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n     REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n     AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n     INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n     LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n     OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n     PERFORMANCE OF THIS SOFTWARE.\r\n     ***************************************************************************** */\r\n     /* global Reflect, Promise */\r\n\r\n     var extendStatics = function(d, b) {\r\n         extendStatics = Object.setPrototypeOf ||\r\n             ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n             function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n         return extendStatics(d, b);\r\n     };\r\n\r\n     function __extends(d, b) {\r\n         if (typeof b !== \"function\" && b !== null)\r\n             throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n         extendStatics(d, b);\r\n         function __() { this.constructor = d; }\r\n         d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n     }\r\n\r\n     function __awaiter(thisArg, _arguments, P, generator) {\r\n         function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n         return new (P || (P = Promise))(function (resolve, reject) {\r\n             function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n             function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n             function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n             step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n         });\r\n     }\r\n\r\n     function __generator(thisArg, body) {\r\n         var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n         return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n         function verb(n) { return function (v) { return step([n, v]); }; }\r\n         function step(op) {\r\n             if (f) throw new TypeError(\"Generator is already executing.\");\r\n             while (_) try {\r\n                 if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                 if (y = 0, t) op = [op[0] & 2, t.value];\r\n                 switch (op[0]) {\r\n                     case 0: case 1: t = op; break;\r\n                     case 4: _.label++; return { value: op[1], done: false };\r\n                     case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                     case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                     default:\r\n                         if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                         if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                         if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                         if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                         if (t[2]) _.ops.pop();\r\n                         _.trys.pop(); continue;\r\n                 }\r\n                 op = body.call(thisArg, _);\r\n             } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n             if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n         }\r\n     }\r\n\r\n     function apply(src, tar) {\r\n     \ttar.headers = src.headers || {};\r\n     \ttar.statusMessage = src.statusText;\r\n     \ttar.statusCode = src.status;\r\n     \ttar.data = src.response;\r\n     }\r\n\r\n     function send(method, uri, opts) {\r\n     \treturn new Promise(function (res, rej) {\r\n     \t\topts = opts || {};\r\n     \t\tvar req = new XMLHttpRequest;\r\n     \t\tvar k, tmp, arr, str=opts.body;\r\n     \t\tvar headers = opts.headers || {};\r\n\r\n     \t\t// IE compatible\r\n     \t\tif (opts.timeout) req.timeout = opts.timeout;\r\n     \t\treq.ontimeout = req.onerror = function (err) {\r\n     \t\t\terr.timeout = err.type == 'timeout';\r\n     \t\t\trej(err);\r\n     \t\t};\r\n\r\n     \t\treq.open(method, uri.href || uri);\r\n\r\n     \t\treq.onload = function () {\r\n     \t\t\tarr = req.getAllResponseHeaders().trim().split(/[\\r\\n]+/);\r\n     \t\t\tapply(req, req); //=> req.headers\r\n\r\n     \t\t\twhile (tmp = arr.shift()) {\r\n     \t\t\t\ttmp = tmp.split(': ');\r\n     \t\t\t\treq.headers[tmp.shift().toLowerCase()] = tmp.join(': ');\r\n     \t\t\t}\r\n\r\n     \t\t\ttmp = req.headers['content-type'];\r\n     \t\t\tif (tmp && !!~tmp.indexOf('application/json')) {\r\n     \t\t\t\ttry {\r\n     \t\t\t\t\treq.data = JSON.parse(req.data, opts.reviver);\r\n     \t\t\t\t} catch (err) {\r\n     \t\t\t\t\tapply(req, err);\r\n     \t\t\t\t\treturn rej(err);\r\n     \t\t\t\t}\r\n     \t\t\t}\r\n\r\n     \t\t\t(req.status >= 400 ? rej : res)(req);\r\n     \t\t};\r\n\r\n     \t\tif (typeof FormData < 'u' && str instanceof FormData) ; else if (str && typeof str == 'object') {\r\n     \t\t\theaders['content-type'] = 'application/json';\r\n     \t\t\tstr = JSON.stringify(str);\r\n     \t\t}\r\n\r\n     \t\treq.withCredentials = !!opts.withCredentials;\r\n\r\n     \t\tfor (k in headers) {\r\n     \t\t\treq.setRequestHeader(k, headers[k]);\r\n     \t\t}\r\n\r\n     \t\treq.send(str);\r\n     \t});\r\n     }\r\n\r\n     var get = /*#__PURE__*/ send.bind(send, 'GET');\r\n     var post = /*#__PURE__*/ send.bind(send, 'POST');\r\n     var patch = /*#__PURE__*/ send.bind(send, 'PATCH');\r\n     var del = /*#__PURE__*/ send.bind(send, 'DELETE');\r\n     var put = /*#__PURE__*/ send.bind(send, 'PUT');\r\n\r\n     var del_1 = del;\r\n     var get_1 = get;\r\n     var patch_1 = patch;\r\n     var post_1 = post;\r\n     var put_1 = put;\r\n     var send_1 = send;\r\n\r\n     var xhr = {\r\n     \tdel: del_1,\r\n     \tget: get_1,\r\n     \tpatch: patch_1,\r\n     \tpost: post_1,\r\n     \tput: put_1,\r\n     \tsend: send_1\r\n     };\r\n\r\n     var http = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), xhr, {\r\n         'default': xhr,\r\n         del: del_1,\r\n         get: get_1,\r\n         patch: patch_1,\r\n         post: post_1,\r\n         put: put_1,\r\n         send: send_1\r\n     }));\r\n\r\n     var ServerError = /** @class */ (function (_super) {\r\n         __extends(ServerError, _super);\r\n         function ServerError(code, message) {\r\n             var _this = _super.call(this, message) || this;\r\n             _this.name = \"ServerError\";\r\n             _this.code = code;\r\n             return _this;\r\n         }\r\n         return ServerError;\r\n     }(Error));\r\n\r\n     /**\r\n      * Copyright (c) 2014 Ion Drive Software Ltd.\r\n      * https://github.com/darrachequesne/notepack/\r\n      *\r\n      * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n      * of this software and associated documentation files (the \"Software\"), to deal\r\n      * in the Software without restriction, including without limitation the rights\r\n      * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n      * copies of the Software, and to permit persons to whom the Software is\r\n      * furnished to do so, subject to the following conditions:\r\n      *\r\n      * The above copyright notice and this permission notice shall be included in all\r\n      * copies or substantial portions of the Software.\r\n      *\r\n      * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n      * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n      * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n      * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n      * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n      * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n      * SOFTWARE.\r\n      */\r\n     /**\r\n      * Patch for Colyseus:\r\n      * -------------------\r\n      *\r\n      * added `offset` on Decoder constructor, for messages arriving with a code\r\n      * before actual msgpack data\r\n      */\r\n     // \r\n     // DECODER\r\n     // \r\n     function Decoder(buffer, offset) {\r\n         this._offset = offset;\r\n         if (buffer instanceof ArrayBuffer) {\r\n             this._buffer = buffer;\r\n             this._view = new DataView(this._buffer);\r\n         }\r\n         else if (ArrayBuffer.isView(buffer)) {\r\n             this._buffer = buffer.buffer;\r\n             this._view = new DataView(this._buffer, buffer.byteOffset, buffer.byteLength);\r\n         }\r\n         else {\r\n             throw new Error('Invalid argument');\r\n         }\r\n     }\r\n     function utf8Read$1(view, offset, length) {\r\n         var string = '', chr = 0;\r\n         for (var i = offset, end = offset + length; i < end; i++) {\r\n             var byte = view.getUint8(i);\r\n             if ((byte & 0x80) === 0x00) {\r\n                 string += String.fromCharCode(byte);\r\n                 continue;\r\n             }\r\n             if ((byte & 0xe0) === 0xc0) {\r\n                 string += String.fromCharCode(((byte & 0x1f) << 6) |\r\n                     (view.getUint8(++i) & 0x3f));\r\n                 continue;\r\n             }\r\n             if ((byte & 0xf0) === 0xe0) {\r\n                 string += String.fromCharCode(((byte & 0x0f) << 12) |\r\n                     ((view.getUint8(++i) & 0x3f) << 6) |\r\n                     ((view.getUint8(++i) & 0x3f) << 0));\r\n                 continue;\r\n             }\r\n             if ((byte & 0xf8) === 0xf0) {\r\n                 chr = ((byte & 0x07) << 18) |\r\n                     ((view.getUint8(++i) & 0x3f) << 12) |\r\n                     ((view.getUint8(++i) & 0x3f) << 6) |\r\n                     ((view.getUint8(++i) & 0x3f) << 0);\r\n                 if (chr >= 0x010000) { // surrogate pair\r\n                     chr -= 0x010000;\r\n                     string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\r\n                 }\r\n                 else {\r\n                     string += String.fromCharCode(chr);\r\n                 }\r\n                 continue;\r\n             }\r\n             throw new Error('Invalid byte ' + byte.toString(16));\r\n         }\r\n         return string;\r\n     }\r\n     Decoder.prototype._array = function (length) {\r\n         var value = new Array(length);\r\n         for (var i = 0; i < length; i++) {\r\n             value[i] = this._parse();\r\n         }\r\n         return value;\r\n     };\r\n     Decoder.prototype._map = function (length) {\r\n         var key = '', value = {};\r\n         for (var i = 0; i < length; i++) {\r\n             key = this._parse();\r\n             value[key] = this._parse();\r\n         }\r\n         return value;\r\n     };\r\n     Decoder.prototype._str = function (length) {\r\n         var value = utf8Read$1(this._view, this._offset, length);\r\n         this._offset += length;\r\n         return value;\r\n     };\r\n     Decoder.prototype._bin = function (length) {\r\n         var value = this._buffer.slice(this._offset, this._offset + length);\r\n         this._offset += length;\r\n         return value;\r\n     };\r\n     Decoder.prototype._parse = function () {\r\n         var prefix = this._view.getUint8(this._offset++);\r\n         var value, length = 0, type = 0, hi = 0, lo = 0;\r\n         if (prefix < 0xc0) {\r\n             // positive fixint\r\n             if (prefix < 0x80) {\r\n                 return prefix;\r\n             }\r\n             // fixmap\r\n             if (prefix < 0x90) {\r\n                 return this._map(prefix & 0x0f);\r\n             }\r\n             // fixarray\r\n             if (prefix < 0xa0) {\r\n                 return this._array(prefix & 0x0f);\r\n             }\r\n             // fixstr\r\n             return this._str(prefix & 0x1f);\r\n         }\r\n         // negative fixint\r\n         if (prefix > 0xdf) {\r\n             return (0xff - prefix + 1) * -1;\r\n         }\r\n         switch (prefix) {\r\n             // nil\r\n             case 0xc0:\r\n                 return null;\r\n             // false\r\n             case 0xc2:\r\n                 return false;\r\n             // true\r\n             case 0xc3:\r\n                 return true;\r\n             // bin\r\n             case 0xc4:\r\n                 length = this._view.getUint8(this._offset);\r\n                 this._offset += 1;\r\n                 return this._bin(length);\r\n             case 0xc5:\r\n                 length = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return this._bin(length);\r\n             case 0xc6:\r\n                 length = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return this._bin(length);\r\n             // ext\r\n             case 0xc7:\r\n                 length = this._view.getUint8(this._offset);\r\n                 type = this._view.getInt8(this._offset + 1);\r\n                 this._offset += 2;\r\n                 return [type, this._bin(length)];\r\n             case 0xc8:\r\n                 length = this._view.getUint16(this._offset);\r\n                 type = this._view.getInt8(this._offset + 2);\r\n                 this._offset += 3;\r\n                 return [type, this._bin(length)];\r\n             case 0xc9:\r\n                 length = this._view.getUint32(this._offset);\r\n                 type = this._view.getInt8(this._offset + 4);\r\n                 this._offset += 5;\r\n                 return [type, this._bin(length)];\r\n             // float\r\n             case 0xca:\r\n                 value = this._view.getFloat32(this._offset);\r\n                 this._offset += 4;\r\n                 return value;\r\n             case 0xcb:\r\n                 value = this._view.getFloat64(this._offset);\r\n                 this._offset += 8;\r\n                 return value;\r\n             // uint\r\n             case 0xcc:\r\n                 value = this._view.getUint8(this._offset);\r\n                 this._offset += 1;\r\n                 return value;\r\n             case 0xcd:\r\n                 value = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return value;\r\n             case 0xce:\r\n                 value = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return value;\r\n             case 0xcf:\r\n                 hi = this._view.getUint32(this._offset) * Math.pow(2, 32);\r\n                 lo = this._view.getUint32(this._offset + 4);\r\n                 this._offset += 8;\r\n                 return hi + lo;\r\n             // int\r\n             case 0xd0:\r\n                 value = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 return value;\r\n             case 0xd1:\r\n                 value = this._view.getInt16(this._offset);\r\n                 this._offset += 2;\r\n                 return value;\r\n             case 0xd2:\r\n                 value = this._view.getInt32(this._offset);\r\n                 this._offset += 4;\r\n                 return value;\r\n             case 0xd3:\r\n                 hi = this._view.getInt32(this._offset) * Math.pow(2, 32);\r\n                 lo = this._view.getUint32(this._offset + 4);\r\n                 this._offset += 8;\r\n                 return hi + lo;\r\n             // fixext\r\n             case 0xd4:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 if (type === 0x00) {\r\n                     this._offset += 1;\r\n                     return void 0;\r\n                 }\r\n                 return [type, this._bin(1)];\r\n             case 0xd5:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 return [type, this._bin(2)];\r\n             case 0xd6:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 return [type, this._bin(4)];\r\n             case 0xd7:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 if (type === 0x00) {\r\n                     hi = this._view.getInt32(this._offset) * Math.pow(2, 32);\r\n                     lo = this._view.getUint32(this._offset + 4);\r\n                     this._offset += 8;\r\n                     return new Date(hi + lo);\r\n                 }\r\n                 return [type, this._bin(8)];\r\n             case 0xd8:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 return [type, this._bin(16)];\r\n             // str\r\n             case 0xd9:\r\n                 length = this._view.getUint8(this._offset);\r\n                 this._offset += 1;\r\n                 return this._str(length);\r\n             case 0xda:\r\n                 length = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return this._str(length);\r\n             case 0xdb:\r\n                 length = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return this._str(length);\r\n             // array\r\n             case 0xdc:\r\n                 length = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return this._array(length);\r\n             case 0xdd:\r\n                 length = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return this._array(length);\r\n             // map\r\n             case 0xde:\r\n                 length = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return this._map(length);\r\n             case 0xdf:\r\n                 length = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return this._map(length);\r\n         }\r\n         throw new Error('Could not parse');\r\n     };\r\n     function decode(buffer, offset) {\r\n         if (offset === void 0) { offset = 0; }\r\n         var decoder = new Decoder(buffer, offset);\r\n         var value = decoder._parse();\r\n         if (decoder._offset !== buffer.byteLength) {\r\n             throw new Error((buffer.byteLength - decoder._offset) + ' trailing bytes');\r\n         }\r\n         return value;\r\n     }\r\n     // \r\n     // ENCODER\r\n     // \r\n     function utf8Write(view, offset, str) {\r\n         var c = 0;\r\n         for (var i = 0, l = str.length; i < l; i++) {\r\n             c = str.charCodeAt(i);\r\n             if (c < 0x80) {\r\n                 view.setUint8(offset++, c);\r\n             }\r\n             else if (c < 0x800) {\r\n                 view.setUint8(offset++, 0xc0 | (c >> 6));\r\n                 view.setUint8(offset++, 0x80 | (c & 0x3f));\r\n             }\r\n             else if (c < 0xd800 || c >= 0xe000) {\r\n                 view.setUint8(offset++, 0xe0 | (c >> 12));\r\n                 view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\r\n                 view.setUint8(offset++, 0x80 | (c & 0x3f));\r\n             }\r\n             else {\r\n                 i++;\r\n                 c = 0x10000 + (((c & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\r\n                 view.setUint8(offset++, 0xf0 | (c >> 18));\r\n                 view.setUint8(offset++, 0x80 | (c >> 12) & 0x3f);\r\n                 view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\r\n                 view.setUint8(offset++, 0x80 | (c & 0x3f));\r\n             }\r\n         }\r\n     }\r\n     function utf8Length$1(str) {\r\n         var c = 0, length = 0;\r\n         for (var i = 0, l = str.length; i < l; i++) {\r\n             c = str.charCodeAt(i);\r\n             if (c < 0x80) {\r\n                 length += 1;\r\n             }\r\n             else if (c < 0x800) {\r\n                 length += 2;\r\n             }\r\n             else if (c < 0xd800 || c >= 0xe000) {\r\n                 length += 3;\r\n             }\r\n             else {\r\n                 i++;\r\n                 length += 4;\r\n             }\r\n         }\r\n         return length;\r\n     }\r\n     function _encode(bytes, defers, value) {\r\n         var type = typeof value, i = 0, l = 0, hi = 0, lo = 0, length = 0, size = 0;\r\n         if (type === 'string') {\r\n             length = utf8Length$1(value);\r\n             // fixstr\r\n             if (length < 0x20) {\r\n                 bytes.push(length | 0xa0);\r\n                 size = 1;\r\n             }\r\n             // str 8\r\n             else if (length < 0x100) {\r\n                 bytes.push(0xd9, length);\r\n                 size = 2;\r\n             }\r\n             // str 16\r\n             else if (length < 0x10000) {\r\n                 bytes.push(0xda, length >> 8, length);\r\n                 size = 3;\r\n             }\r\n             // str 32\r\n             else if (length < 0x100000000) {\r\n                 bytes.push(0xdb, length >> 24, length >> 16, length >> 8, length);\r\n                 size = 5;\r\n             }\r\n             else {\r\n                 throw new Error('String too long');\r\n             }\r\n             defers.push({ _str: value, _length: length, _offset: bytes.length });\r\n             return size + length;\r\n         }\r\n         if (type === 'number') {\r\n             // TODO: encode to float 32?\r\n             // float 64\r\n             if (Math.floor(value) !== value || !isFinite(value)) {\r\n                 bytes.push(0xcb);\r\n                 defers.push({ _float: value, _length: 8, _offset: bytes.length });\r\n                 return 9;\r\n             }\r\n             if (value >= 0) {\r\n                 // positive fixnum\r\n                 if (value < 0x80) {\r\n                     bytes.push(value);\r\n                     return 1;\r\n                 }\r\n                 // uint 8\r\n                 if (value < 0x100) {\r\n                     bytes.push(0xcc, value);\r\n                     return 2;\r\n                 }\r\n                 // uint 16\r\n                 if (value < 0x10000) {\r\n                     bytes.push(0xcd, value >> 8, value);\r\n                     return 3;\r\n                 }\r\n                 // uint 32\r\n                 if (value < 0x100000000) {\r\n                     bytes.push(0xce, value >> 24, value >> 16, value >> 8, value);\r\n                     return 5;\r\n                 }\r\n                 // uint 64\r\n                 hi = (value / Math.pow(2, 32)) >> 0;\r\n                 lo = value >>> 0;\r\n                 bytes.push(0xcf, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\r\n                 return 9;\r\n             }\r\n             else {\r\n                 // negative fixnum\r\n                 if (value >= -0x20) {\r\n                     bytes.push(value);\r\n                     return 1;\r\n                 }\r\n                 // int 8\r\n                 if (value >= -0x80) {\r\n                     bytes.push(0xd0, value);\r\n                     return 2;\r\n                 }\r\n                 // int 16\r\n                 if (value >= -0x8000) {\r\n                     bytes.push(0xd1, value >> 8, value);\r\n                     return 3;\r\n                 }\r\n                 // int 32\r\n                 if (value >= -0x80000000) {\r\n                     bytes.push(0xd2, value >> 24, value >> 16, value >> 8, value);\r\n                     return 5;\r\n                 }\r\n                 // int 64\r\n                 hi = Math.floor(value / Math.pow(2, 32));\r\n                 lo = value >>> 0;\r\n                 bytes.push(0xd3, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\r\n                 return 9;\r\n             }\r\n         }\r\n         if (type === 'object') {\r\n             // nil\r\n             if (value === null) {\r\n                 bytes.push(0xc0);\r\n                 return 1;\r\n             }\r\n             if (Array.isArray(value)) {\r\n                 length = value.length;\r\n                 // fixarray\r\n                 if (length < 0x10) {\r\n                     bytes.push(length | 0x90);\r\n                     size = 1;\r\n                 }\r\n                 // array 16\r\n                 else if (length < 0x10000) {\r\n                     bytes.push(0xdc, length >> 8, length);\r\n                     size = 3;\r\n                 }\r\n                 // array 32\r\n                 else if (length < 0x100000000) {\r\n                     bytes.push(0xdd, length >> 24, length >> 16, length >> 8, length);\r\n                     size = 5;\r\n                 }\r\n                 else {\r\n                     throw new Error('Array too large');\r\n                 }\r\n                 for (i = 0; i < length; i++) {\r\n                     size += _encode(bytes, defers, value[i]);\r\n                 }\r\n                 return size;\r\n             }\r\n             // fixext 8 / Date\r\n             if (value instanceof Date) {\r\n                 var time = value.getTime();\r\n                 hi = Math.floor(time / Math.pow(2, 32));\r\n                 lo = time >>> 0;\r\n                 bytes.push(0xd7, 0, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\r\n                 return 10;\r\n             }\r\n             if (value instanceof ArrayBuffer) {\r\n                 length = value.byteLength;\r\n                 // bin 8\r\n                 if (length < 0x100) {\r\n                     bytes.push(0xc4, length);\r\n                     size = 2;\r\n                 }\r\n                 else \r\n                 // bin 16\r\n                 if (length < 0x10000) {\r\n                     bytes.push(0xc5, length >> 8, length);\r\n                     size = 3;\r\n                 }\r\n                 else \r\n                 // bin 32\r\n                 if (length < 0x100000000) {\r\n                     bytes.push(0xc6, length >> 24, length >> 16, length >> 8, length);\r\n                     size = 5;\r\n                 }\r\n                 else {\r\n                     throw new Error('Buffer too large');\r\n                 }\r\n                 defers.push({ _bin: value, _length: length, _offset: bytes.length });\r\n                 return size + length;\r\n             }\r\n             if (typeof value.toJSON === 'function') {\r\n                 return _encode(bytes, defers, value.toJSON());\r\n             }\r\n             var keys = [], key = '';\r\n             var allKeys = Object.keys(value);\r\n             for (i = 0, l = allKeys.length; i < l; i++) {\r\n                 key = allKeys[i];\r\n                 if (typeof value[key] !== 'function') {\r\n                     keys.push(key);\r\n                 }\r\n             }\r\n             length = keys.length;\r\n             // fixmap\r\n             if (length < 0x10) {\r\n                 bytes.push(length | 0x80);\r\n                 size = 1;\r\n             }\r\n             // map 16\r\n             else if (length < 0x10000) {\r\n                 bytes.push(0xde, length >> 8, length);\r\n                 size = 3;\r\n             }\r\n             // map 32\r\n             else if (length < 0x100000000) {\r\n                 bytes.push(0xdf, length >> 24, length >> 16, length >> 8, length);\r\n                 size = 5;\r\n             }\r\n             else {\r\n                 throw new Error('Object too large');\r\n             }\r\n             for (i = 0; i < length; i++) {\r\n                 key = keys[i];\r\n                 size += _encode(bytes, defers, key);\r\n                 size += _encode(bytes, defers, value[key]);\r\n             }\r\n             return size;\r\n         }\r\n         // false/true\r\n         if (type === 'boolean') {\r\n             bytes.push(value ? 0xc3 : 0xc2);\r\n             return 1;\r\n         }\r\n         // fixext 1 / undefined\r\n         if (type === 'undefined') {\r\n             bytes.push(0xd4, 0, 0);\r\n             return 3;\r\n         }\r\n         throw new Error('Could not encode');\r\n     }\r\n     function encode(value) {\r\n         var bytes = [];\r\n         var defers = [];\r\n         var size = _encode(bytes, defers, value);\r\n         var buf = new ArrayBuffer(size);\r\n         var view = new DataView(buf);\r\n         var deferIndex = 0;\r\n         var deferWritten = 0;\r\n         var nextOffset = -1;\r\n         if (defers.length > 0) {\r\n             nextOffset = defers[0]._offset;\r\n         }\r\n         var defer, deferLength = 0, offset = 0;\r\n         for (var i = 0, l = bytes.length; i < l; i++) {\r\n             view.setUint8(deferWritten + i, bytes[i]);\r\n             if (i + 1 !== nextOffset) {\r\n                 continue;\r\n             }\r\n             defer = defers[deferIndex];\r\n             deferLength = defer._length;\r\n             offset = deferWritten + nextOffset;\r\n             if (defer._bin) {\r\n                 var bin = new Uint8Array(defer._bin);\r\n                 for (var j = 0; j < deferLength; j++) {\r\n                     view.setUint8(offset + j, bin[j]);\r\n                 }\r\n             }\r\n             else if (defer._str) {\r\n                 utf8Write(view, offset, defer._str);\r\n             }\r\n             else if (defer._float !== undefined) {\r\n                 view.setFloat64(offset, defer._float);\r\n             }\r\n             deferIndex++;\r\n             deferWritten += deferLength;\r\n             if (defers[deferIndex]) {\r\n                 nextOffset = defers[deferIndex]._offset;\r\n             }\r\n         }\r\n         return buf;\r\n     }\r\n\r\n     var browser = function () {\r\n       throw new Error(\r\n         'ws does not work in the browser. Browser clients must use the native ' +\r\n           'WebSocket object'\r\n       );\r\n     };\r\n\r\n     var WebSocket = globalThis.WebSocket || browser;\r\n     var WebSocketTransport = /** @class */ (function () {\r\n         function WebSocketTransport(events) {\r\n             this.events = events;\r\n         }\r\n         WebSocketTransport.prototype.send = function (data) {\r\n             if (data instanceof ArrayBuffer) {\r\n                 this.ws.send(data);\r\n             }\r\n             else if (Array.isArray(data)) {\r\n                 this.ws.send((new Uint8Array(data)).buffer);\r\n             }\r\n         };\r\n         WebSocketTransport.prototype.connect = function (url) {\r\n             this.ws = new WebSocket(url, this.protocols);\r\n             this.ws.binaryType = 'arraybuffer';\r\n             this.ws.onopen = this.events.onopen;\r\n             this.ws.onmessage = this.events.onmessage;\r\n             this.ws.onclose = this.events.onclose;\r\n             this.ws.onerror = this.events.onerror;\r\n         };\r\n         WebSocketTransport.prototype.close = function (code, reason) {\r\n             this.ws.close(code, reason);\r\n         };\r\n         return WebSocketTransport;\r\n     }());\r\n\r\n     var Connection = /** @class */ (function () {\r\n         function Connection() {\r\n             this.events = {};\r\n             this.transport = new WebSocketTransport(this.events);\r\n         }\r\n         Connection.prototype.send = function (data) {\r\n             this.transport.send(data);\r\n         };\r\n         Connection.prototype.connect = function (url) {\r\n             this.transport.connect(url);\r\n         };\r\n         Connection.prototype.close = function (code, reason) {\r\n             this.transport.close(code, reason);\r\n         };\r\n         return Connection;\r\n     }());\r\n\r\n     var serializers = {};\r\n     function registerSerializer(id, serializer) {\r\n         serializers[id] = serializer;\r\n     }\r\n     function getSerializer(id) {\r\n         var serializer = serializers[id];\r\n         if (!serializer) {\r\n             throw new Error(\"missing serializer: \" + id);\r\n         }\r\n         return serializer;\r\n     }\r\n\r\n     // Use codes between 0~127 for lesser throughput (1 byte)\r\n     exports.Protocol = void 0;\r\n     (function (Protocol) {\r\n         // Room-related (10~19)\r\n         Protocol[Protocol[\"HANDSHAKE\"] = 9] = \"HANDSHAKE\";\r\n         Protocol[Protocol[\"JOIN_ROOM\"] = 10] = \"JOIN_ROOM\";\r\n         Protocol[Protocol[\"ERROR\"] = 11] = \"ERROR\";\r\n         Protocol[Protocol[\"LEAVE_ROOM\"] = 12] = \"LEAVE_ROOM\";\r\n         Protocol[Protocol[\"ROOM_DATA\"] = 13] = \"ROOM_DATA\";\r\n         Protocol[Protocol[\"ROOM_STATE\"] = 14] = \"ROOM_STATE\";\r\n         Protocol[Protocol[\"ROOM_STATE_PATCH\"] = 15] = \"ROOM_STATE_PATCH\";\r\n         Protocol[Protocol[\"ROOM_DATA_SCHEMA\"] = 16] = \"ROOM_DATA_SCHEMA\";\r\n     })(exports.Protocol || (exports.Protocol = {}));\r\n     exports.ErrorCode = void 0;\r\n     (function (ErrorCode) {\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_NO_HANDLER\"] = 4210] = \"MATCHMAKE_NO_HANDLER\";\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_INVALID_CRITERIA\"] = 4211] = \"MATCHMAKE_INVALID_CRITERIA\";\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_INVALID_ROOM_ID\"] = 4212] = \"MATCHMAKE_INVALID_ROOM_ID\";\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_UNHANDLED\"] = 4213] = \"MATCHMAKE_UNHANDLED\";\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_EXPIRED\"] = 4214] = \"MATCHMAKE_EXPIRED\";\r\n         ErrorCode[ErrorCode[\"AUTH_FAILED\"] = 4215] = \"AUTH_FAILED\";\r\n         ErrorCode[ErrorCode[\"APPLICATION_ERROR\"] = 4216] = \"APPLICATION_ERROR\";\r\n     })(exports.ErrorCode || (exports.ErrorCode = {}));\r\n     function utf8Read(view, offset) {\r\n         var length = view[offset++];\r\n         var string = '', chr = 0;\r\n         for (var i = offset, end = offset + length; i < end; i++) {\r\n             var byte = view[i];\r\n             if ((byte & 0x80) === 0x00) {\r\n                 string += String.fromCharCode(byte);\r\n                 continue;\r\n             }\r\n             if ((byte & 0xe0) === 0xc0) {\r\n                 string += String.fromCharCode(((byte & 0x1f) << 6) |\r\n                     (view[++i] & 0x3f));\r\n                 continue;\r\n             }\r\n             if ((byte & 0xf0) === 0xe0) {\r\n                 string += String.fromCharCode(((byte & 0x0f) << 12) |\r\n                     ((view[++i] & 0x3f) << 6) |\r\n                     ((view[++i] & 0x3f) << 0));\r\n                 continue;\r\n             }\r\n             if ((byte & 0xf8) === 0xf0) {\r\n                 chr = ((byte & 0x07) << 18) |\r\n                     ((view[++i] & 0x3f) << 12) |\r\n                     ((view[++i] & 0x3f) << 6) |\r\n                     ((view[++i] & 0x3f) << 0);\r\n                 if (chr >= 0x010000) { // surrogate pair\r\n                     chr -= 0x010000;\r\n                     string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\r\n                 }\r\n                 else {\r\n                     string += String.fromCharCode(chr);\r\n                 }\r\n                 continue;\r\n             }\r\n             throw new Error('Invalid byte ' + byte.toString(16));\r\n         }\r\n         return string;\r\n     }\r\n     // Faster for short strings than Buffer.byteLength\r\n     function utf8Length(str) {\r\n         if (str === void 0) { str = ''; }\r\n         var c = 0;\r\n         var length = 0;\r\n         for (var i = 0, l = str.length; i < l; i++) {\r\n             c = str.charCodeAt(i);\r\n             if (c < 0x80) {\r\n                 length += 1;\r\n             }\r\n             else if (c < 0x800) {\r\n                 length += 2;\r\n             }\r\n             else if (c < 0xd800 || c >= 0xe000) {\r\n                 length += 3;\r\n             }\r\n             else {\r\n                 i++;\r\n                 length += 4;\r\n             }\r\n         }\r\n         return length + 1;\r\n     }\r\n\r\n     let createNanoEvents = () => ({\r\n       events: {},\r\n       emit (event, ...args) {\r\n     (this.events[event] || []).forEach(i => i(...args));\r\n       },\r\n       on (event, cb) {\r\n     (this.events[event] = this.events[event] || []).push(cb);\r\n         return () =>\r\n           (this.events[event] = (this.events[event] || []).filter(i => i !== cb))\r\n       }\r\n     });\r\n\r\n     var EventEmitter = /** @class */ (function () {\r\n         function EventEmitter() {\r\n             this.handlers = [];\r\n         }\r\n         EventEmitter.prototype.register = function (cb, once) {\r\n             this.handlers.push(cb);\r\n             return this;\r\n         };\r\n         EventEmitter.prototype.invoke = function () {\r\n             var _this = this;\r\n             var args = [];\r\n             for (var _i = 0; _i < arguments.length; _i++) {\r\n                 args[_i] = arguments[_i];\r\n             }\r\n             this.handlers.forEach(function (handler) { return handler.apply(_this, args); });\r\n         };\r\n         EventEmitter.prototype.invokeAsync = function () {\r\n             var _this = this;\r\n             var args = [];\r\n             for (var _i = 0; _i < arguments.length; _i++) {\r\n                 args[_i] = arguments[_i];\r\n             }\r\n             return Promise.all(this.handlers.map(function (handler) { return handler.apply(_this, args); }));\r\n         };\r\n         EventEmitter.prototype.remove = function (cb) {\r\n             var index = this.handlers.indexOf(cb);\r\n             this.handlers[index] = this.handlers[this.handlers.length - 1];\r\n             this.handlers.pop();\r\n         };\r\n         EventEmitter.prototype.clear = function () {\r\n             this.handlers = [];\r\n         };\r\n         return EventEmitter;\r\n     }());\r\n     function createSignal() {\r\n         var emitter = new EventEmitter();\r\n         function register(cb) {\r\n             return emitter.register(cb, this === null);\r\n         }\r\n         register.once = function (cb) {\r\n             var callback = function () {\r\n                 var args = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     args[_i] = arguments[_i];\r\n                 }\r\n                 cb.apply(this, args);\r\n                 emitter.remove(callback);\r\n             };\r\n             emitter.register(callback);\r\n         };\r\n         register.remove = function (cb) { return emitter.remove(cb); };\r\n         register.invoke = function () {\r\n             var args = [];\r\n             for (var _i = 0; _i < arguments.length; _i++) {\r\n                 args[_i] = arguments[_i];\r\n             }\r\n             return emitter.invoke.apply(emitter, args);\r\n         };\r\n         register.invokeAsync = function () {\r\n             var args = [];\r\n             for (var _i = 0; _i < arguments.length; _i++) {\r\n                 args[_i] = arguments[_i];\r\n             }\r\n             return emitter.invokeAsync.apply(emitter, args);\r\n         };\r\n         register.clear = function () { return emitter.clear(); };\r\n         return register;\r\n     }\r\n\r\n     var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n\r\n     function createCommonjsModule(fn) {\r\n       var module = { exports: {} };\r\n     \treturn fn(module, module.exports), module.exports;\r\n     }\r\n\r\n     var umd = createCommonjsModule(function (module, exports) {\r\n     (function (global, factory) {\r\n         factory(exports) ;\r\n     }(commonjsGlobal, (function (exports) {\r\n         /*! *****************************************************************************\r\n         Copyright (c) Microsoft Corporation.\r\n\r\n         Permission to use, copy, modify, and/or distribute this software for any\r\n         purpose with or without fee is hereby granted.\r\n\r\n         THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n         REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n         AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n         INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n         LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n         OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n         PERFORMANCE OF THIS SOFTWARE.\r\n         ***************************************************************************** */\r\n         /* global Reflect, Promise */\r\n\r\n         var extendStatics = function(d, b) {\r\n             extendStatics = Object.setPrototypeOf ||\r\n                 ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n                 function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n             return extendStatics(d, b);\r\n         };\r\n\r\n         function __extends(d, b) {\r\n             if (typeof b !== \"function\" && b !== null)\r\n                 throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n             extendStatics(d, b);\r\n             function __() { this.constructor = d; }\r\n             d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n         }\r\n\r\n         function __decorate(decorators, target, key, desc) {\r\n             var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n             if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n             else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n             return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n         }\r\n\r\n         function __spreadArray(to, from) {\r\n             for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n                 to[j] = from[i];\r\n             return to;\r\n         }\r\n\r\n         // export const SWITCH_TO_STRUCTURE = 193; (easily collides with DELETE_AND_ADD + fieldIndex = 2)\r\n         var SWITCH_TO_STRUCTURE = 255; // (decoding collides with DELETE_AND_ADD + fieldIndex = 63)\r\n         var TYPE_ID = 213;\r\n         /**\r\n          * Encoding Schema field operations.\r\n          */\r\n         exports.OPERATION = void 0;\r\n         (function (OPERATION) {\r\n             // add new structure/primitive\r\n             OPERATION[OPERATION[\"ADD\"] = 128] = \"ADD\";\r\n             // replace structure/primitive\r\n             OPERATION[OPERATION[\"REPLACE\"] = 0] = \"REPLACE\";\r\n             // delete field\r\n             OPERATION[OPERATION[\"DELETE\"] = 64] = \"DELETE\";\r\n             // DELETE field, followed by an ADD\r\n             OPERATION[OPERATION[\"DELETE_AND_ADD\"] = 192] = \"DELETE_AND_ADD\";\r\n             // TOUCH is used to determine hierarchy of nested Schema structures during serialization.\r\n             // touches are NOT encoded.\r\n             OPERATION[OPERATION[\"TOUCH\"] = 1] = \"TOUCH\";\r\n             // MapSchema Operations\r\n             OPERATION[OPERATION[\"CLEAR\"] = 10] = \"CLEAR\";\r\n         })(exports.OPERATION || (exports.OPERATION = {}));\r\n         // export enum OPERATION {\r\n         //     // add new structure/primitive\r\n         //     // (128)\r\n         //     ADD = 128, // 10000000,\r\n         //     // replace structure/primitive\r\n         //     REPLACE = 1,// 00000001\r\n         //     // delete field\r\n         //     DELETE = 192, // 11000000\r\n         //     // DELETE field, followed by an ADD\r\n         //     DELETE_AND_ADD = 224, // 11100000\r\n         //     // TOUCH is used to determine hierarchy of nested Schema structures during serialization.\r\n         //     // touches are NOT encoded.\r\n         //     TOUCH = 0, // 00000000\r\n         //     // MapSchema Operations\r\n         //     CLEAR = 10,\r\n         // }\r\n\r\n         //\r\n         // Root holds all schema references by unique id\r\n         //\r\n         var Root = /** @class */ (function () {\r\n             function Root() {\r\n                 //\r\n                 // Relation of refId => Schema structure\r\n                 // For direct access of structures during decoding time.\r\n                 //\r\n                 this.refs = new Map();\r\n                 this.refCounts = {};\r\n                 this.deletedRefs = new Set();\r\n                 this.nextUniqueId = 0;\r\n             }\r\n             Root.prototype.getNextUniqueId = function () {\r\n                 return this.nextUniqueId++;\r\n             };\r\n             // for decoding\r\n             Root.prototype.addRef = function (refId, ref, incrementCount) {\r\n                 if (incrementCount === void 0) { incrementCount = true; }\r\n                 this.refs.set(refId, ref);\r\n                 if (incrementCount) {\r\n                     this.refCounts[refId] = (this.refCounts[refId] || 0) + 1;\r\n                 }\r\n             };\r\n             // for decoding\r\n             Root.prototype.removeRef = function (refId) {\r\n                 this.refCounts[refId] = this.refCounts[refId] - 1;\r\n                 this.deletedRefs.add(refId);\r\n             };\r\n             Root.prototype.clearRefs = function () {\r\n                 this.refs.clear();\r\n                 this.deletedRefs.clear();\r\n                 this.refCounts = {};\r\n             };\r\n             // for decoding\r\n             Root.prototype.garbageCollectDeletedRefs = function () {\r\n                 var _this = this;\r\n                 this.deletedRefs.forEach(function (refId) {\r\n                     if (_this.refCounts[refId] <= 0) {\r\n                         var ref = _this.refs.get(refId);\r\n                         //\r\n                         // Ensure child schema instances have their references removed as well.\r\n                         //\r\n                         if (ref instanceof Schema) {\r\n                             for (var fieldName in ref['_definition'].schema) {\r\n                                 if (typeof (ref['_definition'].schema[fieldName]) !== \"string\" &&\r\n                                     ref[fieldName] &&\r\n                                     ref[fieldName]['$changes']) {\r\n                                     _this.removeRef(ref[fieldName]['$changes'].refId);\r\n                                 }\r\n                             }\r\n                         }\r\n                         else {\r\n                             var definition = ref['$changes'].parent._definition;\r\n                             var type = definition.schema[definition.fieldsByIndex[ref['$changes'].parentIndex]];\r\n                             if (typeof (Object.values(type)[0]) === \"function\") {\r\n                                 Array.from(ref.values())\r\n                                     .forEach(function (child) { return _this.removeRef(child['$changes'].refId); });\r\n                             }\r\n                         }\r\n                         _this.refs.delete(refId);\r\n                         delete _this.refCounts[refId];\r\n                     }\r\n                 });\r\n                 // clear deleted refs.\r\n                 this.deletedRefs.clear();\r\n             };\r\n             return Root;\r\n         }());\r\n         var ChangeTree = /** @class */ (function () {\r\n             function ChangeTree(ref, parent, root) {\r\n                 this.changed = false;\r\n                 this.changes = new Map();\r\n                 this.allChanges = new Set();\r\n                 // cached indexes for filtering\r\n                 this.caches = {};\r\n                 this.currentCustomOperation = 0;\r\n                 this.ref = ref;\r\n                 this.setParent(parent, root);\r\n             }\r\n             ChangeTree.prototype.setParent = function (parent, root, parentIndex) {\r\n                 var _this = this;\r\n                 if (!this.indexes) {\r\n                     this.indexes = (this.ref instanceof Schema)\r\n                         ? this.ref['_definition'].indexes\r\n                         : {};\r\n                 }\r\n                 this.parent = parent;\r\n                 this.parentIndex = parentIndex;\r\n                 // avoid setting parents with empty `root`\r\n                 if (!root) {\r\n                     return;\r\n                 }\r\n                 this.root = root;\r\n                 //\r\n                 // assign same parent on child structures\r\n                 //\r\n                 if (this.ref instanceof Schema) {\r\n                     var definition = this.ref['_definition'];\r\n                     for (var field in definition.schema) {\r\n                         var value = this.ref[field];\r\n                         if (value && value['$changes']) {\r\n                             var parentIndex_1 = definition.indexes[field];\r\n                             value['$changes'].setParent(this.ref, root, parentIndex_1);\r\n                         }\r\n                     }\r\n                 }\r\n                 else if (typeof (this.ref) === \"object\") {\r\n                     this.ref.forEach(function (value, key) {\r\n                         if (value instanceof Schema) {\r\n                             var changeTreee = value['$changes'];\r\n                             var parentIndex_2 = _this.ref['$changes'].indexes[key];\r\n                             changeTreee.setParent(_this.ref, _this.root, parentIndex_2);\r\n                         }\r\n                     });\r\n                 }\r\n             };\r\n             ChangeTree.prototype.operation = function (op) {\r\n                 this.changes.set(--this.currentCustomOperation, op);\r\n             };\r\n             ChangeTree.prototype.change = function (fieldName, operation) {\r\n                 if (operation === void 0) { operation = exports.OPERATION.ADD; }\r\n                 var index = (typeof (fieldName) === \"number\")\r\n                     ? fieldName\r\n                     : this.indexes[fieldName];\r\n                 this.assertValidIndex(index, fieldName);\r\n                 var previousChange = this.changes.get(index);\r\n                 if (!previousChange ||\r\n                     previousChange.op === exports.OPERATION.DELETE ||\r\n                     previousChange.op === exports.OPERATION.TOUCH // (mazmorra.io's BattleAction issue)\r\n                 ) {\r\n                     this.changes.set(index, {\r\n                         op: (!previousChange)\r\n                             ? operation\r\n                             : (previousChange.op === exports.OPERATION.DELETE)\r\n                                 ? exports.OPERATION.DELETE_AND_ADD\r\n                                 : operation,\r\n                         // : OPERATION.REPLACE,\r\n                         index: index\r\n                     });\r\n                 }\r\n                 this.allChanges.add(index);\r\n                 this.changed = true;\r\n                 this.touchParents();\r\n             };\r\n             ChangeTree.prototype.touch = function (fieldName) {\r\n                 var index = (typeof (fieldName) === \"number\")\r\n                     ? fieldName\r\n                     : this.indexes[fieldName];\r\n                 this.assertValidIndex(index, fieldName);\r\n                 if (!this.changes.has(index)) {\r\n                     this.changes.set(index, { op: exports.OPERATION.TOUCH, index: index });\r\n                 }\r\n                 this.allChanges.add(index);\r\n                 // ensure touch is placed until the $root is found.\r\n                 this.touchParents();\r\n             };\r\n             ChangeTree.prototype.touchParents = function () {\r\n                 if (this.parent) {\r\n                     this.parent['$changes'].touch(this.parentIndex);\r\n                 }\r\n             };\r\n             ChangeTree.prototype.getType = function (index) {\r\n                 if (this.ref['_definition']) {\r\n                     var definition = this.ref['_definition'];\r\n                     return definition.schema[definition.fieldsByIndex[index]];\r\n                 }\r\n                 else {\r\n                     var definition = this.parent['_definition'];\r\n                     var parentType = definition.schema[definition.fieldsByIndex[this.parentIndex]];\r\n                     //\r\n                     // Get the child type from parent structure.\r\n                     // - [\"string\"] => \"string\"\r\n                     // - { map: \"string\" } => \"string\"\r\n                     // - { set: \"string\" } => \"string\"\r\n                     //\r\n                     return Object.values(parentType)[0];\r\n                 }\r\n             };\r\n             ChangeTree.prototype.getChildrenFilter = function () {\r\n                 var childFilters = this.parent['_definition'].childFilters;\r\n                 return childFilters && childFilters[this.parentIndex];\r\n             };\r\n             //\r\n             // used during `.encode()`\r\n             //\r\n             ChangeTree.prototype.getValue = function (index) {\r\n                 return this.ref['getByIndex'](index);\r\n             };\r\n             ChangeTree.prototype.delete = function (fieldName) {\r\n                 var index = (typeof (fieldName) === \"number\")\r\n                     ? fieldName\r\n                     : this.indexes[fieldName];\r\n                 if (index === undefined) {\r\n                     console.warn(\"@colyseus/schema \" + this.ref.constructor.name + \": trying to delete non-existing index: \" + fieldName + \" (\" + index + \")\");\r\n                     return;\r\n                 }\r\n                 var previousValue = this.getValue(index);\r\n                 // console.log(\"$changes.delete =>\", { fieldName, index, previousValue });\r\n                 this.changes.set(index, { op: exports.OPERATION.DELETE, index: index });\r\n                 this.allChanges.delete(index);\r\n                 // delete cache\r\n                 delete this.caches[index];\r\n                 // remove `root` reference\r\n                 if (previousValue && previousValue['$changes']) {\r\n                     previousValue['$changes'].parent = undefined;\r\n                 }\r\n                 this.changed = true;\r\n                 this.touchParents();\r\n             };\r\n             ChangeTree.prototype.discard = function (changed, discardAll) {\r\n                 var _this = this;\r\n                 if (changed === void 0) { changed = false; }\r\n                 if (discardAll === void 0) { discardAll = false; }\r\n                 //\r\n                 // Map, Array, etc:\r\n                 // Remove cached key to ensure ADD operations is unsed instead of\r\n                 // REPLACE in case same key is used on next patches.\r\n                 //\r\n                 // TODO: refactor this. this is not relevant for Collection and Set.\r\n                 //\r\n                 if (!(this.ref instanceof Schema)) {\r\n                     this.changes.forEach(function (change) {\r\n                         if (change.op === exports.OPERATION.DELETE) {\r\n                             var index = _this.ref['getIndex'](change.index);\r\n                             delete _this.indexes[index];\r\n                         }\r\n                     });\r\n                 }\r\n                 this.changes.clear();\r\n                 this.changed = changed;\r\n                 if (discardAll) {\r\n                     this.allChanges.clear();\r\n                 }\r\n                 // re-set `currentCustomOperation`\r\n                 this.currentCustomOperation = 0;\r\n             };\r\n             /**\r\n              * Recursively discard all changes from this, and child structures.\r\n              */\r\n             ChangeTree.prototype.discardAll = function () {\r\n                 var _this = this;\r\n                 this.changes.forEach(function (change) {\r\n                     var value = _this.getValue(change.index);\r\n                     if (value && value['$changes']) {\r\n                         value['$changes'].discardAll();\r\n                     }\r\n                 });\r\n                 this.discard();\r\n             };\r\n             // cache(field: number, beginIndex: number, endIndex: number) {\r\n             ChangeTree.prototype.cache = function (field, cachedBytes) {\r\n                 this.caches[field] = cachedBytes;\r\n             };\r\n             ChangeTree.prototype.clone = function () {\r\n                 return new ChangeTree(this.ref, this.parent, this.root);\r\n             };\r\n             ChangeTree.prototype.ensureRefId = function () {\r\n                 // skip if refId is already set.\r\n                 if (this.refId !== undefined) {\r\n                     return;\r\n                 }\r\n                 this.refId = this.root.getNextUniqueId();\r\n             };\r\n             ChangeTree.prototype.assertValidIndex = function (index, fieldName) {\r\n                 if (index === undefined) {\r\n                     throw new Error(\"ChangeTree: missing index for field \\\"\" + fieldName + \"\\\"\");\r\n                 }\r\n             };\r\n             return ChangeTree;\r\n         }());\r\n\r\n         //\r\n         // Notes:\r\n         // -----\r\n         //\r\n         // - The tsconfig.json of @colyseus/schema uses ES2018.\r\n         // - ES2019 introduces `flatMap` / `flat`, which is not currently relevant, and caused other issues.\r\n         //\r\n         var DEFAULT_SORT = function (a, b) {\r\n             var A = a.toString();\r\n             var B = b.toString();\r\n             if (A < B)\r\n                 return -1;\r\n             else if (A > B)\r\n                 return 1;\r\n             else\r\n                 return 0;\r\n         };\r\n         function getArrayProxy(value) {\r\n             value['$proxy'] = true;\r\n             //\r\n             // compatibility with @colyseus/schema 0.5.x\r\n             // - allow `map[\"key\"]`\r\n             // - allow `map[\"key\"] = \"xxx\"`\r\n             // - allow `delete map[\"key\"]`\r\n             //\r\n             value = new Proxy(value, {\r\n                 get: function (obj, prop) {\r\n                     if (typeof (prop) !== \"symbol\" &&\r\n                         !isNaN(prop) // https://stackoverflow.com/a/175787/892698\r\n                     ) {\r\n                         return obj.at(prop);\r\n                     }\r\n                     else {\r\n                         return obj[prop];\r\n                     }\r\n                 },\r\n                 set: function (obj, prop, setValue) {\r\n                     if (typeof (prop) !== \"symbol\" &&\r\n                         !isNaN(prop)) {\r\n                         var indexes = Array.from(obj['$items'].keys());\r\n                         var key = parseInt(indexes[prop] || prop);\r\n                         if (setValue === undefined || setValue === null) {\r\n                             obj.deleteAt(key);\r\n                         }\r\n                         else {\r\n                             obj.setAt(key, setValue);\r\n                         }\r\n                     }\r\n                     else {\r\n                         obj[prop] = setValue;\r\n                     }\r\n                     return true;\r\n                 },\r\n                 deleteProperty: function (obj, prop) {\r\n                     if (typeof (prop) === \"number\") {\r\n                         obj.deleteAt(prop);\r\n                     }\r\n                     else {\r\n                         delete obj[prop];\r\n                     }\r\n                     return true;\r\n                 },\r\n             });\r\n             return value;\r\n         }\r\n         var ArraySchema = /** @class */ (function () {\r\n             function ArraySchema() {\r\n                 var items = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     items[_i] = arguments[_i];\r\n                 }\r\n                 this.$changes = new ChangeTree(this);\r\n                 this.$items = new Map();\r\n                 this.$indexes = new Map();\r\n                 this.$refId = 0;\r\n                 this.push.apply(this, items);\r\n             }\r\n             ArraySchema.is = function (type) {\r\n                 return Array.isArray(type);\r\n             };\r\n             Object.defineProperty(ArraySchema.prototype, \"length\", {\r\n                 get: function () {\r\n                     return this.$items.size;\r\n                 },\r\n                 set: function (value) {\r\n                     if (value === 0) {\r\n                         this.clear();\r\n                     }\r\n                     else {\r\n                         this.splice(value, this.length - value);\r\n                     }\r\n                 },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             ArraySchema.prototype.push = function () {\r\n                 var _this = this;\r\n                 var values = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     values[_i] = arguments[_i];\r\n                 }\r\n                 var lastIndex;\r\n                 values.forEach(function (value) {\r\n                     // set \"index\" for reference.\r\n                     lastIndex = _this.$refId++;\r\n                     _this.setAt(lastIndex, value);\r\n                 });\r\n                 return lastIndex;\r\n             };\r\n             /**\r\n              * Removes the last element from an array and returns it.\r\n              */\r\n             ArraySchema.prototype.pop = function () {\r\n                 var key = Array.from(this.$indexes.values()).pop();\r\n                 if (key === undefined) {\r\n                     return undefined;\r\n                 }\r\n                 this.$changes.delete(key);\r\n                 this.$indexes.delete(key);\r\n                 var value = this.$items.get(key);\r\n                 this.$items.delete(key);\r\n                 return value;\r\n             };\r\n             ArraySchema.prototype.at = function (index) {\r\n                 //\r\n                 // FIXME: this should be O(1)\r\n                 //\r\n                 var key = Array.from(this.$items.keys())[index];\r\n                 return this.$items.get(key);\r\n             };\r\n             ArraySchema.prototype.setAt = function (index, value) {\r\n                 var _a, _b;\r\n                 if (value['$changes'] !== undefined) {\r\n                     value['$changes'].setParent(this, this.$changes.root, index);\r\n                 }\r\n                 var operation = (_b = (_a = this.$changes.indexes[index]) === null || _a === void 0 ? void 0 : _a.op) !== null && _b !== void 0 ? _b : exports.OPERATION.ADD;\r\n                 this.$changes.indexes[index] = index;\r\n                 this.$indexes.set(index, index);\r\n                 this.$items.set(index, value);\r\n                 this.$changes.change(index, operation);\r\n             };\r\n             ArraySchema.prototype.deleteAt = function (index) {\r\n                 var key = Array.from(this.$items.keys())[index];\r\n                 if (key === undefined) {\r\n                     return false;\r\n                 }\r\n                 return this.$deleteAt(key);\r\n             };\r\n             ArraySchema.prototype.$deleteAt = function (index) {\r\n                 // delete at internal index\r\n                 this.$changes.delete(index);\r\n                 this.$indexes.delete(index);\r\n                 return this.$items.delete(index);\r\n             };\r\n             ArraySchema.prototype.clear = function (isDecoding) {\r\n                 var _this = this;\r\n                 // discard previous operations.\r\n                 this.$changes.discard(true, true);\r\n                 this.$changes.indexes = {};\r\n                 // clear previous indexes\r\n                 this.$indexes.clear();\r\n                 // flag child items for garbage collection.\r\n                 if (isDecoding && typeof (this.$changes.getType()) !== \"string\") {\r\n                     this.$items.forEach(function (item) {\r\n                         _this.$changes.root.removeRef(item['$changes'].refId);\r\n                     });\r\n                 }\r\n                 // clear items\r\n                 this.$items.clear();\r\n                 this.$changes.operation({ index: 0, op: exports.OPERATION.CLEAR });\r\n                 // touch all structures until reach root\r\n                 this.$changes.touchParents();\r\n             };\r\n             /**\r\n              * Combines two or more arrays.\r\n              * @param items Additional items to add to the end of array1.\r\n              */\r\n             ArraySchema.prototype.concat = function () {\r\n                 var _a;\r\n                 var items = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     items[_i] = arguments[_i];\r\n                 }\r\n                 return new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], (_a = Array.from(this.$items.values())).concat.apply(_a, items))))();\r\n             };\r\n             /**\r\n              * Adds all the elements of an array separated by the specified separator string.\r\n              * @param separator A string used to separate one element of an array from the next in the resulting String. If omitted, the array elements are separated with a comma.\r\n              */\r\n             ArraySchema.prototype.join = function (separator) {\r\n                 return Array.from(this.$items.values()).join(separator);\r\n             };\r\n             /**\r\n              * Reverses the elements in an Array.\r\n              */\r\n             ArraySchema.prototype.reverse = function () {\r\n                 var _this = this;\r\n                 var indexes = Array.from(this.$items.keys());\r\n                 var reversedItems = Array.from(this.$items.values()).reverse();\r\n                 reversedItems.forEach(function (item, i) {\r\n                     _this.setAt(indexes[i], item);\r\n                 });\r\n                 return this;\r\n             };\r\n             /**\r\n              * Removes the first element from an array and returns it.\r\n              */\r\n             ArraySchema.prototype.shift = function () {\r\n                 var indexes = Array.from(this.$items.keys());\r\n                 var shiftAt = indexes.shift();\r\n                 if (shiftAt === undefined) {\r\n                     return undefined;\r\n                 }\r\n                 var value = this.$items.get(shiftAt);\r\n                 this.$deleteAt(shiftAt);\r\n                 return value;\r\n             };\r\n             /**\r\n              * Returns a section of an array.\r\n              * @param start The beginning of the specified portion of the array.\r\n              * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r\n              */\r\n             ArraySchema.prototype.slice = function (start, end) {\r\n                 return new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], Array.from(this.$items.values()).slice(start, end))))();\r\n             };\r\n             /**\r\n              * Sorts an array.\r\n              * @param compareFn Function used to determine the order of the elements. It is expected to return\r\n              * a negative value if first argument is less than second argument, zero if they're equal and a positive\r\n              * value otherwise. If omitted, the elements are sorted in ascending, ASCII character order.\r\n              * ```ts\r\n              * [11,2,22,1].sort((a, b) => a - b)\r\n              * ```\r\n              */\r\n             ArraySchema.prototype.sort = function (compareFn) {\r\n                 var _this = this;\r\n                 if (compareFn === void 0) { compareFn = DEFAULT_SORT; }\r\n                 var indexes = Array.from(this.$items.keys());\r\n                 var sortedItems = Array.from(this.$items.values()).sort(compareFn);\r\n                 sortedItems.forEach(function (item, i) {\r\n                     _this.setAt(indexes[i], item);\r\n                 });\r\n                 return this;\r\n             };\r\n             /**\r\n              * Removes elements from an array and, if necessary, inserts new elements in their place, returning the deleted elements.\r\n              * @param start The zero-based location in the array from which to start removing elements.\r\n              * @param deleteCount The number of elements to remove.\r\n              * @param items Elements to insert into the array in place of the deleted elements.\r\n              */\r\n             ArraySchema.prototype.splice = function (start, deleteCount) {\r\n                 if (deleteCount === void 0) { deleteCount = this.length - start; }\r\n                 var items = [];\r\n                 for (var _i = 2; _i < arguments.length; _i++) {\r\n                     items[_i - 2] = arguments[_i];\r\n                 }\r\n                 var indexes = Array.from(this.$items.keys());\r\n                 var removedItems = [];\r\n                 for (var i = start; i < start + deleteCount; i++) {\r\n                     removedItems.push(this.$items.get(indexes[i]));\r\n                     this.$deleteAt(indexes[i]);\r\n                 }\r\n                 return removedItems;\r\n             };\r\n             /**\r\n              * Inserts new elements at the start of an array.\r\n              * @param items  Elements to insert at the start of the Array.\r\n              */\r\n             ArraySchema.prototype.unshift = function () {\r\n                 var _this = this;\r\n                 var items = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     items[_i] = arguments[_i];\r\n                 }\r\n                 var length = this.length;\r\n                 var addedLength = items.length;\r\n                 // const indexes = Array.from(this.$items.keys());\r\n                 var previousValues = Array.from(this.$items.values());\r\n                 items.forEach(function (item, i) {\r\n                     _this.setAt(i, item);\r\n                 });\r\n                 previousValues.forEach(function (previousValue, i) {\r\n                     _this.setAt(addedLength + i, previousValue);\r\n                 });\r\n                 return length + addedLength;\r\n             };\r\n             /**\r\n              * Returns the index of the first occurrence of a value in an array.\r\n              * @param searchElement The value to locate in the array.\r\n              * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0.\r\n              */\r\n             ArraySchema.prototype.indexOf = function (searchElement, fromIndex) {\r\n                 return Array.from(this.$items.values()).indexOf(searchElement, fromIndex);\r\n             };\r\n             /**\r\n              * Returns the index of the last occurrence of a specified value in an array.\r\n              * @param searchElement The value to locate in the array.\r\n              * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at the last index in the array.\r\n              */\r\n             ArraySchema.prototype.lastIndexOf = function (searchElement, fromIndex) {\r\n                 if (fromIndex === void 0) { fromIndex = this.length - 1; }\r\n                 return Array.from(this.$items.values()).lastIndexOf(searchElement, fromIndex);\r\n             };\r\n             /**\r\n              * Determines whether all the members of an array satisfy the specified test.\r\n              * @param callbackfn A function that accepts up to three arguments. The every method calls\r\n              * the callbackfn function for each element in the array until the callbackfn returns a value\r\n              * which is coercible to the Boolean value false, or until the end of the array.\r\n              * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r\n              * If thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             ArraySchema.prototype.every = function (callbackfn, thisArg) {\r\n                 return Array.from(this.$items.values()).every(callbackfn, thisArg);\r\n             };\r\n             /**\r\n              * Determines whether the specified callback function returns true for any element of an array.\r\n              * @param callbackfn A function that accepts up to three arguments. The some method calls\r\n              * the callbackfn function for each element in the array until the callbackfn returns a value\r\n              * which is coercible to the Boolean value true, or until the end of the array.\r\n              * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r\n              * If thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             ArraySchema.prototype.some = function (callbackfn, thisArg) {\r\n                 return Array.from(this.$items.values()).some(callbackfn, thisArg);\r\n             };\r\n             /**\r\n              * Performs the specified action for each element in an array.\r\n              * @param callbackfn  A function that accepts up to three arguments. forEach calls the callbackfn function one time for each element in the array.\r\n              * @param thisArg  An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             ArraySchema.prototype.forEach = function (callbackfn, thisArg) {\r\n                 Array.from(this.$items.values()).forEach(callbackfn, thisArg);\r\n             };\r\n             /**\r\n              * Calls a defined callback function on each element of an array, and returns an array that contains the results.\r\n              * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.\r\n              * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             ArraySchema.prototype.map = function (callbackfn, thisArg) {\r\n                 return Array.from(this.$items.values()).map(callbackfn, thisArg);\r\n             };\r\n             ArraySchema.prototype.filter = function (callbackfn, thisArg) {\r\n                 return Array.from(this.$items.values()).filter(callbackfn, thisArg);\r\n             };\r\n             /**\r\n              * Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r\n              * @param callbackfn A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.\r\n              * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r\n              */\r\n             ArraySchema.prototype.reduce = function (callbackfn, initialValue) {\r\n                 return Array.from(this.$items.values()).reduce(callbackfn, initialValue);\r\n             };\r\n             /**\r\n              * Calls the specified callback function for all the elements in an array, in descending order. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r\n              * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls the callbackfn function one time for each element in the array.\r\n              * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r\n              */\r\n             ArraySchema.prototype.reduceRight = function (callbackfn, initialValue) {\r\n                 return Array.from(this.$items.values()).reduceRight(callbackfn, initialValue);\r\n             };\r\n             /**\r\n              * Returns the value of the first element in the array where predicate is true, and undefined\r\n              * otherwise.\r\n              * @param predicate find calls predicate once for each element of the array, in ascending\r\n              * order, until it finds one where predicate returns true. If such an element is found, find\r\n              * immediately returns that element value. Otherwise, find returns undefined.\r\n              * @param thisArg If provided, it will be used as the this value for each invocation of\r\n              * predicate. If it is not provided, undefined is used instead.\r\n              */\r\n             ArraySchema.prototype.find = function (predicate, thisArg) {\r\n                 return Array.from(this.$items.values()).find(predicate, thisArg);\r\n             };\r\n             /**\r\n              * Returns the index of the first element in the array where predicate is true, and -1\r\n              * otherwise.\r\n              * @param predicate find calls predicate once for each element of the array, in ascending\r\n              * order, until it finds one where predicate returns true. If such an element is found,\r\n              * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r\n              * @param thisArg If provided, it will be used as the this value for each invocation of\r\n              * predicate. If it is not provided, undefined is used instead.\r\n              */\r\n             ArraySchema.prototype.findIndex = function (predicate, thisArg) {\r\n                 return Array.from(this.$items.values()).findIndex(predicate, thisArg);\r\n             };\r\n             /**\r\n              * Returns the this object after filling the section identified by start and end with value\r\n              * @param value value to fill array section with\r\n              * @param start index to start filling the array at. If start is negative, it is treated as\r\n              * length+start where length is the length of the array.\r\n              * @param end index to stop filling the array at. If end is negative, it is treated as\r\n              * length+end.\r\n              */\r\n             ArraySchema.prototype.fill = function (value, start, end) {\r\n                 //\r\n                 // TODO\r\n                 //\r\n                 throw new Error(\"ArraySchema#fill() not implemented\");\r\n             };\r\n             /**\r\n              * Returns the this object after copying a section of the array identified by start and end\r\n              * to the same array starting at position target\r\n              * @param target If target is negative, it is treated as length+target where length is the\r\n              * length of the array.\r\n              * @param start If start is negative, it is treated as length+start. If end is negative, it\r\n              * is treated as length+end.\r\n              * @param end If not specified, length of the this object is used as its default value.\r\n              */\r\n             ArraySchema.prototype.copyWithin = function (target, start, end) {\r\n                 //\r\n                 // TODO\r\n                 //\r\n                 throw new Error(\"ArraySchema#copyWithin() not implemented\");\r\n             };\r\n             /**\r\n              * Returns a string representation of an array.\r\n              */\r\n             ArraySchema.prototype.toString = function () { return this.$items.toString(); };\r\n             /**\r\n              * Returns a string representation of an array. The elements are converted to string using their toLocalString methods.\r\n              */\r\n             ArraySchema.prototype.toLocaleString = function () { return this.$items.toLocaleString(); };\r\n             /** Iterator */\r\n             ArraySchema.prototype[Symbol.iterator] = function () {\r\n                 return Array.from(this.$items.values())[Symbol.iterator]();\r\n             };\r\n             ArraySchema.prototype[Symbol.unscopables] = function () {\r\n                 return this.$items[Symbol.unscopables]();\r\n             };\r\n             /**\r\n              * Returns an iterable of key, value pairs for every entry in the array\r\n              */\r\n             ArraySchema.prototype.entries = function () { return this.$items.entries(); };\r\n             /**\r\n              * Returns an iterable of keys in the array\r\n              */\r\n             ArraySchema.prototype.keys = function () { return this.$items.keys(); };\r\n             /**\r\n              * Returns an iterable of values in the array\r\n              */\r\n             ArraySchema.prototype.values = function () { return this.$items.values(); };\r\n             /**\r\n              * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n              * @param searchElement The element to search for.\r\n              * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n              */\r\n             ArraySchema.prototype.includes = function (searchElement, fromIndex) {\r\n                 return Array.from(this.$items.values()).includes(searchElement, fromIndex);\r\n             };\r\n             /**\r\n              * Calls a defined callback function on each element of an array. Then, flattens the result into\r\n              * a new array.\r\n              * This is identical to a map followed by flat with depth 1.\r\n              *\r\n              * @param callback A function that accepts up to three arguments. The flatMap method calls the\r\n              * callback function one time for each element in the array.\r\n              * @param thisArg An object to which the this keyword can refer in the callback function. If\r\n              * thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             // @ts-ignore\r\n             ArraySchema.prototype.flatMap = function (callback, thisArg) {\r\n                 // @ts-ignore\r\n                 throw new Error(\"ArraySchema#flatMap() is not supported.\");\r\n             };\r\n             /**\r\n              * Returns a new array with all sub-array elements concatenated into it recursively up to the\r\n              * specified depth.\r\n              *\r\n              * @param depth The maximum recursion depth\r\n              */\r\n             // @ts-ignore\r\n             ArraySchema.prototype.flat = function (depth) {\r\n                 // @ts-ignore\r\n                 throw new Error(\"ArraySchema#flat() is not supported.\");\r\n             };\r\n             // get size () {\r\n             //     return this.$items.size;\r\n             // }\r\n             ArraySchema.prototype.setIndex = function (index, key) {\r\n                 this.$indexes.set(index, key);\r\n             };\r\n             ArraySchema.prototype.getIndex = function (index) {\r\n                 return this.$indexes.get(index);\r\n             };\r\n             ArraySchema.prototype.getByIndex = function (index) {\r\n                 return this.$items.get(this.$indexes.get(index));\r\n             };\r\n             ArraySchema.prototype.deleteByIndex = function (index) {\r\n                 var key = this.$indexes.get(index);\r\n                 this.$items.delete(key);\r\n                 this.$indexes.delete(index);\r\n             };\r\n             ArraySchema.prototype.toArray = function () {\r\n                 return Array.from(this.$items.values());\r\n             };\r\n             ArraySchema.prototype.toJSON = function () {\r\n                 return this.toArray().map(function (value) {\r\n                     return (typeof (value['toJSON']) === \"function\")\r\n                         ? value['toJSON']()\r\n                         : value;\r\n                 });\r\n             };\r\n             //\r\n             // Decoding utilities\r\n             //\r\n             ArraySchema.prototype.clone = function (isDecoding) {\r\n                 var cloned;\r\n                 if (isDecoding) {\r\n                     cloned = new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], Array.from(this.$items.values()))))();\r\n                 }\r\n                 else {\r\n                     cloned = new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], this.map(function (item) { return ((item['$changes'])\r\n                         ? item.clone()\r\n                         : item); }))))();\r\n                 }\r\n                 return cloned;\r\n             };\r\n             ArraySchema.prototype.triggerAll = function () {\r\n                 Schema.prototype.triggerAll.apply(this);\r\n             };\r\n             return ArraySchema;\r\n         }());\r\n\r\n         function getMapProxy(value) {\r\n             value['$proxy'] = true;\r\n             value = new Proxy(value, {\r\n                 get: function (obj, prop) {\r\n                     if (typeof (prop) !== \"symbol\" && // accessing properties\r\n                         typeof (obj[prop]) === \"undefined\") {\r\n                         return obj.get(prop);\r\n                     }\r\n                     else {\r\n                         return obj[prop];\r\n                     }\r\n                 },\r\n                 set: function (obj, prop, setValue) {\r\n                     if (typeof (prop) !== \"symbol\" &&\r\n                         (prop.indexOf(\"$\") === -1 &&\r\n                             prop !== \"onAdd\" &&\r\n                             prop !== \"onRemove\" &&\r\n                             prop !== \"onChange\")) {\r\n                         obj.set(prop, setValue);\r\n                     }\r\n                     else {\r\n                         obj[prop] = setValue;\r\n                     }\r\n                     return true;\r\n                 },\r\n                 deleteProperty: function (obj, prop) {\r\n                     obj.delete(prop);\r\n                     return true;\r\n                 },\r\n             });\r\n             return value;\r\n         }\r\n         var MapSchema = /** @class */ (function () {\r\n             function MapSchema(initialValues) {\r\n                 var _this = this;\r\n                 this.$changes = new ChangeTree(this);\r\n                 this.$items = new Map();\r\n                 this.$indexes = new Map();\r\n                 this.$refId = 0;\r\n                 if (initialValues) {\r\n                     if (initialValues instanceof Map) {\r\n                         initialValues.forEach(function (v, k) { return _this.set(k, v); });\r\n                     }\r\n                     else {\r\n                         for (var k in initialValues) {\r\n                             this.set(k, initialValues[k]);\r\n                         }\r\n                     }\r\n                 }\r\n             }\r\n             MapSchema.is = function (type) {\r\n                 return type['map'] !== undefined;\r\n             };\r\n             /** Iterator */\r\n             MapSchema.prototype[Symbol.iterator] = function () { return this.$items[Symbol.iterator](); };\r\n             Object.defineProperty(MapSchema.prototype, Symbol.toStringTag, {\r\n                 get: function () { return this.$items[Symbol.toStringTag]; },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             MapSchema.prototype.set = function (key, value) {\r\n                 // get \"index\" for this value.\r\n                 var hasIndex = typeof (this.$changes.indexes[key]) !== \"undefined\";\r\n                 var index = (hasIndex)\r\n                     ? this.$changes.indexes[key]\r\n                     : this.$refId++;\r\n                 var operation = (hasIndex)\r\n                     ? exports.OPERATION.REPLACE\r\n                     : exports.OPERATION.ADD;\r\n                 var isRef = (value['$changes']) !== undefined;\r\n                 if (isRef) {\r\n                     value['$changes'].setParent(this, this.$changes.root, index);\r\n                 }\r\n                 //\r\n                 // (encoding)\r\n                 // set a unique id to relate directly with this key/value.\r\n                 //\r\n                 if (!hasIndex) {\r\n                     this.$changes.indexes[key] = index;\r\n                     this.$indexes.set(index, key);\r\n                 }\r\n                 else if (isRef && // if is schema, force ADD operation if value differ from previous one.\r\n                     this.$items.get(key) !== value) {\r\n                     operation = exports.OPERATION.ADD;\r\n                 }\r\n                 this.$items.set(key, value);\r\n                 this.$changes.change(key, operation);\r\n                 return this;\r\n             };\r\n             MapSchema.prototype.get = function (key) {\r\n                 return this.$items.get(key);\r\n             };\r\n             MapSchema.prototype.delete = function (key) {\r\n                 //\r\n                 // TODO: add a \"purge\" method after .encode() runs, to cleanup removed `$indexes`\r\n                 //\r\n                 // We don't remove $indexes to allow setting the same key in the same patch\r\n                 // (See \"should allow to remove and set an item in the same place\" test)\r\n                 //\r\n                 // // const index = this.$changes.indexes[key];\r\n                 // // this.$indexes.delete(index);\r\n                 this.$changes.delete(key);\r\n                 return this.$items.delete(key);\r\n             };\r\n             MapSchema.prototype.clear = function (isDecoding) {\r\n                 var _this = this;\r\n                 // discard previous operations.\r\n                 this.$changes.discard(true, true);\r\n                 this.$changes.indexes = {};\r\n                 // clear previous indexes\r\n                 this.$indexes.clear();\r\n                 // flag child items for garbage collection.\r\n                 if (isDecoding && typeof (this.$changes.getType()) !== \"string\") {\r\n                     this.$items.forEach(function (item) {\r\n                         _this.$changes.root.removeRef(item['$changes'].refId);\r\n                     });\r\n                 }\r\n                 // clear items\r\n                 this.$items.clear();\r\n                 this.$changes.operation({ index: 0, op: exports.OPERATION.CLEAR });\r\n                 // touch all structures until reach root\r\n                 this.$changes.touchParents();\r\n             };\r\n             MapSchema.prototype.has = function (key) {\r\n                 return this.$items.has(key);\r\n             };\r\n             MapSchema.prototype.forEach = function (callbackfn) {\r\n                 this.$items.forEach(callbackfn);\r\n             };\r\n             MapSchema.prototype.entries = function () {\r\n                 return this.$items.entries();\r\n             };\r\n             MapSchema.prototype.keys = function () {\r\n                 return this.$items.keys();\r\n             };\r\n             MapSchema.prototype.values = function () {\r\n                 return this.$items.values();\r\n             };\r\n             Object.defineProperty(MapSchema.prototype, \"size\", {\r\n                 get: function () {\r\n                     return this.$items.size;\r\n                 },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             MapSchema.prototype.setIndex = function (index, key) {\r\n                 this.$indexes.set(index, key);\r\n             };\r\n             MapSchema.prototype.getIndex = function (index) {\r\n                 return this.$indexes.get(index);\r\n             };\r\n             MapSchema.prototype.getByIndex = function (index) {\r\n                 return this.$items.get(this.$indexes.get(index));\r\n             };\r\n             MapSchema.prototype.deleteByIndex = function (index) {\r\n                 var key = this.$indexes.get(index);\r\n                 this.$items.delete(key);\r\n                 this.$indexes.delete(index);\r\n             };\r\n             MapSchema.prototype.toJSON = function () {\r\n                 var map = {};\r\n                 this.forEach(function (value, key) {\r\n                     map[key] = (typeof (value['toJSON']) === \"function\")\r\n                         ? value['toJSON']()\r\n                         : value;\r\n                 });\r\n                 return map;\r\n             };\r\n             //\r\n             // Decoding utilities\r\n             //\r\n             MapSchema.prototype.clone = function (isDecoding) {\r\n                 var cloned;\r\n                 if (isDecoding) {\r\n                     // client-side\r\n                     cloned = Object.assign(new MapSchema(), this);\r\n                 }\r\n                 else {\r\n                     // server-side\r\n                     cloned = new MapSchema();\r\n                     this.forEach(function (value, key) {\r\n                         if (value['$changes']) {\r\n                             cloned.set(key, value['clone']());\r\n                         }\r\n                         else {\r\n                             cloned.set(key, value);\r\n                         }\r\n                     });\r\n                 }\r\n                 return cloned;\r\n             };\r\n             MapSchema.prototype.triggerAll = function () {\r\n                 Schema.prototype.triggerAll.apply(this);\r\n             };\r\n             return MapSchema;\r\n         }());\r\n\r\n         var registeredTypes = {};\r\n         function registerType(identifier, definition) {\r\n             registeredTypes[identifier] = definition;\r\n         }\r\n         function getType(identifier) {\r\n             return registeredTypes[identifier];\r\n         }\r\n\r\n         var SchemaDefinition = /** @class */ (function () {\r\n             function SchemaDefinition() {\r\n                 //\r\n                 // TODO: use a \"field\" structure combining all these properties per-field.\r\n                 //\r\n                 this.indexes = {};\r\n                 this.fieldsByIndex = {};\r\n                 this.deprecated = {};\r\n                 this.descriptors = {};\r\n             }\r\n             SchemaDefinition.create = function (parent) {\r\n                 var definition = new SchemaDefinition();\r\n                 // support inheritance\r\n                 definition.schema = Object.assign({}, parent && parent.schema || {});\r\n                 definition.indexes = Object.assign({}, parent && parent.indexes || {});\r\n                 definition.fieldsByIndex = Object.assign({}, parent && parent.fieldsByIndex || {});\r\n                 definition.descriptors = Object.assign({}, parent && parent.descriptors || {});\r\n                 definition.deprecated = Object.assign({}, parent && parent.deprecated || {});\r\n                 return definition;\r\n             };\r\n             SchemaDefinition.prototype.addField = function (field, type) {\r\n                 var index = this.getNextFieldIndex();\r\n                 this.fieldsByIndex[index] = field;\r\n                 this.indexes[field] = index;\r\n                 this.schema[field] = (Array.isArray(type))\r\n                     ? { array: type[0] }\r\n                     : type;\r\n             };\r\n             SchemaDefinition.prototype.addFilter = function (field, cb) {\r\n                 if (!this.filters) {\r\n                     this.filters = {};\r\n                     this.indexesWithFilters = [];\r\n                 }\r\n                 this.filters[this.indexes[field]] = cb;\r\n                 this.indexesWithFilters.push(this.indexes[field]);\r\n                 return true;\r\n             };\r\n             SchemaDefinition.prototype.addChildrenFilter = function (field, cb) {\r\n                 var index = this.indexes[field];\r\n                 var type = this.schema[field];\r\n                 if (getType(Object.keys(type)[0])) {\r\n                     if (!this.childFilters) {\r\n                         this.childFilters = {};\r\n                     }\r\n                     this.childFilters[index] = cb;\r\n                     return true;\r\n                 }\r\n                 else {\r\n                     console.warn(\"@filterChildren: field '\" + field + \"' can't have children. Ignoring filter.\");\r\n                 }\r\n             };\r\n             SchemaDefinition.prototype.getChildrenFilter = function (field) {\r\n                 return this.childFilters && this.childFilters[this.indexes[field]];\r\n             };\r\n             SchemaDefinition.prototype.getNextFieldIndex = function () {\r\n                 return Object.keys(this.schema || {}).length;\r\n             };\r\n             return SchemaDefinition;\r\n         }());\r\n         function hasFilter(klass) {\r\n             return klass._context && klass._context.useFilters;\r\n         }\r\n         var Context = /** @class */ (function () {\r\n             function Context() {\r\n                 this.types = {};\r\n                 this.schemas = new Map();\r\n                 this.useFilters = false;\r\n             }\r\n             Context.prototype.has = function (schema) {\r\n                 return this.schemas.has(schema);\r\n             };\r\n             Context.prototype.get = function (typeid) {\r\n                 return this.types[typeid];\r\n             };\r\n             Context.prototype.add = function (schema, typeid) {\r\n                 if (typeid === void 0) { typeid = this.schemas.size; }\r\n                 // FIXME: move this to somewhere else?\r\n                 // support inheritance\r\n                 schema._definition = SchemaDefinition.create(schema._definition);\r\n                 schema._typeid = typeid;\r\n                 this.types[typeid] = schema;\r\n                 this.schemas.set(schema, typeid);\r\n             };\r\n             Context.create = function (context) {\r\n                 if (context === void 0) { context = new Context; }\r\n                 return function (definition) {\r\n                     return type(definition, context);\r\n                 };\r\n             };\r\n             return Context;\r\n         }());\r\n         var globalContext = new Context();\r\n         /**\r\n          * `@type()` decorator for proxies\r\n          */\r\n         function type(type, context) {\r\n             if (context === void 0) { context = globalContext; }\r\n             return function (target, field) {\r\n                 var constructor = target.constructor;\r\n                 constructor._context = context;\r\n                 /*\r\n                  * static schema\r\n                  */\r\n                 if (!context.has(constructor)) {\r\n                     context.add(constructor);\r\n                 }\r\n                 var definition = constructor._definition;\r\n                 definition.addField(field, type);\r\n                 /**\r\n                  * skip if descriptor already exists for this field (`@deprecated()`)\r\n                  */\r\n                 if (definition.descriptors[field]) {\r\n                     if (definition.deprecated[field]) {\r\n                         // do not create accessors for deprecated properties.\r\n                         return;\r\n                     }\r\n                     else {\r\n                         // trying to define same property multiple times across inheritance.\r\n                         // https://github.com/colyseus/colyseus-unity3d/issues/131#issuecomment-814308572\r\n                         try {\r\n                             throw new Error(\"@colyseus/schema: Duplicate '\" + field + \"' definition on '\" + constructor.name + \"'.\\nCheck @type() annotation\");\r\n                         }\r\n                         catch (e) {\r\n                             var definitionAtLine = e.stack.split(\"\\n\")[4].trim();\r\n                             throw new Error(e.message + \" \" + definitionAtLine);\r\n                         }\r\n                     }\r\n                 }\r\n                 var isArray = ArraySchema.is(type);\r\n                 var isMap = !isArray && MapSchema.is(type);\r\n                 // TODO: refactor me.\r\n                 // Allow abstract intermediary classes with no fields to be serialized\r\n                 // (See \"should support an inheritance with a Schema type without fields\" test)\r\n                 if (typeof (type) !== \"string\" && !Schema.is(type)) {\r\n                     var childType = Object.values(type)[0];\r\n                     if (typeof (childType) !== \"string\" && !context.has(childType)) {\r\n                         context.add(childType);\r\n                     }\r\n                 }\r\n                 var fieldCached = \"_\" + field;\r\n                 definition.descriptors[fieldCached] = {\r\n                     enumerable: false,\r\n                     configurable: false,\r\n                     writable: true,\r\n                 };\r\n                 definition.descriptors[field] = {\r\n                     get: function () {\r\n                         return this[fieldCached];\r\n                     },\r\n                     set: function (value) {\r\n                         /**\r\n                          * Create Proxy for array or map items\r\n                          */\r\n                         // skip if value is the same as cached.\r\n                         if (value === this[fieldCached]) {\r\n                             return;\r\n                         }\r\n                         if (value !== undefined &&\r\n                             value !== null) {\r\n                             // automaticallty transform Array into ArraySchema\r\n                             if (isArray && !(value instanceof ArraySchema)) {\r\n                                 value = new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], value)))();\r\n                             }\r\n                             // automaticallty transform Map into MapSchema\r\n                             if (isMap && !(value instanceof MapSchema)) {\r\n                                 value = new MapSchema(value);\r\n                             }\r\n                             // try to turn provided structure into a Proxy\r\n                             if (value['$proxy'] === undefined) {\r\n                                 if (isMap) {\r\n                                     value = getMapProxy(value);\r\n                                 }\r\n                                 else if (isArray) {\r\n                                     value = getArrayProxy(value);\r\n                                 }\r\n                             }\r\n                             // flag the change for encoding.\r\n                             this.$changes.change(field);\r\n                             //\r\n                             // call setParent() recursively for this and its child\r\n                             // structures.\r\n                             //\r\n                             if (value['$changes']) {\r\n                                 value['$changes'].setParent(this, this.$changes.root, this._definition.indexes[field]);\r\n                             }\r\n                         }\r\n                         else {\r\n                             //\r\n                             // Setting a field to `null` or `undefined` will delete it.\r\n                             //\r\n                             this.$changes.delete(field);\r\n                         }\r\n                         this[fieldCached] = value;\r\n                     },\r\n                     enumerable: true,\r\n                     configurable: true\r\n                 };\r\n             };\r\n         }\r\n         /**\r\n          * `@filter()` decorator for defining data filters per client\r\n          */\r\n         function filter(cb) {\r\n             return function (target, field) {\r\n                 var constructor = target.constructor;\r\n                 var definition = constructor._definition;\r\n                 if (definition.addFilter(field, cb)) {\r\n                     constructor._context.useFilters = true;\r\n                 }\r\n             };\r\n         }\r\n         function filterChildren(cb) {\r\n             return function (target, field) {\r\n                 var constructor = target.constructor;\r\n                 var definition = constructor._definition;\r\n                 if (definition.addChildrenFilter(field, cb)) {\r\n                     constructor._context.useFilters = true;\r\n                 }\r\n             };\r\n         }\r\n         /**\r\n          * `@deprecated()` flag a field as deprecated.\r\n          * The previous `@type()` annotation should remain along with this one.\r\n          */\r\n         function deprecated(throws, context) {\r\n             if (throws === void 0) { throws = true; }\r\n             return function (target, field) {\r\n                 var constructor = target.constructor;\r\n                 var definition = constructor._definition;\r\n                 definition.deprecated[field] = true;\r\n                 if (throws) {\r\n                     definition.descriptors[field] = {\r\n                         get: function () { throw new Error(field + \" is deprecated.\"); },\r\n                         set: function (value) { },\r\n                         enumerable: false,\r\n                         configurable: true\r\n                     };\r\n                 }\r\n             };\r\n         }\r\n         function defineTypes(target, fields, context) {\r\n             if (context === void 0) { context = target._context || globalContext; }\r\n             for (var field in fields) {\r\n                 type(fields[field], context)(target.prototype, field);\r\n             }\r\n             return target;\r\n         }\r\n\r\n         /**\r\n          * Copyright (c) 2018 Endel Dreyer\r\n          * Copyright (c) 2014 Ion Drive Software Ltd.\r\n          *\r\n          * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n          * of this software and associated documentation files (the \"Software\"), to deal\r\n          * in the Software without restriction, including without limitation the rights\r\n          * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n          * copies of the Software, and to permit persons to whom the Software is\r\n          * furnished to do so, subject to the following conditions:\r\n          *\r\n          * The above copyright notice and this permission notice shall be included in all\r\n          * copies or substantial portions of the Software.\r\n          *\r\n          * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n          * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n          * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n          * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n          * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n          * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n          * SOFTWARE\r\n          */\r\n         /**\r\n          * msgpack implementation highly based on notepack.io\r\n          * https://github.com/darrachequesne/notepack\r\n          */\r\n         function utf8Length(str) {\r\n             var c = 0, length = 0;\r\n             for (var i = 0, l = str.length; i < l; i++) {\r\n                 c = str.charCodeAt(i);\r\n                 if (c < 0x80) {\r\n                     length += 1;\r\n                 }\r\n                 else if (c < 0x800) {\r\n                     length += 2;\r\n                 }\r\n                 else if (c < 0xd800 || c >= 0xe000) {\r\n                     length += 3;\r\n                 }\r\n                 else {\r\n                     i++;\r\n                     length += 4;\r\n                 }\r\n             }\r\n             return length;\r\n         }\r\n         function utf8Write(view, offset, str) {\r\n             var c = 0;\r\n             for (var i = 0, l = str.length; i < l; i++) {\r\n                 c = str.charCodeAt(i);\r\n                 if (c < 0x80) {\r\n                     view[offset++] = c;\r\n                 }\r\n                 else if (c < 0x800) {\r\n                     view[offset++] = 0xc0 | (c >> 6);\r\n                     view[offset++] = 0x80 | (c & 0x3f);\r\n                 }\r\n                 else if (c < 0xd800 || c >= 0xe000) {\r\n                     view[offset++] = 0xe0 | (c >> 12);\r\n                     view[offset++] = 0x80 | (c >> 6 & 0x3f);\r\n                     view[offset++] = 0x80 | (c & 0x3f);\r\n                 }\r\n                 else {\r\n                     i++;\r\n                     c = 0x10000 + (((c & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\r\n                     view[offset++] = 0xf0 | (c >> 18);\r\n                     view[offset++] = 0x80 | (c >> 12 & 0x3f);\r\n                     view[offset++] = 0x80 | (c >> 6 & 0x3f);\r\n                     view[offset++] = 0x80 | (c & 0x3f);\r\n                 }\r\n             }\r\n         }\r\n         function int8$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n         }\r\n         function uint8$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n         }\r\n         function int16$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n             bytes.push((value >> 8) & 255);\r\n         }\r\n         function uint16$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n             bytes.push((value >> 8) & 255);\r\n         }\r\n         function int32$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n             bytes.push((value >> 8) & 255);\r\n             bytes.push((value >> 16) & 255);\r\n             bytes.push((value >> 24) & 255);\r\n         }\r\n         function uint32$1(bytes, value) {\r\n             var b4 = value >> 24;\r\n             var b3 = value >> 16;\r\n             var b2 = value >> 8;\r\n             var b1 = value;\r\n             bytes.push(b1 & 255);\r\n             bytes.push(b2 & 255);\r\n             bytes.push(b3 & 255);\r\n             bytes.push(b4 & 255);\r\n         }\r\n         function int64$1(bytes, value) {\r\n             var high = Math.floor(value / Math.pow(2, 32));\r\n             var low = value >>> 0;\r\n             uint32$1(bytes, low);\r\n             uint32$1(bytes, high);\r\n         }\r\n         function uint64$1(bytes, value) {\r\n             var high = (value / Math.pow(2, 32)) >> 0;\r\n             var low = value >>> 0;\r\n             uint32$1(bytes, low);\r\n             uint32$1(bytes, high);\r\n         }\r\n         function float32$1(bytes, value) {\r\n             writeFloat32(bytes, value);\r\n         }\r\n         function float64$1(bytes, value) {\r\n             writeFloat64(bytes, value);\r\n         }\r\n         var _int32$1 = new Int32Array(2);\r\n         var _float32$1 = new Float32Array(_int32$1.buffer);\r\n         var _float64$1 = new Float64Array(_int32$1.buffer);\r\n         function writeFloat32(bytes, value) {\r\n             _float32$1[0] = value;\r\n             int32$1(bytes, _int32$1[0]);\r\n         }\r\n         function writeFloat64(bytes, value) {\r\n             _float64$1[0] = value;\r\n             int32$1(bytes, _int32$1[0 ]);\r\n             int32$1(bytes, _int32$1[1 ]);\r\n         }\r\n         function boolean$1(bytes, value) {\r\n             return uint8$1(bytes, value ? 1 : 0);\r\n         }\r\n         function string$1(bytes, value) {\r\n             // encode `null` strings as empty.\r\n             if (!value) {\r\n                 value = \"\";\r\n             }\r\n             var length = utf8Length(value);\r\n             var size = 0;\r\n             // fixstr\r\n             if (length < 0x20) {\r\n                 bytes.push(length | 0xa0);\r\n                 size = 1;\r\n             }\r\n             // str 8\r\n             else if (length < 0x100) {\r\n                 bytes.push(0xd9);\r\n                 uint8$1(bytes, length);\r\n                 size = 2;\r\n             }\r\n             // str 16\r\n             else if (length < 0x10000) {\r\n                 bytes.push(0xda);\r\n                 uint16$1(bytes, length);\r\n                 size = 3;\r\n             }\r\n             // str 32\r\n             else if (length < 0x100000000) {\r\n                 bytes.push(0xdb);\r\n                 uint32$1(bytes, length);\r\n                 size = 5;\r\n             }\r\n             else {\r\n                 throw new Error('String too long');\r\n             }\r\n             utf8Write(bytes, bytes.length, value);\r\n             return size + length;\r\n         }\r\n         function number$1(bytes, value) {\r\n             if (isNaN(value)) {\r\n                 return number$1(bytes, 0);\r\n             }\r\n             else if (!isFinite(value)) {\r\n                 return number$1(bytes, (value > 0) ? Number.MAX_SAFE_INTEGER : -Number.MAX_SAFE_INTEGER);\r\n             }\r\n             else if (value !== (value | 0)) {\r\n                 bytes.push(0xcb);\r\n                 writeFloat64(bytes, value);\r\n                 return 9;\r\n                 // TODO: encode float 32?\r\n                 // is it possible to differentiate between float32 / float64 here?\r\n                 // // float 32\r\n                 // bytes.push(0xca);\r\n                 // writeFloat32(bytes, value);\r\n                 // return 5;\r\n             }\r\n             if (value >= 0) {\r\n                 // positive fixnum\r\n                 if (value < 0x80) {\r\n                     uint8$1(bytes, value);\r\n                     return 1;\r\n                 }\r\n                 // uint 8\r\n                 if (value < 0x100) {\r\n                     bytes.push(0xcc);\r\n                     uint8$1(bytes, value);\r\n                     return 2;\r\n                 }\r\n                 // uint 16\r\n                 if (value < 0x10000) {\r\n                     bytes.push(0xcd);\r\n                     uint16$1(bytes, value);\r\n                     return 3;\r\n                 }\r\n                 // uint 32\r\n                 if (value < 0x100000000) {\r\n                     bytes.push(0xce);\r\n                     uint32$1(bytes, value);\r\n                     return 5;\r\n                 }\r\n                 // uint 64\r\n                 bytes.push(0xcf);\r\n                 uint64$1(bytes, value);\r\n                 return 9;\r\n             }\r\n             else {\r\n                 // negative fixnum\r\n                 if (value >= -0x20) {\r\n                     bytes.push(0xe0 | (value + 0x20));\r\n                     return 1;\r\n                 }\r\n                 // int 8\r\n                 if (value >= -0x80) {\r\n                     bytes.push(0xd0);\r\n                     int8$1(bytes, value);\r\n                     return 2;\r\n                 }\r\n                 // int 16\r\n                 if (value >= -0x8000) {\r\n                     bytes.push(0xd1);\r\n                     int16$1(bytes, value);\r\n                     return 3;\r\n                 }\r\n                 // int 32\r\n                 if (value >= -0x80000000) {\r\n                     bytes.push(0xd2);\r\n                     int32$1(bytes, value);\r\n                     return 5;\r\n                 }\r\n                 // int 64\r\n                 bytes.push(0xd3);\r\n                 int64$1(bytes, value);\r\n                 return 9;\r\n             }\r\n         }\r\n\r\n         var encode = /*#__PURE__*/Object.freeze({\r\n             __proto__: null,\r\n             utf8Write: utf8Write,\r\n             int8: int8$1,\r\n             uint8: uint8$1,\r\n             int16: int16$1,\r\n             uint16: uint16$1,\r\n             int32: int32$1,\r\n             uint32: uint32$1,\r\n             int64: int64$1,\r\n             uint64: uint64$1,\r\n             float32: float32$1,\r\n             float64: float64$1,\r\n             writeFloat32: writeFloat32,\r\n             writeFloat64: writeFloat64,\r\n             boolean: boolean$1,\r\n             string: string$1,\r\n             number: number$1\r\n         });\r\n\r\n         /**\r\n          * Copyright (c) 2018 Endel Dreyer\r\n          * Copyright (c) 2014 Ion Drive Software Ltd.\r\n          *\r\n          * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n          * of this software and associated documentation files (the \"Software\"), to deal\r\n          * in the Software without restriction, including without limitation the rights\r\n          * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n          * copies of the Software, and to permit persons to whom the Software is\r\n          * furnished to do so, subject to the following conditions:\r\n          *\r\n          * The above copyright notice and this permission notice shall be included in all\r\n          * copies or substantial portions of the Software.\r\n          *\r\n          * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n          * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n          * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n          * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n          * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n          * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n          * SOFTWARE\r\n          */\r\n         function utf8Read(bytes, offset, length) {\r\n             var string = '', chr = 0;\r\n             for (var i = offset, end = offset + length; i < end; i++) {\r\n                 var byte = bytes[i];\r\n                 if ((byte & 0x80) === 0x00) {\r\n                     string += String.fromCharCode(byte);\r\n                     continue;\r\n                 }\r\n                 if ((byte & 0xe0) === 0xc0) {\r\n                     string += String.fromCharCode(((byte & 0x1f) << 6) |\r\n                         (bytes[++i] & 0x3f));\r\n                     continue;\r\n                 }\r\n                 if ((byte & 0xf0) === 0xe0) {\r\n                     string += String.fromCharCode(((byte & 0x0f) << 12) |\r\n                         ((bytes[++i] & 0x3f) << 6) |\r\n                         ((bytes[++i] & 0x3f) << 0));\r\n                     continue;\r\n                 }\r\n                 if ((byte & 0xf8) === 0xf0) {\r\n                     chr = ((byte & 0x07) << 18) |\r\n                         ((bytes[++i] & 0x3f) << 12) |\r\n                         ((bytes[++i] & 0x3f) << 6) |\r\n                         ((bytes[++i] & 0x3f) << 0);\r\n                     if (chr >= 0x010000) { // surrogate pair\r\n                         chr -= 0x010000;\r\n                         string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\r\n                     }\r\n                     else {\r\n                         string += String.fromCharCode(chr);\r\n                     }\r\n                     continue;\r\n                 }\r\n                 console.error('Invalid byte ' + byte.toString(16));\r\n                 // (do not throw error to avoid server/client from crashing due to hack attemps)\r\n                 // throw new Error('Invalid byte ' + byte.toString(16));\r\n             }\r\n             return string;\r\n         }\r\n         function int8(bytes, it) {\r\n             return uint8(bytes, it) << 24 >> 24;\r\n         }\r\n         function uint8(bytes, it) {\r\n             return bytes[it.offset++];\r\n         }\r\n         function int16(bytes, it) {\r\n             return uint16(bytes, it) << 16 >> 16;\r\n         }\r\n         function uint16(bytes, it) {\r\n             return bytes[it.offset++] | bytes[it.offset++] << 8;\r\n         }\r\n         function int32(bytes, it) {\r\n             return bytes[it.offset++] | bytes[it.offset++] << 8 | bytes[it.offset++] << 16 | bytes[it.offset++] << 24;\r\n         }\r\n         function uint32(bytes, it) {\r\n             return int32(bytes, it) >>> 0;\r\n         }\r\n         function float32(bytes, it) {\r\n             return readFloat32(bytes, it);\r\n         }\r\n         function float64(bytes, it) {\r\n             return readFloat64(bytes, it);\r\n         }\r\n         function int64(bytes, it) {\r\n             var low = uint32(bytes, it);\r\n             var high = int32(bytes, it) * Math.pow(2, 32);\r\n             return high + low;\r\n         }\r\n         function uint64(bytes, it) {\r\n             var low = uint32(bytes, it);\r\n             var high = uint32(bytes, it) * Math.pow(2, 32);\r\n             return high + low;\r\n         }\r\n         var _int32 = new Int32Array(2);\r\n         var _float32 = new Float32Array(_int32.buffer);\r\n         var _float64 = new Float64Array(_int32.buffer);\r\n         function readFloat32(bytes, it) {\r\n             _int32[0] = int32(bytes, it);\r\n             return _float32[0];\r\n         }\r\n         function readFloat64(bytes, it) {\r\n             _int32[0 ] = int32(bytes, it);\r\n             _int32[1 ] = int32(bytes, it);\r\n             return _float64[0];\r\n         }\r\n         function boolean(bytes, it) {\r\n             return uint8(bytes, it) > 0;\r\n         }\r\n         function string(bytes, it) {\r\n             var prefix = bytes[it.offset++];\r\n             var length;\r\n             if (prefix < 0xc0) {\r\n                 // fixstr\r\n                 length = prefix & 0x1f;\r\n             }\r\n             else if (prefix === 0xd9) {\r\n                 length = uint8(bytes, it);\r\n             }\r\n             else if (prefix === 0xda) {\r\n                 length = uint16(bytes, it);\r\n             }\r\n             else if (prefix === 0xdb) {\r\n                 length = uint32(bytes, it);\r\n             }\r\n             var value = utf8Read(bytes, it.offset, length);\r\n             it.offset += length;\r\n             return value;\r\n         }\r\n         function stringCheck(bytes, it) {\r\n             var prefix = bytes[it.offset];\r\n             return (\r\n             // fixstr\r\n             (prefix < 0xc0 && prefix > 0xa0) ||\r\n                 // str 8\r\n                 prefix === 0xd9 ||\r\n                 // str 16\r\n                 prefix === 0xda ||\r\n                 // str 32\r\n                 prefix === 0xdb);\r\n         }\r\n         function number(bytes, it) {\r\n             var prefix = bytes[it.offset++];\r\n             if (prefix < 0x80) {\r\n                 // positive fixint\r\n                 return prefix;\r\n             }\r\n             else if (prefix === 0xca) {\r\n                 // float 32\r\n                 return readFloat32(bytes, it);\r\n             }\r\n             else if (prefix === 0xcb) {\r\n                 // float 64\r\n                 return readFloat64(bytes, it);\r\n             }\r\n             else if (prefix === 0xcc) {\r\n                 // uint 8\r\n                 return uint8(bytes, it);\r\n             }\r\n             else if (prefix === 0xcd) {\r\n                 // uint 16\r\n                 return uint16(bytes, it);\r\n             }\r\n             else if (prefix === 0xce) {\r\n                 // uint 32\r\n                 return uint32(bytes, it);\r\n             }\r\n             else if (prefix === 0xcf) {\r\n                 // uint 64\r\n                 return uint64(bytes, it);\r\n             }\r\n             else if (prefix === 0xd0) {\r\n                 // int 8\r\n                 return int8(bytes, it);\r\n             }\r\n             else if (prefix === 0xd1) {\r\n                 // int 16\r\n                 return int16(bytes, it);\r\n             }\r\n             else if (prefix === 0xd2) {\r\n                 // int 32\r\n                 return int32(bytes, it);\r\n             }\r\n             else if (prefix === 0xd3) {\r\n                 // int 64\r\n                 return int64(bytes, it);\r\n             }\r\n             else if (prefix > 0xdf) {\r\n                 // negative fixint\r\n                 return (0xff - prefix + 1) * -1;\r\n             }\r\n         }\r\n         function numberCheck(bytes, it) {\r\n             var prefix = bytes[it.offset];\r\n             // positive fixint - 0x00 - 0x7f\r\n             // float 32        - 0xca\r\n             // float 64        - 0xcb\r\n             // uint 8          - 0xcc\r\n             // uint 16         - 0xcd\r\n             // uint 32         - 0xce\r\n             // uint 64         - 0xcf\r\n             // int 8           - 0xd0\r\n             // int 16          - 0xd1\r\n             // int 32          - 0xd2\r\n             // int 64          - 0xd3\r\n             return (prefix < 0x80 ||\r\n                 (prefix >= 0xca && prefix <= 0xd3));\r\n         }\r\n         function arrayCheck(bytes, it) {\r\n             return bytes[it.offset] < 0xa0;\r\n             // const prefix = bytes[it.offset] ;\r\n             // if (prefix < 0xa0) {\r\n             //   return prefix;\r\n             // // array\r\n             // } else if (prefix === 0xdc) {\r\n             //   it.offset += 2;\r\n             // } else if (0xdd) {\r\n             //   it.offset += 4;\r\n             // }\r\n             // return prefix;\r\n         }\r\n         function switchStructureCheck(bytes, it) {\r\n             return (\r\n             // previous byte should be `SWITCH_TO_STRUCTURE`\r\n             bytes[it.offset - 1] === SWITCH_TO_STRUCTURE &&\r\n                 // next byte should be a number\r\n                 (bytes[it.offset] < 0x80 || (bytes[it.offset] >= 0xca && bytes[it.offset] <= 0xd3)));\r\n         }\r\n\r\n         var decode = /*#__PURE__*/Object.freeze({\r\n             __proto__: null,\r\n             int8: int8,\r\n             uint8: uint8,\r\n             int16: int16,\r\n             uint16: uint16,\r\n             int32: int32,\r\n             uint32: uint32,\r\n             float32: float32,\r\n             float64: float64,\r\n             int64: int64,\r\n             uint64: uint64,\r\n             readFloat32: readFloat32,\r\n             readFloat64: readFloat64,\r\n             boolean: boolean,\r\n             string: string,\r\n             stringCheck: stringCheck,\r\n             number: number,\r\n             numberCheck: numberCheck,\r\n             arrayCheck: arrayCheck,\r\n             switchStructureCheck: switchStructureCheck\r\n         });\r\n\r\n         var CollectionSchema = /** @class */ (function () {\r\n             function CollectionSchema(initialValues) {\r\n                 var _this = this;\r\n                 this.$changes = new ChangeTree(this);\r\n                 this.$items = new Map();\r\n                 this.$indexes = new Map();\r\n                 this.$refId = 0;\r\n                 if (initialValues) {\r\n                     initialValues.forEach(function (v) { return _this.add(v); });\r\n                 }\r\n             }\r\n             CollectionSchema.is = function (type) {\r\n                 return type['collection'] !== undefined;\r\n             };\r\n             CollectionSchema.prototype.add = function (value) {\r\n                 // set \"index\" for reference.\r\n                 var index = this.$refId++;\r\n                 var isRef = (value['$changes']) !== undefined;\r\n                 if (isRef) {\r\n                     value['$changes'].setParent(this, this.$changes.root, index);\r\n                 }\r\n                 this.$changes.indexes[index] = index;\r\n                 this.$indexes.set(index, index);\r\n                 this.$items.set(index, value);\r\n                 this.$changes.change(index);\r\n                 return index;\r\n             };\r\n             CollectionSchema.prototype.at = function (index) {\r\n                 var key = Array.from(this.$items.keys())[index];\r\n                 return this.$items.get(key);\r\n             };\r\n             CollectionSchema.prototype.entries = function () {\r\n                 return this.$items.entries();\r\n             };\r\n             CollectionSchema.prototype.delete = function (item) {\r\n                 var entries = this.$items.entries();\r\n                 var index;\r\n                 var entry;\r\n                 while (entry = entries.next()) {\r\n                     if (entry.done) {\r\n                         break;\r\n                     }\r\n                     if (item === entry.value[1]) {\r\n                         index = entry.value[0];\r\n                         break;\r\n                     }\r\n                 }\r\n                 if (index === undefined) {\r\n                     return false;\r\n                 }\r\n                 this.$changes.delete(index);\r\n                 this.$indexes.delete(index);\r\n                 return this.$items.delete(index);\r\n             };\r\n             CollectionSchema.prototype.clear = function (isDecoding) {\r\n                 var _this = this;\r\n                 // discard previous operations.\r\n                 this.$changes.discard(true, true);\r\n                 this.$changes.indexes = {};\r\n                 // clear previous indexes\r\n                 this.$indexes.clear();\r\n                 // flag child items for garbage collection.\r\n                 if (isDecoding && typeof (this.$changes.getType()) !== \"string\") {\r\n                     this.$items.forEach(function (item) {\r\n                         _this.$changes.root.removeRef(item['$changes'].refId);\r\n                     });\r\n                 }\r\n                 // clear items\r\n                 this.$items.clear();\r\n                 this.$changes.operation({ index: 0, op: exports.OPERATION.CLEAR });\r\n                 // touch all structures until reach root\r\n                 this.$changes.touchParents();\r\n             };\r\n             CollectionSchema.prototype.has = function (value) {\r\n                 return Array.from(this.$items.values()).some(function (v) { return v === value; });\r\n             };\r\n             CollectionSchema.prototype.forEach = function (callbackfn) {\r\n                 var _this = this;\r\n                 this.$items.forEach(function (value, key, _) { return callbackfn(value, key, _this); });\r\n             };\r\n             CollectionSchema.prototype.values = function () {\r\n                 return this.$items.values();\r\n             };\r\n             Object.defineProperty(CollectionSchema.prototype, \"size\", {\r\n                 get: function () {\r\n                     return this.$items.size;\r\n                 },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             CollectionSchema.prototype.setIndex = function (index, key) {\r\n                 this.$indexes.set(index, key);\r\n             };\r\n             CollectionSchema.prototype.getIndex = function (index) {\r\n                 return this.$indexes.get(index);\r\n             };\r\n             CollectionSchema.prototype.getByIndex = function (index) {\r\n                 return this.$items.get(this.$indexes.get(index));\r\n             };\r\n             CollectionSchema.prototype.deleteByIndex = function (index) {\r\n                 var key = this.$indexes.get(index);\r\n                 this.$items.delete(key);\r\n                 this.$indexes.delete(index);\r\n             };\r\n             CollectionSchema.prototype.toArray = function () {\r\n                 return Array.from(this.$items.values());\r\n             };\r\n             CollectionSchema.prototype.toJSON = function () {\r\n                 var values = [];\r\n                 this.forEach(function (value, key) {\r\n                     values.push((typeof (value['toJSON']) === \"function\")\r\n                         ? value['toJSON']()\r\n                         : value);\r\n                 });\r\n                 return values;\r\n             };\r\n             //\r\n             // Decoding utilities\r\n             //\r\n             CollectionSchema.prototype.clone = function (isDecoding) {\r\n                 var cloned;\r\n                 if (isDecoding) {\r\n                     // client-side\r\n                     cloned = Object.assign(new CollectionSchema(), this);\r\n                 }\r\n                 else {\r\n                     // server-side\r\n                     cloned = new CollectionSchema();\r\n                     this.forEach(function (value) {\r\n                         if (value['$changes']) {\r\n                             cloned.add(value['clone']());\r\n                         }\r\n                         else {\r\n                             cloned.add(value);\r\n                         }\r\n                     });\r\n                 }\r\n                 return cloned;\r\n             };\r\n             CollectionSchema.prototype.triggerAll = function () {\r\n                 Schema.prototype.triggerAll.apply(this);\r\n             };\r\n             return CollectionSchema;\r\n         }());\r\n\r\n         var SetSchema = /** @class */ (function () {\r\n             function SetSchema(initialValues) {\r\n                 var _this = this;\r\n                 this.$changes = new ChangeTree(this);\r\n                 this.$items = new Map();\r\n                 this.$indexes = new Map();\r\n                 this.$refId = 0;\r\n                 if (initialValues) {\r\n                     initialValues.forEach(function (v) { return _this.add(v); });\r\n                 }\r\n             }\r\n             SetSchema.is = function (type) {\r\n                 return type['set'] !== undefined;\r\n             };\r\n             SetSchema.prototype.add = function (value) {\r\n                 var _a, _b;\r\n                 // immediatelly return false if value already added.\r\n                 if (this.has(value)) {\r\n                     return false;\r\n                 }\r\n                 // set \"index\" for reference.\r\n                 var index = this.$refId++;\r\n                 if ((value['$changes']) !== undefined) {\r\n                     value['$changes'].setParent(this, this.$changes.root, index);\r\n                 }\r\n                 var operation = (_b = (_a = this.$changes.indexes[index]) === null || _a === void 0 ? void 0 : _a.op) !== null && _b !== void 0 ? _b : exports.OPERATION.ADD;\r\n                 this.$changes.indexes[index] = index;\r\n                 this.$indexes.set(index, index);\r\n                 this.$items.set(index, value);\r\n                 this.$changes.change(index, operation);\r\n                 return index;\r\n             };\r\n             SetSchema.prototype.entries = function () {\r\n                 return this.$items.entries();\r\n             };\r\n             SetSchema.prototype.delete = function (item) {\r\n                 var entries = this.$items.entries();\r\n                 var index;\r\n                 var entry;\r\n                 while (entry = entries.next()) {\r\n                     if (entry.done) {\r\n                         break;\r\n                     }\r\n                     if (item === entry.value[1]) {\r\n                         index = entry.value[0];\r\n                         break;\r\n                     }\r\n                 }\r\n                 if (index === undefined) {\r\n                     return false;\r\n                 }\r\n                 this.$changes.delete(index);\r\n                 this.$indexes.delete(index);\r\n                 return this.$items.delete(index);\r\n             };\r\n             SetSchema.prototype.clear = function (isDecoding) {\r\n                 var _this = this;\r\n                 // discard previous operations.\r\n                 this.$changes.discard(true, true);\r\n                 this.$changes.indexes = {};\r\n                 // clear previous indexes\r\n                 this.$indexes.clear();\r\n                 // flag child items for garbage collection.\r\n                 if (isDecoding && typeof (this.$changes.getType()) !== \"string\") {\r\n                     this.$items.forEach(function (item) {\r\n                         _this.$changes.root.removeRef(item['$changes'].refId);\r\n                     });\r\n                 }\r\n                 // clear items\r\n                 this.$items.clear();\r\n                 this.$changes.operation({ index: 0, op: exports.OPERATION.CLEAR });\r\n                 // touch all structures until reach root\r\n                 this.$changes.touchParents();\r\n             };\r\n             SetSchema.prototype.has = function (value) {\r\n                 var values = this.$items.values();\r\n                 var has = false;\r\n                 var entry;\r\n                 while (entry = values.next()) {\r\n                     if (entry.done) {\r\n                         break;\r\n                     }\r\n                     if (value === entry.value) {\r\n                         has = true;\r\n                         break;\r\n                     }\r\n                 }\r\n                 return has;\r\n             };\r\n             SetSchema.prototype.forEach = function (callbackfn) {\r\n                 var _this = this;\r\n                 this.$items.forEach(function (value, key, _) { return callbackfn(value, key, _this); });\r\n             };\r\n             SetSchema.prototype.values = function () {\r\n                 return this.$items.values();\r\n             };\r\n             Object.defineProperty(SetSchema.prototype, \"size\", {\r\n                 get: function () {\r\n                     return this.$items.size;\r\n                 },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             SetSchema.prototype.setIndex = function (index, key) {\r\n                 this.$indexes.set(index, key);\r\n             };\r\n             SetSchema.prototype.getIndex = function (index) {\r\n                 return this.$indexes.get(index);\r\n             };\r\n             SetSchema.prototype.getByIndex = function (index) {\r\n                 return this.$items.get(this.$indexes.get(index));\r\n             };\r\n             SetSchema.prototype.deleteByIndex = function (index) {\r\n                 var key = this.$indexes.get(index);\r\n                 this.$items.delete(key);\r\n                 this.$indexes.delete(index);\r\n             };\r\n             SetSchema.prototype.toArray = function () {\r\n                 return Array.from(this.$items.values());\r\n             };\r\n             SetSchema.prototype.toJSON = function () {\r\n                 var values = [];\r\n                 this.forEach(function (value, key) {\r\n                     values.push((typeof (value['toJSON']) === \"function\")\r\n                         ? value['toJSON']()\r\n                         : value);\r\n                 });\r\n                 return values;\r\n             };\r\n             //\r\n             // Decoding utilities\r\n             //\r\n             SetSchema.prototype.clone = function (isDecoding) {\r\n                 var cloned;\r\n                 if (isDecoding) {\r\n                     // client-side\r\n                     cloned = Object.assign(new SetSchema(), this);\r\n                 }\r\n                 else {\r\n                     // server-side\r\n                     cloned = new SetSchema();\r\n                     this.forEach(function (value) {\r\n                         if (value['$changes']) {\r\n                             cloned.add(value['clone']());\r\n                         }\r\n                         else {\r\n                             cloned.add(value);\r\n                         }\r\n                     });\r\n                 }\r\n                 return cloned;\r\n             };\r\n             SetSchema.prototype.triggerAll = function () {\r\n                 Schema.prototype.triggerAll.apply(this);\r\n             };\r\n             return SetSchema;\r\n         }());\r\n\r\n         /**\r\n          * Extracted from https://www.npmjs.com/package/strong-events\r\n          */\r\n         var EventEmitter_ = /** @class */ (function () {\r\n             function EventEmitter_() {\r\n                 this.handlers = [];\r\n             }\r\n             EventEmitter_.prototype.register = function (cb, once) {\r\n                 this.handlers.push(cb);\r\n                 return this;\r\n             };\r\n             EventEmitter_.prototype.invoke = function () {\r\n                 var args = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     args[_i] = arguments[_i];\r\n                 }\r\n                 this.handlers.forEach(function (handler) { return handler.apply(void 0, args); });\r\n             };\r\n             EventEmitter_.prototype.invokeAsync = function () {\r\n                 var args = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     args[_i] = arguments[_i];\r\n                 }\r\n                 return Promise.all(this.handlers.map(function (handler) { return handler.apply(void 0, args); }));\r\n             };\r\n             EventEmitter_.prototype.remove = function (cb) {\r\n                 var index = this.handlers.indexOf(cb);\r\n                 this.handlers[index] = this.handlers[this.handlers.length - 1];\r\n                 this.handlers.pop();\r\n             };\r\n             EventEmitter_.prototype.clear = function () {\r\n                 this.handlers = [];\r\n             };\r\n             return EventEmitter_;\r\n         }());\r\n\r\n         var ClientState = /** @class */ (function () {\r\n             function ClientState() {\r\n                 this.refIds = new WeakSet();\r\n                 this.containerIndexes = new WeakMap();\r\n             }\r\n             // containerIndexes = new Map<ChangeTree, Set<number>>();\r\n             ClientState.prototype.addRefId = function (changeTree) {\r\n                 if (!this.refIds.has(changeTree)) {\r\n                     this.refIds.add(changeTree);\r\n                     this.containerIndexes.set(changeTree, new Set());\r\n                 }\r\n             };\r\n             ClientState.get = function (client) {\r\n                 if (client.$filterState === undefined) {\r\n                     client.$filterState = new ClientState();\r\n                 }\r\n                 return client.$filterState;\r\n             };\r\n             return ClientState;\r\n         }());\r\n\r\n         var EncodeSchemaError = /** @class */ (function (_super) {\r\n             __extends(EncodeSchemaError, _super);\r\n             function EncodeSchemaError() {\r\n                 return _super !== null && _super.apply(this, arguments) || this;\r\n             }\r\n             return EncodeSchemaError;\r\n         }(Error));\r\n         function assertType(value, type, klass, field) {\r\n             var typeofTarget;\r\n             var allowNull = false;\r\n             switch (type) {\r\n                 case \"number\":\r\n                 case \"int8\":\r\n                 case \"uint8\":\r\n                 case \"int16\":\r\n                 case \"uint16\":\r\n                 case \"int32\":\r\n                 case \"uint32\":\r\n                 case \"int64\":\r\n                 case \"uint64\":\r\n                 case \"float32\":\r\n                 case \"float64\":\r\n                     typeofTarget = \"number\";\r\n                     if (isNaN(value)) {\r\n                         console.log(\"trying to encode \\\"NaN\\\" in \" + klass.constructor.name + \"#\" + field);\r\n                     }\r\n                     break;\r\n                 case \"string\":\r\n                     typeofTarget = \"string\";\r\n                     allowNull = true;\r\n                     break;\r\n                 case \"boolean\":\r\n                     // boolean is always encoded as true/false based on truthiness\r\n                     return;\r\n             }\r\n             if (typeof (value) !== typeofTarget && (!allowNull || (allowNull && value !== null))) {\r\n                 var foundValue = \"'\" + JSON.stringify(value) + \"'\" + ((value && value.constructor && \" (\" + value.constructor.name + \")\") || '');\r\n                 throw new EncodeSchemaError(\"a '\" + typeofTarget + \"' was expected, but \" + foundValue + \" was provided in \" + klass.constructor.name + \"#\" + field);\r\n             }\r\n         }\r\n         function assertInstanceType(value, type, klass, field) {\r\n             if (!(value instanceof type)) {\r\n                 throw new EncodeSchemaError(\"a '\" + type.name + \"' was expected, but '\" + value.constructor.name + \"' was provided in \" + klass.constructor.name + \"#\" + field);\r\n             }\r\n         }\r\n         function encodePrimitiveType(type, bytes, value, klass, field) {\r\n             assertType(value, type, klass, field);\r\n             var encodeFunc = encode[type];\r\n             if (encodeFunc) {\r\n                 encodeFunc(bytes, value);\r\n             }\r\n             else {\r\n                 throw new EncodeSchemaError(\"a '\" + type + \"' was expected, but \" + value + \" was provided in \" + klass.constructor.name + \"#\" + field);\r\n             }\r\n         }\r\n         function decodePrimitiveType(type, bytes, it) {\r\n             return decode[type](bytes, it);\r\n         }\r\n         /**\r\n          * Schema encoder / decoder\r\n          */\r\n         var Schema = /** @class */ (function () {\r\n             // allow inherited classes to have a constructor\r\n             function Schema() {\r\n                 var args = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     args[_i] = arguments[_i];\r\n                 }\r\n                 // fix enumerability of fields for end-user\r\n                 Object.defineProperties(this, {\r\n                     $changes: {\r\n                         value: new ChangeTree(this, undefined, new Root()),\r\n                         enumerable: false,\r\n                         writable: true\r\n                     },\r\n                     $listeners: {\r\n                         value: {},\r\n                         enumerable: false,\r\n                         writable: true\r\n                     },\r\n                 });\r\n                 var descriptors = this._definition.descriptors;\r\n                 if (descriptors) {\r\n                     Object.defineProperties(this, descriptors);\r\n                 }\r\n                 //\r\n                 // Assign initial values\r\n                 //\r\n                 if (args[0]) {\r\n                     this.assign(args[0]);\r\n                 }\r\n             }\r\n             Schema.onError = function (e) {\r\n                 console.error(e);\r\n             };\r\n             Schema.is = function (type) {\r\n                 return (type['_definition'] &&\r\n                     type['_definition'].schema !== undefined);\r\n             };\r\n             Schema.prototype.assign = function (props) {\r\n                 Object.assign(this, props);\r\n                 return this;\r\n             };\r\n             Object.defineProperty(Schema.prototype, \"_definition\", {\r\n                 get: function () { return this.constructor._definition; },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             Schema.prototype.listen = function (attr, callback) {\r\n                 var _this = this;\r\n                 if (!this.$listeners[attr]) {\r\n                     this.$listeners[attr] = new EventEmitter_();\r\n                 }\r\n                 this.$listeners[attr].register(callback);\r\n                 // return un-register callback.\r\n                 return function () {\r\n                     return _this.$listeners[attr].remove(callback);\r\n                 };\r\n             };\r\n             Schema.prototype.decode = function (bytes, it, ref, allChanges) {\r\n                 if (it === void 0) { it = { offset: 0 }; }\r\n                 if (ref === void 0) { ref = this; }\r\n                 if (allChanges === void 0) { allChanges = new Map(); }\r\n                 var $root = this.$changes.root;\r\n                 var totalBytes = bytes.length;\r\n                 var refId = 0;\r\n                 var changes = [];\r\n                 $root.refs.set(refId, this);\r\n                 allChanges.set(refId, changes);\r\n                 while (it.offset < totalBytes) {\r\n                     var byte = bytes[it.offset++];\r\n                     if (byte == SWITCH_TO_STRUCTURE) {\r\n                         refId = number(bytes, it);\r\n                         var nextRef = $root.refs.get(refId);\r\n                         //\r\n                         // Trying to access a reference that haven't been decoded yet.\r\n                         //\r\n                         if (!nextRef) {\r\n                             throw new Error(\"\\\"refId\\\" not found: \" + refId);\r\n                         }\r\n                         ref = nextRef;\r\n                         // create empty list of changes for this refId.\r\n                         changes = [];\r\n                         allChanges.set(refId, changes);\r\n                         continue;\r\n                     }\r\n                     var changeTree = ref['$changes'];\r\n                     var isSchema = (ref['_definition'] !== undefined);\r\n                     var operation = (isSchema)\r\n                         ? (byte >> 6) << 6 // \"compressed\" index + operation\r\n                         : byte; // \"uncompressed\" index + operation (array/map items)\r\n                     if (operation === exports.OPERATION.CLEAR) {\r\n                         //\r\n                         // TODO: refactor me!\r\n                         // The `.clear()` method is calling `$root.removeRef(refId)` for\r\n                         // each item inside this collection\r\n                         //\r\n                         ref.clear(true);\r\n                         continue;\r\n                     }\r\n                     var fieldIndex = (isSchema)\r\n                         ? byte % (operation || 255) // if \"REPLACE\" operation (0), use 255\r\n                         : number(bytes, it);\r\n                     var fieldName = (isSchema)\r\n                         ? (ref['_definition'].fieldsByIndex[fieldIndex])\r\n                         : \"\";\r\n                     var type = changeTree.getType(fieldIndex);\r\n                     var value = void 0;\r\n                     var previousValue = void 0;\r\n                     var dynamicIndex = void 0;\r\n                     if (!isSchema) {\r\n                         previousValue = ref['getByIndex'](fieldIndex);\r\n                         if ((operation & exports.OPERATION.ADD) === exports.OPERATION.ADD) { // ADD or DELETE_AND_ADD\r\n                             dynamicIndex = (ref instanceof MapSchema)\r\n                                 ? string(bytes, it)\r\n                                 : fieldIndex;\r\n                             ref['setIndex'](fieldIndex, dynamicIndex);\r\n                         }\r\n                         else {\r\n                             // here\r\n                             dynamicIndex = ref['getIndex'](fieldIndex);\r\n                         }\r\n                     }\r\n                     else {\r\n                         previousValue = ref[\"_\" + fieldName];\r\n                     }\r\n                     //\r\n                     // Delete operations\r\n                     //\r\n                     if ((operation & exports.OPERATION.DELETE) === exports.OPERATION.DELETE) {\r\n                         if (operation !== exports.OPERATION.DELETE_AND_ADD) {\r\n                             ref['deleteByIndex'](fieldIndex);\r\n                         }\r\n                         // Flag `refId` for garbage collection.\r\n                         if (previousValue && previousValue['$changes']) {\r\n                             $root.removeRef(previousValue['$changes'].refId);\r\n                         }\r\n                         value = null;\r\n                     }\r\n                     if (fieldName === undefined) {\r\n                         console.warn(\"@colyseus/schema: definition mismatch\");\r\n                         //\r\n                         // keep skipping next bytes until reaches a known structure\r\n                         // by local decoder.\r\n                         //\r\n                         var nextIterator = { offset: it.offset };\r\n                         while (it.offset < totalBytes) {\r\n                             if (switchStructureCheck(bytes, it)) {\r\n                                 nextIterator.offset = it.offset + 1;\r\n                                 if ($root.refs.has(number(bytes, nextIterator))) {\r\n                                     break;\r\n                                 }\r\n                             }\r\n                             it.offset++;\r\n                         }\r\n                         continue;\r\n                     }\r\n                     else if (operation === exports.OPERATION.DELETE) ;\r\n                     else if (Schema.is(type)) {\r\n                         var refId_1 = number(bytes, it);\r\n                         value = $root.refs.get(refId_1);\r\n                         if (operation !== exports.OPERATION.REPLACE) {\r\n                             var childType = this.getSchemaType(bytes, it, type);\r\n                             if (!value) {\r\n                                 value = this.createTypeInstance(childType);\r\n                                 value.$changes.refId = refId_1;\r\n                                 if (previousValue) {\r\n                                     value.onChange = previousValue.onChange;\r\n                                     value.onRemove = previousValue.onRemove;\r\n                                     value.$listeners = previousValue.$listeners;\r\n                                     if (previousValue['$changes'].refId &&\r\n                                         refId_1 !== previousValue['$changes'].refId) {\r\n                                         $root.removeRef(previousValue['$changes'].refId);\r\n                                     }\r\n                                 }\r\n                             }\r\n                             $root.addRef(refId_1, value, (value !== previousValue));\r\n                         }\r\n                     }\r\n                     else if (typeof (type) === \"string\") {\r\n                         //\r\n                         // primitive value (number, string, boolean, etc)\r\n                         //\r\n                         value = decodePrimitiveType(type, bytes, it);\r\n                     }\r\n                     else {\r\n                         var typeDef = getType(Object.keys(type)[0]);\r\n                         var refId_2 = number(bytes, it);\r\n                         var valueRef = ($root.refs.has(refId_2))\r\n                             ? previousValue || $root.refs.get(refId_2)\r\n                             : new typeDef.constructor();\r\n                         value = valueRef.clone(true);\r\n                         value.$changes.refId = refId_2;\r\n                         // preserve schema callbacks\r\n                         if (previousValue) {\r\n                             value.onAdd = previousValue.onAdd;\r\n                             value.onRemove = previousValue.onRemove;\r\n                             value.onChange = previousValue.onChange;\r\n                             if (previousValue['$changes'].refId &&\r\n                                 refId_2 !== previousValue['$changes'].refId) {\r\n                                 $root.removeRef(previousValue['$changes'].refId);\r\n                                 //\r\n                                 // Trigger onRemove if structure has been replaced.\r\n                                 //\r\n                                 var deletes = [];\r\n                                 var entries = previousValue.entries();\r\n                                 var iter = void 0;\r\n                                 while ((iter = entries.next()) && !iter.done) {\r\n                                     var _a = iter.value, key = _a[0], value_1 = _a[1];\r\n                                     deletes.push({\r\n                                         op: exports.OPERATION.DELETE,\r\n                                         field: key,\r\n                                         value: undefined,\r\n                                         previousValue: value_1,\r\n                                     });\r\n                                 }\r\n                                 allChanges.set(previousValue['$changes'].refId, deletes);\r\n                             }\r\n                         }\r\n                         $root.addRef(refId_2, value, (valueRef !== previousValue));\r\n                         //\r\n                         // TODO: deprecate proxies on next version.\r\n                         // get proxy to target value.\r\n                         //\r\n                         if (typeDef.getProxy) {\r\n                             value = typeDef.getProxy(value);\r\n                         }\r\n                     }\r\n                     var hasChange = (previousValue !== value);\r\n                     if (value !== null &&\r\n                         value !== undefined) {\r\n                         if (value['$changes']) {\r\n                             value['$changes'].setParent(changeTree.ref, changeTree.root, fieldIndex);\r\n                         }\r\n                         if (ref instanceof Schema) {\r\n                             ref[fieldName] = value;\r\n                             //\r\n                             // FIXME: use `_field` instead of `field`.\r\n                             //\r\n                             // `field` is going to use the setter of the PropertyDescriptor\r\n                             // and create a proxy for array/map. This is only useful for\r\n                             // backwards-compatibility with @colyseus/schema@0.5.x\r\n                             //\r\n                             // // ref[_field] = value;\r\n                         }\r\n                         else if (ref instanceof MapSchema) {\r\n                             // const key = ref['$indexes'].get(field);\r\n                             var key = dynamicIndex;\r\n                             // ref.set(key, value);\r\n                             ref['$items'].set(key, value);\r\n                         }\r\n                         else if (ref instanceof ArraySchema) {\r\n                             // const key = ref['$indexes'][field];\r\n                             // console.log(\"SETTING FOR ArraySchema =>\", { field, key, value });\r\n                             // ref[key] = value;\r\n                             ref.setAt(fieldIndex, value);\r\n                         }\r\n                         else if (ref instanceof CollectionSchema) {\r\n                             var index = ref.add(value);\r\n                             ref['setIndex'](fieldIndex, index);\r\n                         }\r\n                         else if (ref instanceof SetSchema) {\r\n                             var index = ref.add(value);\r\n                             if (index !== false) {\r\n                                 ref['setIndex'](fieldIndex, index);\r\n                             }\r\n                         }\r\n                     }\r\n                     if (hasChange\r\n                     // &&\r\n                     // (\r\n                     //     this.onChange || ref.$listeners[field]\r\n                     // )\r\n                     ) {\r\n                         changes.push({\r\n                             op: operation,\r\n                             field: fieldName,\r\n                             dynamicIndex: dynamicIndex,\r\n                             value: value,\r\n                             previousValue: previousValue,\r\n                         });\r\n                     }\r\n                 }\r\n                 this._triggerChanges(allChanges);\r\n                 // drop references of unused schemas\r\n                 $root.garbageCollectDeletedRefs();\r\n                 return allChanges;\r\n             };\r\n             Schema.prototype.encode = function (encodeAll, bytes, useFilters) {\r\n                 if (encodeAll === void 0) { encodeAll = false; }\r\n                 if (bytes === void 0) { bytes = []; }\r\n                 if (useFilters === void 0) { useFilters = false; }\r\n                 var rootChangeTree = this.$changes;\r\n                 var refIdsVisited = new WeakSet();\r\n                 var changeTrees = [rootChangeTree];\r\n                 var numChangeTrees = 1;\r\n                 for (var i = 0; i < numChangeTrees; i++) {\r\n                     var changeTree = changeTrees[i];\r\n                     var ref = changeTree.ref;\r\n                     var isSchema = (ref instanceof Schema);\r\n                     // Generate unique refId for the ChangeTree.\r\n                     changeTree.ensureRefId();\r\n                     // mark this ChangeTree as visited.\r\n                     refIdsVisited.add(changeTree);\r\n                     // root `refId` is skipped.\r\n                     if (changeTree !== rootChangeTree &&\r\n                         (changeTree.changed || encodeAll)) {\r\n                         uint8$1(bytes, SWITCH_TO_STRUCTURE);\r\n                         number$1(bytes, changeTree.refId);\r\n                     }\r\n                     var changes = (encodeAll)\r\n                         ? Array.from(changeTree.allChanges)\r\n                         : Array.from(changeTree.changes.values());\r\n                     for (var j = 0, cl = changes.length; j < cl; j++) {\r\n                         var operation = (encodeAll)\r\n                             ? { op: exports.OPERATION.ADD, index: changes[j] }\r\n                             : changes[j];\r\n                         var fieldIndex = operation.index;\r\n                         var field = (isSchema)\r\n                             ? ref['_definition'].fieldsByIndex && ref['_definition'].fieldsByIndex[fieldIndex]\r\n                             : fieldIndex;\r\n                         // cache begin index if `useFilters`\r\n                         var beginIndex = bytes.length;\r\n                         // encode field index + operation\r\n                         if (operation.op !== exports.OPERATION.TOUCH) {\r\n                             if (isSchema) {\r\n                                 //\r\n                                 // Compress `fieldIndex` + `operation` into a single byte.\r\n                                 // This adds a limitaion of 64 fields per Schema structure\r\n                                 //\r\n                                 uint8$1(bytes, (fieldIndex | operation.op));\r\n                             }\r\n                             else {\r\n                                 uint8$1(bytes, operation.op);\r\n                                 // custom operations\r\n                                 if (operation.op === exports.OPERATION.CLEAR) {\r\n                                     continue;\r\n                                 }\r\n                                 // indexed operations\r\n                                 number$1(bytes, fieldIndex);\r\n                             }\r\n                         }\r\n                         //\r\n                         // encode \"alias\" for dynamic fields (maps)\r\n                         //\r\n                         if (!isSchema &&\r\n                             (operation.op & exports.OPERATION.ADD) == exports.OPERATION.ADD // ADD or DELETE_AND_ADD\r\n                         ) {\r\n                             if (ref instanceof MapSchema) {\r\n                                 //\r\n                                 // MapSchema dynamic key\r\n                                 //\r\n                                 var dynamicIndex = changeTree.ref['$indexes'].get(fieldIndex);\r\n                                 string$1(bytes, dynamicIndex);\r\n                             }\r\n                         }\r\n                         if (operation.op === exports.OPERATION.DELETE) {\r\n                             //\r\n                             // TODO: delete from filter cache data.\r\n                             //\r\n                             // if (useFilters) {\r\n                             //     delete changeTree.caches[fieldIndex];\r\n                             // }\r\n                             continue;\r\n                         }\r\n                         // const type = changeTree.childType || ref._schema[field];\r\n                         var type = changeTree.getType(fieldIndex);\r\n                         // const type = changeTree.getType(fieldIndex);\r\n                         var value = changeTree.getValue(fieldIndex);\r\n                         // Enqueue ChangeTree to be visited\r\n                         if (value &&\r\n                             value['$changes'] &&\r\n                             !refIdsVisited.has(value['$changes'])) {\r\n                             changeTrees.push(value['$changes']);\r\n                             value['$changes'].ensureRefId();\r\n                             numChangeTrees++;\r\n                         }\r\n                         if (operation.op === exports.OPERATION.TOUCH) {\r\n                             continue;\r\n                         }\r\n                         if (Schema.is(type)) {\r\n                             assertInstanceType(value, type, ref, field);\r\n                             //\r\n                             // Encode refId for this instance.\r\n                             // The actual instance is going to be encoded on next `changeTree` iteration.\r\n                             //\r\n                             number$1(bytes, value.$changes.refId);\r\n                             // Try to encode inherited TYPE_ID if it's an ADD operation.\r\n                             if ((operation.op & exports.OPERATION.ADD) === exports.OPERATION.ADD) {\r\n                                 this.tryEncodeTypeId(bytes, type, value.constructor);\r\n                             }\r\n                         }\r\n                         else if (typeof (type) === \"string\") {\r\n                             //\r\n                             // Primitive values\r\n                             //\r\n                             encodePrimitiveType(type, bytes, value, ref, field);\r\n                         }\r\n                         else {\r\n                             //\r\n                             // Custom type (MapSchema, ArraySchema, etc)\r\n                             //\r\n                             var definition = getType(Object.keys(type)[0]);\r\n                             //\r\n                             // ensure a ArraySchema has been provided\r\n                             //\r\n                             assertInstanceType(ref[\"_\" + field], definition.constructor, ref, field);\r\n                             //\r\n                             // Encode refId for this instance.\r\n                             // The actual instance is going to be encoded on next `changeTree` iteration.\r\n                             //\r\n                             number$1(bytes, value.$changes.refId);\r\n                         }\r\n                         if (useFilters) {\r\n                             // cache begin / end index\r\n                             changeTree.cache(fieldIndex, bytes.slice(beginIndex));\r\n                         }\r\n                     }\r\n                     if (!encodeAll && !useFilters) {\r\n                         changeTree.discard();\r\n                     }\r\n                 }\r\n                 return bytes;\r\n             };\r\n             Schema.prototype.encodeAll = function (useFilters) {\r\n                 return this.encode(true, [], useFilters);\r\n             };\r\n             Schema.prototype.applyFilters = function (client, encodeAll) {\r\n                 if (encodeAll === void 0) { encodeAll = false; }\r\n                 var root = this;\r\n                 var refIdsDissallowed = new Set();\r\n                 var $filterState = ClientState.get(client);\r\n                 var changeTrees = [this.$changes];\r\n                 var numChangeTrees = 1;\r\n                 var filteredBytes = [];\r\n                 var _loop_1 = function (i) {\r\n                     var changeTree = changeTrees[i];\r\n                     if (refIdsDissallowed.has(changeTree.refId)) {\r\n                         return \"continue\";\r\n                     }\r\n                     var ref = changeTree.ref;\r\n                     var isSchema = ref instanceof Schema;\r\n                     uint8$1(filteredBytes, SWITCH_TO_STRUCTURE);\r\n                     number$1(filteredBytes, changeTree.refId);\r\n                     var clientHasRefId = $filterState.refIds.has(changeTree);\r\n                     var isEncodeAll = (encodeAll || !clientHasRefId);\r\n                     // console.log(\"REF:\", ref.constructor.name);\r\n                     // console.log(\"Encode all?\", isEncodeAll);\r\n                     //\r\n                     // include `changeTree` on list of known refIds by this client.\r\n                     //\r\n                     $filterState.addRefId(changeTree);\r\n                     var containerIndexes = $filterState.containerIndexes.get(changeTree);\r\n                     var changes = (isEncodeAll)\r\n                         ? Array.from(changeTree.allChanges)\r\n                         : Array.from(changeTree.changes.values());\r\n                     //\r\n                     // WORKAROUND: tries to re-evaluate previously not included @filter() attributes\r\n                     // - see \"DELETE a field of Schema\" test case.\r\n                     //\r\n                     if (!encodeAll &&\r\n                         isSchema &&\r\n                         ref._definition.indexesWithFilters) {\r\n                         var indexesWithFilters = ref._definition.indexesWithFilters;\r\n                         indexesWithFilters.forEach(function (indexWithFilter) {\r\n                             if (!containerIndexes.has(indexWithFilter) &&\r\n                                 changeTree.allChanges.has(indexWithFilter)) {\r\n                                 if (isEncodeAll) {\r\n                                     changes.push(indexWithFilter);\r\n                                 }\r\n                                 else {\r\n                                     changes.push({ op: exports.OPERATION.ADD, index: indexWithFilter, });\r\n                                 }\r\n                             }\r\n                         });\r\n                     }\r\n                     for (var j = 0, cl = changes.length; j < cl; j++) {\r\n                         var change = (isEncodeAll)\r\n                             ? { op: exports.OPERATION.ADD, index: changes[j] }\r\n                             : changes[j];\r\n                         // custom operations\r\n                         if (change.op === exports.OPERATION.CLEAR) {\r\n                             uint8$1(filteredBytes, change.op);\r\n                             continue;\r\n                         }\r\n                         var fieldIndex = change.index;\r\n                         //\r\n                         // Deleting fields: encode the operation + field index\r\n                         //\r\n                         if (change.op === exports.OPERATION.DELETE) {\r\n                             //\r\n                             // DELETE operations also need to go through filtering.\r\n                             //\r\n                             // TODO: cache the previous value so we can access the value (primitive or `refId`)\r\n                             // (check against `$filterState.refIds`)\r\n                             //\r\n                             if (isSchema) {\r\n                                 uint8$1(filteredBytes, change.op | fieldIndex);\r\n                             }\r\n                             else {\r\n                                 uint8$1(filteredBytes, change.op);\r\n                                 number$1(filteredBytes, fieldIndex);\r\n                             }\r\n                             continue;\r\n                         }\r\n                         // indexed operation\r\n                         var value = changeTree.getValue(fieldIndex);\r\n                         var type = changeTree.getType(fieldIndex);\r\n                         if (isSchema) {\r\n                             // Is a Schema!\r\n                             var filter = (ref._definition.filters &&\r\n                                 ref._definition.filters[fieldIndex]);\r\n                             if (filter && !filter.call(ref, client, value, root)) {\r\n                                 if (value && value['$changes']) {\r\n                                     refIdsDissallowed.add(value['$changes'].refId);\r\n                                 }\r\n                                 continue;\r\n                             }\r\n                         }\r\n                         else {\r\n                             // Is a collection! (map, array, etc.)\r\n                             var parent = changeTree.parent;\r\n                             var filter = changeTree.getChildrenFilter();\r\n                             if (filter && !filter.call(parent, client, ref['$indexes'].get(fieldIndex), value, root)) {\r\n                                 if (value && value['$changes']) {\r\n                                     refIdsDissallowed.add(value['$changes'].refId);\r\n                                 }\r\n                                 continue;\r\n                             }\r\n                         }\r\n                         // visit child ChangeTree on further iteration.\r\n                         if (value['$changes']) {\r\n                             changeTrees.push(value['$changes']);\r\n                             numChangeTrees++;\r\n                         }\r\n                         //\r\n                         // Copy cached bytes\r\n                         //\r\n                         if (change.op !== exports.OPERATION.TOUCH) {\r\n                             //\r\n                             // TODO: refactor me!\r\n                             //\r\n                             if (change.op === exports.OPERATION.ADD || isSchema) {\r\n                                 //\r\n                                 // use cached bytes directly if is from Schema type.\r\n                                 //\r\n                                 filteredBytes = filteredBytes.concat(changeTree.caches[fieldIndex]);\r\n                                 containerIndexes.add(fieldIndex);\r\n                             }\r\n                             else {\r\n                                 if (containerIndexes.has(fieldIndex)) {\r\n                                     //\r\n                                     // use cached bytes if already has the field\r\n                                     //\r\n                                     filteredBytes = filteredBytes.concat(changeTree.caches[fieldIndex]);\r\n                                 }\r\n                                 else {\r\n                                     //\r\n                                     // force ADD operation if field is not known by this client.\r\n                                     //\r\n                                     containerIndexes.add(fieldIndex);\r\n                                     uint8$1(filteredBytes, exports.OPERATION.ADD);\r\n                                     number$1(filteredBytes, fieldIndex);\r\n                                     if (ref instanceof MapSchema) {\r\n                                         //\r\n                                         // MapSchema dynamic key\r\n                                         //\r\n                                         var dynamicIndex = changeTree.ref['$indexes'].get(fieldIndex);\r\n                                         string$1(filteredBytes, dynamicIndex);\r\n                                     }\r\n                                     if (value['$changes']) {\r\n                                         number$1(filteredBytes, value['$changes'].refId);\r\n                                     }\r\n                                     else {\r\n                                         // \"encodePrimitiveType\" without type checking.\r\n                                         // the type checking has been done on the first .encode() call.\r\n                                         encode[type](filteredBytes, value);\r\n                                     }\r\n                                 }\r\n                             }\r\n                         }\r\n                         else if (value['$changes'] && !isSchema) {\r\n                             //\r\n                             // TODO:\r\n                             // - track ADD/REPLACE/DELETE instances on `$filterState`\r\n                             // - do NOT always encode dynamicIndex for MapSchema.\r\n                             //   (If client already has that key, only the first index is necessary.)\r\n                             //\r\n                             uint8$1(filteredBytes, exports.OPERATION.ADD);\r\n                             number$1(filteredBytes, fieldIndex);\r\n                             if (ref instanceof MapSchema) {\r\n                                 //\r\n                                 // MapSchema dynamic key\r\n                                 //\r\n                                 var dynamicIndex = changeTree.ref['$indexes'].get(fieldIndex);\r\n                                 string$1(filteredBytes, dynamicIndex);\r\n                             }\r\n                             number$1(filteredBytes, value['$changes'].refId);\r\n                         }\r\n                     }\r\n                 };\r\n                 for (var i = 0; i < numChangeTrees; i++) {\r\n                     _loop_1(i);\r\n                 }\r\n                 return filteredBytes;\r\n             };\r\n             Schema.prototype.clone = function () {\r\n                 var cloned = new (this.constructor);\r\n                 var schema = this._definition.schema;\r\n                 for (var field in schema) {\r\n                     if (typeof (this[field]) === \"object\" &&\r\n                         typeof (this[field].clone) === \"function\") {\r\n                         // deep clone\r\n                         cloned[field] = this[field].clone();\r\n                     }\r\n                     else {\r\n                         // primitive values\r\n                         cloned[field] = this[field];\r\n                     }\r\n                 }\r\n                 return cloned;\r\n             };\r\n             Schema.prototype.triggerAll = function () {\r\n                 // skip if haven't received any remote refs yet.\r\n                 if (this.$changes.root.refs.size === 0) {\r\n                     return;\r\n                 }\r\n                 var allChanges = new Map();\r\n                 Schema.prototype._triggerAllFillChanges.call(this, this, allChanges);\r\n                 try {\r\n                     Schema.prototype._triggerChanges.call(this, allChanges);\r\n                 }\r\n                 catch (e) {\r\n                     Schema.onError(e);\r\n                 }\r\n             };\r\n             Schema.prototype.toJSON = function () {\r\n                 var schema = this._definition.schema;\r\n                 var deprecated = this._definition.deprecated;\r\n                 var obj = {};\r\n                 for (var field in schema) {\r\n                     if (!deprecated[field] && this[field] !== null && typeof (this[field]) !== \"undefined\") {\r\n                         obj[field] = (typeof (this[field]['toJSON']) === \"function\")\r\n                             ? this[field]['toJSON']()\r\n                             : this[\"_\" + field];\r\n                     }\r\n                 }\r\n                 return obj;\r\n             };\r\n             Schema.prototype.discardAllChanges = function () {\r\n                 this.$changes.discardAll();\r\n             };\r\n             Schema.prototype.getByIndex = function (index) {\r\n                 return this[this._definition.fieldsByIndex[index]];\r\n             };\r\n             Schema.prototype.deleteByIndex = function (index) {\r\n                 this[this._definition.fieldsByIndex[index]] = undefined;\r\n             };\r\n             Schema.prototype.tryEncodeTypeId = function (bytes, type, targetType) {\r\n                 if (type._typeid !== targetType._typeid) {\r\n                     uint8$1(bytes, TYPE_ID);\r\n                     number$1(bytes, targetType._typeid);\r\n                 }\r\n             };\r\n             Schema.prototype.getSchemaType = function (bytes, it, defaultType) {\r\n                 var type;\r\n                 if (bytes[it.offset] === TYPE_ID) {\r\n                     it.offset++;\r\n                     type = this.constructor._context.get(number(bytes, it));\r\n                 }\r\n                 return type || defaultType;\r\n             };\r\n             Schema.prototype.createTypeInstance = function (type) {\r\n                 var instance = new type();\r\n                 // assign root on $changes\r\n                 instance.$changes.root = this.$changes.root;\r\n                 return instance;\r\n             };\r\n             Schema.prototype._triggerAllFillChanges = function (ref, allChanges) {\r\n                 if (allChanges.has(ref['$changes'].refId)) {\r\n                     return;\r\n                 }\r\n                 var changes = [];\r\n                 allChanges.set(ref['$changes'].refId || 0, changes);\r\n                 if (ref instanceof Schema) {\r\n                     var schema = ref._definition.schema;\r\n                     for (var fieldName in schema) {\r\n                         var _field = \"_\" + fieldName;\r\n                         var value = ref[_field];\r\n                         if (value !== undefined) {\r\n                             changes.push({\r\n                                 op: exports.OPERATION.ADD,\r\n                                 field: fieldName,\r\n                                 value: value,\r\n                                 previousValue: undefined\r\n                             });\r\n                             if (value['$changes'] !== undefined) {\r\n                                 Schema.prototype._triggerAllFillChanges.call(this, value, allChanges);\r\n                             }\r\n                         }\r\n                     }\r\n                 }\r\n                 else {\r\n                     var entries = ref.entries();\r\n                     var iter = void 0;\r\n                     while ((iter = entries.next()) && !iter.done) {\r\n                         var _a = iter.value, key = _a[0], value = _a[1];\r\n                         changes.push({\r\n                             op: exports.OPERATION.ADD,\r\n                             field: key,\r\n                             dynamicIndex: key,\r\n                             value: value,\r\n                             previousValue: undefined,\r\n                         });\r\n                         if (value['$changes'] !== undefined) {\r\n                             Schema.prototype._triggerAllFillChanges.call(this, value, allChanges);\r\n                         }\r\n                     }\r\n                 }\r\n             };\r\n             Schema.prototype._triggerChanges = function (allChanges) {\r\n                 var _this = this;\r\n                 allChanges.forEach(function (changes, refId) {\r\n                     var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\r\n                     if (changes.length > 0) {\r\n                         var ref = _this.$changes.root.refs.get(refId);\r\n                         var isSchema = ref instanceof Schema;\r\n                         for (var i = 0; i < changes.length; i++) {\r\n                             var change = changes[i];\r\n                             var listener = ref['$listeners'] && ref['$listeners'][change.field];\r\n                             if (!isSchema) {\r\n                                 if (change.op === exports.OPERATION.ADD && change.previousValue === undefined) {\r\n                                     (_b = (_a = ref).onAdd) === null || _b === void 0 ? void 0 : _b.call(_a, change.value, (_c = change.dynamicIndex) !== null && _c !== void 0 ? _c : change.field);\r\n                                 }\r\n                                 else if (change.op === exports.OPERATION.DELETE) {\r\n                                     //\r\n                                     // FIXME: `previousValue` should always be avaiiable.\r\n                                     // ADD + DELETE operations are still encoding DELETE operation.\r\n                                     //\r\n                                     if (change.previousValue !== undefined) {\r\n                                         (_e = (_d = ref).onRemove) === null || _e === void 0 ? void 0 : _e.call(_d, change.previousValue, (_f = change.dynamicIndex) !== null && _f !== void 0 ? _f : change.field);\r\n                                     }\r\n                                 }\r\n                                 else if (change.op === exports.OPERATION.DELETE_AND_ADD) {\r\n                                     if (change.previousValue !== undefined) {\r\n                                         (_h = (_g = ref).onRemove) === null || _h === void 0 ? void 0 : _h.call(_g, change.previousValue, change.dynamicIndex);\r\n                                     }\r\n                                     (_k = (_j = ref).onAdd) === null || _k === void 0 ? void 0 : _k.call(_j, change.value, change.dynamicIndex);\r\n                                 }\r\n                                 else if (change.op === exports.OPERATION.REPLACE ||\r\n                                     change.value !== change.previousValue) {\r\n                                     (_m = (_l = ref).onChange) === null || _m === void 0 ? void 0 : _m.call(_l, change.value, change.dynamicIndex);\r\n                                 }\r\n                             }\r\n                             //\r\n                             // trigger onRemove on child structure.\r\n                             //\r\n                             if ((change.op & exports.OPERATION.DELETE) === exports.OPERATION.DELETE &&\r\n                                 change.previousValue instanceof Schema &&\r\n                                 change.previousValue.onRemove) {\r\n                                 change.previousValue.onRemove();\r\n                             }\r\n                             if (listener) {\r\n                                 try {\r\n                                     listener.invoke(change.value, change.previousValue);\r\n                                 }\r\n                                 catch (e) {\r\n                                     Schema.onError(e);\r\n                                 }\r\n                             }\r\n                         }\r\n                         if (isSchema) {\r\n                             if (ref.onChange) {\r\n                                 try {\r\n                                     ref.onChange(changes);\r\n                                 }\r\n                                 catch (e) {\r\n                                     Schema.onError(e);\r\n                                 }\r\n                             }\r\n                         }\r\n                     }\r\n                 });\r\n             };\r\n             Schema._definition = SchemaDefinition.create();\r\n             return Schema;\r\n         }());\r\n\r\n         function dumpChanges(schema) {\r\n             var changeTrees = [schema['$changes']];\r\n             var numChangeTrees = 1;\r\n             var dump = {};\r\n             var currentStructure = dump;\r\n             var _loop_1 = function (i) {\r\n                 var changeTree = changeTrees[i];\r\n                 changeTree.changes.forEach(function (change) {\r\n                     var ref = changeTree.ref;\r\n                     var fieldIndex = change.index;\r\n                     var field = (ref['_definition'])\r\n                         ? ref['_definition'].fieldsByIndex[fieldIndex]\r\n                         : ref['$indexes'].get(fieldIndex);\r\n                     currentStructure[field] = changeTree.getValue(fieldIndex);\r\n                 });\r\n             };\r\n             for (var i = 0; i < numChangeTrees; i++) {\r\n                 _loop_1(i);\r\n             }\r\n             return dump;\r\n         }\r\n\r\n         var reflectionContext = new Context();\r\n         /**\r\n          * Reflection\r\n          */\r\n         var ReflectionField = /** @class */ (function (_super) {\r\n             __extends(ReflectionField, _super);\r\n             function ReflectionField() {\r\n                 return _super !== null && _super.apply(this, arguments) || this;\r\n             }\r\n             __decorate([\r\n                 type(\"string\", reflectionContext)\r\n             ], ReflectionField.prototype, \"name\", void 0);\r\n             __decorate([\r\n                 type(\"string\", reflectionContext)\r\n             ], ReflectionField.prototype, \"type\", void 0);\r\n             __decorate([\r\n                 type(\"number\", reflectionContext)\r\n             ], ReflectionField.prototype, \"referencedType\", void 0);\r\n             return ReflectionField;\r\n         }(Schema));\r\n         var ReflectionType = /** @class */ (function (_super) {\r\n             __extends(ReflectionType, _super);\r\n             function ReflectionType() {\r\n                 var _this = _super !== null && _super.apply(this, arguments) || this;\r\n                 _this.fields = new ArraySchema();\r\n                 return _this;\r\n             }\r\n             __decorate([\r\n                 type(\"number\", reflectionContext)\r\n             ], ReflectionType.prototype, \"id\", void 0);\r\n             __decorate([\r\n                 type([ReflectionField], reflectionContext)\r\n             ], ReflectionType.prototype, \"fields\", void 0);\r\n             return ReflectionType;\r\n         }(Schema));\r\n         var Reflection = /** @class */ (function (_super) {\r\n             __extends(Reflection, _super);\r\n             function Reflection() {\r\n                 var _this = _super !== null && _super.apply(this, arguments) || this;\r\n                 _this.types = new ArraySchema();\r\n                 return _this;\r\n             }\r\n             Reflection.encode = function (instance) {\r\n                 var rootSchemaType = instance.constructor;\r\n                 var reflection = new Reflection();\r\n                 reflection.rootType = rootSchemaType._typeid;\r\n                 var buildType = function (currentType, schema) {\r\n                     for (var fieldName in schema) {\r\n                         var field = new ReflectionField();\r\n                         field.name = fieldName;\r\n                         var fieldType = void 0;\r\n                         if (typeof (schema[fieldName]) === \"string\") {\r\n                             fieldType = schema[fieldName];\r\n                         }\r\n                         else {\r\n                             var type_1 = schema[fieldName];\r\n                             var childTypeSchema = void 0;\r\n                             //\r\n                             // TODO: refactor below.\r\n                             //\r\n                             if (Schema.is(type_1)) {\r\n                                 fieldType = \"ref\";\r\n                                 childTypeSchema = schema[fieldName];\r\n                             }\r\n                             else {\r\n                                 fieldType = Object.keys(type_1)[0];\r\n                                 if (typeof (type_1[fieldType]) === \"string\") {\r\n                                     fieldType += \":\" + type_1[fieldType]; // array:string\r\n                                 }\r\n                                 else {\r\n                                     childTypeSchema = type_1[fieldType];\r\n                                 }\r\n                             }\r\n                             field.referencedType = (childTypeSchema)\r\n                                 ? childTypeSchema._typeid\r\n                                 : -1;\r\n                         }\r\n                         field.type = fieldType;\r\n                         currentType.fields.push(field);\r\n                     }\r\n                     reflection.types.push(currentType);\r\n                 };\r\n                 var types = rootSchemaType._context.types;\r\n                 for (var typeid in types) {\r\n                     var type_2 = new ReflectionType();\r\n                     type_2.id = Number(typeid);\r\n                     buildType(type_2, types[typeid]._definition.schema);\r\n                 }\r\n                 return reflection.encodeAll();\r\n             };\r\n             Reflection.decode = function (bytes, it) {\r\n                 var context = new Context();\r\n                 var reflection = new Reflection();\r\n                 reflection.decode(bytes, it);\r\n                 var schemaTypes = reflection.types.reduce(function (types, reflectionType) {\r\n                     var schema = /** @class */ (function (_super) {\r\n                         __extends(_, _super);\r\n                         function _() {\r\n                             return _super !== null && _super.apply(this, arguments) || this;\r\n                         }\r\n                         return _;\r\n                     }(Schema));\r\n                     var typeid = reflectionType.id;\r\n                     types[typeid] = schema;\r\n                     context.add(schema, typeid);\r\n                     return types;\r\n                 }, {});\r\n                 reflection.types.forEach(function (reflectionType) {\r\n                     var schemaType = schemaTypes[reflectionType.id];\r\n                     reflectionType.fields.forEach(function (field) {\r\n                         var _a;\r\n                         if (field.referencedType !== undefined) {\r\n                             var fieldType = field.type;\r\n                             var refType = schemaTypes[field.referencedType];\r\n                             // map or array of primitive type (-1)\r\n                             if (!refType) {\r\n                                 var typeInfo = field.type.split(\":\");\r\n                                 fieldType = typeInfo[0];\r\n                                 refType = typeInfo[1];\r\n                             }\r\n                             if (fieldType === \"ref\") {\r\n                                 type(refType, context)(schemaType.prototype, field.name);\r\n                             }\r\n                             else {\r\n                                 type((_a = {}, _a[fieldType] = refType, _a), context)(schemaType.prototype, field.name);\r\n                             }\r\n                         }\r\n                         else {\r\n                             type(field.type, context)(schemaType.prototype, field.name);\r\n                         }\r\n                     });\r\n                 });\r\n                 var rootType = schemaTypes[reflection.rootType];\r\n                 var rootInstance = new rootType();\r\n                 /**\r\n                  * auto-initialize referenced types on root type\r\n                  * to allow registering listeners immediatelly on client-side\r\n                  */\r\n                 for (var fieldName in rootType._definition.schema) {\r\n                     var fieldType = rootType._definition.schema[fieldName];\r\n                     if (typeof (fieldType) !== \"string\") {\r\n                         rootInstance[fieldName] = (typeof (fieldType) === \"function\")\r\n                             ? new fieldType() // is a schema reference\r\n                             : new (getType(Object.keys(fieldType)[0])).constructor(); // is a \"collection\"\r\n                     }\r\n                 }\r\n                 return rootInstance;\r\n             };\r\n             __decorate([\r\n                 type([ReflectionType], reflectionContext)\r\n             ], Reflection.prototype, \"types\", void 0);\r\n             __decorate([\r\n                 type(\"number\", reflectionContext)\r\n             ], Reflection.prototype, \"rootType\", void 0);\r\n             return Reflection;\r\n         }(Schema));\r\n\r\n         registerType(\"map\", { constructor: MapSchema, getProxy: getMapProxy });\r\n         registerType(\"array\", { constructor: ArraySchema, getProxy: getArrayProxy });\r\n         registerType(\"set\", { constructor: SetSchema });\r\n         registerType(\"collection\", { constructor: CollectionSchema, });\r\n\r\n         exports.ArraySchema = ArraySchema;\r\n         exports.CollectionSchema = CollectionSchema;\r\n         exports.Context = Context;\r\n         exports.MapSchema = MapSchema;\r\n         exports.Reflection = Reflection;\r\n         exports.ReflectionField = ReflectionField;\r\n         exports.ReflectionType = ReflectionType;\r\n         exports.Schema = Schema;\r\n         exports.SchemaDefinition = SchemaDefinition;\r\n         exports.SetSchema = SetSchema;\r\n         exports.decode = decode;\r\n         exports.defineTypes = defineTypes;\r\n         exports.deprecated = deprecated;\r\n         exports.dumpChanges = dumpChanges;\r\n         exports.encode = encode;\r\n         exports.filter = filter;\r\n         exports.filterChildren = filterChildren;\r\n         exports.hasFilter = hasFilter;\r\n         exports.registerType = registerType;\r\n         exports.type = type;\r\n\r\n         Object.defineProperty(exports, '__esModule', { value: true });\r\n\r\n     })));\r\n     });\r\n\r\n     var Room = /** @class */ (function () {\r\n         function Room(name, rootSchema) {\r\n             var _this = this;\r\n             // Public signals\r\n             this.onStateChange = createSignal();\r\n             this.onError = createSignal();\r\n             this.onLeave = createSignal();\r\n             this.onJoin = createSignal();\r\n             this.hasJoined = false;\r\n             this.onMessageHandlers = createNanoEvents();\r\n             this.id = null;\r\n             this.name = name;\r\n             if (rootSchema) {\r\n                 this.serializer = new (getSerializer(\"schema\"));\r\n                 this.rootSchema = rootSchema;\r\n                 this.serializer.state = new rootSchema();\r\n             }\r\n             this.onError(function (code, message) { return console.warn(\"colyseus.js - onError => (\" + code + \") \" + message); });\r\n             this.onLeave(function () { return _this.removeAllListeners(); });\r\n         }\r\n         Room.prototype.connect = function (endpoint) {\r\n             var _this = this;\r\n             this.connection = new Connection();\r\n             this.connection.events.onmessage = this.onMessageCallback.bind(this);\r\n             this.connection.events.onclose = function (e) {\r\n                 if (!_this.hasJoined) {\r\n                     console.warn(\"Room connection was closed unexpectedly (\" + e.code + \"): \" + e.reason);\r\n                     _this.onError.invoke(e.code, e.reason);\r\n                     return;\r\n                 }\r\n                 _this.onLeave.invoke(e.code);\r\n                 _this.destroy();\r\n             };\r\n             this.connection.events.onerror = function (e) {\r\n                 console.warn(\"Room, onError (\" + e.code + \"): \" + e.reason);\r\n                 _this.onError.invoke(e.code, e.reason);\r\n             };\r\n             this.connection.connect(endpoint);\r\n         };\r\n         Room.prototype.leave = function (consented) {\r\n             if (consented === void 0) { consented = true; }\r\n             if (this.connection) {\r\n                 if (consented) {\r\n                     this.connection.send([exports.Protocol.LEAVE_ROOM]);\r\n                 }\r\n                 else {\r\n                     this.connection.close();\r\n                 }\r\n             }\r\n             else {\r\n                 this.onLeave.invoke(4000); // \"consented\" code\r\n             }\r\n         };\r\n         Room.prototype.onMessage = function (type, callback) {\r\n             return this.onMessageHandlers.on(this.getMessageHandlerKey(type), callback);\r\n         };\r\n         Room.prototype.send = function (type, message) {\r\n             var initialBytes = [exports.Protocol.ROOM_DATA];\r\n             if (typeof (type) === \"string\") {\r\n                 umd.encode.string(initialBytes, type);\r\n             }\r\n             else {\r\n                 umd.encode.number(initialBytes, type);\r\n             }\r\n             var arr;\r\n             if (message !== undefined) {\r\n                 var encoded = encode(message);\r\n                 arr = new Uint8Array(initialBytes.length + encoded.byteLength);\r\n                 arr.set(new Uint8Array(initialBytes), 0);\r\n                 arr.set(new Uint8Array(encoded), initialBytes.length);\r\n             }\r\n             else {\r\n                 arr = new Uint8Array(initialBytes);\r\n             }\r\n             this.connection.send(arr.buffer);\r\n         };\r\n         Object.defineProperty(Room.prototype, \"state\", {\r\n             get: function () {\r\n                 return this.serializer.getState();\r\n             },\r\n             enumerable: false,\r\n             configurable: true\r\n         });\r\n         Room.prototype.removeAllListeners = function () {\r\n             this.onJoin.clear();\r\n             this.onStateChange.clear();\r\n             this.onError.clear();\r\n             this.onLeave.clear();\r\n             this.onMessageHandlers.events = {};\r\n         };\r\n         Room.prototype.onMessageCallback = function (event) {\r\n             var bytes = Array.from(new Uint8Array(event.data));\r\n             var code = bytes[0];\r\n             if (code === exports.Protocol.JOIN_ROOM) {\r\n                 var offset = 1;\r\n                 this.serializerId = utf8Read(bytes, offset);\r\n                 offset += utf8Length(this.serializerId);\r\n                 // Instantiate serializer if not locally available.\r\n                 if (!this.serializer) {\r\n                     var serializer = getSerializer(this.serializerId);\r\n                     this.serializer = new serializer();\r\n                 }\r\n                 if (bytes.length > offset && this.serializer.handshake) {\r\n                     this.serializer.handshake(bytes, { offset: offset });\r\n                 }\r\n                 this.hasJoined = true;\r\n                 this.onJoin.invoke();\r\n                 // acknowledge successfull JOIN_ROOM\r\n                 this.connection.send([exports.Protocol.JOIN_ROOM]);\r\n             }\r\n             else if (code === exports.Protocol.ERROR) {\r\n                 var it_1 = { offset: 1 };\r\n                 var code_1 = umd.decode.number(bytes, it_1);\r\n                 var message = umd.decode.string(bytes, it_1);\r\n                 this.onError.invoke(code_1, message);\r\n             }\r\n             else if (code === exports.Protocol.LEAVE_ROOM) {\r\n                 this.leave();\r\n             }\r\n             else if (code === exports.Protocol.ROOM_DATA_SCHEMA) {\r\n                 var it_2 = { offset: 1 };\r\n                 var context_1 = this.serializer.getState().constructor._context;\r\n                 var type = context_1.get(umd.decode.number(bytes, it_2));\r\n                 var message = new type();\r\n                 message.decode(bytes, it_2);\r\n                 this.dispatchMessage(type, message);\r\n             }\r\n             else if (code === exports.Protocol.ROOM_STATE) {\r\n                 bytes.shift(); // drop `code` byte\r\n                 this.setState(bytes);\r\n             }\r\n             else if (code === exports.Protocol.ROOM_STATE_PATCH) {\r\n                 bytes.shift(); // drop `code` byte\r\n                 this.patch(bytes);\r\n             }\r\n             else if (code === exports.Protocol.ROOM_DATA) {\r\n                 var it_3 = { offset: 1 };\r\n                 var type = (umd.decode.stringCheck(bytes, it_3))\r\n                     ? umd.decode.string(bytes, it_3)\r\n                     : umd.decode.number(bytes, it_3);\r\n                 var message = (bytes.length > it_3.offset)\r\n                     ? decode(event.data, it_3.offset)\r\n                     : undefined;\r\n                 this.dispatchMessage(type, message);\r\n             }\r\n         };\r\n         Room.prototype.setState = function (encodedState) {\r\n             this.serializer.setState(encodedState);\r\n             this.onStateChange.invoke(this.serializer.getState());\r\n         };\r\n         Room.prototype.patch = function (binaryPatch) {\r\n             this.serializer.patch(binaryPatch);\r\n             this.onStateChange.invoke(this.serializer.getState());\r\n         };\r\n         Room.prototype.dispatchMessage = function (type, message) {\r\n             var messageType = this.getMessageHandlerKey(type);\r\n             if (this.onMessageHandlers.events[messageType]) {\r\n                 this.onMessageHandlers.emit(messageType, message);\r\n             }\r\n             else if (this.onMessageHandlers.events['*']) {\r\n                 this.onMessageHandlers.emit('*', type, message);\r\n             }\r\n             else {\r\n                 console.warn(\"onMessage not registered for type '\" + type + \"'.\");\r\n             }\r\n         };\r\n         Room.prototype.destroy = function () {\r\n             if (this.serializer) {\r\n                 this.serializer.teardown();\r\n             }\r\n         };\r\n         Room.prototype.getMessageHandlerKey = function (type) {\r\n             switch (typeof (type)) {\r\n                 // typeof Schema\r\n                 case \"function\": return \"$\" + type._typeid;\r\n                 // string\r\n                 case \"string\": return type;\r\n                 // number\r\n                 case \"number\": return \"i\" + type;\r\n                 default: throw new Error(\"invalid message type.\");\r\n             }\r\n         };\r\n         return Room;\r\n     }());\r\n\r\n     /// <reference path=\"../typings/cocos-creator.d.ts\" />\r\n     /**\r\n      * We do not assign 'storage' to window.localStorage immediatelly for React\r\n      * Native compatibility. window.localStorage is not present when this module is\r\n      * loaded.\r\n      */\r\n     var storage;\r\n     function getStorage() {\r\n         if (!storage) {\r\n             storage = (typeof (cc) !== 'undefined' && cc.sys && cc.sys.localStorage)\r\n                 ? cc.sys.localStorage // compatibility with cocos creator\r\n                 : typeof (window) !== \"undefined\" && window.localStorage //RN does have window object at this point, but localStorage is not defined\r\n                     ? window.localStorage // regular browser environment\r\n                     : {\r\n                         cache: {},\r\n                         setItem: function (key, value) { this.cache[key] = value; },\r\n                         getItem: function (key) { this.cache[key]; },\r\n                         removeItem: function (key) { delete this.cache[key]; },\r\n                     };\r\n         }\r\n         return storage;\r\n     }\r\n     function setItem(key, value) {\r\n         getStorage().setItem(key, value);\r\n     }\r\n     function removeItem(key) {\r\n         getStorage().removeItem(key);\r\n     }\r\n     function getItem(key, callback) {\r\n         var value = getStorage().getItem(key);\r\n         if (typeof (Promise) === 'undefined' || // old browsers\r\n             !(value instanceof Promise)) {\r\n             // browser has synchronous return\r\n             callback(value);\r\n         }\r\n         else {\r\n             // react-native is asynchronous\r\n             value.then(function (id) { return callback(id); });\r\n         }\r\n     }\r\n\r\n     var TOKEN_STORAGE = \"colyseus-auth-token\";\r\n     exports.Platform = void 0;\r\n     (function (Platform) {\r\n         Platform[\"ios\"] = \"ios\";\r\n         Platform[\"android\"] = \"android\";\r\n     })(exports.Platform || (exports.Platform = {}));\r\n     var Auth = /** @class */ (function () {\r\n         function Auth(endpoint) {\r\n             var _this = this;\r\n             this._id = undefined;\r\n             this.username = undefined;\r\n             this.displayName = undefined;\r\n             this.avatarUrl = undefined;\r\n             this.isAnonymous = undefined;\r\n             this.email = undefined;\r\n             this.lang = undefined;\r\n             this.location = undefined;\r\n             this.timezone = undefined;\r\n             this.metadata = undefined;\r\n             this.devices = undefined;\r\n             this.facebookId = undefined;\r\n             this.twitterId = undefined;\r\n             this.googleId = undefined;\r\n             this.gameCenterId = undefined;\r\n             this.steamId = undefined;\r\n             this.friendIds = undefined;\r\n             this.blockedUserIds = undefined;\r\n             this.createdAt = undefined;\r\n             this.updatedAt = undefined;\r\n             // auth token\r\n             this.token = undefined;\r\n             this.endpoint = endpoint.replace(\"ws\", \"http\");\r\n             getItem(TOKEN_STORAGE, function (token) { return _this.token = token; });\r\n         }\r\n         Object.defineProperty(Auth.prototype, \"hasToken\", {\r\n             get: function () {\r\n                 return !!this.token;\r\n             },\r\n             enumerable: false,\r\n             configurable: true\r\n         });\r\n         Auth.prototype.login = function (options) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var queryParams, data, attr;\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0:\r\n                             queryParams = Object.assign({}, options);\r\n                             if (this.hasToken) {\r\n                                 queryParams.token = this.token;\r\n                             }\r\n                             return [4 /*yield*/, this.request('post', '/auth', queryParams)];\r\n                         case 1:\r\n                             data = _a.sent();\r\n                             // set & cache token\r\n                             this.token = data.token;\r\n                             setItem(TOKEN_STORAGE, this.token);\r\n                             for (attr in data) {\r\n                                 if (this.hasOwnProperty(attr)) {\r\n                                     this[attr] = data[attr];\r\n                                 }\r\n                             }\r\n                             this.registerPingService();\r\n                             return [2 /*return*/, this];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.save = function () {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('put', '/auth', {}, {\r\n                                 username: this.username,\r\n                                 displayName: this.displayName,\r\n                                 avatarUrl: this.avatarUrl,\r\n                                 lang: this.lang,\r\n                                 location: this.location,\r\n                                 timezone: this.timezone,\r\n                             })];\r\n                         case 1:\r\n                             _a.sent();\r\n                             return [2 /*return*/, this];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.getFriends = function () {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('get', '/friends/all')];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.getOnlineFriends = function () {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('get', '/friends/online')];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.getFriendRequests = function () {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('get', '/friends/requests')];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.sendFriendRequest = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('post', '/friends/requests', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.acceptFriendRequest = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('put', '/friends/requests', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.declineFriendRequest = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('del', '/friends/requests', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.blockUser = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('post', '/friends/block', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.unblockUser = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('put', '/friends/block', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.request = function (method, segments, query, body, headers) {\r\n             if (query === void 0) { query = {}; }\r\n             if (headers === void 0) { headers = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var queryParams, name_1, queryString, opts;\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0:\r\n                             headers['Accept'] = 'application/json';\r\n                             if (this.hasToken) {\r\n                                 headers['Authorization'] = 'Bearer ' + this.token;\r\n                             }\r\n                             queryParams = [];\r\n                             for (name_1 in query) {\r\n                                 queryParams.push(name_1 + \"=\" + query[name_1]);\r\n                             }\r\n                             queryString = (queryParams.length > 0)\r\n                                 ? \"?\" + queryParams.join(\"&\")\r\n                                 : '';\r\n                             opts = { headers: headers };\r\n                             if (body) {\r\n                                 opts.body = body;\r\n                             }\r\n                             return [4 /*yield*/, http[method](\"\" + this.endpoint + segments + queryString, opts)];\r\n                         case 1: return [2 /*return*/, (_a.sent()).data];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.logout = function () {\r\n             this.token = undefined;\r\n             removeItem(TOKEN_STORAGE);\r\n             this.unregisterPingService();\r\n         };\r\n         Auth.prototype.registerPingService = function (timeout) {\r\n             var _this = this;\r\n             if (timeout === void 0) { timeout = 15000; }\r\n             this.unregisterPingService();\r\n             this.keepOnlineInterval = setInterval(function () { return _this.request('get', '/auth'); }, timeout);\r\n         };\r\n         Auth.prototype.unregisterPingService = function () {\r\n             clearInterval(this.keepOnlineInterval);\r\n         };\r\n         return Auth;\r\n     }());\r\n\r\n     var _a;\r\n     var MatchMakeError = /** @class */ (function (_super) {\r\n         __extends(MatchMakeError, _super);\r\n         function MatchMakeError(message, code) {\r\n             var _this = _super.call(this, message) || this;\r\n             _this.code = code;\r\n             Object.setPrototypeOf(_this, MatchMakeError.prototype);\r\n             return _this;\r\n         }\r\n         return MatchMakeError;\r\n     }(Error));\r\n     // - React Native does not provide `window.location`\r\n     // - Cocos Creator (Native) does not provide `window.location.hostname` \r\n     var DEFAULT_ENDPOINT = (typeof (window) !== \"undefined\" && typeof ((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.hostname) !== \"undefined\")\r\n         ? window.location.protocol.replace(\"http\", \"ws\") + \"//\" + window.location.hostname + (window.location.port && \":\" + window.location.port)\r\n         : \"ws://127.0.0.1:2567\";\r\n     var Client = /** @class */ (function () {\r\n         function Client(endpoint) {\r\n             if (endpoint === void 0) { endpoint = DEFAULT_ENDPOINT; }\r\n             this.endpoint = endpoint;\r\n         }\r\n         Object.defineProperty(Client.prototype, \"auth\", {\r\n             get: function () {\r\n                 if (!this._auth) {\r\n                     this._auth = new Auth(this.endpoint);\r\n                 }\r\n                 return this._auth;\r\n             },\r\n             enumerable: false,\r\n             configurable: true\r\n         });\r\n         Client.prototype.joinOrCreate = function (roomName, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinOrCreate', roomName, options, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.create = function (roomName, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('create', roomName, options, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.join = function (roomName, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('join', roomName, options, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.joinById = function (roomId, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinById', roomId, options, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.reconnect = function (roomId, sessionId, rootSchema) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinById', roomId, { sessionId: sessionId }, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.getAvailableRooms = function (roomName) {\r\n             if (roomName === void 0) { roomName = \"\"; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var url;\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0:\r\n                             url = this.endpoint.replace(\"ws\", \"http\") + \"/matchmake/\" + roomName;\r\n                             return [4 /*yield*/, get_1(url, { headers: { 'Accept': 'application/json' } })];\r\n                         case 1: return [2 /*return*/, (_a.sent()).data];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.consumeSeatReservation = function (response, rootSchema) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var room;\r\n                 return __generator(this, function (_a) {\r\n                     room = this.createRoom(response.room.name, rootSchema);\r\n                     room.id = response.room.roomId;\r\n                     room.sessionId = response.sessionId;\r\n                     room.connect(this.buildEndpoint(response.room, { sessionId: room.sessionId }));\r\n                     return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                             var onError = function (code, message) { return reject(new ServerError(code, message)); };\r\n                             room.onError.once(onError);\r\n                             room['onJoin'].once(function () {\r\n                                 room.onError.remove(onError);\r\n                                 resolve(room);\r\n                             });\r\n                         })];\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.createMatchMakeRequest = function (method, roomName, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var url, response;\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0:\r\n                             url = this.endpoint.replace(\"ws\", \"http\") + \"/matchmake/\" + method + \"/\" + roomName;\r\n                             // automatically forward auth token, if present\r\n                             if (this._auth && this._auth.hasToken) {\r\n                                 options.token = this._auth.token;\r\n                             }\r\n                             return [4 /*yield*/, post_1(url, {\r\n                                     headers: {\r\n                                         'Accept': 'application/json',\r\n                                         'Content-Type': 'application/json'\r\n                                     },\r\n                                     body: JSON.stringify(options)\r\n                                 })];\r\n                         case 1:\r\n                             response = (_a.sent()).data;\r\n                             if (response.error) {\r\n                                 throw new MatchMakeError(response.error, response.code);\r\n                             }\r\n                             return [2 /*return*/, this.consumeSeatReservation(response, rootSchema)];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.createRoom = function (roomName, rootSchema) {\r\n             return new Room(roomName, rootSchema);\r\n         };\r\n         Client.prototype.buildEndpoint = function (room, options) {\r\n             if (options === void 0) { options = {}; }\r\n             var params = [];\r\n             for (var name_1 in options) {\r\n                 if (!options.hasOwnProperty(name_1)) {\r\n                     continue;\r\n                 }\r\n                 params.push(name_1 + \"=\" + options[name_1]);\r\n             }\r\n             return this.endpoint + \"/\" + room.processId + \"/\" + room.roomId + \"?\" + params.join('&');\r\n         };\r\n         return Client;\r\n     }());\r\n\r\n     var SchemaSerializer = /** @class */ (function () {\r\n         function SchemaSerializer() {\r\n         }\r\n         SchemaSerializer.prototype.setState = function (rawState) {\r\n             this.state.decode(rawState);\r\n         };\r\n         SchemaSerializer.prototype.getState = function () {\r\n             return this.state;\r\n         };\r\n         SchemaSerializer.prototype.patch = function (patches) {\r\n             this.state.decode(patches);\r\n         };\r\n         SchemaSerializer.prototype.teardown = function () {\r\n             var _a, _b;\r\n             (_b = (_a = this.state) === null || _a === void 0 ? void 0 : _a['$changes']) === null || _b === void 0 ? void 0 : _b.root.clearRefs();\r\n         };\r\n         SchemaSerializer.prototype.handshake = function (bytes, it) {\r\n             if (this.state) {\r\n                 // validate client/server definitinos\r\n                 var reflection = new umd.Reflection();\r\n                 reflection.decode(bytes, it);\r\n             }\r\n             else {\r\n                 // initialize reflected state from server\r\n                 this.state = umd.Reflection.decode(bytes, it);\r\n             }\r\n         };\r\n         return SchemaSerializer;\r\n     }());\r\n\r\n     var NoneSerializer = /** @class */ (function () {\r\n         function NoneSerializer() {\r\n         }\r\n         NoneSerializer.prototype.setState = function (rawState) { };\r\n         NoneSerializer.prototype.getState = function () { return null; };\r\n         NoneSerializer.prototype.patch = function (patches) { };\r\n         NoneSerializer.prototype.teardown = function () { };\r\n         NoneSerializer.prototype.handshake = function (bytes) { };\r\n         return NoneSerializer;\r\n     }());\r\n\r\n     registerSerializer('schema', SchemaSerializer);\r\n     registerSerializer('none', NoneSerializer);\r\n\r\n     exports.Auth = Auth;\r\n     exports.Client = Client;\r\n     exports.Room = Room;\r\n     exports.SchemaSerializer = SchemaSerializer;\r\n     exports.registerSerializer = registerSerializer;\r\n\r\n     Object.defineProperty(exports, '__esModule', { value: true });\r\n\r\n })));\r\n //# sourceMappingURL=colyseus.js.map\r\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n_Protocol = module.exports.Protocol;\n_ErrorCode = module.exports.ErrorCode;\n_OPERATION = module.exports.OPERATION;\n_ArraySchema = module.exports.ArraySchema;\n_CollectionSchema = module.exports.CollectionSchema;\n_Context = module.exports.Context;\n_MapSchema = module.exports.MapSchema;\n_Reflection = module.exports.Reflection;\n_ReflectionField = module.exports.ReflectionField;\n_ReflectionType = module.exports.ReflectionType;\n_Schema = module.exports.Schema;\n_SchemaDefinition = module.exports.SchemaDefinition;\n_SetSchema = module.exports.SetSchema;\n_decode = module.exports.decode;\n_defineTypes = module.exports.defineTypes;\n_deprecated = module.exports.deprecated;\n_dumpChanges = module.exports.dumpChanges;\n_encode0 = module.exports.encode;\n_filter = module.exports.filter;\n_filterChildren = module.exports.filterChildren;\n_hasFilter = module.exports.hasFilter;\n_registerType = module.exports.registerType;\n_type = module.exports.type;\n___esModule = module.exports.__esModule;\n_Platform = module.exports.Platform;\n_Auth = module.exports.Auth;\n_Client = module.exports.Client;\n_Room = module.exports.Room;\n_SchemaSerializer = module.exports.SchemaSerializer;\n_registerSerializer = module.exports.registerSerializer;\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n","import { _decorator, Component, resources, SpriteFrame, Sprite } from 'cc';\r\nimport { ResourceManager } from './ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CommonUtil')\r\nexport class CommonUtil {\r\n\r\n    static setting: any = null;\r\n\r\n    static getNumberStringWithComma( num: number, showCurrency: boolean = false ): string {\r\n        if ( num == null || num <= 0 ) {\r\n            return '0';\r\n        }\r\n\r\n        let currency: string;\r\n        currency = \"₩\";\r\n        let result = num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\r\n        if (showCurrency == true) {\r\n            return currency + result;\r\n\r\n        } else {\r\n            return result;\r\n        }\r\n    }\r\n\r\n    static getKoreanNumber(num: number): string {\r\n        if ( num == null || num <= 0 ) {\r\n            return '0';\r\n        }\r\n\r\n        return CommonUtil.getNumberStringWithComma( num );\r\n                \r\n        // const koreanUnits = ['', '만', '억', '조'];\r\n        // let answer = '';\r\n        // let unit = 10000;\r\n        // let index = 0;\r\n        // let division = Math.pow(unit, index);\r\n      \r\n        // while (Math.floor( num / division) > 0) {\r\n        //   const mod = Math.floor(num % (division * unit) / division);\r\n        //   if(mod) {\r\n        //     const modToString = mod.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n        //     answer = `${modToString}${koreanUnits[index]} `+ answer;\r\n        //   }\r\n        //   division = Math.pow(unit, ++index);\r\n        // }\r\n\r\n        // if ( answer.length == 0) {\r\n        //     answer = '0';\r\n        // }\r\n\r\n        // return answer;\r\n      }\r\n\r\n    static setAvatarSprite( type: number, sf: Sprite, cb: ()=>void = null ) {\r\n\r\n        let url = `Avatar/avata_${type.toString()}/spriteFrame`;\r\n\r\n        resources.load<SpriteFrame>( url, ( err, res ) => {\r\n            sf.spriteFrame = res;\r\n            //sf.sizeMode = \r\n            \r\n            if (cb != null) {\r\n                cb();\r\n            }\r\n        });\r\n    }\r\n\r\n    static setCardSprite( type: number, number:number, sf: Sprite, cb: ()=>void = null ) {\r\n        let url = 'Cards/' + 'type' + type.toString() + '/'+number.toString() + '/spriteFrame'\r\n\r\n        resources.load<SpriteFrame>( url, ( err, res ) => {\r\n            sf.spriteFrame = res;\r\n            //sf.sizeMode = \r\n            \r\n            if (cb != null) {\r\n                cb();\r\n            }\r\n        });\r\n    }    \r\n\r\n    static setEmoticonSprite( type: number, sf: Sprite, cb: ()=>void = null ) {\r\n        let url = `Emoticon/emoji_${type.toString()}/spriteFrame`;\r\n\r\n        resources.load<SpriteFrame>( url, ( err, res ) => {\r\n            sf.spriteFrame = res;\r\n            if (cb != null) {\r\n                cb();\r\n            }\r\n        });\r\n    }    \r\n\r\n    static TruncateString( str: string, num: number ): string {\r\n        if ( str.length <= num ) {\r\n            return str;\r\n        }\r\n        return str.slice(0, num) + '...';\r\n    }\r\n\r\n    static setGameSetting( setting: any ) {\r\n        CommonUtil.setting = {\r\n            avatars: setting.avatars,\r\n        }\r\n    }\r\n\r\n    static getGameSetting(): any {\r\n        return CommonUtil.setting;\r\n    }\r\n}\r\n\r\n\r\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, Component, Node, game, Game, Label, Sprite } from 'cc';\r\nimport {UiGameSystemPopup} from \"./UiGameSystemPopup\";\r\nimport { UiControls } from './UiControls';\r\nimport { AudioController } from './AudioController';\r\nimport { UiTable } from '../UiTable';\r\nimport { Board } from '../Board';\r\nimport { GameManager } from '../GameManager';\r\nimport { ENUM_CURRENT_SCENE, ENUM_DEVICE_TYPE } from '../HoldemDefines';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameEntry')\r\nexport class GameEntry extends Component {\r\n    @property(AudioController) audioController: AudioController = null;\r\n\r\n    @property(Node) rootPortrait: Node = null;\r\n    @property(Node) rootLandscape: Node = null;\r\n\r\n    private _root: Node = null;\r\n    private _popup: UiGameSystemPopup = null;\r\n    private _controls: UiControls = null;\r\n    private _isChildrenRegisted: boolean = false;\r\n    private _table: UiTable = null;\r\n    private _rootInformation: Node = null;\r\n    private _labelID: Label = null;    \r\n    private _labelAnte: Label = null;    \r\n    private _labelSB: Label = null;\r\n    private _labelBB: Label = null;\r\n    private _labelIP: Label = null;    \r\n\r\n    onLoad() {\r\n\t\tthis.rootPortrait.active = false;\r\n\t\tthis.rootLandscape.active = false;\r\n\r\n\t\tlet Info: any = GameManager.Instance().GetInfo();\r\n\t\tswitch ( Info.device ) {\r\n\t\t\tcase ENUM_DEVICE_TYPE.MOBILE_PORTRAIT:\r\n\t\t\t\tthis._root = this.rootPortrait;\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase ENUM_DEVICE_TYPE.PC_LANDSCAPE:\r\n\t\t\t\tthis._root = this.rootLandscape;\r\n\t\t\tbreak;\t\t\t\t\r\n\t\t}\r\n\r\n\t\tthis.RegisterChildren();\r\n\t\tthis.Init();\r\n\r\n\t\tthis._root.active = true;\r\n    }\r\n\r\n    private Init() {\r\n        this._popup.init();\r\n        this._controls.init();\r\n        this.audioController.init();\r\n\r\n        GameManager.Instance().SetCurrentScene( ENUM_CURRENT_SCENE.GAME_SCENE );\r\n\r\n        this._table.init();\r\n        this._table.show();\r\n\r\n        if ( this._rootInformation != null ) {\r\n            if ( this._labelID != null ) {\r\n                this._labelID.string = (Board.id).toString();\r\n                this._labelID.node.active = false;\r\n            }\r\n\r\n            if ( this._labelSB != null ) {\r\n                this._labelSB.string = (Board.small).toString();\r\n                this._labelSB.node.active = true;\r\n            }\r\n\r\n            if ( this._labelBB != null ) {\r\n                this._labelBB.string = ( Board.big ).toString();\r\n                this._labelBB.node.active = true;\r\n            }\r\n\r\n            if ( this._labelIP != null ) {\r\n                this._labelIP.string = '( ' + Board.ip + ' )';\r\n                this._labelIP.node.active = false;\r\n            }            \r\n\r\n            if ( this._labelAnte != null ) {\r\n                this._labelAnte.string = ( Board.ante).toString();\r\n                this._labelAnte.node.active = true;\r\n            }\r\n\r\n            this._rootInformation.active = true;\r\n        }\r\n\r\n        game.on( Game.EVENT_SHOW, this.onEVENT_SHOW.bind(this), this );\r\n        game.on( Game.EVENT_HIDE, this.onEVENT_HIDE.bind(this), this );\r\n    }\r\n\r\n    private RegisterChildren() {\r\n\t\tif ( this._root == null || this._isChildrenRegisted == true ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n        this._popup = this._root.getChildByPath('GAME_SYSTEM_POPUP').getComponent(UiGameSystemPopup);\r\n        if ( this._popup != null ) {\r\n            this._popup.node.active = false;\r\n        }\r\n\r\n        this._controls = this._root.getChildByPath('GLOBAL_BUTTONS').getComponent(UiControls);\r\n        if ( this._controls != null ) {\r\n            this._controls.node.active = false;\r\n        }\r\n\r\n        this._table = this._root.getChildByPath('UI_TABLE').getComponent(UiTable);\r\n        if ( this._table != null ) {\r\n            this._table.node.active = false;\r\n        }\r\n\r\n        this._rootInformation = this._root.getChildByPath('INFO');\r\n        if ( this._rootInformation != null ) {\r\n            this._table.node.active = false;\r\n\r\n            this._labelID = this._rootInformation.getChildByPath('LABEL_ID').getComponent(Label);\r\n            if ( this._labelID != null ) {\r\n                this._labelID.node.active = false;\r\n                this._labelID.string = '0';\r\n            }\r\n\r\n            this._labelAnte = this._rootInformation.getChildByPath('LABEL_ANTE').getComponent(Label);\r\n            if ( this._labelAnte != null ) {\r\n                this._labelAnte.node.active = false;\r\n                this._labelAnte.string = '0';\r\n            }\r\n            \r\n            this._labelSB = this._rootInformation.getChildByPath('LABEL_SB').getComponent(Label);\r\n            if ( this._labelSB != null ) {\r\n                this._labelSB.node.active = false;\r\n                this._labelSB.string = '0';\r\n            }\r\n\r\n            this._labelBB = this._rootInformation.getChildByPath('LABEL_BB').getComponent(Label);\r\n            if ( this._labelBB != null ) {\r\n                this._labelBB.node.active = false;\r\n                this._labelBB.string = '0';\r\n            }\r\n\r\n            this._labelIP = this._rootInformation.getChildByPath('LABEL_IP').getComponent(Label);\r\n            if ( this._labelIP != null ) {\r\n                this._labelIP.string = '';                \r\n                this._labelIP.node.active = false;\r\n            }\r\n        }\r\n\r\n        this._isChildrenRegisted = true;\r\n    }\r\n\r\n    private onEVENT_SHOW() {\r\n        if ( this._table != null ) {\r\n            this._table.onEVENT_FOREGROUND();\r\n        }\r\n    }\r\n\r\n    private onEVENT_HIDE() {\r\n        if ( this._table != null ) {\r\n            this._table.onEVENT_BACKGROUND();\r\n        }\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        game.off( Game.EVENT_SHOW );\r\n        game.off( Game.EVENT_HIDE );\r\n    }\r\n}\r\n\r\n\r\n","// @ts-ignore\r\nimport * as cc from \"cc\";\r\nimport { _decorator, Component, Node, director, Scene } from 'cc';\r\nimport { ENUM_CURRENT_SCENE, ENUM_DEVICE_TYPE, ENUM_LEAVE_REASON } from \"./HoldemDefines\";\r\nimport { NetworkManager } from \"./NetworkManager\";\r\nconst { ccclass } = cc._decorator;\r\n\r\nconst CLIENT_VERSION: string = '4';\r\n\r\n@ccclass('GameManager')\r\nexport class GameManager extends cc.Component {\r\n    private version: string = '';\r\n    private deviceType: ENUM_DEVICE_TYPE = ENUM_DEVICE_TYPE.MOBILE_PORTRAIT;\r\n    private static _instance : GameManager = null;\r\n    private leaveReason: ENUM_LEAVE_REASON = ENUM_LEAVE_REASON.LEAVE_UNKNOWN;\r\n    private currentScene: ENUM_CURRENT_SCENE = ENUM_CURRENT_SCENE.LOGIN_SCENE;\r\n    private showEventPopup: boolean = false;\r\n\r\n    public static Instance() : GameManager\r\n\t{\r\n\t\tif(null == this._instance){\r\n\t\t\tthis._instance = new GameManager();\r\n\t\t}\r\n\t\t\r\n\t\treturn this._instance;\r\n\t}\r\n\r\n    public Init() {\r\n        this.showEventPopup = true;\r\n\r\n        this.version = CLIENT_VERSION;\r\n        this.deviceType = ENUM_DEVICE_TYPE.MOBILE_PORTRAIT;\r\n        // this.deviceType = ENUM_DEVICE_TYPE.PC_LANDSCAPE;        \r\n    }\r\n\r\n    public GetInfo(): any {\r\n        return {\r\n            device: this.deviceType,\r\n            version: this.version,\r\n        };\r\n    }\r\n\r\n    public GetVersion() : string {\r\n        return this.version;\r\n    }\r\n\r\n    public SetVersion( version: string ) {\r\n        this.version = version;\r\n    }\r\n\r\n    public SetDeviceType( type: ENUM_DEVICE_TYPE) {\r\n        this.deviceType = type;\r\n    }    \r\n\r\n    public SetCurrentScene( scene: ENUM_CURRENT_SCENE ) {\r\n        this.currentScene = scene;\r\n    }\r\n\r\n    public GetShowEventPopup() {\r\n        return this.showEventPopup;\r\n    }\r\n\r\n    public SetShowEventPopup( show: boolean ) {\r\n        this.showEventPopup = show;\r\n    }\r\n\r\n    public ForceExit( leaveReason: ENUM_LEAVE_REASON ) {\r\n        this.leaveReason = leaveReason;\r\n\r\n        switch ( this.leaveReason ) {\r\n            case ENUM_LEAVE_REASON.LEAVE_NONE:\r\n                break;\r\n            case ENUM_LEAVE_REASON.LEAVE_VERSION_MISMATCH:\r\n            case ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE:\r\n            case ENUM_LEAVE_REASON.LEAVE_LONG_AFK:                \r\n                director.loadScene(\"LoginScene\", (error: null | Error, scene?: Scene)=>{\r\n                    NetworkManager.Instance().logout();\r\n                });\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    public ResetLeaveReason() {\r\n        this.leaveReason = ENUM_LEAVE_REASON.LEAVE_NONE;\r\n    }\r\n\r\n    public GetLeaveReason() {\r\n        return this.leaveReason;\r\n    }\r\n}\r\n\r\n\r\n","\r\nexport const GAME_STATE_SUSPEND: number = 0;\r\nexport const GAME_STATE_READY: number = 1;\r\nexport const GAME_STATE_PREPARE: number = 2;\r\n\r\nexport const GAME_STATE_PREFLOP: number = 3;\r\nexport const GAME_STATE_BET: number = 4;\r\nexport const GAME_STATE_FLOP: number = 5;\r\nexport const GAME_STATE_TURN: number = 6;\r\nexport const GAME_STATE_RIVER: number = 7;\r\n\r\nexport const GAME_STATE_RESULT: number = 8;\r\nexport const GAME_STATE_SHOWDOWN: number = 9;\r\nexport const GAME_STATE_CLEAR: number = 10;\r\n\r\nexport const VOLUMNE_MULTIPLIER:number = 10.0;\r\n\r\nexport enum ENUM_COMMUNTY_CARD_STATE {\r\n\tPREPARE = 0,\r\n\tPRE_FLOP = 1,\r\n\tFLOP = 2,\r\n\tTURN = 3,\r\n\tRIVER = 4,\r\n\tSHOWDOWN = 5\r\n}\r\n\r\nexport enum ENUM_CARD_TYPE {\r\n    NONE = 0,\r\n\tPLAYER_HIDDEN = 1,\r\n\tPLAYER_HAND = 2,\r\n\tCOMMUNITY_FLOP = 3,\r\n\tCOMMUNITY_TURN = 4,\r\n\tCOMMUNITY_RIVER = 5,\r\n}\r\n\r\nexport enum ENUM_BET_SOUND {\r\n\tBET_FOLD,\r\n\tBET_CHECK,\r\n\tBET_CALL,\r\n\tBET_QUATER,\r\n\tBET_HALF,\r\n\tBET_FULL,\r\n\tBET_MAX,\r\n\tBET_ALLIN,\r\n}\r\n\r\nexport enum ENUM_LEAVE_REASON {\r\n    LEAVE_NONE = -1,    \r\n    LEAVE_UNKNOWN = 0,\r\n    LEAVE_TOKEN_EXPIRE = 1,\r\n    LEAVE_VERSION_MISMATCH = 2,\r\n\tLEAVE_LONG_AFK = 3,\r\n\tLEAVE_DISABLE_ACCOUNT = 4,\r\n}\r\n\r\nexport enum ENUM_DEVICE_TYPE {\r\n    MOBILE_PORTRAIT = 0,\r\n    PC_LANDSCAPE = 1,\r\n}\r\n\r\nexport enum ENUM_CURRENT_SCENE {\r\n    LOGIN_SCENE = 0,\r\n    LOBBY_SCENE = 1,\r\n    GAME_SCENE = 2,\r\n}","import { _decorator, Component, Node, AudioSource, AudioClip } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { VOLUMNE_MULTIPLIER } from '../HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('LobbyAudioContoller')\r\nexport class LobbyAudioContoller extends Component {\r\n    static instance: LobbyAudioContoller = null ;\r\n    @property(AudioClip) clipButtonClick: AudioClip = null;\r\n\r\n    @property(AudioSource) audioSource: AudioSource = null;\r\n\r\n    private volumn: number = 0;\r\n\r\n    init() {\r\n        LobbyAudioContoller.instance = this;\r\n\r\n        this.volumn = NetworkManager.Instance().GetSetting().sound;\r\n        this.audioSource.volume = this.volumn / VOLUMNE_MULTIPLIER;\r\n    }\r\n\r\n    ApplyVolumn() {\r\n        this.volumn = NetworkManager.Instance().GetSetting().sound;\r\n        this.audioSource.volume = this.volumn / VOLUMNE_MULTIPLIER;\r\n    }\r\n\r\n    PlayButtonClick() {\r\n        this.audioSource.playOneShot( this.clipButtonClick );        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, game, Game } from 'cc';\r\nimport { LobbyAudioContoller } from './Lobby/LobbyAudioContoller';\r\nimport { LobbySystemPopup } from './LobbySystemPopup';\r\nimport { UiLobby } from './UiLobby';\r\nimport { NetworkManager } from './NetworkManager';\r\nimport { ENUM_CURRENT_SCENE, ENUM_DEVICE_TYPE } from './HoldemDefines';\r\nimport { GameManager } from './GameManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('LobbyEntry')\r\nexport class LobbyEntry extends Component {\r\n    @property(Node) rootPortrait: Node = null;\r\n    @property(Node) rootLandscape: Node = null;\r\n    @property(LobbyAudioContoller) AudioContoller: LobbyAudioContoller = null;\r\n\r\n    private _lobby: UiLobby = null;\r\n    private _popup: LobbySystemPopup = null;\r\n\r\n    private _root: Node = null;\r\n\tprivate _isChildrenRegisted: boolean = false;    \r\n\r\n    protected onLoad(): void {\r\n\r\n        this.rootPortrait.active = false;\r\n        this.rootLandscape.active = false;\r\n\r\n        let Info: any = GameManager.Instance().GetInfo();\r\n\t\tswitch ( Info.device ) {\r\n\t\t\tcase ENUM_DEVICE_TYPE.MOBILE_PORTRAIT:\r\n\t\t\t\tthis._root = this.rootPortrait;\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase ENUM_DEVICE_TYPE.PC_LANDSCAPE:\r\n\t\t\t\tthis._root = this.rootLandscape;\r\n\t\t\tbreak;\t\t\t\t\r\n\t\t}\r\n\r\n        this.RegisterChildren();\r\n\t\tthis.Init();\r\n\r\n\t\tthis._root.active = true;\r\n    }\r\n\r\n    private Init() {\r\n        this.AudioContoller.init();        \r\n        if ( this._lobby != null ) {\r\n            this._lobby.init();\r\n        }\r\n\r\n        if ( this._popup != null ) {\r\n            this._popup.initialize();\r\n        }\r\n\r\n        this._lobby.show( ()=>{\r\n            this.end();\r\n        });\r\n\r\n        GameManager.Instance().SetCurrentScene( ENUM_CURRENT_SCENE.LOBBY_SCENE);\r\n\r\n        game.off( Game.EVENT_SHOW);\r\n        game.off( Game.EVENT_HIDE);\r\n\r\n        game.on( Game.EVENT_SHOW, this.onEVENT_SHOW.bind(this), this);\r\n        game.on( Game.EVENT_HIDE, this.onEVENT_HIDE.bind(this), this);\r\n\t}\r\n\r\n\tprivate RegisterChildren() {\r\n\t\tif ( this._root == null || this._isChildrenRegisted == true ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n        this._lobby = this._root.getChildByPath('LOBBY').getComponent(UiLobby);\r\n        if ( this._lobby != null ) {\r\n            this._lobby.node.active = false;\r\n        }\r\n\r\n        this._popup = this._root.getChildByPath('SYSTEM_POPUP').getComponent(LobbySystemPopup);\r\n        if ( this._popup != null ) {\r\n            this._popup.node.active = false;\r\n        }\r\n\r\n\t\tthis._isChildrenRegisted = true;\r\n\t}\r\n\r\n    private onEVENT_SHOW() {\r\n        this._lobby.onEVENT_SHOW();\r\n    }\r\n\r\n    private onEVENT_HIDE() {\r\n        this._lobby.onEVENT_HIDE();\r\n    }\r\n\r\n    public end() {\r\n        game.off( Game.EVENT_SHOW);\r\n        game.off( Game.EVENT_HIDE);\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Button } from 'cc';\r\nimport { LobbyAudioContoller } from './Lobby/LobbyAudioContoller';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ePopupType{\r\n    None,\r\n    Ok,\r\n    YesOrNo\r\n}\r\n\r\n@ccclass('PopUpElement')\r\nexport class PopUpElement {\r\n\r\n    @property(Node) private root : Node = null;\r\n    @property(Node) private popUpOk : Node = null;\r\n    @property(Node) private popUpYesOrNo : Node = null;\r\n\r\n    @property(Button) private btnOk : Button = null;\r\n    @property(Button) private btnYes : Button = null;\r\n    @property(Button) private btnNo : Button = null;\r\n\r\n    @property(Label) private lbTitle : Label = null;\r\n    @property(Label) private lbTitleShadow : Label = null;\r\n    @property(Label) private lbContents : Label = null;\r\n    @property(Label) private lbContentsShadow : Label = null;\r\n\r\n    private onClose : () => void = null;\r\n    private onYes : () => void = null;\r\n    private onNo : () => void = null;\r\n\r\n    public init(){\r\n        this.btnOk.node.off(\"click\");\r\n        this.btnOk.node.on(\"click\", this.onClickOk.bind(this), this);\r\n\r\n        this.btnYes.node.off(\"click\");\r\n        this.btnYes.node.on(\"click\", this.onClickYes.bind(this), this);\r\n\r\n        this.btnNo.node.off(\"click\");\r\n        this.btnNo.node.on(\"click\", this.onClickNo.bind(this), this);\r\n    }\r\n\r\n    private onClickOk(){\r\n        this.hide();\r\n\r\n        if(null != this.onClose){\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n            this.onClose();\r\n        }\r\n    }\r\n\r\n    private onClickYes(){\r\n        this.hide();\r\n\r\n        if(null != this.onYes){\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n            this.onYes();\r\n        }\r\n    }\r\n\r\n    private onClickNo(){\r\n        this.hide();\r\n\r\n        if(null != this.onNo){\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n            this.onNo();\r\n        }\r\n    }\r\n\r\n    public show( type: ePopupType, title : string, content : string, closeCallback : () => void, yesCallback : () => void, noCallback : () => void){\r\n\r\n        this.clear();\r\n\r\n        this.lbTitle.string = title;\r\n        this.lbTitleShadow.string = this.lbTitle.string;\r\n\r\n        this.lbContents.string = content;\r\n        this.lbContentsShadow.string = this.lbContents.string;\r\n\r\n        this.onClose = closeCallback;\r\n        this.onYes = yesCallback;\r\n        this.onNo = noCallback;\r\n\r\n        this.popUpOk.active = false;\r\n        this.popUpYesOrNo.active = false;\r\n\r\n        switch ( type ) {\r\n            case ePopupType.None:\r\n                this.popUpOk.active = true;\r\n                break;\r\n            case ePopupType.Ok:\r\n                this.popUpOk.active = true;\r\n                break;\r\n            case ePopupType.YesOrNo:\r\n                this.popUpYesOrNo.active = true;\r\n                break;\r\n        }\r\n\r\n        this.root.active = true;\r\n    }\r\n\r\n    public hide(){\r\n        this.root.active = false;\r\n    }\r\n\r\n    public clear(){\r\n        this.lbTitle.string = \"\";\r\n        this.lbTitleShadow.string = \"\";\r\n        this.lbContents.string = \"\";\r\n        this.lbContents.string = \"\";\r\n        this.onClose = null;\r\n        this.onYes = null;\r\n        this.onNo = null;\r\n    }\r\n}\r\n\r\n@ccclass('LobbySystemPopup')\r\nexport class LobbySystemPopup extends Component {\r\n    public static instance : LobbySystemPopup = null;\r\n\r\n    @property(PopUpElement)\r\n    private uiPopUp : PopUpElement = new PopUpElement();\r\n\r\n    private popupQueue : any[] = [];\r\n    private isPopupShow : boolean = false;\r\n\r\n    public initialize() {\r\n        this.uiPopUp.init();\r\n        this.uiPopUp.hide();\r\n        this.isPopupShow = false;\r\n\r\n        LobbySystemPopup.instance = this;        \r\n    }\r\n\r\n    public showPopUpOk( title : string, content : string, closeCallback? : () => void){\r\n        this.popupQueue.push( {type : ePopupType.Ok, title : title, content : content, closeCallback : closeCallback, yesCallback : null, noCallback : null});\r\n        this.isPopupShow = true;\r\n        this.showPopup();\r\n    }\r\n\r\n    public showPopUpYesOrNo(title : string, content : string, yesCallback? : () => void, noCallback? : () => void){\r\n        this.popupQueue.push( {type : ePopupType.YesOrNo, title : title, content : content, closeCallback : null, yesCallback : yesCallback, noCallback : noCallback});\r\n        this.isPopupShow = true;        \r\n        this.showPopup();\r\n    }\r\n\r\n    private showPopup(){\r\n        this.uiPopUp.hide();\r\n\r\n        if(this.popupQueue.length < 1){\r\n            this.isPopupShow = false;\r\n            return;\r\n        }\r\n\r\n        let showInfo : any = this.popupQueue[this.popupQueue.length - 1];\r\n\r\n        if(null == showInfo){\r\n            this.isPopupShow = false;\r\n            return;\r\n        }\r\n\r\n        switch (showInfo.type)\r\n        {\r\n            case ePopupType.None:\r\n            {\r\n            }\r\n                break;\r\n            case ePopupType.Ok:\r\n            {\r\n                this.uiPopUp.show( ePopupType.Ok, showInfo.title, showInfo.content,  (()=> {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.closeCallback){\r\n                        showInfo.closeCallback();\r\n                    }\r\n                }).bind(this), null, null);\r\n            }\r\n                break;\r\n            case ePopupType.YesOrNo:\r\n            {\r\n                this.uiPopUp.show( ePopupType.YesOrNo, showInfo.title, showInfo.content, null, (() => {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.yesCallback){\r\n                        showInfo.yesCallback();\r\n                    }\r\n                }), (() => {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.noCallback){\r\n                        showInfo.noCallback();\r\n                    }\r\n                }))\r\n            }\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    private clear() {\r\n        // this.labelTitle.string = '';\r\n        // this.labelDescription.string = '';\r\n\r\n        // this.nodeOkPopup.active = false;\r\n        // this.nodeYesNoPopup.active = false;\r\n\r\n        // this.cbOk = null;\r\n        // this.cbYes = null;\r\n        // this.cbNo = null;\r\n    }\r\n\r\n    public IsPOPUP_SHOW(): boolean {\r\n        return this.isPopupShow;\r\n    }\r\n\r\n    public closePopup() {\r\n        this.clear();\r\n        this.isPopupShow = false;\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum LoginPopupType{\r\n    None,\r\n    Ok,\r\n    YesOrNo\r\n}\r\n\r\n@ccclass('LoginPopUpElement')\r\nexport class LoginPopUpElement {\r\n\r\n    @property(Node) private root : Node = null;\r\n    @property(Node) private popUpOk : Node = null;\r\n    @property(Node) private popUpYesOrNo : Node = null;\r\n\r\n    @property(Button) private btnOk : Button = null;\r\n    @property(Button) private btnYes : Button = null;\r\n    @property(Button) private btnNo : Button = null;\r\n\r\n    @property(Label) private lbTitle : Label = null;\r\n    @property(Label) private lbContents : Label = null;\r\n\r\n    private onClose : () => void = null;\r\n    private onYes : () => void = null;\r\n    private onNo : () => void = null;\r\n\r\n    public init(){\r\n        this.btnOk.node.on(\"click\", this.onClickOk.bind(this), this);\r\n        this.btnYes.node.on(\"click\", this.onClickYes.bind(this), this);\r\n        this.btnNo.node.on(\"click\", this.onClickNo.bind(this), this);\r\n    }\r\n\r\n    private onClickOk(){\r\n        this.hide();\r\n\r\n        if(null != this.onClose){\r\n            // LobbyAudioContoller.instance.playButtonClick();\r\n            this.onClose();\r\n        }\r\n    }\r\n\r\n    private onClickYes(){\r\n        this.hide();\r\n\r\n        if(null != this.onYes){\r\n            // LobbyAudioContoller.instance.playButtonClick();\r\n            this.onYes();\r\n        }\r\n    }\r\n\r\n    private onClickNo(){\r\n        this.hide();\r\n\r\n        if(null != this.onNo){\r\n            // LobbyAudioContoller.instance.playButtonClick();\r\n            this.onNo();\r\n        }\r\n    }\r\n\r\n    public show( type: LoginPopupType, title : string, content : string, closeCallback : () => void, yesCallback : () => void, noCallback : () => void){\r\n\r\n        this.clear();\r\n\r\n        this.lbTitle.string = title;\r\n\r\n        this.lbContents.string = content;\r\n\r\n        this.onClose = closeCallback;\r\n        this.onYes = yesCallback;\r\n        this.onNo = noCallback;\r\n\r\n        this.popUpOk.active = false;\r\n        this.popUpYesOrNo.active = false;\r\n\r\n        switch ( type ) {\r\n            case LoginPopupType.None:\r\n                this.popUpOk.active = true;\r\n                break;\r\n            case LoginPopupType.Ok:\r\n                this.popUpOk.active = true;\r\n                break;\r\n            case LoginPopupType.YesOrNo:\r\n                this.popUpYesOrNo.active = true;\r\n                break;\r\n        }\r\n\r\n        this.root.active = true;\r\n    }\r\n\r\n    public hide(){\r\n        this.root.active = false;\r\n    }\r\n\r\n    public clear(){\r\n        this.lbTitle.string = \"\";\r\n        this.lbContents.string = \"\";\r\n\r\n        this.onClose = null;\r\n        this.onYes = null;\r\n        this.onNo = null;\r\n    }\r\n}\r\n\r\n@ccclass('LoginSystemPopup')\r\nexport class LoginSystemPopup extends Component {\r\n    public static instance : LoginSystemPopup = null;\r\n\r\n    @property(LoginPopUpElement)\r\n    private uiPopUp : LoginPopUpElement = new LoginPopUpElement();\r\n\r\n    private popupQueue : any[] = [];\r\n    private isPopupShow : boolean = false;\r\n\r\n    public initialize() {\r\n        LoginSystemPopup.instance = this;\r\n\r\n        this.uiPopUp.init();\r\n        this.uiPopUp.hide();\r\n        this.closePopup();\r\n    }\r\n\r\n    public showPopUpOk( title : string, content : string, closeCallback? : () => void){\r\n        this.popupQueue.push( {type : LoginPopupType.Ok, title : title, content : content, closeCallback : closeCallback, yesCallback : null, noCallback : null});\r\n        this.showPopup();\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    public showPopUpYesOrNo(title : string, content : string, yesCallback? : () => void, noCallback? : () => void){\r\n        this.popupQueue.push( {type : LoginPopupType.YesOrNo, title : title, content : content, closeCallback : null, yesCallback : yesCallback, noCallback : noCallback});\r\n        this.showPopup();\r\n\r\n        this.node.active = true;        \r\n    }\r\n\r\n    private showPopup(){\r\n        this.uiPopUp.hide();\r\n\r\n        if(this.popupQueue.length < 1){\r\n            this.isPopupShow = false;\r\n            return;\r\n        }\r\n\r\n        let showInfo : any = this.popupQueue[this.popupQueue.length - 1];\r\n\r\n        if(null == showInfo){\r\n            this.isPopupShow = false;\r\n            return;\r\n        }\r\n\r\n        switch (showInfo.type)\r\n        {\r\n            case LoginPopupType.None:\r\n            {\r\n            }\r\n                break;\r\n            case LoginPopupType.Ok:\r\n            {\r\n                this.uiPopUp.show( LoginPopupType.Ok, showInfo.title, showInfo.content,  (()=> {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.closeCallback){\r\n                        showInfo.closeCallback();\r\n                    }\r\n                }).bind(this), null, null);\r\n            }\r\n                break;\r\n            case LoginPopupType.YesOrNo:\r\n            {\r\n                this.uiPopUp.show( LoginPopupType.YesOrNo, showInfo.title, showInfo.content, null, (() => {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.yesCallback){\r\n                        showInfo.yesCallback();\r\n                    }\r\n                }), (() => {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.noCallback){\r\n                        showInfo.noCallback();\r\n                    }\r\n                }))\r\n            }\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    private clear() {\r\n        // this.labelTitle.string = '';\r\n        // this.labelDescription.string = '';\r\n\r\n        // this.nodeOkPopup.active = false;\r\n        // this.nodeYesNoPopup.active = false;\r\n\r\n        // this.cbOk = null;\r\n        // this.cbYes = null;\r\n        // this.cbNo = null;\r\n    }\r\n\r\n    public closePopup() {\r\n        this.clear();\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Input, resources, SpriteFrame, Label, Canvas } from 'cc';\r\nimport { UiJoinPlayer } from './Lobby/UiJoinPlayer';\r\nimport { LoginSystemPopup } from './Login/LoginSystemPopup';\r\nimport { UiLogin } from './UiLogin';\r\nimport { NetworkManager } from './NetworkManager';\r\nimport { GameManager } from './GameManager';\r\nimport { ENUM_CURRENT_SCENE, ENUM_DEVICE_TYPE } from './HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Main')\r\nexport class Main extends Component {\r\n\t@property(Node) rootPortrait: Node = null;\r\n\t@property(Node) rootLandscape: Node = null;\t\r\n\t@property(Canvas) canvasLogin: Node = null;\t\r\n\r\n\t@property version: string = '1';\r\n\r\n\tprivate _root: Node = null;\r\n\r\n\tprivate _login: UiLogin = null;\r\n\tprivate _join: UiJoinPlayer = null;\r\n\tprivate _loginPopup: LoginSystemPopup = null;\r\n\tprivate _lableVersion: Label = null;\r\n\r\n\tprivate _isChildrenRegisted: boolean = false;\r\n\r\n\tprotected onLoad(): void {\r\n\t\tGameManager.Instance().Init();\r\n\t\tGameManager.Instance().SetVersion( this.version );\r\n\t\tGameManager.Instance().SetDeviceType( ENUM_DEVICE_TYPE.MOBILE_PORTRAIT );\r\n\r\n\t\tthis.rootPortrait.active = false;\r\n\t\tthis.rootLandscape.active = false;\r\n\r\n\t\tlet Info: any = GameManager.Instance().GetInfo();\r\n\t\tswitch ( Info.device ) {\r\n\t\t\tcase ENUM_DEVICE_TYPE.MOBILE_PORTRAIT:\r\n\t\t\t\tthis._root = this.rootPortrait;\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase ENUM_DEVICE_TYPE.PC_LANDSCAPE:\r\n\t\t\t\tthis._root = this.rootLandscape;\r\n\t\t\tbreak;\t\t\t\t\r\n\t\t}\r\n\r\n\t\tthis.RegisterChildren();\r\n\t\tthis.Init();\r\n\r\n\t\tthis._root.active = true;\r\n\t}\r\n\r\n\tprivate Init() {\r\n\t\tif ( this._login != null ) {\r\n\t\t\tthis._login.init( this );\r\n\t\t}\r\n\r\n\t\tif ( this._join != null ) {\r\n\t\t\tthis._join.init( this );\r\n\t\t}\r\n\r\n\t\tif ( this._loginPopup != null ) {\r\n\t\t\tthis._loginPopup.initialize();\r\n\t\t}\r\n\r\n\t\tif ( this._lableVersion != null ) {\r\n\t\t\tthis._lableVersion.string = 'VERSION: ' + GameManager.Instance().GetVersion();\t\t\t\r\n\t\t\tthis._lableVersion.node.active = true;\r\n\t\t}\r\n\r\n\t\tGameManager.Instance().SetCurrentScene( ENUM_CURRENT_SCENE.LOGIN_SCENE );\r\n\t\tthis._login.show();\r\n\r\n\t\tNetworkManager.Instance().Initialize();\r\n\t}\r\n\r\n\tpublic onShowJoinMember() {\r\n\t\tthis._login.hide();\r\n\t\tthis._join.show();\r\n\t}\r\n\r\n\tpublic onShowLogin() {\r\n\t\tthis._join.hide();\r\n\t\tthis._login.show();\r\n\t}\r\n\r\n\tprivate RegisterChildren() {\r\n\t\tif ( this._root == null || this._isChildrenRegisted == true ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._login = this._root.getChildByPath('LOGIN').getComponent(UiLogin);\r\n\t\tif ( this._login != null ) {\r\n\t\t\tthis._login.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis._join = this._root.getChildByPath('JOIN').getComponent(UiJoinPlayer);\r\n\t\tif ( this._join != null ) {\r\n\t\t\tthis._join.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis._loginPopup = this._root.getChildByPath('SYSTEM_POPUP').getComponent(LoginSystemPopup);\r\n\t\tif ( this._loginPopup != null ) {\r\n\t\t\tthis._loginPopup.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis._lableVersion = this._root.getChildByPath('LABEL_VERSION').getComponent(Label);\r\n\t\tif ( this._lableVersion != null ) {\r\n\t\t\tthis._lableVersion.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis._isChildrenRegisted = true;\r\n\t}\r\n}\r\n\r\n\r\n","// @ts-ignore\r\nimport ColySeus from \"db://colyseus-sdk/colyseus.js\"\r\nimport * as cc from \"cc\";\r\nimport { _decorator } from 'cc';\r\nimport { GameManager } from \"./GameManager\";\r\nimport { ENUM_LEAVE_REASON } from \"./HoldemDefines\";\r\n\r\nconst { ccclass } = cc._decorator;\r\n\r\nexport enum ENUM_RESULT_CODE {\r\n\tDISCONNECT_SERVER = -2,\r\n\tUNKNOWN_FAIL = -1,\r\n    SUCCESS = 0,\r\n    EXPIRED_SESSION = 1,\r\n}\r\n\r\nexport enum HOLDEM_SERVER_TYPE {\r\n\tAPI_SERVER = 0,\r\n\tAPI_SERVER_SUB = 1,\t\r\n\tGAME_SERVER = 2,\r\n\tGAME_SERVER_SUB = 3,\r\n}\r\n\r\n// const apiHost: string = '127.0.0.1';\r\n// const gameHost: string = '127.0.0.1';\r\n\r\nconst apiHost: string = '43.207.193.204';\r\nconst gameHost: string = '43.207.193.204';\r\n\r\nconst apiPort: number = 7500;\r\nconst apiPort_sub: number = 7510;\r\n\r\nconst gamePort: number = 7600;\r\nconst gamePort_sub: number = 7610;\r\n\r\n// const apiHost: string = 'hw-123.com';\r\n// const apiPort: number = 7500;\r\n\r\n// const gameHost: string = 'hw-123.com';\r\n// const gamePort: number = 7510;\r\n\r\n// const apiHost: string = '43.207.193.204';\r\n// const apiPort: number = 7500;\r\n\r\n// const gameHost: string = '43.207.193.204';\r\n// const gamePort: number = 7510;\r\n\r\n// const apiHost: string = '18.183.95.34';\r\n// const apiPort: number = 2600;\r\n\r\n// const gameHost: string = '18.183.95.34';\r\n// const gamePort: number = 2568;\r\n\r\n@ccclass('NetworkManager')\r\nexport class NetworkManager extends cc.Component {\r\n    private static _instance : NetworkManager = null;\r\n\r\n    useSSL = false;\r\n\tclient!: Colyseus.Client;\r\n\troom!: Colyseus.Room;\r\n\r\n\tpublic leaveReason : number = -1;\r\n\r\n\tprivate user : any = null;\r\n\tprivate setting: any = null;\r\n\tprivate statics: any = null;\r\n\tprivate config: any = null;\r\n\tprivate store: any = null;\t\r\n\tprivate token: string = null;\r\n\tprivate API_SERVER: HOLDEM_SERVER_TYPE = HOLDEM_SERVER_TYPE.API_SERVER;\r\n\tprivate GAME_SERVER: HOLDEM_SERVER_TYPE = HOLDEM_SERVER_TYPE.GAME_SERVER;\r\n\tprivate api_port: number = apiPort;\r\n\tprivate game_port: number = gamePort;\r\n\tprivate user_id: number = null;\r\n\r\n    public static Instance() : NetworkManager\r\n\t{\r\n\t\tif(null == this._instance){\r\n\t\t\tthis._instance = new NetworkManager();\r\n\t\t}\r\n\t\t\r\n\t\treturn this._instance;\r\n\t}\r\n\r\n\tpublic Initialize() {\r\n\t\tthis.token = '';\t\t\r\n\t}\r\n\r\n\tpublic async Init( version: string, onSuccess: ( res: any )=>void, onFail: (msg: any )=> void ) {\r\n\t\tlet result_api: string = null;\r\n\t\tlet error: string = null;\r\n\t\tthis.token = '';\r\n\r\n\t\tawait this.Post( HOLDEM_SERVER_TYPE.API_SERVER, '/check', {\r\n\t\t\tversion: version,\r\n\t\t} )\r\n\t\t.then( (res: string)=> {\r\n\t\t\tresult_api = res;\r\n\t\t})\r\n\t\t.catch( (err: any)=>{\r\n\t\t\terror = err;\r\n\t\t});\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\terror = null;\r\n\t\t\tawait this.Post( HOLDEM_SERVER_TYPE.API_SERVER_SUB, '/check', {\r\n\t\t\t\tversion: version,\r\n\t\t\t} )\r\n\t\t\t.then( (res: string)=> {\r\n\t\t\t\tresult_api = res;\r\n\t\t\t})\r\n\t\t\t.catch( (err: any)=>{\r\n\t\t\t\terror = err;\r\n\t\t\t});\r\n\r\n\t\t\tif ( error != null ) {\r\n\t\t\t\tonFail({\r\n\t\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\t\tmsg: 'DISCONNECT_SERVER',\r\n\t\t\t\t});\t\t\t\r\n\t\t\t\treturn;\t\r\n\t\t\t}\r\n\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER_SUB;\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result_api );\r\n\t\tif( obj == null ){\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'JSON_PARSE_ERROR',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.code != ENUM_RESULT_CODE.SUCCESS ) {\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'VERSION_MISMATCH',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess( {\r\n\t\t\tcode: ENUM_RESULT_CODE.SUCCESS,\r\n\t\t\tobj: obj,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic logout() {\r\n\t\tthis.user = null;\r\n\t\tthis.setting = null;\r\n\t\tthis.config = null;\r\n\t\tthis.store = null;\r\n\t\tthis.user_id = -1;\r\n\t\tthis.token = '';\r\n\t}\r\n\r\n\tpublic async reqTOKEN_VERIFY( onSUCCESS:(res: any)=>void , onFAIL:(msg: any)=>void) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet token = this.token;\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\t\tawait this.Post( this.API_SERVER, '/token/verify', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: token,\r\n\t\t} )\r\n\t\t.then( (res: string)=> {\r\n\t\t\tresult = res;\r\n\t\t})\r\n\t\t.catch( (err: any)=>{\r\n\t\t\tlet parsedError = JSON.parse ( err );\r\n\t\t\tif ( parsedError != null ) {\r\n\t\t\t\terror = parsedError.msg;\r\n\t\t\t} \r\n\t\t});\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFAIL( 'RESULT_NULL' );\t\t\t\r\n\t\t}\r\n\r\n\t\tlet obj: any = JSON.parse( result );\r\n\t\tif ( obj == null ) {\r\n\t\t\treturn onFAIL( 'RES_PARSED_ERROR' );\t\t\t\t\t\t\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\r\n\t\tif (obj.statics != null ) {\r\n\t\t\tthis.statics = obj.static;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(obj);\r\n\t}\t\r\n\r\n\tpublic async reqCHECK_VERSION( version: number, onSuccess:(res: any)=>void , onFail:(msg: any)=>void) {\r\n\t\tawait this.Post( this.API_SERVER, '/check', {\r\n\t\t\tversion: version,\r\n\t\t} )\r\n\t\t.then( (res: string)=> {\r\n\r\n\t\t})\r\n\t\t.catch( (err: any)=>{\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tpublic async reqCHECK_TICKETS( ticket_id: any, onSUCCESS : (res : any) => void, onFAIL : (err : any) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/store/ticket/check', {\r\n\t\t\tticket_id: ticket_id,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFAIL( 'RESULT_NULL' );\t\t\t\r\n\t\t}\r\n\r\n\t\tlet obj: any = JSON.parse( result );\r\n\t\tif ( obj == null ) {\r\n\t\t\treturn onFAIL( 'RES_PARSED_ERROR' );\t\t\t\t\t\t\r\n\t\t}\r\n\r\n\t\tonSUCCESS( {\r\n\t\t\tcode: obj.code,\r\n\t\t\tmsg: obj.msg,\r\n\t\t});\r\n\t}\r\n\r\n    public async reqLOGIN_HOLDEM( login_id: string, password: string, onSuccess : (res : any) => void, onFail : (err : any) => void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\t\tlet isConnect: boolean = true;\r\n\t\tlet version: string = GameManager.Instance().GetVersion();\r\n\t\tlet platform: string = cc.sys.platform;\r\n\t\tlet os: string = cc.sys.os;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/login', {\r\n\t\t\tlogin_id: login_id,\r\n\t\t\tpassword: password,\r\n\t\t\tversion: version,\r\n\t\t\tplatform: platform,\r\n\t\t\tos: os,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif ( !isConnect ) {\r\n\t\t\tif ( this.API_SERVER == HOLDEM_SERVER_TYPE.API_SERVER ) {\r\n\t\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER_SUB;\r\n\t\t\t} else {\r\n\t\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER;\r\n\t\t\t}\r\n\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif( error != null ) {\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: error,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif( result == null || result == undefined ) {\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'NO_USER',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\t\tif(null == obj){\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'JSON_PARSE_ERROR',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.token != null ) {\r\n\t\t\tthis.token = obj.token;\r\n\t\t}\r\n\r\n\t\tthis.user_id = obj.id;\r\n\t\tonSuccess( {\r\n\t\t\tcode: obj.code,\r\n\t\t\tmsg: obj.msg,\r\n\t\t\tobj: obj,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic async reqJOIN_REQUEST( onSuccess : (res : any) => void, onFail : (err : any) => void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\t\tlet isConnect: boolean = true;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/join_request', {\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = res;\r\n\t\t}).catch( function( err: any ) {\r\n\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tif ( !isConnect ) {\r\n\t\t\tif ( this.API_SERVER == HOLDEM_SERVER_TYPE.API_SERVER ) {\r\n\t\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER_SUB;\r\n\t\t\t} else {\r\n\t\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER;\r\n\t\t\t}\r\n\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/join_request', {\r\n\t\t\t} ).then(( res: string ) => {\r\n\t\t\t\tisConnect = true;\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( function( err: any ) {\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\tisConnect = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tif ( !isConnect ) {\r\n\t\t\tonFail(ENUM_RESULT_CODE.DISCONNECT_SERVER);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif( error != null ) {\r\n\t\t\tonFail(ENUM_RESULT_CODE.UNKNOWN_FAIL);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(ENUM_RESULT_CODE.SUCCESS);\r\n\t}\r\n\r\n    async getDATA( user_id: number, onSuccess : (res : any) => void, onFail : (msg : string) => void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/getData\", {\r\n\t\t\tuser_id: user_id,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== error ) {\r\n\t\t\treturn onFail( error );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail(\"USER_DATA_IS_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_ERROR\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (obj.user != null ) {\r\n\t\t\tthis.user = obj.user;\r\n\t\t}\r\n\r\n\t\tif (obj.setting != null ) {\r\n\t\t\tthis.setting = obj.setting;\r\n\t\t}\r\n\r\n\t\tif (obj.conf != null ) {\r\n\t\t\tthis.config = obj.conf;\r\n\t\t}\r\n\r\n\t\tonSuccess( obj );\r\n\t}\r\n\r\n\tasync getPOPUPS( onSUCCESS : (res : any) => void, onFAIL : (msg : string) => void) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet store_id = this.user.store_id;\r\n\t\tlet token = this.token;\r\n\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/store/popups/get\", {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tstore_id: store_id,\r\n\t\t\ttoken: token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== error ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFAIL(\"USER_DATA_IS_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFAIL(\"JSON_PARSE_ERROR\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS( obj );\r\n\t}\r\n\t\r\n    async getSTATICS( user_id: number, onSuccess : (res : any) => void, onFail : (msg : string) => void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/statics/get\", {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== error ) {\r\n\t\t\treturn onFail( error );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail(\"USER_DATA_IS_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_ERROR\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\r\n\t\tif (obj.statics != null ) {\r\n\t\t\tthis.statics = obj.static;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async reqREFRESH( onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/refresh\", {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.user != null ) {\r\n\t\t\tthis.user = result.user;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\r\n\t\r\n\tpublic async reqREAD_QNA( id: any, onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/qna/read\", {\r\n\t\t\tid: id,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\r\n\t\r\n\tpublic async reqDELETE_QNA( id: any, onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/qna/delete\", {\r\n\t\t\tid: id,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\t\t\r\n\t\r\n\r\n\tpublic async getTABLE_LIST( onSuccess: (tables: any)=>void, onFail: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet version = GameManager.Instance().GetVersion();\r\n\r\n\t\tawait this.Post( this.GAME_SERVER, \"/tables/get\", {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t\tversion: version,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif ( isConnect == false) {\r\n\t\t\t\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'VERSION_MISMATCH') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_VERSION_MISMATCH );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(result);\r\n\t}\r\n\r\n\tpublic async reqENTER_TABLE( table_id: number, onSuccess : ( room: ColySeus.Room, res: any ) => void, onFail : ( err ) => void){\r\n\t\t\r\n\t\tlet result: any = null;\r\n\t\tlet reservation: string = null;\r\n\t\tlet error: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet version = GameManager.Instance().GetVersion();\r\n\r\n\t\tawait this.Post( this.GAME_SERVER, \"/tables/enter\", {\r\n\t\t\ttable_id: table_id,\r\n\t\t\tuser_id: this.user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t\tversion: version,\r\n\r\n\t\t}).then((res: string) => {\r\n\t\t\tresult = res;\r\n\t\t\t\r\n\t\t}).catch(function (err: any) {\r\n\t\t\tif (0 === err.length) {\r\n\t\t\t\treturn error = \"NETWORK ERROR\";\r\n\t\t\t}\r\n\r\n\t\t\terr = JSON.parse(err);\r\n\t\t\terror = err.msg;\r\n\t\t});\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'UNKNOWN_ERROR'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'RESERVATION_DATA_IS_INVALID'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tresult = JSON.parse(result);\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'JSON_PARSE_ERROR'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'DISABLE_ACCOUNT') {\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'DISABLE_ACCOUNT',\r\n\t\t\t});\t\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'VERSION_MISMATCH') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_VERSION_MISMATCH );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n\t\t\tthis.client = new ColySeus.Client(`${this.useSSL ? \"wss\" : \"ws\"}://${gameHost}${([443, 80].includes( this.game_port ) || this.useSSL) ? \"\" : `:${ this.game_port }`}`);\r\n\t\t\tthis.client.consumeSeatReservation( result[\"seatReservation\"]).then( (room) => {\r\n\t\t\t\tthis.room = room;\r\n\t\t\t\tonSuccess( this.room, result );\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tonFail({\r\n\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\terrorCode: e.code,\r\n\t\t\t\t\tmsg: e.msg,\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tswitch ( result.msg ) {\r\n\t\t\t\tcase 'NOT_ENOUGHT_BALANCE':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'NOT_ENOUGHT_BALANCE',\t\t\t\t\t\t\r\n\t\t\t\t\t\tbalance: result.balance,\r\n\t\t\t\t\t\tbuyin: result.buyin,\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'DUPLICATE_LOGIN':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'DUPLICATE_LOGIN',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TABLE_DUPLICATE_IP':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'TABLE_DUPLICATE_IP',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tcase 'INCORRECT_TABLE_INFO':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'INCORRECT_TABLE_INFO',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TABLE_IS_FULL':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'TABLE_IS_FULL',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'UNKNOWN_FAIL',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync reqCOMPANY( onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\r\n\t\tawait this.Post(this.API_SERVER, '/store/company', {\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORK_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.store != null ) {\r\n\t\t\tthis.store = obj.store;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\t\r\n\t\r\n\tasync getSTORE( onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet store_id = this.user.store_id;\r\n\r\n\t\tawait this.Post(this.API_SERVER, '/store/get', {\r\n\t\t\tstore_id: store_id,\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORK_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.store != null ) {\r\n\t\t\tthis.store = obj.store;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\t\r\n\tasync getCHARGE_REQUESTS( onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/store/chargeRequest/get', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\t\r\n\tasync getTRANSFER_REQUESTS( onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post(this.API_SERVER, '/store/transferRequest/get', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\t\t\t\r\n\r\n\tasync reqCHARGE_REQUEST( data: any, onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet amount = data.amount;\r\n\t\tlet holder = data.holder;\r\n\t\tlet user_id = this.user.id;\r\n\t\t\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/store/charge/req', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tamount: amount,\r\n\t\t\tholder: holder,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif ( obj != null && obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\t\r\n\tasync reqTRANSFER_REQUEST( data: any, onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/store/transfer/req', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tvalue: data.value,\r\n\t\t\tpassword: data.password,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\t\tif ( obj != null && obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.user != null ) {\r\n\t\t\tthis.user = obj.user;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\t\t\t\r\n\r\n\tasync getSETTING( user_id: any, onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/setting/get', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.setting != null ) {\r\n\t\t\tthis.setting = obj.setting;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async reqJOIN_MEMBER( user: any, onSUCCESS:(user: any)=>void, onFAIL:(err: any)=>void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\t\tlet isConnect = false;\r\n\t\tlet platform: string = cc.sys.platform;\r\n\t\tlet os: string = cc.sys.os;\t\t\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, \"/users/join\", {\r\n\t\t\t\tuser: user,\r\n\t\t\t\tplatform: platform,\r\n\t\t\t\tos: os,\r\n\t\t\t}).then(( res: string ) => {\r\n\t\t\t\tisConnect = true;\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( function( err: any ) {\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\tisConnect = false;\t\t\t\t\t\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR'\r\n\t\t\t\t}\t\r\n\t\t\t\terr = JSON.parse( err );\r\n\t\t\t\terror = err.msg;\r\n\t\t\t});\r\n\t\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\tif ( error != null ) {\r\n\t\t\t\treturn onFAIL(error);\r\n\t\t\t}\r\n\t\t\treturn onFAIL(error);\t\t\t\t\t\t\r\n\t\t}\r\n\r\n\t\tif ( error !== null ) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFAIL('CREATE_USER_ERROR');\r\n\t\t}\r\n\r\n\t\tlet obj: any = JSON.parse( result );\r\n\t\tif ( obj == null ) {\r\n\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t}\r\n\r\n\t\tonSUCCESS(obj);\r\n\t}\r\n\r\n\tpublic async reqCHECK_LOGIN_ID( login_id: string, onSUCCESS:( res: any )=>void, onFAIL:( err: any )=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/check/login_id', { login_id: login_id }\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async reqCHECK_NICKNAME( nickname: string, onSUCCESS:( res: any )=>void, onFAIL:( err: any )=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/check/nickname', { nickname: nickname }\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\t\r\n\r\n\tpublic async reqPOINT_TRANSFER( data: any, onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = data.user_id;\r\n\t\tlet value = data.value;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/point/transfer', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\tvalue: value,\r\n\t\t\t\ttoken: this.token, \r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( obj.user != null ) {\r\n\t\t\t\t\tthis.user = obj.user;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async getPOINT_TRANSFERS( onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/point/transferLog', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\ttoken: this.token,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic async reqGET_QNA( onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet token = this.token;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/qna/get', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\ttoken: token,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async reqSEND_QNA( data: any, onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tlet token = this.token;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post(this.API_SERVER, '/users/qna/send', {\r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\ttoken: token,\r\n\t\t\t\tdata: data,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\t\t\t\r\n\t\r\n\r\n\tpublic async getPOINT_RECEIVES(onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/point/receiveLog', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\ttoken: this.token,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n    getQueryStringParams = function() {\r\n\t\tlet a = window.location.search.substr( 1 ).split( \"&\" );\r\n\t\tif( a.length === 0 ) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\tlet b = {};\r\n\t\tfor( let i = 0; i < a.length; ++i ) {\r\n\t\t\tlet p = a[ i ].split( \"=\", 2 );\r\n\t\t\tif( p.length == 1 ) {\r\n\t\t\t\tb[ p[ 0 ] ] = \"\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tb[ p[ 0 ] ] = decodeURIComponent( p[ 1 ].replace( /\\+/g, \" \" ) );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn b;\r\n\t};\r\n\r\n    public GetUser() : any{\r\n\t\treturn this.user;\r\n\t}\r\n\r\n\tpublic GetSetting() : any {\r\n\t\treturn this.setting;\r\n\t}\r\n\r\n\tpublic GetConfig(): any {\r\n\t\treturn this.config;\r\n\t}\r\n\r\n\tpublic async updateUSER_AVATAR( avatar: number, onSuccess: (res)=> void , onFail: (err)=> void ) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/updateAvatar', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tavatar: avatar,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.user != null ) {\r\n\t\t\tthis.user = obj.user;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async updateUSER_SETTING( selected: any, onSuccess: (res)=> void, onFail: (err)=> void ) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet result: string = '';\r\n\t\tlet setting: any = selected;\r\n\t\tlet errMessage: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/setting/update', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tsetting: setting,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.setting != null ) {\r\n\t\t\tthis.setting = obj.setting;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async getUSER_FromDB( onSuccess: (res)=> void, onFail: (err)=> void ) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet result: string = '';\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/get', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn error = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== error ) {\r\n\t\t\treturn onFail( error );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.user != null ) {\r\n\t\t\tthis.user = obj.user;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async reqCHECK_GAME_SERVER( onSuccess: (res)=> void, onFail: (err)=> void ) {\r\n\t\tlet game_servers: any[] = [];\r\n\r\n\t\tawait this.Post( HOLDEM_SERVER_TYPE.GAME_SERVER, '/check', {\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tgame_servers.push({\r\n\t\t\t\tserver: HOLDEM_SERVER_TYPE.GAME_SERVER,\r\n\t\t\t\tport: gamePort,\r\n\t\t\t});\r\n\t\t}).catch( function( err: any ) {\r\n\t\t} );\r\n\r\n\t\tawait this.Post( HOLDEM_SERVER_TYPE.GAME_SERVER_SUB, '/check', {\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tgame_servers.push({\r\n\t\t\t\tserver: HOLDEM_SERVER_TYPE.GAME_SERVER_SUB,\r\n\t\t\t\tport: gamePort_sub,\r\n\t\t\t});\t\t\t\r\n\t\t}).catch( function( err: any ) {\r\n\t\t} );\r\n\r\n\t\tif ( game_servers.length > 0 ) {\r\n\t\t\tthis.GAME_SERVER = game_servers[0].server;\r\n\t\t\tthis.game_port = game_servers[0].port;\r\n\t\t} else {\r\n\t\t\tthis.GAME_SERVER = HOLDEM_SERVER_TYPE.GAME_SERVER;\r\n\t\t\tthis.game_port = gamePort;\r\n\t\t}\r\n\t\tonSuccess( this.GAME_SERVER );\r\n\t}\r\n\r\n\tprivate Post( type:HOLDEM_SERVER_TYPE , url, params ) {\r\n\t\treturn new Promise( ( resolve, reject ) => {\r\n\t\t\tlet xhr = new XMLHttpRequest();\r\n\r\n\t\t\txhr.onreadystatechange = function() {\r\n\r\n\t\t\t\tif( xhr.readyState === 4 && ( xhr.status >= 200 && xhr.status < 300 ) ) {\r\n\t\t\t\t\tlet respone: string = xhr.responseText;\r\n\t\t\t\t\tresolve( respone );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif( xhr.readyState === 4 && ( xhr.status != 200 ) ) {\r\n\t\t\t\t\tlet respone: string = xhr.responseText;\r\n\t\t\t\t\treject( respone );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\txhr.onerror = function() {\r\n\t\t\t\tif ( xhr.readyState != 4 ) {\r\n\t\t\t\t\treject( 'NETWORK_REQUEST_FAILED' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet fullUrl: string = '';\r\n\t\t\tswitch ( type ) {\r\n\t\t\t\tcase HOLDEM_SERVER_TYPE.API_SERVER:\r\n\t\t\t\t\tfullUrl = `http://${ apiHost }:${ apiPort }`;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase HOLDEM_SERVER_TYPE.API_SERVER_SUB:\r\n\t\t\t\t\tfullUrl = `http://${ apiHost }:${ apiPort_sub }`;\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase HOLDEM_SERVER_TYPE.GAME_SERVER\t:\r\n\t\t\t\t\tfullUrl = `http://${ gameHost }:${ gamePort }`;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase HOLDEM_SERVER_TYPE.GAME_SERVER_SUB\t:\r\n\t\t\t\t\tfullUrl = `http://${ gameHost }:${ gamePort_sub }`;\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t}\r\n\t\t\tfullUrl += url;\r\n\r\n\t\t\txhr.open( \"POST\", fullUrl, true );\r\n\t\t\txhr.timeout = 10000;\r\n\t\t\txhr.setRequestHeader( \"Content-Type\", \"application/json\" );\r\n\t\t\txhr.send( JSON.stringify( params ) );\r\n\t\t} );\r\n\t}\r\n}\r\n\r\n\r\n","import { _decorator, Component, Label, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PlayerActionInformation')\nexport class PlayerActionInformation extends Component {\n    @property(Label) labelMinBet: Label = null;    \n    @property(Label) labelCurBet: Label = null;    \n    @property(Label) labelPlayerChips: Label = null;\n    @property(Label) labelMaxChips: Label = null;\n    @property(Label) labelMaxBet: Label = null;\n    @property(Label) labelMinRaise: Label = null;\n    @property(Label) labelCurrentPot: Label = null;\n    @property(Label) labelCurrentBet: Label = null;\n\n    public Init() {\n        this.labelMinBet.string = 'minBet: ';\n        this.labelCurBet.string = 'currBet: ';    \n        this.labelPlayerChips.string = 'chips: ';\n        this.labelMaxChips.string = 'maxChips: ';\n        this.labelMaxBet.string = 'maxBet: ' ;\n        this.labelMinRaise.string = 'minRaise: ';\n        this.labelCurrentPot.string = 'currentPot: ';\n        this.labelCurrentBet.string = 'currentBet: ';\n\n        this.node.active = false;\n    }\n\n    public Set(minBet: number, info: any ) {\n\n        this.labelMinBet.string = 'minBet: ' + minBet.toString() + ', ';\n        this.labelCurBet.string = 'currBet: ' + info.currBet.toString() + ', ';\n        this.labelPlayerChips.string = 'chips: ' + info.chips.toString() + ', ';\n        this.labelMaxBet.string = 'maxBet: ' + info.maxBet.toString() + ', ';\n        this.labelMaxChips.string = 'maxChip: ' + info.maxChip.toString() + ', ';\n        this.labelMinRaise.string = 'minRaise: ' + info.minRaise.toString() + ', ';\n    }\n\n\n    public Show() {\n        this.node.active = true;\n\n    }\n\n    public Hide() {\n        this.node.active = false;\n    }\n}\n\n","/**\r\n * pokersolver v2.1.2\r\n * Copyright (c) 2016, James Simpson of GoldFire Studios\r\n * http://goldfirestudios.com\r\n */\r\n\r\n\r\n// NOTE: The 'joker' will be denoted with a value of 'O' and any suit.\r\nvar values = ['1', '2', '3', '4', '5', '6', '7', '8', '9', 'T', 'J', 'Q', 'K', 'A'];\r\n\r\n/**\r\n * Base Card class that defines a single card.\r\n */\r\nclass Card {\r\n  value;\r\n  suit;\r\n  rank;\r\n  wildValue;\r\n\r\n  constructor(str) {\r\n    this.value = str.substr(0, 1);\r\n    this.suit = str.substr(1, 1).toLowerCase();\r\n    this.rank = values.indexOf(this.value);\r\n    this.wildValue = str.substr(0, 1);\r\n  }\r\n\r\n  toString() {\r\n    return this.wildValue.replace('T', '10') + this.suit;\r\n  }\r\n\r\n  static sort(a, b) {\r\n    if (a.rank > b.rank) {\r\n      return -1;\r\n    } else if (a.rank < b.rank) {\r\n      return 1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Base Hand class that handles comparisons of full hands.\r\n */\r\nclass Hand {\r\n  cardPool = [];\r\n  cards = [];\r\n  suits = {};\r\n  values = [];\r\n  wilds = [];\r\n  name = null;\r\n  game = null;\r\n  sfLength = 0;\r\n  alwaysQualifies = true;\r\n  rank = null;\r\n  isPossible = false;\r\n  descr = '';\r\n  sfQualify = 0;\r\n\r\n  constructor(cards, name, game, canDisqualify) {\r\n    this.cardPool = [];\r\n    this.cards = [];\r\n    this.suits = {};\r\n    this.values = [];\r\n    this.wilds = [];\r\n    this.name = name;\r\n    this.game = game;\r\n    this.sfLength = 0;\r\n    this.alwaysQualifies = true;\r\n\r\n    // Qualification rules apply for dealer's hand.\r\n    // Also applies for single player games, like video poker.\r\n    if (canDisqualify && this.game.lowestQualified) {\r\n      this.alwaysQualifies = false;\r\n    }\r\n\r\n    // Ensure no duplicate cards in standard game.\r\n    var myCards = new Set(cards);\r\n    if (game.descr === 'standard' && myCards.size !== cards.length) {\r\n      throw new Error('Duplicate cards');\r\n    }\r\n\r\n    // Get rank based on game.\r\n    var handRank = this.game.handValues.length;\r\n    for (var i = 0; i < this.game.handValues.length; i++) {\r\n      if (this.game.handValues[i] === this.constructor) {\r\n        break;\r\n      }\r\n    }\r\n    this.rank = handRank - i;\r\n\r\n    // Set up the pool of cards.\r\n    this.cardPool = cards.map(function (c) {\r\n      return (typeof c === 'string') ? new Card(c) : c;\r\n    });\r\n\r\n    // Fix the card ranks for wild cards, and sort.\r\n    for (var i = 0; i < this.cardPool.length; i++) {\r\n      card = this.cardPool[i];\r\n      if (card.value === this.game.wildValue) {\r\n        card.rank = -1;\r\n      }\r\n    }\r\n    this.cardPool = this.cardPool.sort(Card.sort);\r\n\r\n    // Create the arrays of suits and values.\r\n    var obj, obj1, key, key1, card;\r\n    for (var i = 0; i < this.cardPool.length; i++) {\r\n      // Make sure this value already exists in the object.\r\n      card = this.cardPool[i];\r\n\r\n      // We do something special if this is a wild card.\r\n      if (card.rank === -1) {\r\n        this.wilds.push(card);\r\n      } else {\r\n        (obj = this.suits)[key = card.suit] || (obj[key] = []);\r\n        (obj1 = this.values)[key1 = card.rank] || (obj1[key1] = []);\r\n\r\n        // Add the value to the array for that type in the object.\r\n        this.suits[card.suit].push(card);\r\n        this.values[card.rank].push(card);\r\n      }\r\n    }\r\n\r\n    this.values.reverse();\r\n    this.isPossible = this.solve();\r\n  }\r\n\r\n  /**\r\n   * Compare current hand with another to determine which is the winner.\r\n   * @param  {Hand} a Hand to compare to.\r\n   * @return {Number}\r\n   */\r\n  compare(a) {\r\n    if (this.rank < a.rank) {\r\n      return 1;\r\n    } else if (this.rank > a.rank) {\r\n      return -1;\r\n    }\r\n\r\n    var result = 0;\r\n    for (var i = 0; i <= 4; i++) {\r\n      if (this.cards[i] && a.cards[i] && this.cards[i].rank < a.cards[i].rank) {\r\n        result = 1;\r\n        break;\r\n      } else if (this.cards[i] && a.cards[i] && this.cards[i].rank > a.cards[i].rank) {\r\n        result = -1;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Determine whether a hand loses to another.\r\n   * @param  {Hand} hand Hand to compare to.\r\n   * @return {Boolean}\r\n   */\r\n  loseTo(hand) {\r\n    return (this.compare(hand) > 0);\r\n  }\r\n\r\n  /**\r\n   * Determine the number of cards in a hand of a rank.\r\n   * @param  {Number} val Index of this.values.\r\n   * @return {Number} Number of cards having the rank, including wild cards.\r\n   */\r\n  getNumCardsByRank(val) {\r\n    var cards = this.values[val];\r\n    var checkCardsLength = (cards) ? cards.length : 0;\r\n\r\n    for (var i = 0; i < this.wilds.length; i++) {\r\n      if (this.wilds[i].rank > -1) {\r\n        continue;\r\n      } else if (cards) {\r\n        if (this.game.wildStatus === 1 || cards[0].rank === values.length - 1) {\r\n          checkCardsLength += 1;\r\n        }\r\n      } else if (this.game.wildStatus === 1 || val === values.length - 1) {\r\n        checkCardsLength += 1;\r\n      }\r\n    }\r\n\r\n    return checkCardsLength;\r\n  }\r\n\r\n  /**\r\n   * Determine the cards in a suit for a flush.\r\n   * @param  {String} suit Key for this.suits.\r\n   * @param  {Boolean} setRanks Whether to set the ranks for the wild cards.\r\n   * @return {Array} Cards having the suit, including wild cards.\r\n   */\r\n  getCardsForFlush(suit, setRanks) {\r\n    var cards = (this.suits[suit] || []).sort(Card.sort);\r\n\r\n    for (var i = 0; i < this.wilds.length; i++) {\r\n      var wild = this.wilds[i];\r\n\r\n      if (setRanks) {\r\n        var j = 0;\r\n        while (j < values.length && j < cards.length) {\r\n          if (cards[j].rank === values.length - 1 - j) {\r\n            j += 1;\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n        wild.rank = values.length - 1 - j;\r\n        wild.wildValue = values[wild.rank];\r\n      }\r\n\r\n      cards.push(wild);\r\n      cards = cards.sort(Card.sort);\r\n    }\r\n\r\n    return cards;\r\n  }\r\n\r\n  /**\r\n   * Resets the rank and wild values of the wild cards.\r\n   */\r\n  resetWildCards() {\r\n    for (var i = 0; i < this.wilds.length; i++) {\r\n      this.wilds[i].rank = -1;\r\n      this.wilds[i].wildValue = this.wilds[i].value;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Highest card comparison.\r\n   * @return {Array} Highest cards\r\n   */\r\n  nextHighest() {\r\n    var picks;\r\n    var excluding = [];\r\n    excluding = excluding.concat(this.cards);\r\n\r\n    picks = this.cardPool.filter(function (card) {\r\n      if (excluding.indexOf(card) < 0) {\r\n        return true;\r\n      }\r\n    });\r\n\r\n    // Account for remaining wild card when it must be ace.\r\n    if (this.game.wildStatus === 0) {\r\n      for (var i = 0; i < picks.length; i++) {\r\n        var card = picks[i];\r\n        if (card.rank === -1) {\r\n          card.wildValue = 'A';\r\n          card.rank = values.length - 1;\r\n        }\r\n      }\r\n      picks = picks.sort(Card.sort);\r\n    }\r\n\r\n    return picks;\r\n  }\r\n\r\n  /**\r\n   * Return list of contained cards in human readable format.\r\n   * @return {String}\r\n   */\r\n  toString() {\r\n    var cards = this.cards.map(function (c) {\r\n      return c.toString();\r\n    });\r\n\r\n    return cards.join(', ');\r\n  }\r\n\r\n  /**\r\n   * Return array of contained cards.\r\n   * @return {Array}\r\n   */\r\n  toArray() {\r\n    var cards = this.cards.map(function (c) {\r\n      return c.toString();\r\n    });\r\n\r\n    return cards;\r\n  }\r\n\r\n  /**\r\n   * Determine if qualifying hand.\r\n   * @return {Boolean}\r\n   */\r\n  qualifiesHigh() {\r\n    if (!this.game.lowestQualified || this.alwaysQualifies) {\r\n      return true;\r\n    }\r\n\r\n    return (this.compare(Hand.solve(this.game.lowestQualified, this.game, null)) <= 0);\r\n  }\r\n\r\n  /**\r\n   * Find highest ranked hands and remove any that don't qualify or lose to another hand.\r\n   * @param  {Array} hands Hands to evaluate.\r\n   * @return {Array}       Winning hands.\r\n   */\r\n  static winners(hands) {\r\n    hands = hands.filter(function (h) {\r\n      return h.qualifiesHigh();\r\n    });\r\n\r\n    var highestRank = Math.max.apply(Math, hands.map(function (h) {\r\n      return h.rank;\r\n    }));\r\n\r\n    hands = hands.filter(function (h) {\r\n      return h.rank === highestRank;\r\n    });\r\n\r\n    hands = hands.filter(function (h) {\r\n      var lose = false;\r\n      for (var i = 0; i < hands.length; i++) {\r\n        lose = h.loseTo(hands[i]);\r\n        if (lose) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      return !lose;\r\n    });\r\n\r\n    return hands;\r\n  }\r\n\r\n  /**\r\n   * Build and return the best hand.\r\n   * @param  {Array} cards Array of cards (['Ad', '3c', 'Th', ...]).\r\n   * @param  {String} game Game being played.\r\n   * @param  {Boolean} canDisqualify Check for a qualified hand.\r\n   * @return {Hand}       Best hand.\r\n   */\r\n  static solve(cards, game, canDisqualify) {\r\n    game = game || 'standard';\r\n    game = (typeof game === 'string') ? new Game(game) : game;\r\n    cards = cards || [''];\r\n\r\n    var hands = game.handValues;\r\n    var result = null;\r\n\r\n    for (var i = 0; i < hands.length; i++) {\r\n      result = new hands[i](cards, game, canDisqualify);\r\n      if (result.isPossible) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  solve(): boolean {\r\n      return false;\r\n  }\r\n\r\n  /**\r\n   * Separate cards based on if they are wild cards.\r\n   * @param  {Array} cards Array of cards (['Ad', '3c', 'Th', ...]).\r\n   * @param  {Game} game Game being played.\r\n   * @return {Array} [wilds, nonWilds] Wild and non-Wild Cards.\r\n   */\r\n  static stripWilds(cards, game) {\r\n    var card, wilds, nonWilds;\r\n    cards = cards || [''];\r\n    wilds = [];\r\n    nonWilds = [];\r\n\r\n    for (var i = 0; i < cards.length; i++) {\r\n      card = cards[i];\r\n      if (card.rank === -1) {\r\n        wilds.push(cards[i]);\r\n      } else {\r\n        nonWilds.push(cards[i]);\r\n      }\r\n    }\r\n\r\n    return [wilds, nonWilds];\r\n  }\r\n}\r\n\r\nclass StraightFlush extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'STRAIGHT_FLUSH', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var cards;\r\n    this.resetWildCards();\r\n    var possibleStraight = null;\r\n    var nonCards = [];\r\n\r\n    for (var suit in this.suits) {\r\n      cards = this.getCardsForFlush(suit, false);\r\n      if (cards && cards.length >= this.game.sfQualify) {\r\n        possibleStraight = cards;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (possibleStraight) {\r\n      if (this.game.descr !== 'standard') {\r\n        for (var suit in this.suits) {\r\n          if (possibleStraight[0].suit !== suit) {\r\n            nonCards = nonCards.concat(this.suits[suit] || []);\r\n            nonCards = Hand.stripWilds(nonCards, this.game)[1];\r\n          }\r\n        }\r\n      }\r\n      var straight = new Straight(possibleStraight, this.game, null);\r\n      if (straight.isPossible) {\r\n        this.cards = straight.cards;\r\n        this.cards = this.cards.concat(nonCards);\r\n        this.sfLength = straight.sfLength;\r\n      }\r\n    }\r\n\r\n    if (this.cards[0] && this.cards[0].rank === 13) {\r\n      this.descr = '로열 스트레이트 플러시';\r\n    } else if (this.cards.length >= this.game.sfQualify) {\r\n      this.descr = '스트레이트 플러시' + ' [' + this.cards[0].toString().slice(0, -1) + suit + ']';\r\n    }\r\n\r\n    return this.cards.length >= this.game.sfQualify;\r\n  }\r\n}\r\n\r\nclass RoyalFlush extends StraightFlush {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n    var result = super.solve();\r\n    return result && this.descr === '로얄 스트레이트 플러시';\r\n  }\r\n}\r\n\r\nclass NaturalRoyalFlush extends RoyalFlush {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var i = 0;\r\n    this.resetWildCards();\r\n    var result = super.solve();\r\n    if (result && this.cards) {\r\n      for (i = 0; i < this.game.sfQualify && i < this.cards.length; i++) {\r\n        if (this.cards[i].value === this.game.wildValue) {\r\n          result = false;\r\n          this.descr = '와일드 로얄 플러시';\r\n          break;\r\n        }\r\n      }\r\n      if (i === this.game.sfQualify) {\r\n        this.descr = '로얄 플러시';\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n}\r\n\r\nclass WildRoyalFlush extends RoyalFlush {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var i = 0;\r\n    this.resetWildCards();\r\n    var result = super.solve();\r\n    if (result && this.cards) {\r\n      for (i = 0; i < this.game.sfQualify && i < this.cards.length; i++) {\r\n        if (this.cards[i].value === this.game.wildValue) {\r\n          this.descr = '와일드 로얄 플러시';\r\n          break;\r\n        }\r\n      }\r\n      if (i === this.game.sfQualify) {\r\n        result = false;\r\n        this.descr = '로얄 플러시';\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n}\r\n\r\nclass FiveOfAKind extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'FIVE_CARD', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 5) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 5; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 5));\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 5) {\r\n      this.descr = this.name + ', ' + this.cards[0].toString().slice(0, -1) + '\\'s';\r\n    }\r\n\r\n    return this.cards.length >= 5;\r\n  }\r\n}\r\n\r\nclass FourOfAKindPairPlus extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'Four of a Kind with Pair or Better', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var cards;\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 4) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 4; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length === 4) {\r\n      for (i = 0; i < this.values.length; i++) {\r\n        cards = this.values[i];\r\n        if (cards && this.cards[0].wildValue === cards[0].wildValue) {\r\n          continue;\r\n        }\r\n        if (this.getNumCardsByRank(i) >= 2) {\r\n          this.cards = this.cards.concat(cards || []);\r\n          for (var j = 0; j < this.wilds.length; j++) {\r\n            var wild = this.wilds[j];\r\n            if (wild.rank !== -1) {\r\n              continue;\r\n            }\r\n            if (cards) {\r\n              wild.rank = cards[0].rank;\r\n            } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n              wild.rank = values.length - 2;\r\n            } else {\r\n              wild.rank = values.length - 1;\r\n            }\r\n            wild.wildValue = values[wild.rank];\r\n            this.cards.push(wild);\r\n          }\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 6));\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 6) {\r\n      var type = this.cards[0].toString().slice(0, -1) + '\\'s over ' + this.cards[4].toString().slice(0, -1) + '\\'s';\r\n      this.descr = this.name + ', ' + type;\r\n    }\r\n\r\n    return this.cards.length >= 6;\r\n  }\r\n}\r\n\r\nclass FourOfAKind extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'FOUR_CARD', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 4) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 4; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 4));\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 4) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 4;\r\n      }\r\n\r\n      this.descr = '[ ' + this.cards[0].toString().slice(0, -1) + ' ] 포카드';\r\n    }\r\n\r\n    return this.cards.length >= 4;\r\n  }\r\n}\r\n\r\nclass FourWilds extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'Four Wild Cards', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    if (this.wilds.length === 4) {\r\n      this.cards = this.wilds;\r\n      this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 4));\r\n    }\r\n\r\n    if (this.cards.length >= 4) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 4;\r\n      }\r\n\r\n      this.descr = '포카드';\r\n    }\r\n\r\n    return this.cards.length >= 4;\r\n  }\r\n}\r\n\r\nclass ThreeOfAKindTwoPair extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'Three of a Kind with Two Pair', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var cards;\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 3; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length === 3) {\r\n      for (var i = 0; i < this.values.length; i++) {\r\n        var cards = this.values[i];\r\n        if (cards && this.cards[0].wildValue === cards[0].wildValue) {\r\n          continue;\r\n        }\r\n        if (this.cards.length > 5 && this.getNumCardsByRank(i) === 2) {\r\n          this.cards = this.cards.concat(cards || []);\r\n          for (var j = 0; j < this.wilds.length; j++) {\r\n            var wild = this.wilds[j];\r\n            if (wild.rank !== -1) {\r\n              continue;\r\n            }\r\n            if (cards) {\r\n              wild.rank = cards[0].rank;\r\n            } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n              wild.rank = values.length - 2;\r\n            } else {\r\n              wild.rank = values.length - 1;\r\n            }\r\n            wild.wildValue = values[wild.rank];\r\n            this.cards.push(wild);\r\n          }\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 4));\r\n          break;\r\n        } else if (this.getNumCardsByRank(i) === 2) {\r\n          this.cards = this.cards.concat(cards);\r\n          for (var j = 0; j < this.wilds.length; j++) {\r\n            var wild = this.wilds[j];\r\n            if (wild.rank !== -1) {\r\n              continue;\r\n            }\r\n            if (cards) {\r\n              wild.rank = cards[0].rank;\r\n            } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n              wild.rank = values.length - 2;\r\n            } else {\r\n              wild.rank = values.length - 1;\r\n            }\r\n            wild.wildValue = values[wild.rank];\r\n            this.cards.push(wild);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 7) {\r\n      var type = this.cards[0].toString().slice(0, -1) + '\\'s over ' + this.cards[3].toString().slice(0, -1) + '\\'s & ' + this.cards[5].value + '\\'s';\r\n      this.descr = this.name + ', ' + type;\r\n    }\r\n\r\n    return this.cards.length >= 7;\r\n  }\r\n}\r\n\r\nclass FullHouse extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'FULL_HOUSE', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var cards;\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 3; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length === 3) {\r\n      for (i = 0; i < this.values.length; i++) {\r\n        cards = this.values[i];\r\n        if (cards && this.cards[0].wildValue === cards[0].wildValue) {\r\n          continue;\r\n        }\r\n        if (this.getNumCardsByRank(i) >= 2) {\r\n          this.cards = this.cards.concat(cards || []);\r\n          for (var j = 0; j < this.wilds.length; j++) {\r\n            var wild = this.wilds[j];\r\n            if (wild.rank !== -1) {\r\n              continue;\r\n            }\r\n            if (cards) {\r\n              wild.rank = cards[0].rank;\r\n            } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n              wild.rank = values.length - 2;\r\n            } else {\r\n              wild.rank = values.length - 1;\r\n            }\r\n            wild.wildValue = values[wild.rank];\r\n            this.cards.push(wild);\r\n          }\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 5));\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 5) {\r\n      var type = this.cards[0].toString().slice(0, -1) + ', ' + this.cards[3].toString().slice(0, -1);\r\n      this.descr = '[ ' + type + ' ] 풀 하우스';\r\n    }\r\n\r\n    return this.cards.length >= 5;\r\n  }\r\n}\r\n\r\nclass Flush extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'FLUSH', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.sfLength = 0;\r\n    this.resetWildCards();\r\n\r\n    for (var suit in this.suits) {\r\n      var cards = this.getCardsForFlush(suit, true);\r\n      if (cards.length >= this.game.sfQualify) {\r\n        this.cards = cards;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= this.game.sfQualify) {\r\n      this.descr = '플러시' + ' [' + this.cards[0].toString().slice(0, -1) + suit + ']';\r\n      this.sfLength = this.cards.length;\r\n      if (this.cards.length < this.game.cardsInHand) {\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - this.cards.length));\r\n      }\r\n    }\r\n\r\n    return this.cards.length >= this.game.sfQualify;\r\n  }\r\n}\r\n\r\nclass Straight extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'STRAIGHT', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var card, checkCards;\r\n    this.resetWildCards();\r\n\r\n    // There are still some games that count the wheel as second highest.\r\n    // These games do not have enough cards/wilds to make AKQJT and 5432A both possible.\r\n    if (this.game.wheelStatus === 1) {\r\n      this.cards = this.getWheel();\r\n      if (this.cards.length) {\r\n        var wildCount = 0;\r\n        for (var i = 0; i < this.cards.length; i++) {\r\n          card = this.cards[i];\r\n          if (card.value === this.game.wildValue) {\r\n            wildCount += 1;\r\n          }\r\n          if (card.rank === 0) {\r\n            card.rank = values.indexOf('A');\r\n            card.wildValue = 'A';\r\n            if (card.value === '1') {\r\n              card.value = 'A';\r\n            }\r\n          }\r\n        }\r\n        this.cards = this.cards.sort(Card.sort);\r\n        for (; wildCount < this.wilds.length && this.cards.length < this.game.cardsInHand; wildCount++) {\r\n          card = this.wilds[wildCount];\r\n          card.rank = values.indexOf('A');\r\n          card.wildValue = 'A';\r\n          this.cards.push(card);\r\n        }\r\n        this.descr = '스트레이트' + ', Wheel';\r\n        this.sfLength = this.sfQualify;\r\n        if (this.cards[0].value === 'A') {\r\n          this.cards = this.cards.concat(this.nextHighest().slice(1, this.game.cardsInHand - this.cards.length + 1));\r\n        } else {\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - this.cards.length));\r\n        }\r\n        return true;\r\n      }\r\n      this.resetWildCards();\r\n    }\r\n\r\n    this.cards = this.getGaps( null );\r\n\r\n    // Now add the wild cards, if any, and set the appropriate ranks\r\n    for (var i = 0; i < this.wilds.length; i++) {\r\n      card = this.wilds[i];\r\n      checkCards = this.getGaps(this.cards.length);\r\n      if (this.cards.length === checkCards.length) {\r\n        // This is an \"open-ended\" straight, the high rank is the highest possible rank.\r\n        if (this.cards[0].rank < (values.length - 1)) {\r\n          card.rank = this.cards[0].rank + 1;\r\n          card.wildValue = values[card.rank];\r\n          this.cards.push(card);\r\n        } else {\r\n          card.rank = this.cards[this.cards.length - 1].rank - 1;\r\n          card.wildValue = values[card.rank];\r\n          this.cards.push(card);\r\n        }\r\n      } else {\r\n        // This is an \"inside\" straight, the high card doesn't change.\r\n        for (var j = 1; j < this.cards.length; j++) {\r\n          if (this.cards[j - 1].rank - this.cards[j].rank > 1) {\r\n            card.rank = this.cards[j - 1].rank - 1;\r\n            card.wildValue = values[card.rank];\r\n            this.cards.push(card);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      this.cards = this.cards.sort(Card.sort);\r\n    }\r\n    if (this.cards.length >= this.game.sfQualify) {\r\n      this.descr = '스트레이트' + ' [' + this.cards[0].toString().slice(0, -1) + ']';\r\n      this.cards = this.cards.slice(0, this.game.cardsInHand);\r\n      this.sfLength = this.cards.length;\r\n      if (this.cards.length < this.game.cardsInHand) {\r\n        if (this.cards[this.sfLength - 1].rank === 0) {\r\n          this.cards = this.cards.concat(this.nextHighest().slice(1, this.game.cardsInHand - this.cards.length + 1));\r\n        } else {\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - this.cards.length));\r\n        }\r\n      }\r\n    }\r\n\r\n    return this.cards.length >= this.game.sfQualify;\r\n  }\r\n\r\n  /**\r\n   * Get the number of gaps in the straight.\r\n   * @return {Array} Highest potential straight with fewest number of gaps.\r\n   */\r\n  getGaps(checkHandLength) {\r\n    var wildCards, cardsToCheck, i, card, gapCards, cardsList, gapCount, prevCard, diff;\r\n\r\n    var stripReturn = Hand.stripWilds(this.cardPool, this.game);\r\n    wildCards = stripReturn[0];\r\n    cardsToCheck = stripReturn[1];\r\n\r\n    for (i = 0; i < cardsToCheck.length; i++) {\r\n      card = cardsToCheck[i];\r\n      if (card.wildValue === 'A') {\r\n        cardsToCheck.push(new Card('1' + card.suit));\r\n      }\r\n    }\r\n    cardsToCheck = cardsToCheck.sort(Card.sort);\r\n\r\n    if (checkHandLength) {\r\n      i = cardsToCheck[0].rank + 1;\r\n    } else {\r\n      checkHandLength = this.game.sfQualify;\r\n      i = values.length;\r\n    }\r\n\r\n    gapCards = [];\r\n    for (; i > 0; i--) {\r\n      cardsList = [];\r\n      gapCount = 0;\r\n      for (var j = 0; j < cardsToCheck.length; j++) {\r\n        card = cardsToCheck[j];\r\n        if (card.rank > i) {\r\n          continue;\r\n        }\r\n        prevCard = cardsList[cardsList.length - 1];\r\n        diff = (prevCard) ? prevCard.rank - card.rank : i - card.rank;\r\n\r\n        if (diff === null) {\r\n          cardsList.push(card);\r\n        } else if (checkHandLength < (gapCount + diff + cardsList.length)) {\r\n          break;\r\n        } else if (diff > 0) {\r\n          cardsList.push(card);\r\n          gapCount += (diff - 1);\r\n        }\r\n      }\r\n      if (cardsList.length > gapCards.length) {\r\n        gapCards = cardsList.slice();\r\n      }\r\n      if (this.game.sfQualify - gapCards.length <= wildCards.length) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return gapCards;\r\n  }\r\n\r\n  getWheel() {\r\n    var wildCards, cardsToCheck, i, card, wheelCards, wildCount, cardFound;\r\n\r\n    var stripReturn = Hand.stripWilds(this.cardPool, this.game);\r\n    wildCards = stripReturn[0];\r\n    cardsToCheck = stripReturn[1];\r\n\r\n    for (i = 0; i < cardsToCheck.length; i++) {\r\n      card = cardsToCheck[i];\r\n      if (card.wildValue === 'A') {\r\n        cardsToCheck.push(new Card('1' + card.suit));\r\n      }\r\n    }\r\n    cardsToCheck = cardsToCheck.sort(Card.sort);\r\n\r\n    wheelCards = [];\r\n    wildCount = 0;\r\n    for (i = this.game.sfQualify - 1; i >= 0; i--) {\r\n      cardFound = false;\r\n      for (var j = 0; j < cardsToCheck.length; j++) {\r\n        card = cardsToCheck[j];\r\n        if (card.rank > i) {\r\n          continue;\r\n        }\r\n        if (card.rank < i) {\r\n          break;\r\n        }\r\n        wheelCards.push(card);\r\n        cardFound = true;\r\n        break;\r\n      }\r\n      if (!cardFound) {\r\n        if (wildCount < wildCards.length) {\r\n          wildCards[wildCount].rank = i;\r\n          wildCards[wildCount].wildValue = values[i];\r\n          wheelCards.push(wildCards[wildCount]);\r\n          wildCount += 1;\r\n        } else {\r\n          return [];\r\n        }\r\n      }\r\n    }\r\n\r\n    return wheelCards;\r\n  }\r\n}\r\n\r\nclass TwoThreeOfAKind extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'Two Three Of a Kind', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      var cards = this.values[i];\r\n      if (this.cards.length > 0 && this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.cards.concat(cards || []);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 6));\r\n        break;\r\n      } else if (this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.cards.concat(cards);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 6) {\r\n      var type = this.cards[0].toString().slice(0, -1) + '\\'s & ' + this.cards[3].toString().slice(0, -1) + '\\'s';\r\n      this.descr = this.name + ', ' + type;\r\n    }\r\n\r\n    return this.cards.length >= 6;\r\n  }\r\n}\r\n\r\nclass ThreeOfAKind extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'TRIPLE', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 3; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 3));\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 3) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 3;\r\n      }\r\n\r\n      this.descr = '트리플' + ' [ ' + this.cards[0].toString().slice(0, -1) + ' ]';\r\n    }\r\n\r\n    return this.cards.length >= 3;\r\n  }\r\n}\r\n\r\nclass ThreePair extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'THREE_PAIR', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      var cards = this.values[i];\r\n      if (this.cards.length > 2 && this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards || []);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 6));\r\n        break;\r\n      } else if (this.cards.length > 0 && this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards || []);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n      } else if (this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 6) {\r\n      var type = this.cards[0].toString().slice(0, -1) + ', ' + this.cards[2].toString().slice(0, -1) + ', ' + this.cards[4].toString().slice(0, -1);\r\n      this.descr = '트리플' + ' [ ' + type + ' ]';\r\n    }\r\n\r\n    return this.cards.length >= 6;\r\n  }\r\n}\r\n\r\nclass TwoPair extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'TWO_PAIR', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      var cards = this.values[i];\r\n      if (this.cards.length > 0 && this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards || []);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 4));\r\n        break;\r\n      } else if (this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 4) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 4;\r\n      }\r\n\r\n      var type = this.cards[0].toString().slice(0, -1) + ', ' + this.cards[2].toString().slice(0, -1);\r\n      this.descr = '투페어' + '[ ' + type + ' ]';\r\n    }\r\n\r\n    return this.cards.length >= 4;\r\n  }\r\n}\r\n\r\nclass OnePair extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'ONE_PAIR', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(this.values[i] || []);\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 2; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 2));\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 2) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 2;\r\n      }\r\n\r\n      this.descr = '원페어' + ' [ ' + this.cards[0].toString().slice(0, -1) + ' ]';\r\n    }\r\n\r\n    return this.cards.length >= 2;\r\n  }\r\n}\r\n\r\nclass HighCard extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'HIGH_CARD', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.cards = this.cardPool.slice(0, this.game.cardsInHand);\r\n\r\n    for (var i = 0; i < this.cards.length; i++) {\r\n      var card = this.cards[i];\r\n      if (this.cards[i].value === this.game.wildValue) {\r\n        this.cards[i].wildValue = 'A';\r\n        this.cards[i].rank = values.indexOf('A');\r\n      }\r\n    }\r\n\r\n    if (this.game.noKickers) {\r\n      this.cards.length = 1;\r\n    }\r\n\r\n    this.cards = this.cards.sort(Card.sort);\r\n    this.descr = '탑 [' + this.cards[0].toString().slice(0, -1) + ']';\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\n/*\r\n * Base class for handling Pai Gow Poker hands.\r\n * House Way is in accordance with the MGM Grand Casino, Las Vegas NV.\r\n * http://wizardofodds.com/games/pai-gow-poker/house-way/mgm/\r\n * EXCEPTION: With Four of a Kind and S/F, preserve the S/F, just like Three of a Kind.\r\n */\r\nclass PaiGowPokerHelper {\r\n  /*\r\n   * Constructor class.\r\n   * @param {Hand} hand Solved hand against Game 'paigowpokerfull'.\r\n   */\r\n\r\n  baseHand = null;\r\n  hiHand = null;\r\n  loHand = null;\r\n  game = null;\r\n  loGame = new Game('paigowpokerlo');\r\n  hiGame = new Game('paigowpokerhi');\r\n\r\n  constructor(hand) {\r\n    this.baseHand = null;\r\n    this.hiHand = null;\r\n    this.loHand = null;\r\n    this.game = null;\r\n    this.loGame = new Game('paigowpokerlo');\r\n    this.hiGame = new Game('paigowpokerhi');\r\n\r\n    if (Array.isArray(hand)) {\r\n      this.baseHand = Hand.solve(hand, new Game('paigowpokerfull'), null );\r\n    } else {\r\n      this.baseHand = hand;\r\n    }\r\n\r\n    this.game = this.baseHand.game;\r\n  }\r\n\r\n  /*\r\n   * Set a full hand into high and low hands, according to House Way.\r\n   */\r\n  splitHouseWay() {\r\n    var hiCards, loCards;\r\n    var rank = this.game.handValues.length - this.baseHand.rank;\r\n    var handValue = this.game.handValues[rank];\r\n\r\n    if (handValue === FiveOfAKind) {\r\n      if (this.baseHand.cards[5].value === 'K' && this.baseHand.cards[6].value === 'K') {\r\n        loCards = this.baseHand.cards.slice(5, 7);\r\n        hiCards = this.baseHand.cards.slice(0, 5);\r\n      } else {\r\n        loCards = this.baseHand.cards.slice(0, 2);\r\n        hiCards = this.baseHand.cards.slice(2, 7);\r\n      }\r\n    } else if (handValue === FourOfAKindPairPlus) {\r\n      if (this.baseHand.cards[0].wildValue === 'A' && this.baseHand.cards[4].value !== 'K') {\r\n        hiCards = this.baseHand.cards.slice(0, 2);\r\n        loCards = this.baseHand.cards.slice(2, 4);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      }\r\n    } else if (handValue === StraightFlush || handValue === Flush || handValue === Straight) {\r\n      var sfReturn;\r\n      var altGame = new Game('paigowpokeralt');\r\n      var altHand = Hand.solve(this.baseHand.cards, altGame, null);\r\n      var altRank = altGame.handValues.length - altHand.rank;\r\n      if (altGame.handValues[altRank] === FourOfAKind) {\r\n        sfReturn = this.getSFData(altHand.cards);\r\n        hiCards = sfReturn[0];\r\n        loCards = sfReturn[1];\r\n      } else if (altGame.handValues[altRank] === FullHouse) {\r\n        hiCards = altHand.cards.slice(0, 3);\r\n        loCards = altHand.cards.slice(3, 5);\r\n        hiCards = hiCards.concat(altHand.cards.slice(5, 7));\r\n      } else if (altGame.handValues[altRank] === ThreeOfAKind) {\r\n        sfReturn = this.getSFData(altHand.cards);\r\n        hiCards = sfReturn[0];\r\n        loCards = sfReturn[1];\r\n      } else if (altGame.handValues[altRank] === ThreePair) {\r\n        loCards = altHand.cards.slice(0, 2);\r\n        hiCards = altHand.cards.slice(2, 7);\r\n      } else if (altGame.handValues[altRank] === TwoPair) {\r\n        if (altHand.cards[0].rank < 6) {\r\n          if (altHand.cards[4].wildValue === 'A') {\r\n            hiCards = altHand.cards.slice(0, 4);\r\n            loCards = altHand.cards.slice(4, 6);\r\n            hiCards.push(altHand.cards[6]);\r\n          } else {\r\n            sfReturn = this.getSFData(altHand.cards);\r\n            hiCards = sfReturn[0];\r\n            loCards = sfReturn[1];\r\n          }\r\n        } else if (altHand.cards[0].rank < 10) {\r\n          if (altHand.cards[4].wildValue === 'A') {\r\n            hiCards = altHand.cards.slice(0, 4);\r\n            loCards = altHand.cards.slice(4, 6);\r\n            hiCards.push(altHand.cards[6]);\r\n          } else {\r\n            hiCards = altHand.cards.slice(0, 2);\r\n            loCards = altHand.cards.slice(2, 4);\r\n            hiCards = hiCards.concat(altHand.cards.slice(4, 7));\r\n          }\r\n        } else if (altHand.cards[0].wildValue !== 'A' && altHand.cards[2].rank < 6 && altHand.cards[4].wildValue === 'A') {\r\n          hiCards = altHand.cards.slice(0, 4);\r\n          loCards = altHand.cards.slice(4, 6);\r\n          hiCards.push(altHand.cards[6]);\r\n        } else {\r\n          hiCards = altHand.cards.slice(0, 2);\r\n          loCards = altHand.cards.slice(2, 4);\r\n          hiCards = hiCards.concat(altHand.cards.slice(4, 7));\r\n        }\r\n      } else if (altGame.handValues[altRank] === OnePair) {\r\n        if (altHand.cards[0].rank >= values.indexOf('T') && altHand.cards[0].rank <= values.indexOf('K') && altHand.cards[2].wildValue === 'A') {\r\n          var possibleSF = altHand.cards.slice(0, 2);\r\n          possibleSF = possibleSF.concat(altHand.cards.slice(3, 7));\r\n          sfReturn = this.getSFData(possibleSF);\r\n          if (sfReturn[0]) {\r\n            hiCards = sfReturn[0];\r\n            loCards = sfReturn[1];\r\n            loCards.push(altHand.cards[2]);\r\n          } else {\r\n            hiCards = altHand.cards.slice(0, 2);\r\n            loCards = altHand.cards.slice(2, 4);\r\n            hiCards = hiCards.concat(altHand.cards.slice(4, 7));\r\n          }\r\n        } else {\r\n          sfReturn = this.getSFData(altHand.cards.slice(2, 7));\r\n          if (sfReturn[0]) {\r\n            hiCards = sfReturn[0];\r\n            loCards = altHand.cards.slice(0, 2);\r\n          } else {\r\n            sfReturn = this.getSFData(altHand.cards);\r\n            hiCards = sfReturn[0];\r\n            loCards = sfReturn[1];\r\n          }\r\n        }\r\n      } else {\r\n        sfReturn = this.getSFData(altHand.cards);\r\n        hiCards = sfReturn[0];\r\n        loCards = sfReturn[1];\r\n      }\r\n    } else if (handValue === FourOfAKind) {\r\n      if (this.baseHand.cards[0].rank < 6) {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      } else if (this.baseHand.cards[0].rank < 10 && this.baseHand.cards[4].wildValue === 'A') {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 2);\r\n        loCards = this.baseHand.cards.slice(2, 4);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n      }\r\n    } else if (handValue === TwoThreeOfAKind) {\r\n      loCards = this.baseHand.cards.slice(0, 2);\r\n      hiCards = this.baseHand.cards.slice(3, 6);\r\n      hiCards.push(this.baseHand.cards[2]);\r\n      hiCards.push(this.baseHand.cards[6]);\r\n    } else if (handValue === ThreeOfAKindTwoPair) {\r\n      hiCards = this.baseHand.cards.slice(0, 3);\r\n      loCards = this.baseHand.cards.slice(3, 5);\r\n      hiCards = hiCards.concat(this.baseHand.cards.slice(5, 7));\r\n    } else if (handValue === FullHouse) {\r\n      if (this.baseHand.cards[3].wildValue === '2' && this.baseHand.cards[5].wildValue === 'A' && this.baseHand.cards[6].wildValue === 'K') {\r\n        hiCards = this.baseHand.cards.slice(0, 5);\r\n        loCards = this.baseHand.cards.slice(5, 7);\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 3);\r\n        loCards = this.baseHand.cards.slice(3, 5);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(5, 7));\r\n      }\r\n    } else if (handValue === ThreeOfAKind) {\r\n      if (this.baseHand.cards[0].wildValue === 'A') {\r\n        hiCards = this.baseHand.cards.slice(0, 2);\r\n        loCards = this.baseHand.cards.slice(2, 4);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 3);\r\n        loCards = this.baseHand.cards.slice(3, 5);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(5, 7));\r\n      }\r\n    } else if (handValue === ThreePair) {\r\n      loCards = this.baseHand.cards.slice(0, 2);\r\n      hiCards = this.baseHand.cards.slice(2, 7);\r\n    } else if (handValue === TwoPair) {\r\n      if (this.baseHand.cards[0].rank < 6) {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      } else if (this.baseHand.cards[0].rank < 10) {\r\n        if (this.baseHand.cards[4].wildValue === 'A') {\r\n          hiCards = this.baseHand.cards.slice(0, 4);\r\n          loCards = this.baseHand.cards.slice(4, 6);\r\n          hiCards.push(this.baseHand.cards[6]);\r\n        } else {\r\n          hiCards = this.baseHand.cards.slice(0, 2);\r\n          loCards = this.baseHand.cards.slice(2, 4);\r\n          hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n        }\r\n      } else if (this.baseHand.cards[0].wildValue !== 'A' && this.baseHand.cards[2].rank < 6 && this.baseHand.cards[4].wildValue === 'A') {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 2);\r\n        loCards = this.baseHand.cards.slice(2, 4);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n      }\r\n    } else if (handValue === OnePair) {\r\n      hiCards = this.baseHand.cards.slice(0, 2);\r\n      loCards = this.baseHand.cards.slice(2, 4);\r\n      hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n    } else {\r\n      hiCards = [this.baseHand.cards[0]];\r\n      loCards = this.baseHand.cards.slice(1, 3);\r\n      hiCards = hiCards.concat(this.baseHand.cards.slice(3, 7));\r\n    }\r\n\r\n    this.hiHand = Hand.solve(hiCards, this.hiGame, null);\r\n    this.loHand = Hand.solve(loCards, this.loGame, null);\r\n  }\r\n\r\n  /*\r\n   * Determine the best possible Straight and/or Flush.\r\n   * @param  {Array} cards 5-7 Card objects to check.\r\n   * @return {Array} [hiCards, loCards] High and Low components, if any.\r\n   */\r\n  getSFData(cards) {\r\n    var hiCards, possibleLoCards, bestLoCards, bestHand;\r\n    var handsToCheck = [\r\n      new StraightFlush(cards, new Game('paigowpokersf7'), null),\r\n      new StraightFlush(cards, new Game('paigowpokersf6'), null),\r\n      new StraightFlush(cards, this.game, null),\r\n      new Flush(cards, new Game('paigowpokersf7'), null),\r\n      new Flush(cards, new Game('paigowpokersf6'), null),\r\n      new Flush(cards, this.game, null),\r\n      new Straight(cards, new Game('paigowpokersf7'), null),\r\n      new Straight(cards, new Game('paigowpokersf6'), null),\r\n      new Straight(cards, this.game, null)\r\n    ];\r\n\r\n    for (var i = 0; i < handsToCheck.length; i++) {\r\n      var hand = handsToCheck[i];\r\n      if (hand.isPossible) {\r\n        if (hand.sfLength === 7) {\r\n          possibleLoCards = [hand.cards[0], hand.cards[1]];\r\n        } else if (hand.sfLength === 6) {\r\n          possibleLoCards = [hand.cards[0]];\r\n          if (cards.length > 6) {\r\n            possibleLoCards.push(hand.cards[6]);\r\n          }\r\n        } else if (cards.length > 5) {\r\n          possibleLoCards = [hand.cards[5]];\r\n          if (cards.length > 6) {\r\n            possibleLoCards.push(hand.cards[6]);\r\n          }\r\n        }\r\n        if (possibleLoCards) {\r\n          possibleLoCards = possibleLoCards.sort(Card.sort);\r\n          if (!bestLoCards || bestLoCards[0].rank < possibleLoCards[0].rank || (bestLoCards.length > 1 && bestLoCards[0].rank === possibleLoCards[0].rank && bestLoCards[1].rank < possibleLoCards[1].rank)) {\r\n            bestLoCards = possibleLoCards;\r\n            bestHand = hand;\r\n          }\r\n        } else if (!bestHand) {\r\n          bestHand = hand;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (bestHand) {\r\n      if (bestHand.sfLength === 7) {\r\n        hiCards = bestHand.cards.slice(2, 7);\r\n      } else if (bestHand.sfLength === 6) {\r\n        hiCards = bestHand.cards.slice(1, 6);\r\n      } else {\r\n        hiCards = bestHand.cards.slice(0, 5);\r\n      }\r\n    }\r\n\r\n    return [hiCards, bestLoCards];\r\n  }\r\n\r\n  /*\r\n   * Determine if the setting of the hands is valid. Hi must be higher than lo.\r\n   * @return {Boolean}\r\n   */\r\n  qualifiesValid() {\r\n    var compareHands = Hand.winners([this.hiHand, this.loHand]);\r\n\r\n    return !(compareHands.length === 1 && compareHands[0] === this.loHand);\r\n  }\r\n\r\n  /**\r\n   * Find which of two split hands is best, according to rules.\r\n   * @param  {PaiGowPokerHelper} player Player hand to evaluate. Must be set.\r\n   * @param  {PaiGowPokerHelper} banker Banker hand to evaluate. Must be set.\r\n   * @param  {int}               winner Winning party, if any.\r\n   *                                    Player = 1, Banker = -1, Push = 0\r\n   */\r\n  static winners(player, banker) {\r\n    if (!player.qualifiesValid()) {\r\n      if (banker.qualifiesValid()) {\r\n        return -1;\r\n      }\r\n      // Probably shouldn't get here because the dealer must set house way.\r\n      // However, we'll still have it as a sanity check, just in case.\r\n      return 0;\r\n    }\r\n\r\n    if (!banker.qualifiesValid()) {\r\n      return 1;\r\n    }\r\n\r\n    var hiWinner = Hand.winners([player.hiHand, banker.hiHand]);\r\n    var loWinner = Hand.winners([player.loHand, banker.loHand]);\r\n\r\n    // In Pai Gow Poker, Banker takes any equal valued hands.\r\n    if (hiWinner.length === 1 && hiWinner[0] === player.hiHand) {\r\n      if (loWinner.length === 1 && loWinner[0] === player.loHand) {\r\n        // Player wins both; player wins\r\n        return 1;\r\n      }\r\n      // Player wins hi, Banker wins lo; push\r\n      return 0;\r\n    }\r\n\r\n    if (loWinner.length === 1 && loWinner[0] === player.loHand) {\r\n      // Banker wins hi, Player wins lo; push\r\n      return 0;\r\n    }\r\n\r\n    // Banker wins both; banker wins\r\n    return -1;\r\n  }\r\n\r\n  /*\r\n   * Set a full hand into high and low hands, according to manual input.\r\n   * @param  {Array} hiHand       High hand to specify.\r\n   *                              Can also be {Hand} with game of 'paigowpokerhi'.\r\n   * @param  {Array} loHand       Low hand to specify.\r\n   *                              Can also be {Hand} with game of 'paigowpokerlo'.\r\n   * @return {PaiGowPokerHelper}  Object with split hands.\r\n   */\r\n  static setHands(hiHand, loHand) {\r\n    var fullHand = [];\r\n\r\n    if (Array.isArray(hiHand)) {\r\n      hiHand = Hand.solve(hiHand, new Game('paigowpokerhi'), null);\r\n    }\r\n    fullHand = fullHand.concat(hiHand.cardPool);\r\n    if (Array.isArray(loHand)) {\r\n      loHand = Hand.solve(loHand, new Game('paigowpokerlo'), null);\r\n    }\r\n    fullHand = fullHand.concat(loHand.cardPool);\r\n\r\n    var result = new PaiGowPokerHelper(fullHand);\r\n    result.hiHand = hiHand;\r\n    result.loHand = loHand;\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Build and return PaiGowPokerHelper object with hands split House Way.\r\n   * @param  {Array} fullHand    Array of cards (['Ad', '3c', 'Th', ...]).\r\n   *                             Can also be {Hand} with game of 'paigowpokerfull'.\r\n   * @return {PaiGowPokerHelper} Object with split hands.\r\n   */\r\n  static solve(fullHand) {\r\n    var result = new PaiGowPokerHelper(fullHand = fullHand || ['']);\r\n    result.splitHouseWay();\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\nvar gameRules = {\r\n  'standard': {\r\n    'cardsInHand': 5,\r\n    'handValues': [StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, TwoPair, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null,\r\n    \"noKickers\": false\r\n  },\r\n  'jacksbetter': {\r\n    'cardsInHand': 5,\r\n    'handValues': [StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, TwoPair, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 5,\r\n    'lowestQualified': ['Jc', 'Jd', '4h', '3s', '2c'],\r\n    \"noKickers\": true\r\n  },\r\n  'joker': {\r\n    'cardsInHand': 5,\r\n    'handValues': [NaturalRoyalFlush, FiveOfAKind, WildRoyalFlush, StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, TwoPair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 5,\r\n    'lowestQualified': ['4c', '3d', '3h', '2s', '2c'],\r\n    \"noKickers\": true\r\n  },\r\n  'deuceswild': {\r\n    'cardsInHand': 5,\r\n    'handValues': [NaturalRoyalFlush, FourWilds, WildRoyalFlush, FiveOfAKind, StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, HighCard],\r\n    'wildValue': '2',\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 5,\r\n    'lowestQualified': ['5c', '4d', '3h', '3s', '3c'],\r\n    \"noKickers\": true\r\n  },\r\n  'threecard': {\r\n    'cardsInHand': 3,\r\n    'handValues': [StraightFlush, ThreeOfAKind, Straight, Flush, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 3,\r\n    'lowestQualified': ['Qh', '3s', '2c'],\r\n    \"noKickers\": false\r\n  },\r\n  'fourcard': {\r\n    'cardsInHand': 4,\r\n    'handValues': [FourOfAKind, StraightFlush, ThreeOfAKind, Flush, Straight, TwoPair, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 4,\r\n    'lowestQualified': null,\r\n    \"noKickers\": true\r\n  },\r\n  'fourcardbonus': {\r\n    'cardsInHand': 4,\r\n    'handValues': [FourOfAKind, StraightFlush, ThreeOfAKind, Flush, Straight, TwoPair, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 4,\r\n    'lowestQualified': ['Ac', 'Ad', '3h', '2s'],\r\n    \"noKickers\": true\r\n  },\r\n  'paigowpokerfull': {\r\n    'cardsInHand': 7,\r\n    'handValues': [FiveOfAKind, FourOfAKindPairPlus, StraightFlush, Flush, Straight, FourOfAKind, TwoThreeOfAKind, ThreeOfAKindTwoPair, FullHouse, ThreeOfAKind, ThreePair, TwoPair, OnePair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokeralt': {\r\n    'cardsInHand': 7,\r\n    'handValues': [FourOfAKind, FullHouse, ThreeOfAKind, ThreePair, TwoPair, OnePair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokersf6': {\r\n    'cardsInHand': 7,\r\n    'handValues': [StraightFlush, Flush, Straight],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 6,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokersf7': {\r\n    'cardsInHand': 7,\r\n    'handValues': [StraightFlush, Flush, Straight],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 7,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokerhi': {\r\n    'cardsInHand': 5,\r\n    'handValues': [FiveOfAKind, StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, TwoPair, OnePair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokerlo': {\r\n    'cardsInHand': 2,\r\n    'handValues': [OnePair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null\r\n  }\r\n};\r\n\r\n/**\r\n * Base Game class that defines the rules of the game.\r\n */\r\nexport class Game {\r\n\r\n  descr = '';\r\n  cardsInHand = 0;\r\n  handValues = [];\r\n  wildValue = null;\r\n  wildStatus = 0;\r\n  wheelStatus = 0;\r\n  sfQualify = 5;\r\n  lowestQualified = null;\r\n  noKickers = null;\r\n\r\n  constructor(descr) {\r\n    this.descr = descr;\r\n    this.cardsInHand = 0;\r\n    this.handValues = [];\r\n    this.wildValue = null;\r\n    this.wildStatus = 0;\r\n    this.wheelStatus = 0;\r\n    this.sfQualify = 5;\r\n    this.lowestQualified = null;\r\n    this.noKickers = null;\r\n\r\n    // Set values based on the game rules.\r\n    if (!this.descr || !gameRules[this.descr]) {\r\n      this.descr = 'standard';\r\n    }\r\n    this.cardsInHand = gameRules[this.descr]['cardsInHand'];\r\n    this.handValues = gameRules[this.descr]['handValues'];\r\n    this.wildValue = gameRules[this.descr]['wildValue'];\r\n    this.wildStatus = gameRules[this.descr]['wildStatus'];\r\n    this.wheelStatus = gameRules[this.descr]['wheelStatus'];\r\n    this.sfQualify = gameRules[this.descr]['sfQualify'];\r\n    this.lowestQualified = gameRules[this.descr]['lowestQualified'];\r\n    this.noKickers = gameRules[this.descr]['noKickers'];\r\n  }\r\n}\r\n\r\nexport function exportToGlobal(obj) {\r\n  obj.Card = Card;\r\n  obj.Hand = Hand;\r\n  obj.Game = Game;\r\n  obj.RoyalFlush = RoyalFlush;\r\n  obj.NaturalRoyalFlush = NaturalRoyalFlush;\r\n  obj.WildRoyalFlush = WildRoyalFlush;\r\n  obj.FiveOfAKind = FiveOfAKind;\r\n  obj.StraightFlush = StraightFlush;\r\n  obj.FourOfAKindPairPlus = FourOfAKindPairPlus;\r\n  obj.FourOfAKind = FourOfAKind;\r\n  obj.FourWilds = FourWilds;\r\n  obj.TwoThreeOfAKind = TwoThreeOfAKind;\r\n  obj.ThreeOfAKindTwoPair = ThreeOfAKindTwoPair;\r\n  obj.FullHouse = FullHouse;\r\n  obj.Flush = Flush;\r\n  obj.Straight = Straight;\r\n  obj.ThreeOfAKind = ThreeOfAKind;\r\n  obj.ThreePair = ThreePair;\r\n  obj.TwoPair = TwoPair;\r\n  obj.OnePair = OnePair;\r\n  obj.HighCard = HighCard;\r\n  obj.PaiGowPokerHelper = PaiGowPokerHelper;\r\n}","import { _decorator, AudioClip, Color, Component, Node, resources, Sprite, SpriteFrame, url } from 'cc';\r\nimport { NetworkManager } from './NetworkManager';\r\nimport { GameManager } from './GameManager';\r\nimport { ENUM_DEVICE_TYPE } from './HoldemDefines';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst CARDS_NAME: string[] = [\r\n\t\"Ac\", \"Kc\", \"Qc\", \"Jc\", \"Tc\", \"9c\", \"8c\", \"7c\", \"6c\", \"5c\", \r\n\t\"4c\", \"3c\", \"2c\", \"Ad\", \"Kd\", \"Qd\", \"Jd\", \"Td\", \"9d\", \"8d\", \r\n\t\"7d\", \"6d\", \"5d\", \"4d\", \"3d\", \"2d\",\t\"Ah\", \"Kh\", \"Qh\", \"Jh\", \r\n\t\"Th\", \"9h\", \"8h\", \"7h\", \"6h\", \"5h\", \"4h\", \"3h\", \"2h\", \"As\", \r\n\t\"Ks\", \"Qs\", \"Js\", \"Ts\", \"9s\", \"8s\", \"7s\", \"6s\", \"5s\", \"4s\",\r\n\t\"3s\", \"2s\" ];\r\n\r\nconst SOUNDS_NAME: any = [\r\n\t{ name: 'BUTTON_CLICK',\t\t\t\turl: 'fx_click' },\r\n\t{ name: 'TURN_LIMIT',\t\t\t\turl: 'fx_timer' },\r\n\t{ name: 'BET_CHIPS',\t\t\t\turl: 'fx_bet' },\r\n\t{ name: 'MY_TURN',\t\t\t\t\turl: 'fx_my_turn' },\r\n\t{ name: 'CARD_SHUFFLE',\t\t\t\turl: 'fx_shuffle_card' },\r\n\t{ name: 'CARD_DEALING',\t\t\t\turl: 'fx_dealing' },\r\n\t{ name: 'CHIP_START',\t\t\t\turl: 'fx_chip_start' },\r\n\t{ name: 'CHIP_END',\t\t\t\t\turl: 'fx_chip_end' },\r\n\t{ name: 'CARD_PUT',\t\t\t\t\turl: 'fx_card_put' },\r\n\t{ name: 'CARD_FLIP',\t\t\t\turl: 'fx_card_flip' },\r\n\t{ name: 'CARD_SHOW',\t\t\t\turl: 'fx_card_show' },\r\n\t{ name: 'WIN',\t\t\t\t\t\turl: 'fx_win' },\r\n\t{ name: 'SHOWDOWN',\t\t\t\t\turl: 'fx_showdown' },\t\r\n\r\n\t{ name: 'VOICE_GOOD_LUCK',\t\t\turl: 'voice_goodluck' },\r\n\t{ name: 'VOICE_WELCOME',\t\t\turl: 'voice_welcome' },\t\r\n\t{ name: 'VOICE_START', \t\t\t\turl: 'voice_start' },\r\n\r\n\t{ name: 'VOICE_ACTION_ALLIN', \t\turl: 'voice_action_allin' },\t\r\n\t{ name: 'VOICE_ACTION_CALL',\t\turl: 'voice_action_call' },\t\r\n\t{ name: 'VOICE_ACTION_CHECK',\t\turl: 'voice_action_check' },\t\r\n\t{ name: 'VOICE_ACTION_DIE',\t\t\turl: 'voice_action_die'\t},\r\n\r\n\t{ name: 'VOICE_BETTING_FULL',\t\turl: 'voice_betting_full' },\t\r\n\t{ name: 'VOICE_BETTING_HALF',\t\turl: 'voice_betting_half' },\t\r\n\t{ name: 'VOICE_BETTING_QUATER',\t\turl: 'voice_betting_quater' },\r\n\r\n\t{ name: 'VOICE_RANK_TOP',\t\t\turl: 'voice_rank_top' },\t\r\n\t{ name: 'VOICE_RANK_ONEPAIR',\t\turl: 'voice_rank_onepair' },\t\r\n\t{ name: 'VOICE_RANK_TWOPAIR',\t\turl: 'voice_rank_twopair' },\r\n\t{ name: 'VOICE_RANK_TRIPLE',\t\turl: 'voice_rank_triple' },\t\r\n\t{ name: 'VOICE_RANK_STRAIGHT',\t\turl: 'voice_rank_straight' },\t\r\n\t{ name: 'VOICE_RANK_FLUSH',\t\t\turl: 'voice_rank_flush' },\r\n\t{ name: 'VOICE_RANK_FULL_HOUSE',\turl: 'voice_rank_fullhouse' },\t\r\n\t{ name: 'VOICE_RANK_STRAIGHT_FLUSH',url: 'voice_rank_straightflush' },\t\r\n\t{ name: 'VOICE_RANK_FOURCARD',\t\turl: 'voice_rank_fourcard' },\r\n\t{ name: 'VOICE_RANK_RSFLUSH',\t\turl: 'voice_rank_rsflush' },\r\n];\r\n\r\n@ccclass('ResourceManager')\r\nexport class ResourceManager extends Component {\r\n    private static _instance: ResourceManager = null;\r\n\r\n    private preloadCardsResource: {} = {};\r\n    private preloadChipsResource: {} = {};\r\n    private preloadSoundsResource: {} = {};\t\r\n    private preloadAvatarResource: {} = {};\r\n\r\n\tprivate preloadTableResource: any = null;\r\n\tprivate preloadBackgroundResource: any = null;\r\n\r\n\tprivate currentCardType: number = 0;\r\n\tprivate currentTableType: number = 0;\r\n\tprivate currentBgType: number = 0;\r\n\r\n    public static Instance(): ResourceManager {\r\n        if ( this._instance == null ) {\r\n            this._instance = new ResourceManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    public loadAvatars( count: number, cbProgress:( progress: number )=>void, cbDone: ()=>void ) {\r\n\t\tlet cnt: number = 0;\r\n\t\tlet l: number = count;\r\n\t\tthis.preloadAvatarResource = {};\r\n\t\tfor( let i = 0; i < l; i++ ) {\r\n\t\t\tconst url = `Avatars/${ i }/spriteFrame`;\r\n\r\n\t\t\tresources.load<SpriteFrame>( url, ( finished, total, item )=>{\r\n\t\t\t\tif ( item.ext == '.png' ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tlet p: number = cnt / l;\r\n\t\t\t\t\tcbProgress(p);\r\n\t\t\t\t}\r\n\t\t\t}, ( err, res ) => {\r\n\r\n\t\t\t\tif( null != err ) {\r\n                    console.log( err );\r\n\t\t\t\t}\r\n\r\n                this.preloadAvatarResource[ res.name ] = res;\r\n\r\n\t\t\t\tif( count == Object.keys( this.preloadAvatarResource ).length ) {\r\n\t\t\t\t\tconsole.log('preloadAvatarResource is done');\r\n\t\t\t\t\tcbDone();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n    }\t\r\n\r\n    public loadChips( cbProgress:( progress: number )=>void, cbDone: ()=>void ) {\r\n\t\tlet cnt: number = 0;\r\n\t\tlet l: number = 12;\r\n\t\tthis.preloadChipsResource = {};\r\n\t\tfor( let i = 0; i < l; i++ ) {\r\n\t\t\tconst url = `BettingChips/${ i }/spriteFrame`;\r\n\r\n\t\t\tresources.load<SpriteFrame>( url, ( finished, total, item )=>{\r\n\t\t\t\tif ( item.ext == '.png' ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tlet p: number = cnt / CARDS_NAME.length;\r\n\t\t\t\t\tcbProgress(p);\r\n\t\t\t\t}\r\n\t\t\t}, ( err, res ) => {\r\n\r\n\t\t\t\tif( null != err ) {\r\n                    console.log('err');\r\n\t\t\t\t}\r\n\r\n                this.preloadChipsResource[ res.name ] = res;\r\n\t\t\t\tif( l == Object.keys( this.preloadChipsResource ).length ) {\r\n\t\t\t\t\tconsole.log('preloadChipsResource is done');\r\n\t\t\t\t\tcbDone();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n    }\r\n\r\n    public loadCards( cbProgress:( progress: number )=>void, cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\t\tthis.preloadCardsResource = {};\r\n\r\n\t\tlet setting = NetworkManager.Instance().GetSetting();\r\n\t\tif ( setting == null || setting == undefined ) {\r\n\t\t\tthis.currentCardType = 0;\r\n\t\t} else {\r\n\t\t\tthis.currentCardType = setting.card;\r\n\t\t}\r\n\r\n\t\tlet cards = CARDS_NAME.length + 1;\r\n\r\n\t\tfor( let i = 0; i < cards ; i++ ) {\r\n\t\t\tconst url = 'Cards/'+'type' + this.currentCardType.toString() + '/' + i.toString() + '/spriteFrame';\r\n\r\n\t\t\tresources.load<SpriteFrame>( url, (finished, total, item )=>{\r\n\t\t\t\tif ( item.ext == '.png' ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tlet p: number = cnt / CARDS_NAME.length;\r\n\t\t\t\t\tcbProgress(p);\r\n\t\t\t\t}\r\n\t\t\t}, ( err, res ) => {\r\n\r\n\t\t\t\tif( null != err ) {\r\n\t\t\t\t}\r\n\r\n                this.preloadCardsResource[ res.name ] = res;\r\n\t\t\t\tif( Object.keys( this.preloadCardsResource ).length == cards) {\r\n\t\t\t\t\tconsole.log('preloadCardsResource is done');\r\n                    cbDone();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n    }\r\n\r\n    public loadSounds( cbProgress:( progress: number )=>void, cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\t\tthis.preloadSoundsResource = {};\r\n\r\n\t\tlet keys = Object.keys( SOUNDS_NAME );\r\n\t\tlet values = Object.values ( SOUNDS_NAME );\r\n\r\n\t\tfor ( let i: number = 0 ; i < SOUNDS_NAME.length; i++ ) {\r\n\t\t\tlet item = values[i];\r\n\t\t\tconst url = `Sounds/${ item['url'] }`;\r\n\t\t\tresources.load<AudioClip> ( url, ( err, res )=>{\r\n\t\t\t\tif ( null != err ) {\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcnt++;\r\n\t\t\t\tlet p: number = cnt / SOUNDS_NAME.length;\r\n\t\t\t\tcbProgress(p);\r\n\t\t\t\tthis.preloadSoundsResource[ item['name'] ] = res;\r\n\r\n\t\t\t\tif ( Object.keys( this.preloadSoundsResource ).length >= SOUNDS_NAME.length ) {\r\n\t\t\t\t\tconsole.log('preloadSoundsResource is done');\t\t\t\t\t\r\n\t\t\t\t\tcbDone();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n    }\r\n\r\n\tpublic loadTables ( cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\t\tthis.preloadTableResource = null;\r\n\r\n\t\tlet url: string = '';\r\n\t\tlet info = GameManager.Instance().GetInfo();\r\n\t\tlet setting = NetworkManager.Instance().GetSetting();\r\n\t\tif ( setting == null || setting == undefined ) {\r\n\t\t\tthis.currentTableType = 0;\r\n\t\t} else {\r\n\t\t\tthis.currentTableType = setting.board;\t\t\t\r\n\t\t}\r\n\r\n\t\tif ( info.device == ENUM_DEVICE_TYPE.MOBILE_PORTRAIT ) {\r\n\t\t\turl = 'Tables/'+'portrait/'+ this.currentTableType.toString() + '/spriteFrame';\r\n\r\n\t\t} else {\r\n\t\t\turl = 'Tables/'+'landscape/'+ this.currentTableType.toString() + '/spriteFrame';\r\n\t\t}\r\n\r\n\t\tresources.load<SpriteFrame> (url, (err, res )=>{\r\n\t\t\tif ( null != err ) {\r\n\r\n\t\t\t}\r\n\t\t\tthis.preloadTableResource = res;\r\n\t\t\tconsole.log('preloadTableResource is done');\r\n\t\t\tcbDone();\r\n\t\t});\r\n    }\r\n\r\n\tpublic loadBackground ( cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\t\tthis.preloadBackgroundResource = null;\r\n\r\n\t\tlet setting = NetworkManager.Instance().GetSetting();\r\n\t\tif ( setting == null || setting == undefined ) {\r\n\t\t\tthis.currentBgType = 0;\r\n\r\n\t\t} else {\r\n\t\t\tthis.currentBgType = setting.background;\r\n\t\t}\r\n\r\n\t\tlet url: string = 'Backgrounds/' + this.currentBgType.toString() + '/spriteFrame';\r\n\t\t\tresources.load<SpriteFrame> (url, (err, res )=>{\r\n\r\n\t\t\tif ( null != err ) {\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.preloadBackgroundResource = res;\r\n\t\t\tconsole.log('preloadBackgroundResource is done');\r\n\t\t\tcbDone();\r\n\t\t});\r\n    }\r\n\r\n    public getCardImage( num: number ): SpriteFrame {\r\n\t\treturn this.preloadCardsResource[ num ];\r\n\t}    \r\n\r\n    public getChipImage( num: number ): SpriteFrame {\r\n\t\treturn this.preloadChipsResource[ num ];\r\n\t}\r\n\r\n\tpublic getAvatarImage( num: number ): SpriteFrame {\r\n\t\treturn this.preloadAvatarResource[ num ];\r\n\t}\r\n\r\n\tpublic getTableImage() {\r\n\t\treturn this.preloadTableResource;\r\n\t}\r\n\r\n\tpublic getBackgroundImage() {\r\n\t\treturn this.preloadBackgroundResource;\r\n\t}\r\n\r\n\tpublic setBackgroundImage( s:Sprite ) {\r\n\t\ts.spriteFrame = this.preloadBackgroundResource;\r\n\t\tlet type = this.currentBgType;\r\n\r\n\t\tswitch ( type ) {\r\n\t\t\tcase 0:\r\n\t\t\t\ts.color = new Color(30, 30, 30, 255);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\ts.color = new Color(100, 100, 100, 255);\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\ts.color = new Color(150, 150, 150, 255);\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\ts.color = new Color(70, 70, 70, 255);\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\ts.color = new Color(100, 100, 100, 255);\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setTableImage( s:Sprite ) {\r\n\t\ts.spriteFrame = this.preloadTableResource;\r\n\t}\r\n\r\n\tpublic getCardPreloadState(): boolean {\t\t\r\n\t\tif ( Object.keys( this.preloadCardsResource ).length >= 53 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic getChipPreloadState(): boolean {\r\n\t\tif ( Object.keys( this.preloadChipsResource ).length >= 11 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic getSoundsPreloadState(): boolean {\r\n\t\tif ( Object.keys( this.preloadSoundsResource ).length >= SOUNDS_NAME.length ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic getTablePreloadState(): boolean {\r\n\t\treturn false;\r\n\r\n\t\t// if ( this.preloadTableResource != null ) {\r\n\t\t// \treturn true;\r\n\t\t// }\r\n\t\t// return false;\r\n\t}\r\n\r\n\tpublic getBackgroundPreloadState(): boolean {\r\n\t\treturn false;\r\n\r\n\t\t// if ( this.preloadBackgroundResource != null ) {\r\n\t\t// \treturn true;\r\n\t\t// }\r\n\t\t// return false;\r\n\t}\r\n\r\n\tpublic getSoundSource( name: string ): AudioClip {\r\n\t\tlet values = Object.values ( SOUNDS_NAME );\r\n\t\tlet clipName = values.find((e)=>{\r\n\t\t\treturn e['name'] == name;\r\n\t\t})['name'];\r\n\r\n\t\treturn this.preloadSoundsResource[ clipName ];\r\n\t}\r\n\r\n\tpublic resetCardsPreload() {\r\n\t\tthis.preloadCardsResource = {};\r\n\t}\r\n\r\n\tpublic resetChipsPreload() {\r\n\t\tthis.preloadChipsResource = {};\r\n\t}\r\n}\r\n\r\n","import { _decorator, Component, Node, SpriteFrame, Sprite, Color, Tween, tween, easing, UIOpacity, Vec3, UITransform, Label } from 'cc';\r\nimport { Board } from '../Board';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport { UiTable } from '../UiTable';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiBettingChips')\r\nexport class UiBettingChips extends Component {\r\n    @property(Node) digits: Node[] = [];\r\n    @property(Node) targets: Node[] = [];\r\n    @property(Node) rootBettingValue: Node = null;\r\n    @property(Label) labelBettingValue: Label = null;\r\n\r\n    private sprites: any[] = [];\r\n    private value: number = 0;\r\n    private positions: Vec3[] = [];\r\n    private numbers: any[] = [];\r\n\r\n    private cb: ()=>void = null;\r\n\r\n    public init() {\r\n\r\n        for ( let i: number = 0; i < this.digits.length; i ++ ) {\r\n            let ss: Sprite[] = [];\r\n            for ( let j: number = 0 ; j < 9 ; j++ ) {\r\n                let s: Sprite = this.digits[i].getChildByPath( (j+1).toString() ).getComponent(Sprite);\r\n                if ( s != null ) {\r\n                    ss.push( s );\r\n                }\r\n            }\r\n\r\n            this.sprites.push( ss );\r\n            this.positions.push( new Vec3(this.digits[i].position) );\r\n            this.digits[i].active = false;\r\n        }\r\n\r\n        if ( this.rootBettingValue != null ) {\r\n            this.rootBettingValue.active = false;\r\n        }\r\n\r\n        if ( this.labelBettingValue != null ) {\r\n            this.labelBettingValue.string = '';\r\n        }\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show( num: number, cb: ()=>void ) {\r\n        this.value = num;\r\n        if ( cb != null ) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        this.setNumbers();\r\n        this.setDigits();\r\n        this.reset();\r\n\r\n        for ( let i: number = 0 ; i < this.digits.length ; i++ ) {\r\n            this.move( i, this.digits[i], this.targets[i], i * 0.1 );\r\n        }\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    public moveChipsToPot( to: Node, cb:()=>void ) {\r\n        let idx: number = 0;\r\n        for ( let i: number = 0 ; i < this.digits.length; i++ ) {\r\n            if ( this.digits[i] != null ) {\r\n                idx++;\r\n                this.moveToPot(i, this.digits[i], to, 0.5 + idx * 0.1, ()=>{\r\n                    this.reset();\r\n                    cb();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    private setNumbers() {\r\n        this.numbers = [];\r\n        let s: string = this.value.toString();\r\n        let cnt: number = 0;\r\n        for ( let i = 0 ; i < s.length; i ++ ) {\r\n            let n: number = parseInt( s[i] );\r\n            this.numbers.push( {\r\n                number: n,\r\n                digit: s.length - i,\r\n            } );\r\n            cnt++;\r\n            if ( cnt >= this.digits.length ) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private setDigits() {\r\n        for ( let i: number = 0 ; i < this.digits.length; i ++ ) {\r\n\r\n            let s: any = this.sprites[i];\r\n            for ( let j: number = 0 ; j < 9; j++ ) {\r\n                let sf: SpriteFrame = ResourceManager.Instance().getChipImage( this.numbers[i].digit );\r\n                s[j].spriteFrame = sf;\r\n                if ( j < this.numbers[i].number ) {\r\n                    s[j].node.active = true;\r\n                } else {\r\n                    s[j].node.active = false;\r\n                }\r\n            }\r\n\r\n            this.digits[i].active = true;\r\n        }\r\n    }\r\n\r\n    private reset() {\r\n        for ( let i: number = 0 ; i < this.digits.length; i ++ ) {\r\n            this.digits[i].setPosition( new Vec3 ( this.positions[i]) );\r\n            this.digits[i].active = false;\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        this.reset();\r\n\r\n        this.rootBettingValue.active = false;\r\n        this.labelBettingValue.string = '';\r\n        this.labelBettingValue.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private move( index: number, from: Node, to: Node, delay: number ) {\r\n        if ( from == null || to == null ) {\r\n            return;\r\n        }\r\n\r\n        let op: UIOpacity = from.getComponent(UIOpacity);\r\n        if ( op != null ) {\r\n            op.opacity = 0;\r\n        }\r\n        \r\n        from.active = true;\r\n\r\n        let duration = 0.2;\r\n        let tw = tween( from )\r\n        .delay(delay)\r\n        .set ({\r\n            position: from.position,\r\n\r\n        }).to ( duration, {\r\n            position: to.position,\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate: ( target: Node, ratio: number )=> {\r\n                let o = 255 * ratio;\r\n                op.opacity = o;\r\n            },\r\n        });\r\n\r\n        tw.call( ()=>{\r\n            if ( (index + 1) == this.numbers.length ) {\r\n                if ( this.cb != null ) {\r\n\r\n                    this.rootBettingValue.active = ( this.value > 0);\r\n                    this.labelBettingValue.string = CommonUtil.getKoreanNumber( this.value );\r\n                    this.labelBettingValue.node.active = ( this.value > 0);\r\n\r\n                    this.cb();\r\n                }\r\n            }\r\n        } );\r\n        tw.start();\r\n    }\r\n\r\n    private moveToPot( index: number, from: Node, to: Node, delay: number, cb:()=>void ) {\r\n\r\n        let vecTo = to.parent.getComponent(UITransform).convertToWorldSpaceAR(to.position);\r\n        vecTo = from.parent.getComponent(UITransform).convertToNodeSpaceAR( vecTo );\r\n\r\n        let duration = 0.2;\r\n        let tw = tween( from )\r\n        .delay(delay)\r\n        .set ({\r\n            position: from.position,\r\n\r\n        }).to ( duration, {\r\n            position: vecTo,\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate: ( target: Node, ratio: number )=> {\r\n                // let o = 255 * ratio;\r\n                // op.opacity = o;\r\n            },\r\n        });\r\n\r\n        tw.call( ()=>{\r\n            if ( (index + 1) == this.numbers.length ) {\r\n                if ( cb != null ) {\r\n                    cb();\r\n                }\r\n            }\r\n        } );\r\n\r\n        tw.start();\r\n    }\r\n\r\n    easeOutBack(x: number ): number {\r\n        const c1 = 1.70158;\r\n        const c3 = c1 + 1;\r\n        \r\n        return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);\r\n    }\r\n\r\n    easeOutQuad( x: number ): number {\r\n        return 1 - (1 - x) * (1 - x);\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, Slider, Label, EventHandler, math } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ENUM_BETTING_TYPE {\r\n    None,\r\n    Bet,\r\n    Raise,\r\n}\r\n\r\nexport enum ENUM_BETTING_KIND {\r\n    NONE = 0,\r\n    MAX = 1,\r\n    FULL = 2,\r\n    HALF = 3,\r\n    QUATER = 4,\r\n}\r\n\r\n@ccclass('UiBettingControl')\r\nexport class UiBettingControl extends Component {\r\n    @property(Button) buttonBetMinus: Button = null;\r\n    @property(Button) buttonBetPlus: Button = null;\r\n    @property(Button) buttonBetPot: Button = null;\r\n    @property(Button) buttonBetHalf: Button = null;\r\n    @property(Button) buttonBetQuater: Button = null;\r\n    @property(Button) buttonBetMax: Button = null;\r\n    @property(Slider) sliderBetting: Slider = null;\r\n    @property(Label) labelDisplayValue: Label = null;\r\n    @property(Node) nodeRoot: Node = null;\r\n\r\n    @property(Label) labelMaxValue: Label = null;\r\n    @property(Label) labelFullValue: Label = null;\r\n    @property(Label) labelHalfValue: Label = null;\r\n    @property(Label) labelQuaterValue: Label = null;\r\n\r\n    private pot: number = 0;\r\n    private displayValue: number = 0;    \r\n    private valueRange: number = 0;\r\n    private valueStart: number = 0;\r\n    private CONST_BET_STEP = 0.0;\r\n    private bb: number = 0;\r\n\r\n    private type: ENUM_BETTING_TYPE = ENUM_BETTING_TYPE.None;\r\n    private cbBetting: ( result: any )=>void;\r\n\r\n    init() {\r\n\r\n        this.labelDisplayValue.string = (0).toString();\r\n\r\n\t\tconst sliderEventHandler = new EventHandler();\r\n\t\tsliderEventHandler.target = this.node;\r\n\t\tsliderEventHandler.component = \"UiBettingControl\";\r\n\t\tsliderEventHandler.handler = \"onSliderChangeBetValue\";\r\n\t\tsliderEventHandler.customEventData = \"???\";\r\n\t\tthis.sliderBetting?.slideEvents.push( sliderEventHandler );\r\n\r\n        this.buttonBetMinus.node.on('click', this.onClickBetMinus.bind(this));\r\n        this.buttonBetPlus.node.on('click', this.onClickBetPlus.bind(this));\r\n        this.buttonBetHalf.node.on('click', this.onClickBetHalf.bind(this));\r\n        this.buttonBetQuater.node.on('click', this.onClickBetQuater.bind(this));\r\n        this.buttonBetPot.node.on('click', this.onClickBetPot.bind(this));\r\n        this.buttonBetMax.node.on('click', this.onClickBetMax.bind(this));\r\n\r\n        this.labelMaxValue.string = '';\r\n        this.labelFullValue.string = '';\r\n        this.labelHalfValue.string = '';\r\n        this.labelQuaterValue.string = '';\r\n\r\n        this.sliderBetting.progress = 0.0;\r\n        this.CONST_BET_STEP = 0;\r\n\r\n        this.nodeRoot.active = false;\r\n    }\r\n\r\n    public show( sb: number, bb: number, type: ENUM_BETTING_TYPE, valueStart: number, valueRange: number, pot: number, chips: number , cbConfirm: ( result: any )=> void ) {\r\n        this.type = type;\r\n\r\n        if ( cbConfirm != null ) {\r\n            this.cbBetting = cbConfirm;\r\n        }\r\n\r\n        this.pot = pot;\r\n        this.bb = bb;\r\n\r\n        this.CONST_BET_STEP = this.bb;\r\n\r\n        this.valueStart = Math.min(valueStart, valueRange) ;\r\n        this.valueRange = chips;\r\n\r\n        this.labelMaxValue.string = CommonUtil.getKoreanNumber( valueRange );\r\n\r\n        let result: number = 0;\r\n        result = pot;\r\n        result = Math.max( result, this.valueStart );\r\n        result = Math.min( result, this.valueRange);\r\n        this.labelFullValue.string = CommonUtil.getKoreanNumber(result);\r\n\r\n        result = Math.floor(pot * 0.5);\r\n        result = Math.max( result, this.valueStart );\r\n        result = Math.min( result, this.valueRange);\r\n        this.labelHalfValue.string = CommonUtil.getKoreanNumber(result);\r\n\r\n        result = Math.floor(pot * 0.25);\r\n        result = Math.max( result, this.valueStart );\r\n        result = Math.min( result, this.valueRange);\r\n        this.labelQuaterValue.string = CommonUtil.getKoreanNumber(result);\r\n\r\n        this.setRatio(0);\r\n        this.nodeRoot.active = true;\r\n    }\r\n\r\n    private setRatio( ratio: number ) {\r\n\t\tlet result: number = 0;\r\n\t\tlet remain: number = 0;\r\n\r\n\t\tif ( ratio >= 1) {\r\n\t\t\tratio = 1;\r\n            result = Math.floor( ratio * this.valueRange );\r\n\t\t} else {\r\n\r\n            if ( ratio <= 0 ) {\r\n                result = this.valueStart;\r\n            }\r\n            else {\r\n                result = Math.floor( ratio * this.valueRange );\r\n                remain = result % ( this.CONST_BET_STEP );\r\n                result -= remain;\r\n            }\r\n\t\t}\r\n\r\n        result = Math.max( result, this.valueStart );\r\n\r\n        this.sliderBetting.progress = result / this.valueRange;\r\n\r\n        this.displayValue = result;\r\n        this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.displayValue );\r\n    }\r\n\r\n    private onClickBetMinus( button:Button ) {\r\n\t\tAudioController.instance.ButtonClick();        \r\n        let r = this.displayValue - this.CONST_BET_STEP;\r\n        this.setValue( r );\r\n    }\r\n\r\n    private setValue( value ) {\r\n\t\tlet result: number = 0;\r\n\t\tlet remain: number = 0;\r\n\r\n        result = value;\r\n        remain = result % ( this.CONST_BET_STEP );\r\n        result -= remain;\r\n        result = Math.max( result, this.valueStart );\r\n\r\n        this.sliderBetting.progress = result / this.valueRange;\r\n        this.displayValue = Math.min( result, this.valueRange);\r\n\r\n        this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.displayValue );        \r\n    }\r\n\r\n    private setPotValue( value ) {\r\n\t\tlet result: number = 0;\r\n        result = Math.floor(value);\r\n        result = Math.max( result, this.valueStart );\r\n\r\n        this.sliderBetting.progress = result / this.valueRange;\r\n        this.displayValue = Math.min( result, this.valueRange);\r\n\r\n        this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.displayValue );        \r\n    }\r\n\r\n    private onClickBetPlus( button: Button ) {\r\n        let r = this.displayValue + this.CONST_BET_STEP;\r\n\t\tAudioController.instance.ButtonClick();\r\n        this.setValue( r );\r\n    }\r\n\r\n    private onClickBetHalf( button: Button ) {\r\n        let r = this.pot * 0.5;\r\n        this.setPotValue( r );\r\n\r\n        if ( this.cbBetting != null ) {\r\n            this.cbBetting ({\r\n                kind: ENUM_BETTING_KIND.HALF,\r\n                value: this.displayValue,\r\n            });\r\n        }\r\n    }\r\n\r\n    private onClickBetQuater( button: Button ) {\r\n        let r = this.pot * 0.25;\r\n        this.setPotValue( r );\r\n\r\n        if ( this.cbBetting != null ) {\r\n            this.cbBetting ({\r\n                kind: ENUM_BETTING_KIND.QUATER,\r\n                value: this.displayValue,\r\n            });\r\n        }\r\n    }\r\n\r\n    private onClickBetPot( button: Button ) {\r\n        let r = this.pot;\r\n        this.setPotValue( this.pot );\r\n\r\n        if ( this.cbBetting != null ) {\r\n            this.cbBetting ({\r\n                kind: ENUM_BETTING_KIND.FULL,\r\n                value: this.displayValue,\r\n            });\r\n        }\r\n    }\r\n\r\n    private onClickBetMax( button: Button ) {\r\n        this.setRatio(1);\r\n\t\tAudioController.instance.ButtonClick();\r\n        if ( this.cbBetting != null ) {\r\n            this.cbBetting ({\r\n                kind: ENUM_BETTING_KIND.MAX,\r\n                value: this.displayValue,\r\n            });\r\n        }\r\n    }\r\n\r\n    private onSliderChangeBetValue( slider: Slider ) {\r\n        this.setRatio( slider.progress );\r\n\t}\r\n\r\n    hide() {\r\n        this.nodeRoot.active = false;\r\n    }\r\n\r\n    public getResult(): any {\r\n        let result = 0;\r\n        switch ( this.type) {\r\n            case ENUM_BETTING_TYPE.None:\r\n                break;\r\n\r\n            case ENUM_BETTING_TYPE.Bet:\r\n                result = this.displayValue;\r\n                break;\r\n\r\n            case ENUM_BETTING_TYPE.Raise:\r\n                result = this.displayValue;\r\n                break;\r\n        }\r\n\r\n        return {\r\n            result: result,\r\n            type: this.type,\r\n        };\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Button, Slider, EventHandler } from 'cc';\r\nimport {CommonUtil} from \"../CommonUtil\";\r\nimport {Board} from \"../Board\";\r\nimport {UiGameInput} from \"./UiGameInput\";\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst limitTime: number = 60;\r\n\r\n@ccclass('UiBuyIn')\r\nexport class UiBuyIn extends Component {\r\n    @property( Label ) labelTitle: Label = null;    \r\n    @property( Label ) labelUserChips: Label = null;\r\n    @property( Label ) labelBlind: Label = null;\r\n    @property( Button ) buttonExit: Button = null;\r\n    @property( Button ) buttonBuyIn: Button = null;\r\n    @property(Label) labelMinStakePrice: Label = null;\r\n    @property(Label) labelMaxStakePrice: Label = null;\r\n    @property(Label) labelBuyIn: Label = null;\r\n\r\n    @property(Button) buttonMin: Button = null;\r\n    @property(Button) buttonMax: Button = null;\r\n    @property(Button) buttonInput: Button = null;\r\n\r\n    @property(Slider) sliderBuyIn: Slider = null;\r\n\r\n    private minStakePrice: number = -1;\r\n    private maxStakePrice: number = -1;\r\n    private buyInRange: number = -1;\r\n    private buyInResult: number;\r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbBuyIn: (res: number)=>void = null;\r\n\r\n    private initialized: boolean = false;\r\n\r\n    init() {\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n        this.buttonBuyIn.node.on('click', this.onClickBuyIn.bind(this));\r\n        this.buttonMin.node.on('click', this.onClickMin.bind(this));\r\n        this.buttonMax.node.on('click', this.onClickMax.bind(this));\r\n        this.buttonInput.node.on('click', this.onClickInput.bind(this));\r\n\r\n        const sliderEventHandler = new EventHandler();\r\n        sliderEventHandler.target = this.node;\r\n        sliderEventHandler.component = \"UiBuyIn\";\r\n        sliderEventHandler.handler = \"onSliderChangeValue\";\r\n        sliderEventHandler.customEventData = \"???\";\r\n        this.sliderBuyIn?.slideEvents.push( sliderEventHandler );\r\n\r\n        this.initialized = true;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public buyIn(cbBuyIn: (res: number)=>void, cbExit: ()=>void) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n\r\n        this.labelBuyIn.string = '바이인';\r\n\r\n        this.clear();\r\n\r\n        if ( cbBuyIn != null ) {\r\n            this.cbBuyIn = cbBuyIn;\r\n        }\r\n\r\n        if (cbExit != null) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        this.labelUserChips.string = CommonUtil.getKoreanNumber( Board.balance );\r\n        this.labelBlind.string = CommonUtil.getKoreanNumber( Board.small ) + ' / ' +\r\n            CommonUtil.getKoreanNumber( Board.big );\r\n\r\n        this.minStakePrice = Number( Board.minStakePrice );\r\n\r\n        let b: number = Number ( Board.balance );\r\n        let m: number = Number ( Board.maxStakePrice );\r\n        this.maxStakePrice = Math.min(b, m);\r\n\r\n        this.labelMinStakePrice.string = CommonUtil.getKoreanNumber( this.minStakePrice );\r\n        this.labelMaxStakePrice.string = CommonUtil.getKoreanNumber( this.maxStakePrice );\r\n\r\n        this.buyInRange = this.maxStakePrice - this.minStakePrice;\r\n\r\n        this.setBuyInRatio( 0 );        \r\n        this.node.active = true;\r\n    }\r\n\r\n    private onSliderChangeValue( slider: Slider ) {\r\n        this.setBuyInRatio( slider.progress );\r\n    }\r\n\r\n    public addChips( balance: number, amount: number, cbBuyIn: (res: number)=>void ) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n        this.labelTitle.string = '칩 추가';\r\n\r\n        if ( cbBuyIn != null ) {\r\n            this.cbBuyIn = cbBuyIn;\r\n        }\r\n\r\n        this.labelUserChips.string = CommonUtil.getKoreanNumber( Board.balance );\r\n        this.labelBlind.string = CommonUtil.getKoreanNumber( Board.small ) + ' / ' +\r\n            CommonUtil.getKoreanNumber( Board.big );\r\n\r\n        this.minStakePrice = 0;\r\n\r\n        let b: number = balance;\r\n        let m: number = amount;\r\n\r\n        this.maxStakePrice = Math.min(b, m);\r\n\r\n        this.labelMinStakePrice.string = CommonUtil.getKoreanNumber( this.minStakePrice );\r\n        this.labelMaxStakePrice.string = CommonUtil.getKoreanNumber( this.maxStakePrice );\r\n\r\n        this.buyInRange = this.maxStakePrice - this.minStakePrice;\r\n\r\n        this.setBuyInRatio( 0 );\r\n        this.node.active = true;\r\n    }\r\n\r\n    public reBuyIn( balance: number, chips: number, cbBuyIn: (res: number)=>void, cbExit: ()=>void ) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n        this.labelTitle.string = '리바이인';\r\n\r\n        if ( cbBuyIn != null ) {\r\n            this.cbBuyIn = cbBuyIn;\r\n        }\r\n\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        this.labelUserChips.string = CommonUtil.getKoreanNumber( Board.balance );\r\n        this.labelBlind.string = CommonUtil.getKoreanNumber( Board.small ) + ' / ' +\r\n            CommonUtil.getKoreanNumber( Board.big );\r\n\r\n        let minValue = Board.minStakePrice - chips;\r\n        this.minStakePrice = minValue;\r\n\r\n        let b: number = balance;\r\n        let m: number = Board.maxStakePrice - chips;\r\n\r\n        this.maxStakePrice = Math.min(b, m);\r\n\r\n        this.labelMinStakePrice.string = CommonUtil.getKoreanNumber( this.minStakePrice );\r\n        this.labelMaxStakePrice.string = CommonUtil.getKoreanNumber( this.maxStakePrice );\r\n\r\n        this.buyInRange = this.maxStakePrice - this.minStakePrice;\r\n\r\n        this.setBuyInRatio( 0 );\r\n        this.node.active = true;\r\n    }\r\n\r\n    buyInDone() {\r\n\r\n    }\r\n\r\n    private setBuyInRatio( ratio: number ) {\r\n        let buyInRemain: number = 0;\r\n\r\n        if ( ratio >= 1) {\r\n            ratio = 1;\r\n            this.buyInResult = this.maxStakePrice;\r\n\r\n        } else {\r\n            this.buyInResult = this.minStakePrice + Math.floor( ratio * this.buyInRange );\r\n            buyInRemain = this.buyInResult % 100;\r\n            this.buyInResult = this.buyInResult - buyInRemain;\r\n        }\r\n\r\n        this.sliderBuyIn.progress = ratio;\r\n        this.labelBuyIn.string = CommonUtil.getKoreanNumber(this.buyInResult);\r\n    }\r\n\r\n    private  onClickExit( button: Button ) {\r\n        if ( this.cbExit != null ) {\r\n            this.cbExit();\r\n        }\r\n\r\n        AudioController.instance.ButtonClick();\r\n        this.cbExit = null;\r\n        this.node.active = false;\r\n    }\r\n\r\n    private  onClickBuyIn( button: Button ) {\r\n        if ( this.cbBuyIn != null ) {\r\n            this.cbBuyIn( this.buyInResult );\r\n        }\r\n\r\n        AudioController.instance.ButtonClick();\r\n        this.node.active = false;\r\n    }\r\n\r\n    public closePopup() {\r\n        this.clear();\r\n        this.node.active = false;\r\n    }\r\n\r\n    private clear() {\r\n        this.cbExit = null;\r\n        this.cbBuyIn = null;\r\n    }\r\n\r\n    private  onClickMin( button: Button ) {\r\n        AudioController.instance.ButtonClick();        \r\n        this.setBuyInRatio(0);\r\n    }\r\n\r\n    private  onClickMax( button: Button ) {\r\n        AudioController.instance.ButtonClick();\r\n        this.setBuyInRatio(1);\r\n    }\r\n\r\n    private  onClickInput( button: Button ) {\r\n        // UiGameInput.instance.show();\r\n    }\r\n\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Animation, AnimationClip, animation, Sprite, SpriteFrame, UITransform, Vec3 } from 'cc';\nimport { ResourceManager } from '../ResourceManager';\nimport { AudioController } from './AudioController';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiCard')\nexport class UiCard extends Component {\n    @property(AnimationClip) clip: AnimationClip = null;\n    @property(Sprite) spriteWin: Sprite = null;\n\n    private anim: Animation = null;\n    private sprite: Sprite = null;\n    private card: number = -1;\n    private cb: ()=> void;\n    private originalPos: Vec3 = null;\n\n    init() {\n        this.anim = this.node.getComponent(Animation);\n        if ( this.anim == null) {\n            return;\n        }\n\n        this.sprite = this.node.getComponent(Sprite);\n        this.anim.on('finished', this.onCardFlipFinished.bind(this), this);\n        this.originalPos = new Vec3( this.node.position.x, this.node.position.y, this.node.position.z );\n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        }\n\n        this.node.active = false;\n    }\n\n    show( card: number, cb:()=>void,  delay: number = 0.0 ) {\n        if ( cb != null ) {\n            this.cb = cb;\n        }\n\n        this.anim.stop();\n\n        this.card = card;\n        this.sprite.spriteFrame = ResourceManager.Instance().getCardImage(0);\n        this.sprite.node.active = true;\n        this.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n\n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        }\n\n        this.node.active = true;\n\n        this.scheduleOnce(()=>{\n            this.anim.play();\n        }, delay );\n    }\n\n    ShowImmediate( card: number ) {\n        this.card = card;\n        this.sprite.spriteFrame = ResourceManager.Instance().getCardImage(this.card + 1);\n        this.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n\n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        }\n\n        this.node.active = true;\n    }\n    \n    SetWinCard( pools: any ) {\n        this.Reset();\n\n        let c = pools.find( ( e )=>{\n            return this.card == e;\n        });\n\n        if ( c != null ) {\n            this.spriteWin.node.active = true;\n\n            // let pos = new Vec3(this.node.position.x, this.node.position.y, this.node.position.z);\n            this.node.position = new Vec3( this.originalPos.x, this.originalPos.y + 30, this.originalPos.z );\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y + 30, this.originalPos.z );\n        }\n    }\n\n    private Reset() {\n        this.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        \n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        }\n    }\n\n    onCardFlipFinished() {\n        if ( this.cb != null ) {\n            this.cb();\n        }\n    }\n\n    onCardFlippCenter() {\n        let sf: SpriteFrame = ResourceManager.Instance().getCardImage(this.card + 1);\n\n        if ( sf != null ) {\n            this.sprite.spriteFrame = sf;\n        }\n    }\n\n    hide() {\n        if ( this.cb != null ) {\n            this.cb = null;\n        }\n\n        this.sprite.spriteFrame = ResourceManager.Instance().getCardImage(0);\n\n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n        }\n\n        this.node.active = false;\n    }\n}\n\n","import { _decorator, Component, Node, Vec3 } from 'cc';\r\nimport { ENUM_CARD_TYPE } from '../HoldemDefines';\r\nimport { Card } from './Card';\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('UiCommunityCards')\r\nexport class UiCommunityCards extends Component {\r\n    @property(Card) cards: Card[] = [];\r\n\r\n    private numbers: number[] = [];\r\n    private isRegistedChildren: boolean = false;\r\n\r\n    public Init() {\r\n        this.isRegistedChildren = false;\r\n\r\n        this.RegistedChildren();\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    public Ready() {\r\n        this.numbers = [];\r\n    }\r\n\r\n    public SetCommunityCards( cards: number[] ) {\r\n        let cnt: number = 0;\r\n        for ( let i: number = 0 ; i < cards.length; i++ ) {\r\n            if ( cards[i] > 0 ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[i];\r\n                });\r\n\r\n                if ( d != null || this.numbers.length > 5 ) {\r\n                    continue;\r\n                }\r\n\r\n                cnt++;\r\n                this.numbers.push( cards[i] );\r\n\r\n                let delay: number = 0.2 + ( cnt * 0.1 );\r\n                this.cards[i].ShowFlip( cards[i], delay, ()=>{\r\n                    AudioController.instance.PlaySound('CARD_FLIP');\r\n                } );\r\n            }\r\n        }\r\n        this.Show();\r\n    }\r\n\r\n    public ShowFlopCards( cards: number[], cbDone: ()=>void = null ) {\r\n        if ( cards.length != 3 ) {\r\n            return;\r\n        }\r\n\r\n        this.Reset();\r\n\r\n        let cnt: number = 0;\r\n        let done: number = 0;\r\n        this.Show();\r\n\r\n        for ( let i: number = 0 ; i < cards.length; i++ ) {\r\n            if ( cards[i] >= 0 ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[i];\r\n                });\r\n\r\n                if ( d != null || this.numbers.length > 5 ) {\r\n                    continue;\r\n                }\r\n\r\n                cnt++;\r\n                this.numbers.push( cards[i] );\r\n\r\n                let delay: number = 0.2 + ( cnt * 0.1 );\r\n                this.cards[i].ShowFlip( cards[i], delay, ()=>{\r\n                    done++;\r\n                    if ( done >= 3 ) {\r\n                        AudioController.instance.PlaySound('CARD_FLIP');\r\n                        if ( cbDone != null ) {\r\n                            cbDone();\r\n                        }\r\n                    }\r\n                } );\r\n            }\r\n        }\r\n    }\r\n\r\n    public ShowTurnCard( cards: number[], cbDone: ()=>void = null ) {\r\n        if ( cards.length != 1 ) {\r\n            return;\r\n        }\r\n\r\n        this.cards.forEach( (e)=>{\r\n            if ( e.GetType() == ENUM_CARD_TYPE.COMMUNITY_TURN ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[0];\r\n                });\r\n\r\n                if ( d == null ) {\r\n                    this.numbers.push( cards[0] );                \r\n                    let delay = 0.2;\r\n    \r\n                    e.ShowFlip( cards[0] , delay, ()=>{\r\n                        AudioController.instance.PlaySound('CARD_FLIP');\r\n                        if ( cbDone != null ) {\r\n                            cbDone();\r\n                        }\r\n                    } );    \r\n                }\r\n            }\r\n        } );\r\n    }\r\n\r\n    public ShowRiverCard( cards: number[], cbDone: ()=>void = null ) {\r\n        if ( cards.length != 1 ) {\r\n            return;\r\n        }\r\n\r\n        this.cards.forEach( (e)=>{\r\n            if ( e.GetType() == ENUM_CARD_TYPE.COMMUNITY_RIVER ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[0];\r\n                });\r\n\r\n                if ( d == null ) {\r\n                    this.numbers.push( cards[0] );\r\n\r\n                    let delay = 0.2;\r\n                    e.ShowFlip( cards[0] , delay, ()=>{\r\n                        AudioController.instance.PlaySound('CARD_FLIP');\r\n                        if ( cbDone != null ) {\r\n                            cbDone();\r\n                        }                    \r\n                    } );    \r\n                }\r\n                else {\r\n                    if ( cbDone != null ) {\r\n                        cbDone();\r\n                    }\r\n                }\r\n            }\r\n        } );\r\n    }\r\n\r\n    public ShowRiverCardImmediate( cards: number[] ) {\r\n        if ( cards.length != 1 ) {\r\n            return;\r\n        }\r\n\r\n        this.cards.forEach( (e)=>{\r\n            if ( e.GetType() == ENUM_CARD_TYPE.COMMUNITY_RIVER ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[0];\r\n                });\r\n\r\n                if ( d == null ) {\r\n                    this.numbers.push( cards[0] );\r\n                    e.ShowImmediate( cards[0] );\r\n                    AudioController.instance.PlaySound('CARD_FLIP');\r\n                }\r\n            }\r\n        } );\r\n    }\r\n\r\n    public SetWinCards( pools: number[] ) {\r\n        this.cards.forEach( (e)=> {\r\n            e.SetWinCard( pools );\r\n        });\r\n    }\r\n\r\n    public GetCommunityCards(): number[] {\r\n        return this.numbers;\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Reset() {\r\n        this.cards.forEach( (e)=>{\r\n            e.Reset();\r\n        } );\r\n\r\n        this.numbers = [];\r\n        this.node.active = false;\r\n    }\r\n\r\n    private RegistedChildren() {\r\n        if ( this.isRegistedChildren == true ) {\r\n            return;\r\n        }\r\n\r\n        this.cards[0].Init( ENUM_CARD_TYPE.COMMUNITY_FLOP );\r\n        this.cards[1].Init( ENUM_CARD_TYPE.COMMUNITY_FLOP );\r\n        this.cards[2].Init( ENUM_CARD_TYPE.COMMUNITY_FLOP );\r\n        this.cards[3].Init( ENUM_CARD_TYPE.COMMUNITY_TURN );\r\n        this.cards[4].Init( ENUM_CARD_TYPE.COMMUNITY_RIVER );\r\n\r\n        this.isRegistedChildren = true;\r\n    }\r\n}\r\n","import { _decorator, Component, Node, Button } from 'cc';\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiControls')\r\nexport class UiControls extends Component {\r\n    public static instance: UiControls = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n\r\n    private cbExit: ()=>void = null;\r\n\r\n    init() {\r\n        UiControls.instance = this;        \r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n    }\r\n\r\n    show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    public setExitCallback( cbExit: ()=>void ) {\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n    }\r\n\r\n    private onClickExit(button: Button) {\r\n        if ( this.cbExit != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cbExit();\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, SpriteFrame, Animation } from 'cc';\nimport { ResourceManager } from '../ResourceManager';\nimport { AudioController } from './AudioController';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiEffectShowRiver')\nexport class UiEffectShowRiver extends Component {\n\n    private sprite: Sprite = null;\n    private animation: Animation = null;\n    private value: number = -1;\n\n    private done: ()=>void = null;\n\n    public Init() {\n        this.sprite = this.node.getChildByPath('CARD').getComponent(Sprite);\n        if ( this.sprite != null ) {\n            this.sprite.node.active = false;\n        }\n\n        this.animation = this.node.getComponent(Animation);\n        if ( this.animation != null ) {\n            this.animation.on('finished', this.onFinished.bind(this), this);\n        }\n\n        this.node.active = false;\n    }\n\n    public Show(value: number, done:()=>void ) {\n        if ( done != null ) {\n            this.done = done;\n        }\n\n        let sf: SpriteFrame = ResourceManager.Instance().getCardImage( 0 );\n        if ( sf != null ) {\n            this.sprite.spriteFrame = sf;\n        }\n\n        this.value = value;\n        this.scheduleOnce(()=>{\n            this.animation.node.active = true;\n            this.sprite.node.active = true;\n    \n            this.node.active = true;            \n            this.animation.play();\n        }, 0.5);\n    }\n\n    public Hide() {\n        if ( this.done != null ) {\n            this.done = null;\n        }\n        this.unscheduleAllCallbacks();\n        this.node.active = false;\n    }\n\n    onChangeCard() {\n        let sf: SpriteFrame = ResourceManager.Instance().getCardImage( this.value + 1 );\n        if ( sf != null ) {\n            this.sprite.spriteFrame = sf;\n        }\n    }\n\n    onFinished() {\n        this.scheduleOnce(()=>{\n            if ( this.done != null ) {\n                this.done();\n            }\n    \n            this.Hide();\n        }, 0.5);\n    }\n}\n\n","import { _decorator, Component, Node, Sprite, Label, Vec3, Color, Tween, SpriteFrame, UITransform, \r\n    resources, tween, Quat, bezier, Animation, Button, animation, UIOpacity, color } from 'cc';\r\nimport { Board } from './Board';\r\n\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { AudioController } from './Game/AudioController';\r\nimport { UiBettingChips } from './Game/UiBettingChips';\r\nimport { UiCard } from './Game/UiCard';\r\nimport { ENUM_STATUS_TYPE, UiEntityAvatar } from './Game/UiEntityAvatar';\r\nimport { EMOTICON_CHAT_MESSAGE, EMOTICON_TYPE } from './Game/UiGameChatting';\r\nimport { UiResultEffect } from './Game/UiResultEffect';\r\nimport { NetworkManager } from './NetworkManager';\r\nimport { ResourceManager } from './ResourceManager';\r\nimport { UiPotChips } from './Game/UiPotChips';\r\nimport { Card } from './Game/Card';\r\nimport { ENUM_CARD_TYPE } from './HoldemDefines';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiEntity')\r\nexport class UiEntity extends Component {\r\n    private uiEntityAvatar: UiEntityAvatar = null;\r\n\r\n    private isChildRegistered: boolean = false;\r\n\r\n    private rootCards: Node = null;\r\n    private rootButtons: Node = null;\r\n\r\n    private timerDeltaTime: number = 0;\r\n    private turnDuration: number = 20;\r\n    private playTimeLimitSound: boolean = false;\r\n\r\n    private buttons: {} = {};\r\n    // private posSymbols: {} = {};\r\n\r\n    private rootHandRank: Node = null;\r\n    private labelHandRank: Label = null;\r\n\r\n    public isFold: boolean = false;\r\n    public isWait: boolean = false;\r\n    public isMe: boolean = false;\r\n    public isSitout: boolean = false;\r\n\r\n    public bezierPoints: Node[] = [];\r\n\r\n    private nodeEmoticon: Node = null;\r\n    private spriteEmoticon: Sprite = null;\r\n    private nodeChatting: Node = null;\r\n    private animationEmoticon: Animation = null;\r\n    private animationChatting: Animation = null;\r\n\r\n    private labelChatting: Label = null;\r\n    private buttonAvatar: Button = null;\r\n    private id:number = -1;\r\n\r\n    private uiBettingChips: UiBettingChips = null;\r\n    private uiResultEffect: UiResultEffect = null;\r\n    \r\n    private timeOutId = -1;\r\n    private uiPotChips: UiPotChips = null;\r\n\r\n    private cbProfileOpen: (id: number, seat: number) => void = null;\r\n    private cbProfileClose: (seat: number) => void = null;\r\n\r\n    public isPlaying: boolean = false;\r\n\r\n    private rootHandCards: Node = null;\r\n    private handCards: Card[] = [ null, null ];\r\n\r\n    private rootHiddenCards: Node = null;\r\n    private hiddenCards: Card[] = [ null, null ];\r\n    private rootCardDispensing: Node = null;\r\n    private seat: number = -1;\r\n    private rootReserveExit: Node = null;\r\n    \r\n\r\n    childRegistered() {\r\n        if( true == this.isChildRegistered){\r\n            return;\r\n        }\r\n\r\n        this.isChildRegistered = true;\r\n        this.uiEntityAvatar = this.node.getChildByPath('AVATAR').getComponent(UiEntityAvatar);\r\n        if ( this.uiEntityAvatar != null ) {\r\n            this.uiEntityAvatar.init();\r\n        }\r\n\r\n        let n = this.node.getChildByPath('BETTING_CHIPS');\r\n        if ( n != null ) {\r\n            this.uiBettingChips = n.getComponent(UiBettingChips);\r\n            if ( this.uiBettingChips != null ) {\r\n                this.uiBettingChips.init();\r\n            }\r\n        }\r\n\r\n        let r = this.node.getChildByPath('RESULT_EFFECT');\r\n        if ( r != null ) {\r\n            this.uiResultEffect = r.getComponent(UiResultEffect);\r\n            if ( this.uiResultEffect != null ) {\r\n                this.uiResultEffect.Init();\r\n            }\r\n        }\r\n\r\n        this.rootCards = this.node.getChildByPath('CARDS');\r\n        if ( this.rootCards != null ) {\r\n            this.rootHandCards = this.rootCards.getChildByPath('HAND_CARDS');\r\n            if ( this.rootHandCards != null ) {\r\n                for ( let i: number = 0 ; i < 2; i ++ ) {\r\n                    this.handCards[i] = this.rootHandCards.getChildByPath( i.toString() ).getComponent(Card);\r\n                    this.handCards[i].Init( ENUM_CARD_TYPE.PLAYER_HAND );\r\n                }\r\n                this.rootHandCards.active = false;\r\n            }\r\n    \r\n            this.rootHiddenCards = this.rootCards.getChildByPath('HIDDEN_CARDS');\r\n            if ( this.rootHiddenCards != null ) {\r\n                for ( let i: number = 0 ; i < 2; i ++ ) {\r\n                    this.hiddenCards[i] = this.rootHiddenCards.getChildByPath( i.toString() ).getComponent(Card);\r\n                    this.hiddenCards[i].Init( ENUM_CARD_TYPE.PLAYER_HIDDEN );\r\n                }\r\n    \r\n                this.rootCardDispensing = this.rootHiddenCards.getChildByPath('DISPENSING_ROOT');\r\n                this.rootCardDispensing.active = true;\r\n    \r\n                this.rootHiddenCards.active = false;\r\n            }\r\n\r\n            this.rootCards.active = false;\r\n        }\r\n\r\n        this.rootHandRank = this.node.getChildByPath('HAND_RANK');\r\n        if ( this.rootHandRank != null ) {\r\n            this.labelHandRank = this.rootHandRank.getChildByPath('LABEL_HAND_RANK').getComponent(Label);\r\n            if ( this.labelHandRank != null ) {\r\n                this.labelHandRank.node.on( Node.EventType.SIZE_CHANGED, ()=>{\r\n                    let uiTransLB = this.labelHandRank.node.getComponent(UITransform);\r\n                    let uiTransSpr = this.rootHandRank.getComponent(UITransform);\r\n                    uiTransSpr.setContentSize(uiTransLB.contentSize.width + 40, uiTransSpr.height);        \r\n                }, this);\r\n                this.labelHandRank.node.active = false;\r\n            }\r\n            this.rootHandRank.active = false;\r\n        }\r\n\r\n        this.rootButtons = this.node.getChildByPath('BUTTONS');\r\n        if ( this.rootButtons != null ) {\r\n\r\n            this.buttons['DEALER'] = this.rootButtons.getChildByPath('DEALER').getComponent(Sprite);\r\n            if ( this.buttons['DEALER'] != null) {\r\n                this.buttons['DEALER'].node.active = false;\r\n            }\r\n\r\n            this.buttons['SB'] = this.rootButtons.getChildByPath('SB').getComponent(Sprite);\r\n            if ( this.buttons['SB'] != null ) {\r\n                this.buttons['SB'].node.active = false;\r\n            }\r\n\r\n            this.buttons['BB'] = this.rootButtons.getChildByPath('BB').getComponent(Sprite);\r\n            if ( this.buttons['BB'] != null ) {\r\n                this.buttons['BB'].node.active = false;\r\n            }\r\n        }\r\n\r\n        this.bezierPoints = [];\r\n        for(let i=0; i<2; i++){\r\n            let point = this.node.getChildByPath(`BEZIER_POINT${i+1}`);\r\n            this.bezierPoints.push(point);\r\n        }\r\n\r\n        this.nodeEmoticon = this.node.getChildByPath('EMOTICON');\r\n        this.nodeEmoticon.active = false;\r\n\r\n        this.spriteEmoticon = this.node.getChildByPath('EMOTICON/EMOTICON').getComponent(Sprite);\r\n        this.spriteEmoticon.node.active = false;\r\n\r\n        this.animationEmoticon = this.node.getChildByPath('EMOTICON/EMOTICON').getComponent(Animation);\r\n        this.animationEmoticon.on('finished', this.onFinishedEmoticonAnimation.bind(this), this);\r\n\r\n        this.nodeChatting = this.node.getChildByPath('EMOTICON/CHATTING');\r\n        this.nodeChatting.active = false;\r\n        \r\n        this.animationChatting = this.node.getChildByPath('EMOTICON/CHATTING').getComponent(Animation);\r\n        this.animationChatting.on('finished', this.onFinishedChattingAnimation.bind(this), this);\r\n\r\n        this.labelChatting = this.node.getChildByPath('EMOTICON/CHATTING/LABEL_CHATTING').getComponent(Label);\r\n        this.labelChatting.string = '';\r\n\r\n        this.isPlaying = false;\r\n        this.node.active = false;\r\n\r\n        this.uiPotChips = this.node.getChildByPath('POT_CHIPS').getComponent( UiPotChips );\r\n        if ( this.uiPotChips != null ) {\r\n            this.uiPotChips.init();\r\n            this.uiPotChips.node.active = false;\r\n        }\r\n\r\n        this.buttonAvatar = this.node.getChildByPath('AVATAR/BUTTON_PROFILE').getComponent(Button);\r\n        if ( this.buttonAvatar != null ) {\r\n            this.buttonAvatar.node.off( 'click' );\r\n            this.buttonAvatar.node.on( 'click', this.onClickAvatar.bind(this), this );\r\n        }\r\n\r\n        this.rootReserveExit = this.node.getChildByPath('RESERVE_EXIT');\r\n        if ( this.rootReserveExit != null ) {\r\n            this.rootReserveExit.active = false;\r\n        }\r\n    }\r\n\r\n    onClickAvatar( button: Button ) {\r\n        if ( this.cbProfileOpen != null ) {\r\n            this.cbProfileOpen( this.id, this.seat );\r\n        }\r\n    }\r\n\r\n    public Init() {\r\n        this.cbProfileOpen = null;\r\n        this.cbProfileClose = null;\r\n\r\n        this.childRegistered();\r\n    }\r\n\r\n    public SetEntity( entity: any, cbOpen: ( id: number, seat:number )=>void, cbClose:( seat: number )=>void ) {\r\n\r\n        this.cbProfileOpen = null;\r\n        this.cbProfileClose = null;        \r\n        this.childRegistered();\r\n\r\n        if ( entity == null || entity == undefined ) {\r\n            this.SetEscape();\r\n            return;\r\n        }\r\n\r\n        if ( cbOpen != null ) {\r\n            this.cbProfileOpen = cbOpen;\r\n        }\r\n\r\n        if ( cbClose != null ) {\r\n            this.cbProfileClose = cbClose;\r\n        }\r\n\r\n        this.id = entity.id;\r\n        this.seat = entity.seat;\r\n        this.uiEntityAvatar.SetAvatar( this, entity, this.isMe );\r\n\r\n        this.endTurn();\r\n        this.ClearAction();\r\n        this.ClearBetValue();\r\n        this.ClearHands();\r\n\r\n        this.isPlaying = true;\r\n\r\n        this.isFold = entity.fold;        \r\n        this.isWait = entity.wait;\r\n        this.isSitout = entity.isSitOut;\r\n\r\n        this.SetStatus( entity );\r\n        this.node.active = true;\r\n\r\n        if ( this.isSitout == true ) {\r\n            this.SetSitout();\r\n            return;\r\n        }\r\n\r\n        if( true == entity.wait ){\r\n            this.SetWait( entity );\r\n            return;\r\n        }\r\n    }\r\n\r\n    SetClearRound( entity ) {\r\n        if( null === entity || undefined === entity  ){\r\n            return;\r\n        }\r\n        this.endTurn();        \r\n\r\n        this.SetChips( entity.chips );\r\n\r\n        this.ClearAction();\r\n        this.ClearBetValue();\r\n        this.ClearHands();\r\n        this.ResetResultEffect();        \r\n        this.isFold = false;\r\n        this.SetFold( this.isFold );\r\n\r\n        if( true == entity.wait ){\r\n            this.SetWait( entity );\r\n            return;\r\n        }\r\n        this.SetPlay(); \r\n    }\r\n\r\n    SetPrepareRound( entity ) {\r\n        if( null === entity || undefined === entity  ){\r\n            return;\r\n        }\r\n\r\n        this.endTurn();        \r\n        this.SetChips( entity.chips );\r\n        this.ClearAction();\r\n        this.ClearBetValue();\r\n        this.ClearHands();\r\n\r\n        this.isFold = false;\r\n        this.SetFold( this.isFold );        \r\n        this.ResetResultEffect();\r\n\r\n        if( true == entity.wait ){\r\n            this.SetWait( entity );\r\n            return;\r\n        }\r\n        this.SetPlay();\r\n    }\r\n\r\n    public setChipsMoveToPot(index: number, pot: Node, cb: (idx: number)=>void) {\r\n        if ( this.uiBettingChips != null ) {\r\n            this.uiBettingChips.moveChipsToPot(pot, ()=>{\r\n                if (cb != null ) {\r\n                    cb(index);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    SetEscape() {\r\n        this.uiEntityAvatar.setEscape();\r\n\r\n        this.labelHandRank.node.active = false;\r\n\r\n        this.buttons['DEALER'].node.active = false;\r\n        this.buttons['SB'].node.active = false;\r\n        this.buttons['BB'].node.active = false;\r\n\r\n        this.uiBettingChips.hide();\r\n\r\n        this.cbProfileOpen = null;\r\n        this.cbProfileClose = null;        \r\n\r\n        this.isPlaying = false;\r\n        this.node.active = false;\r\n\r\n        clearTimeout(this.timeOutId);\r\n\r\n        this.ResetResultEffect();        \r\n    }\r\n\r\n    SetWait( entity: any ) {\r\n        this.ClearAction();\r\n        this.clearUiBetValue();\r\n\r\n        this.uiEntityAvatar.SetWait( entity );\r\n    }\r\n\r\n    SetPlay() {\r\n        this.uiEntityAvatar.SetPlay();\r\n\r\n        this.ClearAction();\r\n        this.clearUiBetValue();\r\n    }\r\n    \r\n    SetNickname ( name: string ) {\r\n        this.uiEntityAvatar.SetNickname( name );\r\n    }\r\n\r\n    SetChips( chips: number ) {\r\n        this.uiEntityAvatar.SetChips( chips );\r\n    }\r\n\r\n    SetBlindBet( chips: number, isSB: boolean, isBB:boolean ) {\r\n\r\n        if ( true == isBB ) {\r\n            this.uiEntityAvatar.SetBigBlind();\r\n        } else {\r\n            this.uiEntityAvatar.SetSmallBlind();\r\n        }\r\n\r\n        if ( true == isBB || true == isSB ) {\r\n            this.scheduleOnce(()=>{\r\n                if ( this.uiEntityAvatar != null ) {\r\n                    this.uiEntityAvatar.SetShowChips();\r\n                }\r\n            }, 1.5);\r\n        } else {\r\n            if ( this.uiEntityAvatar != null ) {\r\n                this.uiEntityAvatar.SetShowChips();\r\n            }\r\n        }        \r\n    }\r\n\r\n    SetButtons( name: string ) {\r\n        let keys = Object.keys( this.buttons );\r\n        keys.forEach(element => {\r\n            let v: Sprite = this.buttons[element];\r\n            if (element == name) {\r\n                v.node.active = true;\r\n            }\r\n        });\r\n\r\n        this.rootButtons.active = true;\r\n    }\r\n\r\n    ClearButtons() {\r\n        let keys = Object.keys(this.buttons);\r\n        keys.forEach(element => {\r\n            let v: Sprite = this.buttons[element];\r\n            v.node.active = false;\r\n        });\r\n        this.rootButtons.active = false;\r\n    }\r\n\r\n    SetAction( action: string ) {\r\n        this.uiEntityAvatar.SetAction( action );\r\n    }\r\n\r\n    ClearAction() {\r\n        this.uiEntityAvatar.ClearAction();        \r\n    }\r\n\r\n    SetStatus( player: any ) {\r\n        if ( player != null ) {\r\n            if ( player.isSitOut == true ) {\r\n                if ( this.uiEntityAvatar != null ) {\r\n                    this.uiEntityAvatar.SetStatus( ENUM_STATUS_TYPE.SITOUT );\r\n                }\r\n\r\n            } else if ( player.wait == true ) {\r\n                if ( this.uiEntityAvatar != null ) {\r\n                    this.uiEntityAvatar.SetStatus( ENUM_STATUS_TYPE.WAITING );\r\n                }\r\n            } else {\r\n                if ( this.uiEntityAvatar != null ) {\r\n                    this.uiEntityAvatar.SetStatus( ENUM_STATUS_TYPE.NONE );\r\n                }\r\n            }\r\n            this.SetFold( player.fold );\r\n        }\r\n    }\r\n\r\n    SetBetValue( betValue: number, done: ()=> void = null ) {\r\n        if ( betValue > 0 ) {\r\n            this.uiBettingChips.show(betValue, ()=>{\r\n                if ( done != null ) {\r\n                    done();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if ( done != null ) {\r\n                done();\r\n            }\r\n        }\r\n    }\r\n\r\n    ClearBetValue() {\r\n        this.uiBettingChips.hide();        \r\n    }\r\n\r\n    clearUiBetValue() {\r\n        this.uiBettingChips.hide();\r\n    }\r\n\r\n    ResetHands() {\r\n        this.handCards.forEach( (e)=>{\r\n            e.Reset();\r\n        });\r\n    }\r\n\r\n    ClearHands() {\r\n        this.HideHiddenCard();\r\n        \r\n        this.ResetHands();\r\n        this.HideHandCard();\r\n\r\n        this.ClearHandRank()\r\n    }\r\n\r\n    SetShowHiddenCard() {\r\n        this.hiddenCards.forEach( (e)=>{\r\n            e.Show();\r\n        });\r\n\r\n        this.rootHiddenCards.active = true;\r\n        this.rootCards.active = true;        \r\n    }\r\n\r\n    SetHandCardsFold() {\r\n        this.hiddenCards.forEach( (e)=>{\r\n            e.Fold();\r\n        });\r\n\r\n        this.rootHandCards.active = true;\r\n    }\r\n\r\n    SetHandRank( handEval: any ) {\r\n        if ( handEval == null ) {\r\n            return;\r\n        }\r\n\r\n        this.rootHandRank.active = true;\r\n        this.labelHandRank.string = handEval.descr;\r\n        this.labelHandRank.node.active = true;\r\n    }\r\n\r\n    ClearHandRank() {\r\n        this.rootHandRank.active = false;\r\n        this.labelHandRank.node.active = false;\r\n        this.labelHandRank.string = '';\r\n    }\r\n\r\n    startTurn( duration: number ) {\r\n        this.turnDuration = duration / 1000;\r\n        this.uiEntityAvatar.startTurn();\r\n    }\r\n\r\n    public StartActionTimer() {\r\n        this.timerDeltaTime = this.turnDuration;\r\n        this.playTimeLimitSound = true;\r\n    }\r\n\r\n    endTurn() {\r\n        this.uiEntityAvatar.endTurn();\r\n\r\n        this.timerDeltaTime = 0;\r\n        AudioController.instance.StopTimeLimit();\r\n    }\r\n\r\n    SetFold( fold: boolean ) {\r\n        this.isFold = fold;        \r\n        this.uiEntityAvatar.SetUiFold( this.isFold );\r\n        this.timerDeltaTime = 0;\r\n\r\n        if ( fold == true ) {\r\n            this.HideHiddenCard();\r\n        }\r\n    }\r\n\r\n    SetAllIn() {\r\n        this.uiEntityAvatar.SetAllIn();\r\n        this.timerDeltaTime = 0;\r\n    }\r\n\r\n    SetSitout() {\r\n        this.uiEntityAvatar.SetSitout();\r\n        this.HideHiddenCard();\r\n    }\r\n\r\n    SetSitback( msg: any ) {\r\n        this.uiEntityAvatar.SetSitback( msg );\r\n    }\r\n\r\n    SetSitbackStatus() {\r\n        this.uiEntityAvatar.SetSitbackStatus();\r\n    }\r\n\r\n    setEmoticon( type: EMOTICON_TYPE, id: number ) {\r\n        Board.table.setEmoticonButtinInteractive(false);\r\n        if (type == EMOTICON_TYPE.Emoticon ) {\r\n\r\n            CommonUtil.setEmoticonSprite( id, this.spriteEmoticon, ()=>{\r\n                this.spriteEmoticon.node.active = true;\r\n                this.nodeEmoticon.active = true;\r\n                this.animationEmoticon.play();\r\n\r\n            });\r\n\r\n        } else if ( type == EMOTICON_TYPE.Chatting ) {\r\n            this.labelChatting.string = EMOTICON_CHAT_MESSAGE[id];\r\n            this.nodeChatting.active = true;\r\n            this.nodeEmoticon.active = true;            \r\n            this.animationChatting.play();\r\n        }\r\n    }\r\n\r\n    onFinishedEmoticonAnimation() {\r\n        this.animationEmoticon.stop();\r\n        Board.table.setEmoticonButtinInteractive(true);\r\n    }\r\n\r\n    onFinishedChattingAnimation() {\r\n        this.animationChatting.stop();\r\n        Board.table.setEmoticonButtinInteractive(true);\r\n    }\r\n\r\n    update( dt: number ) {\r\n        this.updateTimer(dt);\r\n    }\r\n\r\n    updateTimer( dt: number ) {\r\n        if( 0 >= this.timerDeltaTime ){\r\n            return;\r\n        }\r\n\r\n        this.timerDeltaTime -= dt;\r\n        if( 0 > this.timerDeltaTime){\r\n            this.timerDeltaTime = 0;\r\n            this.uiEntityAvatar.setShowTimer( false );\r\n        }\r\n\r\n        if( this.isMe == true && this.timerDeltaTime <= 6 && this.playTimeLimitSound ){\r\n            this.playTimeLimitSound = false;\r\n            AudioController.instance.PlayTimeLimit();\r\n        }\r\n\r\n        // if ( this.timerDeltaTime < 10 ) {\r\n        if ( this.timerDeltaTime <= 6 ) {\r\n            this.uiEntityAvatar.setWaitingTimerColor(Color.RED);\r\n        } else {\r\n            this.uiEntityAvatar.setWaitingTimerColor(Color.YELLOW);\r\n        }\r\n        this.uiEntityAvatar.setWaitingTimer(this.timerDeltaTime);\r\n        // }\r\n\r\n        this.uiEntityAvatar.setWaitingTimerProgress( this.timerDeltaTime / this.turnDuration );\r\n    }\r\n\r\n    public GetNickname(): string {\r\n        return this.uiEntityAvatar.GetNickname();\r\n    }\r\n\r\n    public ResetResultEffect() {\r\n        this.uiResultEffect.ResetResultEffect();\r\n    }\r\n\r\n    public SetDraw( value: number ) {\r\n        this.uiResultEffect.SetDrawEffect( value );\r\n    }\r\n\r\n    public SetReturn( value: number ) {\r\n        this.uiResultEffect.SetReturnEffect( value );\r\n    }\r\n\r\n    public SetWinner( from: Node, value: number) {\r\n        this.uiPotChips.MovePotToEntity( from, this.node, value );\r\n        this.uiResultEffect.SetWinEffect( value );\r\n    }\r\n\r\n    public SetWinCards( pools: any ) {\r\n        this.handCards.forEach( (e)=>{\r\n            e.SetWinCard( pools );\r\n        });\r\n    }\r\n\r\n    setAniWinner( value: number ) {\r\n        this.uiResultEffect.SetWinEffect( value );\r\n    }\r\n\r\n    setTweenFadeInFromToMove( sprite: Sprite, originalColor: Color, from: Vec3, to: Vec3, duration: number, \r\n        fadeInRatio: number, easingFunc: ( k: number ) => number, onFinished: ()=> void ) {\r\n            sprite.node.active = true;\r\n\r\n            sprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, 0 );\r\n        \r\n            let tw = tween( sprite.node )\r\n            .set( { \r\n                position: from \r\n            })\r\n            .to( duration, {\r\n                position: to,\r\n            }, {\r\n                easing: easingFunc,\r\n                onUpdate: ( target: Node, ratio: number ) => {\r\n                    let a = originalColor.a * ratio * fadeInRatio;\r\n                    if( a > originalColor.a ) {\r\n                        a = originalColor.a;\r\n                    }\r\n                    sprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, a );\r\n                },\r\n            });\r\n    \r\n            if( null != onFinished){\r\n                tw.call( onFinished );\r\n            }\r\n    \r\n            tw.union()\r\n            tw.start();            \r\n\r\n    }\r\n\r\n    PrepareDispensingCards() {\r\n        this.handCards.forEach( ( e )=> {\r\n            if ( e != null ) {\r\n                e.Hide();\r\n            }\r\n        });\r\n\r\n        this.hiddenCards.forEach( ( e )=> {\r\n            if ( e != null ) {\r\n                e.Hide();\r\n            }\r\n        });\r\n\r\n        this.rootHiddenCards.active = true;\r\n        this.rootHandCards.active = true;\r\n\r\n        this.rootCards.active = true;\r\n    }\r\n\r\n    CardDispensing( card: number, index: number, duration: number, delay: number, cb: (idx: number)=>void ) {\r\n        this.hiddenCards[card].Show();\r\n        let target = this.hiddenCards[card].node;\r\n\r\n        let from = new Vec3( this.rootCardDispensing.position );\r\n        let to = new Vec3( this.hiddenCards[card].node.position );\r\n\r\n        target.active = false;\r\n\r\n        if ( from == null || to == null ) {\r\n            return;\r\n        }\r\n       \r\n        let tw = tween( target )\r\n        .delay(delay)\r\n        .set ({\r\n            position: from,\r\n            active: true,\r\n\r\n        }).to ( duration, {\r\n            position: to,\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate: ( target: Node, ratio: number )=> {\r\n\r\n            },\r\n        });\r\n\r\n        tw.call( ()=>{\r\n            if (cb != null ) {\r\n                cb( index );\r\n            }\r\n        } );\r\n        tw.start();\r\n    }\r\n\r\n    ShowHands( cards: number[], done: ()=>void = null  ) {\r\n        this.hiddenCards.forEach( (e)=> {\r\n            e.Hide();\r\n        });\r\n\r\n        let cnt: number = 0;\r\n\r\n        this.rootHandCards.active = true;\r\n        this.rootCards.active = true;\r\n\r\n        for ( let i = 0 ; i < cards.length; i ++ ) {\r\n            this.handCards[i].ShowFlip( cards[i], 0.2 + 0.1 * i, ()=>{\r\n                cnt++;\r\n                if ( cnt >= cards.length ) {\r\n                    if ( done != null ) {\r\n                        done();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    hiddenCardFadeOut( target: Node, duration: number, delay: number ) {\r\n        if ( target == null ) {\r\n            return;\r\n        }\r\n\r\n        let sprite: Sprite = target.getComponent(Sprite);\r\n        sprite.color = new Color( 255, 255, 255, 255);\r\n        \r\n        let tw = tween( target )\r\n        .delay(delay)\r\n        .set ({\r\n\r\n        }).to ( duration, {\r\n\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate: ( target: Node, ratio: number )=> {\r\n                let a = 255 - ratio * 255;\r\n                sprite.color = new Color(255, 255, 255, a);\r\n            },\r\n        });\r\n\r\n        tw.call( ()=>{\r\n            target.active = false;\r\n            sprite.color = new Color( 255, 255, 255, 255);\r\n        } );\r\n        tw.start();\r\n    }\r\n\r\n    easeOutBack(x: number ): number {\r\n        const c1 = 1.70158;\r\n        const c3 = c1 + 1;\r\n        \r\n        return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);\r\n    }\r\n\r\n    easeOutQuad( x: number ): number {\r\n        return 1 - (1 - x) * (1 - x);\r\n    }\r\n\r\n    HideHiddenCard() {\r\n        this.rootHiddenCards.active = false;\r\n    }\r\n\r\n    HideHandCard() {\r\n        this.rootHandCards.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Color, native, Sprite, Vec3, Animation, animation, tween, Quat, Tween, bezier, SpriteFrame } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst TIMER_BEGIN_COLOR: Color = Color.YELLOW;\r\nconst TIMER_END_COLOR: Color = Color.RED;\r\n\r\nexport enum ENUM_STATUS_TYPE {\r\n    NONE,\r\n    FOLD,\r\n    WAITING,\r\n    SITOUT,\r\n}\r\n\r\n@ccclass('UiEntityAvatar')\r\nexport class UiEntityAvatar extends Component {\r\n    @property(SpriteFrame) spriteFrameStatus: SpriteFrame[] = [];\r\n\r\n    private entity: any = null;\r\n\r\n    private rootSelected: Node = null;\r\n    private rootNameTag: Node = null;\r\n    private rootActions: Node = null;\r\n    private rootStatus: Node = null;\r\n\r\n    private spriteAvatarProfile: Sprite = null;\r\n    private spriteTimer: Sprite = null;\r\n    private spriteDimmed: Sprite = null;\r\n    private spriteStatus: Sprite = null;\r\n    private spriteFold: Sprite = null;\r\n\r\n    private labelNickname: Label = null;\r\n    private labelChips: Label = null;\r\n    private labelBlind: Label = null;    \r\n    private labelWaitingTimer: Label = null;\r\n\r\n    private actions: {} = {};\r\n\r\n    private isChildRegisted: boolean = false;\r\n    private isFold: boolean = false;\r\n    private isMe: boolean = false;\r\n    private uiEntity: any = null;\r\n\r\n    init() {\r\n        this.childRegistered();\r\n        this.isFold = false;\r\n        this.node.active = false;\r\n    }\r\n\r\n    SetAvatar( uiEntity: any, entity: any, isMe: boolean ) {\r\n        this.uiEntity = uiEntity;\r\n        this.entity = entity;\r\n        this.isMe = isMe;\r\n\r\n        this.labelBlind.node.active = false;\r\n        this.labelChips.node.active = true;\r\n\r\n        this.SetNickname( entity.nickname );\r\n        this.SetChips( entity.chips );\r\n\r\n        this.SetPlayerThumbnail( entity.avatar );\r\n\r\n        if ( entity.isSitout == true ) {\r\n            this.SetStatus( ENUM_STATUS_TYPE.SITOUT );\r\n        } else if ( entity.wait == true ) {\r\n            this.SetStatus( ENUM_STATUS_TYPE.WAITING );\r\n        } else {\r\n            this.SetStatus( ENUM_STATUS_TYPE.NONE );\r\n        }\r\n        this.rootNameTag.active = true;\r\n        this.isFold = false;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public SetNickname( name: string ) {\r\n        this.labelNickname.string = name;        \r\n    }\r\n\r\n    public GetNickname() {\r\n        return this.entity.nickname;\r\n    }\r\n\r\n    public SetChips( chips: number ) {\r\n        this.labelChips.color = new Color(255, 200, 70);\r\n        this.labelChips.string = CommonUtil.getKoreanNumber( chips );\r\n    }\r\n\r\n    public SetShowChips() {\r\n        this.labelBlind.node.active = false;\r\n        this.labelChips.node.active = true;\r\n    }\r\n\r\n    public SetSmallBlind() {\r\n        this.labelBlind.string = '스몰블라인드';\r\n        this.labelBlind.node.active = true;\r\n\r\n        this.labelChips.node.active = false;\r\n    }\r\n\r\n    public SetBigBlind() {\r\n        this.labelBlind.string = '빅블라인드';\r\n        this.labelBlind.node.active = true;\r\n\r\n        this.labelChips.node.active = false;\r\n    }\r\n\r\n    private SetPlayerThumbnail ( avatar ) {\r\n        let s = Number( avatar );\r\n        let sf: SpriteFrame = ResourceManager.Instance().getAvatarImage(s);\r\n        if ( sf != null )\r\n        {\r\n            this.spriteAvatarProfile.spriteFrame = ResourceManager.Instance().getAvatarImage(s);\r\n            this.spriteAvatarProfile.node.active = true;\r\n        }\r\n    }\r\n\r\n    public clearUiBetValue() {\r\n\r\n    }\r\n\r\n    public SetAction( action: string ) {\r\n        let keys = Object.keys( this.actions );\r\n        keys.forEach( (e)=> {\r\n            let v: Node = this.actions[ e ];\r\n            v.active = ( e == action );\r\n        } );\r\n        this.rootActions.active = true;\r\n    }\r\n\r\n    public SetPlay() {\r\n\r\n        this.rootSelected.active = false;\r\n        this.spriteTimer.node.active = true;\r\n        this.spriteTimer.color = Color.GRAY;\r\n        this.spriteTimer.fillRange = 1;\r\n        this.spriteTimer.node.active = false;\r\n        this.isFold = false;\r\n\r\n        this.SetStatus( ENUM_STATUS_TYPE.NONE );\r\n        this.clearUiAction();\r\n    }\r\n\r\n    public ClearAction() {\r\n        let keys = Object.keys( this.actions );\r\n        keys.forEach ( (e)=> {\r\n            let v: Node = this.actions[e];\r\n            v.active = false;\r\n        });\r\n        this.rootActions.active = false;\r\n    }\r\n\r\n    public clearUiAction() {\r\n        //deplicate\r\n        let keys = Object.keys( this.actions );\r\n        keys.forEach ( (e)=> {\r\n            let v: Node = this.actions[e];\r\n            v.active = false;\r\n        });\r\n        this.rootActions.active = false;\r\n    }\r\n\r\n    public endTurn() {\r\n        this.rootSelected.active = false;\r\n        this.spriteTimer.node.active = false;\r\n        this.spriteTimer.fillRange = 0;\r\n        this.spriteTimer.node.active = false;\r\n        this.labelWaitingTimer.node.active = false;\r\n    }\r\n\r\n    public setEscape() {\r\n        // this.labelSitout.node.active = false;\r\n        this.rootActions.active = false;\r\n        this.hide();\r\n    }\r\n\r\n    public startTurn() {\r\n        this.rootSelected.active = true;\r\n\r\n        this.spriteTimer.node.active = true;\r\n        this.spriteTimer.fillRange = 1;\r\n        this.spriteTimer.color = TIMER_BEGIN_COLOR;\r\n        this.spriteTimer.node.active = true;\r\n    }\r\n\r\n    public SetUiFold( isFold: boolean ) {\r\n        this.isFold = isFold;\r\n\r\n        if ( isFold == true ) {\r\n            this.clearUiAction();\r\n\r\n            this.spriteTimer.fillRange = 0;\r\n            this.spriteTimer.node.active = false;\r\n            this.rootSelected.active = false;\r\n            this.SetAction('fold');\r\n\r\n            this.spriteDimmed.node.active = true;\r\n            this.spriteFold.node.active = true;\r\n            this.rootStatus.active = true;            \r\n\r\n        } else {\r\n            this.spriteFold.node.active = false;\r\n            if ( this.spriteStatus.node.active == true ) {\r\n                this.spriteDimmed.node.active = true;\r\n            } else {\r\n                this.spriteDimmed.node.active = false;\r\n                this.rootStatus.active = false;                \r\n            }\r\n        }\r\n    }    \r\n\r\n    public SetWait( entity: any ) {\r\n        this.spriteTimer.node.active = false;\r\n        this.spriteTimer.color = Color.GRAY;\r\n        this.spriteTimer.fillRange = 1;\r\n        this.spriteTimer.node.active = false;\r\n\r\n        this.endTurn();\r\n\r\n        if ( entity != null ) {\r\n            this.entity = entity;\r\n            if ( entity.isSitOut == true ) {\r\n                this.SetStatus( ENUM_STATUS_TYPE.SITOUT );\r\n            } else {\r\n                this.SetStatus( ENUM_STATUS_TYPE.WAITING );\r\n            }\r\n        }\r\n    }\r\n\r\n    public SetAllIn() {\r\n        this.ClearAction();\r\n\r\n        this.spriteTimer.fillRange = 0;\r\n        this.spriteTimer.node.active = false;\r\n        this.rootSelected.active = false;\r\n\r\n        this.SetAction('allin');\r\n    }\r\n\r\n    public SetSitout() {\r\n        this.SetStatus(ENUM_STATUS_TYPE.SITOUT);\r\n    }\r\n\r\n    public SetSitback( msg: any ) {\r\n        let wait = msg['wait'];\r\n        let fold = msg['fold'];\r\n\r\n        if ( wait == true ) {\r\n            this.SetStatus(ENUM_STATUS_TYPE.WAITING);\r\n        }\r\n        else if ( fold == true ) {\r\n            this.SetUiFold( fold );\r\n        } else {\r\n            this.SetStatus(ENUM_STATUS_TYPE.NONE);\r\n        }\r\n    }\r\n\r\n    public SetSitbackStatus() {\r\n        this.SetStatus(ENUM_STATUS_TYPE.NONE);\r\n    }\r\n\r\n    public setShowTimer( show: boolean ) {\r\n        this.spriteTimer.node.active = show;\r\n    }\r\n\r\n    public setWaitingTimerColor(color: Color) {\r\n        this.labelWaitingTimer.color = color;\r\n    }\r\n\r\n    public setWaitingTimer(delta: number) {\r\n        this.labelWaitingTimer.string = Math.floor( delta ).toString();\r\n        this.labelWaitingTimer.node.active = true;\r\n    }\r\n\r\n    public setWaitingTimerProgress( progress: number ) {\r\n        this.spriteTimer.fillRange = progress;\r\n        Color.lerp(this.spriteTimer.color, TIMER_END_COLOR, TIMER_BEGIN_COLOR, progress );\r\n    }\r\n\r\n    show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    SetStatus( type: ENUM_STATUS_TYPE ) {\r\n        switch ( type ) {\r\n            case ENUM_STATUS_TYPE.NONE:\r\n                {\r\n                    this.spriteDimmed.node.active = false;\r\n                    this.spriteStatus.node.active = false;\r\n                    this.rootStatus.active = false;                \r\n                }\r\n                break;\r\n            case ENUM_STATUS_TYPE.WAITING:\r\n                {\r\n                    this.spriteDimmed.node.active = true;\r\n                    let sf: SpriteFrame = this.spriteFrameStatus[1];\r\n                    this.spriteStatus.spriteFrame = sf;\r\n                    this.spriteStatus.node.active = true;\r\n                    this.rootStatus.active = true;\r\n                }\r\n\r\n                break;\r\n            case ENUM_STATUS_TYPE.SITOUT:\r\n                {\r\n                    this.spriteDimmed.node.active = true;\r\n                    let sf: SpriteFrame = this.spriteFrameStatus[2];\r\n                    this.spriteStatus.spriteFrame = sf;\r\n                    this.spriteStatus.node.active = true;\r\n                    this.rootStatus.active = true;\r\n                }\r\n\r\n                break;\r\n            default:\r\n                this.spriteDimmed.node.active = false;\r\n                this.spriteStatus.node.active = false;\r\n                this.rootStatus.active = false;\r\n        }\r\n    }\r\n\r\n    childRegistered() {\r\n        if ( this.isChildRegisted == true ) {\r\n            return;\r\n        }\r\n\r\n        this.rootSelected = this.node.getChildByPath('SELECTED');\r\n        if (this.rootSelected != null ) {\r\n            this.rootSelected.active = false;\r\n        }\r\n\r\n        this.spriteAvatarProfile = this.node.getChildByPath('THUMBNAIL/SPRITE_AVATAR').getComponent(Sprite);\r\n        if ( this.spriteAvatarProfile != null ) {\r\n            this.spriteAvatarProfile.node.active = false;\r\n        }\r\n\r\n        this.spriteTimer = this.node.getChildByPath('SPRITE_TIMER').getComponent(Sprite);\r\n        if ( this.spriteTimer != null ) {\r\n            this.spriteTimer.node.active = false;\r\n        }\r\n\r\n        this.labelWaitingTimer = this.node.getChildByPath('LABEL_WAITING_TIMER').getComponent(Label);\r\n        if ( this.labelWaitingTimer != null ) {\r\n            this.labelWaitingTimer.node.active = false;\r\n        }\r\n\r\n        this.rootNameTag = this.node.getChildByPath('NAME_TAG');\r\n        if ( this.rootNameTag != null ) {\r\n            this.labelNickname = this.rootNameTag.getChildByPath('LABEL_NAME').getComponent(Label);\r\n            this.labelChips = this.rootNameTag.getChildByPath('LABEL_CHIPS').getComponent(Label);\r\n            this.labelBlind = this.rootNameTag.getChildByPath('LABEL_BLIND').getComponent(Label);\r\n\r\n            this.rootNameTag.active = false;\r\n        }\r\n\r\n        this.rootActions = this.node.getChildByPath('ACTIONS');\r\n        if ( this.rootActions != null ) {\r\n            this.actions['call'] = this.rootActions.getChildByPath('CALL');\r\n            this.actions['call'].active = false;\r\n\r\n            this.actions['check'] = this.rootActions.getChildByPath('CHECK');\r\n            this.actions['check'].active = false;\r\n\r\n            this.actions['bet'] = this.rootActions.getChildByPath('BET');\r\n            this.actions['bet'].active = false;\r\n\r\n            this.actions['raise'] = this.rootActions.getChildByPath('RAISE');\r\n            this.actions['raise'].active = false;\r\n\r\n            this.actions['fold'] = this.rootActions.getChildByPath('FOLD');\r\n            this.actions['fold'].active = false;\r\n\r\n            this.actions['allin'] = this.rootActions.getChildByPath('ALLIN');\r\n            this.actions['allin'].active = false;            \r\n\r\n            this.rootActions.active = false;\r\n        }\r\n\r\n        this.rootStatus = this.node.getChildByPath('STATUS');\r\n        if ( this.rootStatus != null ) {\r\n            this.spriteDimmed = this.rootStatus.getChildByPath('DIMMED').getComponent(Sprite);\r\n            if ( this.spriteDimmed != null ) {\r\n                this.spriteDimmed.node.active = false;\r\n            }\r\n\r\n            this.spriteFold = this.rootStatus.getChildByPath('SPRITE_FOLD').getComponent( Sprite );\r\n            if ( this.spriteFold != null ) {\r\n                this.spriteFold.node.active = false;\r\n            }\r\n\r\n            this.spriteStatus = this.rootStatus.getChildByPath('SPRITE_STATUS').getComponent(Sprite);\r\n            if ( this.spriteStatus != null ) {\r\n                this.spriteStatus.node.active = false;\r\n            }\r\n\r\n            this.rootStatus.active = false;\r\n        }\r\n\r\n        this.isChildRegisted = true;\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, instantiate, Sprite, Toggle, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { AudioController } from './AudioController';\r\n\r\nexport enum EMOTICON_TYPE {\r\n    Emoticon,\r\n    Chatting,\r\n}\r\n\r\nexport let EMOTICON_CHAT_MESSAGE: string[] = [\r\n    '안녕하세요!',\r\n    '죄송합니다~',\r\n    '감사합니다!',\r\n    '나이스 콜!',\r\n    '나이스 핸드!',                                \r\n    '나이스 벳!',        \r\n    '나이스 폴드!',\r\n    '결대로 가자!',\r\n    '가는 길이 달라!',\r\n    '열린다 열려...',\r\n    '홀덤은 흐름이지!',\r\n    '싹~ 다 가져와!',\r\n    '블러핑 같은데...',\r\n    '이게 안 뜨네..',\r\n    '드루와 드루와!',\r\n    '다음판 올인!',\r\n    '이게 머선 129?',\r\n    '선 넘네...',\r\n]\r\n\r\n@ccclass('EmoticonElement')\r\nexport class EmoticonElement {\r\n    @property(Node) nodeRoot: Node = null;\r\n    @property(Button) emoticon: Button = null;\r\n\r\n    private id: number = -1;\r\n    private cb: (num: number, button: Button)=>void = null;\r\n\r\n    public copy(): EmoticonElement {\r\n        let copyObj: EmoticonElement = new EmoticonElement();\r\n        let newObj: Node = instantiate( this.nodeRoot );\r\n\r\n        copyObj.nodeRoot = newObj;\r\n        copyObj.emoticon = newObj.getComponent(Button);\r\n        copyObj.nodeRoot.active = false;\r\n\r\n        return copyObj;\r\n    }\r\n\r\n    public clear() {\r\n        this.id = -1;\r\n    }\r\n\r\n    public setParent( parent: Node ) {\r\n        this.nodeRoot.parent = parent;\r\n    }\r\n\r\n    public setEmoticon(id: number, cb:(num: number)=>void ) {\r\n        this.id = id;\r\n\r\n        if (cb != null) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        this.nodeRoot.active = true;\r\n        this.emoticon.node.active = true;\r\n\r\n        let s = this.nodeRoot.getComponent(Sprite);\r\n        if ( s != null) {\r\n            CommonUtil.setEmoticonSprite( id, s, ()=>{\r\n                this.nodeRoot.active = true;\r\n            });\r\n        }\r\n\r\n        this.emoticon.node.on('click', this.onClick.bind(this));\r\n    }\r\n\r\n    private onClick( button: Button ) {\r\n        if ( this.cb != null ) {\r\n            this.cb( this.id, button );\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('ChattingElement')\r\nexport class ChattingElement {\r\n    @property(Node) nodeRoot: Node = null;\r\n    @property(Button) buttonChatting: Button = null;\r\n    @property(Label) labelChatting: Label = null;    \r\n\r\n    private id: number = -1;\r\n    private cb: (num: number, button: Button)=>void = null;\r\n\r\n    public copy(): ChattingElement {\r\n        let copyObj: ChattingElement = new ChattingElement();\r\n        let newObj: Node = instantiate( this.nodeRoot );\r\n\r\n        copyObj.nodeRoot = newObj;\r\n        copyObj.buttonChatting = newObj.getComponent(Button);\r\n        copyObj.labelChatting = newObj.getChildByPath('LABEL_CHATTING').getComponent(Label);        \r\n        copyObj.nodeRoot.active = false;\r\n\r\n        return copyObj;\r\n    }\r\n\r\n    public clear() {\r\n        this.id = -1;\r\n    }\r\n\r\n    public setParent( parent: Node ) {\r\n        this.nodeRoot.parent = parent;\r\n    }\r\n\r\n    public setChatting(id: number, chat: string, cb:(num: number)=>void ) {\r\n        this.id = id;\r\n\r\n        if (cb != null) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        this.nodeRoot.active = true;\r\n        this.labelChatting.string = chat;\r\n\r\n        this.buttonChatting.node.on('click', this.onClick.bind(this));\r\n    }\r\n\r\n    private onClick( button: Button ) {\r\n        if ( this.cb != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cb( this.id, button );\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('UiGameChatting')\r\nexport class UiGameChatting extends Component {\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(EmoticonElement) originEmoticonElement: EmoticonElement = new EmoticonElement();\r\n    @property(ChattingElement) originChattingElement: ChattingElement = new ChattingElement();\r\n\r\n    @property(Node) nodeEmoticonContents: Node = null;\r\n    @property(Node) nodeChattingContents: Node = null;    \r\n\r\n    @property(Toggle) toggleEmoticon: Toggle = null;\r\n    @property(Toggle) toggleChatting: Toggle = null;\r\n\r\n    @property(Node) nodeEmoticonPanel: Node = null;\r\n    @property(Node) nodeChattingPanel: Node = null;\r\n    \r\n    private cbExit: ()=>void = null;\r\n    private cbSelect: ( type: EMOTICON_TYPE, id: number )=> void = null;    \r\n    private isSet: boolean = false;\r\n\r\n\r\n    init ( cbSelect: ( type: EMOTICON_TYPE, id: number )=>void, cbExit: ()=>void ) {\r\n        if ( cbSelect != null ) {\r\n            this.cbSelect = cbSelect;\r\n        }\r\n\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        if ( this.isSet == false ) {\r\n            for ( let i = 0 ; i < 10 ; i++) {\r\n                let e = this.originEmoticonElement.copy();\r\n                e.setEmoticon(i, this.onClickEmoticon.bind(this) );\r\n                e.setParent( this.nodeEmoticonContents );\r\n\r\n                e.nodeRoot.active = true;\r\n            }\r\n            this.isSet = true;\r\n\r\n            for ( let i = 0 ; i < EMOTICON_CHAT_MESSAGE.length ; i++) {\r\n                let e = this.originChattingElement.copy();\r\n                e.setChatting(i, EMOTICON_CHAT_MESSAGE[i], this.onClickChatting.bind(this) );\r\n                e.setParent( this.nodeChattingContents );\r\n\r\n                e.nodeRoot.active = true;\r\n            }\r\n            this.isSet = true;\r\n        }\r\n\r\n        this.buttonExit.node.on(\"click\", this.onClickExit.bind(this));\r\n        this.toggleEmoticon.node.on('toggle', this.onToggleEmoticon.bind(this));\r\n        this.toggleChatting.node.on('toggle', this.onToggleChatting.bind(this));\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    show() {\r\n        this.toggleEmoticon.isChecked = true;\r\n        this.nodeChattingPanel.active = false;\r\n        this.nodeEmoticonPanel.active = true;\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    public onClickExit(button: Button) {\r\n        AudioController.instance.ButtonClick();        \r\n        this.hide();\r\n    }    \r\n\r\n    onClickEmoticon(id: number, button: Button) {\r\n        this.cbSelect(EMOTICON_TYPE.Emoticon, id);\r\n        AudioController.instance.ButtonClick();\r\n        this.hide();\r\n    }\r\n\r\n    onClickChatting(id: number, button: Button) {\r\n        AudioController.instance.ButtonClick();\r\n        this.cbSelect(EMOTICON_TYPE.Chatting, id);\r\n        this.hide();\r\n    }    \r\n\r\n    onToggleEmoticon(toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        this.nodeEmoticonPanel.active = true;\r\n        this.nodeChattingPanel.active = false;\r\n    }\r\n\r\n    onToggleChatting(toggle: Toggle) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        this.nodeEmoticonPanel.active = false;\r\n        this.nodeChattingPanel.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiGameInput')\r\nexport class UiGameInput extends Component {\r\n    public  static instance: UiGameInput = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Label) labelValue: Label = null;\r\n\r\n    private inputValue: number = -1;\r\n    private minValue: number = -1;\r\n    private maxValue: number = -1;\r\n\r\n    init() {\r\n        UiGameInput.instance = this;\r\n        this.node.active = false;\r\n\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n    }\r\n\r\n    private onClickExit() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    show( minValue: number, maxValue: number ) {\r\n        this.minValue = minValue;\r\n        this.node.active = true;\r\n    }\r\n\r\n    clear() {\r\n\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Button } from 'cc';\r\nimport {UiControls} from \"./UiControls\";\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiGameSystemPopup')\r\nexport class UiGameSystemPopup extends Component {\r\n    public static instance: UiGameSystemPopup = null;\r\n\r\n    @property(Node) nodeOkPopup: Node = null;\r\n    @property(Node) nodeYesNoPopup: Node = null;\r\n\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Label) labelDescription: Label = null;\r\n\r\n    @property(Button) buttonOk: Label = null;\r\n    @property(Button) buttonYes: Label = null;\r\n    @property(Button) buttonNo: Label = null;\r\n\r\n    private cbOk: ()=>void = null;\r\n    private cbYes: ()=>void = null;\r\n    private cbNo: ()=>void = null;\r\n    private initialized: boolean = false;\r\n\r\n    init() {\r\n        this.labelTitle.string = '';\r\n        this.labelDescription.string = '';\r\n\r\n        this.nodeOkPopup.active = false;\r\n        this.nodeYesNoPopup.active = false;\r\n\r\n        this.buttonOk.node.on('click', this.onClickOk.bind(this));\r\n        this.buttonYes.node.on('click', this.onClickYes.bind(this));\r\n        this.buttonNo.node.on('click', this.onClickNo.bind(this));\r\n\r\n        this.cbOk = null;\r\n        this.cbYes = null;\r\n        this.cbNo = null;\r\n\r\n        this.initialized = true;\r\n        this.node.active = false;\r\n\r\n        UiGameSystemPopup.instance = this;\r\n    }\r\n\r\n    public showOkPopup( title: string, desc: string, cbOk: ()=>void ) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n\r\n        this.clear();\r\n\r\n        if ( cbOk != null ) {\r\n            this.cbOk = cbOk;\r\n        }\r\n\r\n        this.labelTitle.string = title;\r\n        this.labelDescription.string = desc;\r\n\r\n        this.nodeOkPopup.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public showYesNoPopup( title: string, desc: string, cbYes: ()=>void, cbNo: ()=>void ) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n\r\n        this.clear();\r\n\r\n        if ( cbYes != null ) {\r\n            this.cbYes = cbYes;\r\n        }\r\n\r\n        if ( cbNo != null ) {\r\n            this.cbNo = cbNo;\r\n        }\r\n\r\n        this.labelTitle.string = title;\r\n        this.labelDescription.string = desc;\r\n\r\n        this.nodeYesNoPopup.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    private onClickOk( button: Button ) {\r\n        if ( this.cbOk != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cbOk();\r\n        }\r\n    }\r\n\r\n    private onClickYes( button: Button ) {\r\n        if ( this.cbYes != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cbYes();\r\n        }\r\n    }\r\n\r\n    private onClickNo( button: Button ) {\r\n        if ( this.cbNo != null ) {\r\n            AudioController.instance.ButtonClick();            \r\n            this.cbNo();\r\n        }\r\n    }\r\n\r\n    private clear() {\r\n        this.labelTitle.string = '';\r\n        this.labelDescription.string = '';\r\n\r\n        this.nodeOkPopup.active = false;\r\n        this.nodeYesNoPopup.active = false;\r\n\r\n        this.cbOk = null;\r\n        this.cbYes = null;\r\n        this.cbNo = null;\r\n    }\r\n\r\n    public closePopup() {\r\n        this.clear();\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, EditBox } from 'cc';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nimport { LoginSystemPopup } from '../Login/LoginSystemPopup';\r\nimport { Main } from '../Main';\r\nimport { ENUM_RESULT_CODE, NetworkManager } from '../NetworkManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiJoinPlayer')\r\nexport class UiJoinPlayer extends Component {\r\n    @property(Button) buttonJoin: Button = null;\r\n    @property(Button) buttonCancel: Button = null;\r\n\r\n    @property (EditBox) editBoxID: EditBox = null;\r\n    @property (EditBox) editBoxNickname: EditBox = null;    \r\n    @property (EditBox) editBoxPassword: EditBox = null;\r\n    @property (EditBox) editBoxPasswordConfirm: EditBox = null;\r\n    @property (EditBox) editBoxTransferPassword: EditBox = null;\r\n    @property (EditBox) editBoxPhone: EditBox = null;\r\n    @property (EditBox) editBoxBank: EditBox = null;\r\n    @property (EditBox) editBoxHolder: EditBox = null;\r\n    @property (EditBox) editBoxAccount: EditBox = null;\r\n    @property (EditBox) editBoxRecommender: EditBox = null;\r\n\r\n    @property(Button) buttonIDCheck: Button = null;\r\n    @property(Button) buttonNicknameCheck: Button = null;\r\n\r\n    private main: Main = null;\r\n\r\n    private isCheckID = false;\r\n    private isCheckNickname = false;    \r\n\r\n    init( main: Main ) {\r\n        if ( main != null ) {\r\n            this.main = main;\r\n        }\r\n\r\n        this.buttonJoin.node.on('click', this.onCLICK_JOIN.bind(this));\r\n        this.buttonCancel.node.on('click', this.onCLICK_CANCEL.bind(this));\r\n\r\n        this.buttonIDCheck.node.on('click', this.onCLICK_CHECK_ID.bind(this));\r\n        this.buttonNicknameCheck.node.on('click', this.onCLICK_CHECK_NICKNAME.bind(this));\r\n\r\n        this.editBoxID.node.on('editing-did-began', this.onLOGIN_ID_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxID.node.on('editing-return', this.onLOGIN_ID_EDITBOX_RETURN.bind(this), this);\r\n        this.editBoxID.node.on('text-changed', this.onLOGIN_ID_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxID.node.on('editing-did-ended', this.onLOGIN_ID_EDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxNickname.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxNickname.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxNickname.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxNickname.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxPassword.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxPassword.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxPassword.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxPassword.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxPasswordConfirm.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxPasswordConfirm.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxPasswordConfirm.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxPasswordConfirm.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxTransferPassword.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxTransferPassword.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxTransferPassword.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxTransferPassword.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxPhone.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxPhone.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxPhone.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxPhone.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxBank.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxBank.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxBank.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxBank.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxHolder.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxHolder.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxHolder.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxHolder.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxAccount.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxAccount.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxAccount.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxAccount.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxRecommender.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxRecommender.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxRecommender.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxRecommender.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    show() {\r\n        this.buttonJoin.interactable = true;\r\n        this.buttonCancel.interactable = true;\r\n        this.buttonIDCheck.interactable = true;\r\n        this.buttonNicknameCheck.interactable = true;\r\n\r\n        this.editBoxID.string = '';\r\n        this.editBoxNickname.string = '';\r\n        this.editBoxPassword.string = '';\r\n        this.editBoxPasswordConfirm.string = '';\r\n        this.editBoxTransferPassword.string = '';\r\n        this.editBoxPhone.string = '';\r\n        this.editBoxBank.string = '';\r\n        this.editBoxHolder.string = '';\r\n        this.editBoxAccount.string = '';\r\n        this.editBoxRecommender.string = '';\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    onCLICK_JOIN( button: Button ) {\r\n        button.interactable = false;\r\n\r\n        let isValid = this.validate();\r\n        if ( isValid == true ) {\r\n            LoginSystemPopup.instance.showPopUpYesOrNo('회원가입', '회원가입을 신청 하겠습니까? \\n', ()=>{\r\n                button.interactable = true;\r\n\r\n                let store_code: string = this.editBoxRecommender.string.trim();\r\n                store_code = store_code.toLowerCase();\r\n\r\n                NetworkManager.Instance().reqJOIN_MEMBER( {\r\n                    login_id: this.editBoxID.string,\r\n                    store_id: 0,\r\n                    nickname: this.editBoxNickname.string,                        \r\n                    password: this.editBoxPassword.string,\r\n                    transfer_password: this.editBoxTransferPassword.string,\r\n                    phone: this.editBoxPhone.string,\r\n                    bank: this.editBoxBank.string,\r\n                    holder: this.editBoxHolder.string,\r\n                    account: this.editBoxAccount.string,\r\n                    recommender: store_code,\r\n        \r\n                }, (res)=>{\r\n                    button.interactable = true;\r\n\r\n                    if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                        LoginSystemPopup.instance.showPopUpOk('회원가입', '가입신청이 완료되었습니다.', ()=>{\r\n                            LoginSystemPopup.instance.closePopup();\r\n\r\n                            this.main.onShowLogin();\r\n                        });\r\n        \r\n                    } else {\r\n\r\n                        let desc: string = '';\r\n                        switch(res.msg) {\r\n                            case 'INVALID_UID':\r\n                            case 'INVALID_LOGIN_ID':\r\n                                desc = '아이디가 형식에 맞지 않습니다.';\r\n                                break;\r\n                            case 'INVALID_FORM':\r\n                                desc = '모든칸을 입력해주세요';\r\n                            break;\r\n                            case 'DUPLICATE_UID':\r\n                                desc = '중복된 아이디가 있습니다.';\r\n                                break;\r\n                            case 'DUPLICATE_NICKNAME':\r\n                                desc = '중복된 닉네임이 있습니다.'\r\n                            break;\r\n\r\n                            case 'DUPLICATE_NICKNAME':\r\n                                desc = '중복된 닉네임이 있습니다.'\r\n                            break;\r\n                            case 'INVALID_REFERAL_CODE':\r\n                                desc = '추천코드가 잘못됐습니다.'\r\n                            break;\r\n                            case 'EXPIRED_REFERAL_CODE':\r\n                                desc = '만료된 추천코드입니다.'\r\n                            break;                            \r\n                            \r\n                            default:\r\n                                desc = '가입신청이 실패했습니다';\r\n                        }\r\n        \r\n                        LoginSystemPopup.instance.showPopUpOk('회원가입', desc, ()=>{\r\n                            LoginSystemPopup.instance.closePopup();\r\n                        });\r\n                    }\r\n                }, (err)=>{\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '가입신청이 실패했습니다..', ()=>{\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n                });\r\n            }, ()=>{\r\n                button.interactable = true;                \r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n        }\r\n        else {\r\n            button.interactable = true;\r\n        }\r\n    }\r\n\r\n    onCLICK_CANCEL( button: Button ) {        \r\n        this.main.onShowLogin();\r\n    }\r\n\r\n    onCLICK_CHECK_ID( button: Button ) {\r\n        button.interactable = false;\r\n\r\n        if ( this.validateID() == false ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '아이디 형식이 잘못됐습니다.\\n숫자, 영어 4~10자', ()=>{\r\n                this.isCheckID = true;\r\n                button.interactable = true;                            \r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return;\r\n        }\r\n\r\n        NetworkManager.Instance().reqCHECK_LOGIN_ID( this.editBoxID.string, (res)=>{\r\n            button.interactable = true;\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                LoginSystemPopup.instance.showPopUpOk('회원가입', '사용할 수 있는 아이디 입니다.', ()=>{\r\n                    this.isCheckID = true;\r\n                    button.interactable = true;                            \r\n                    LoginSystemPopup.instance.closePopup();\r\n                });\r\n            } else {\r\n                if ( res.msg == 'DUPLICATE_USERS' || res.msg == 'DUPLICATE_JOIN_USERS') {\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '중복된 아이디가 있습니다.', ()=>{\r\n                        this.editBoxID.string = '';\r\n                        this.isCheckID = false;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n                } else {\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '사용할 수 없는 아이디 입니다.', ()=>{\r\n                        this.editBoxID.string = '';\r\n                        this.isCheckID = false;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n    \r\n                }\r\n            }\r\n        }, (err)=>{\r\n            button.interactable = true;\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '아이디 확인에 실패했습니다.', ()=>{\r\n                this.isCheckID = false;\r\n                button.interactable = true;\r\n                LoginSystemPopup.instance.closePopup();\r\n            });            \r\n        });\r\n    }\r\n\r\n    private onCLICK_CHECK_NICKNAME( button: Button ) {\r\n        button.interactable = false;\r\n\r\n        if ( this.validateNickname() == false ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '닉네임 형식이 잘못됐습니다.\\n숫자, 영어 4~10자', ()=>{\r\n                this.isCheckID = true;\r\n                button.interactable = true;                            \r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return;\r\n        }        \r\n\r\n        NetworkManager.Instance().reqCHECK_NICKNAME( this.editBoxNickname.string, (res)=>{\r\n            button.interactable = true;\r\n\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                LoginSystemPopup.instance.showPopUpOk('회원가입', '사용할 수 있는 닉네임 입니다.', ()=>{\r\n                    this.isCheckNickname = true;\r\n                    button.interactable = true;                            \r\n                    LoginSystemPopup.instance.closePopup();\r\n                });\r\n            } else {\r\n                if ( res.msg == 'DUPLICATE_USERS' || res.msg == 'DUPLICATE_JOIN_USERS') {\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '중복된 닉네임이 있습니다.', ()=>{\r\n                        this.editBoxNickname.string = '';\r\n                        this.isCheckNickname = true;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n                } else {\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '사용할 수 없는 닉네임 입니다.', ()=>{\r\n                        this.editBoxNickname.string = '';\r\n                        this.isCheckNickname = false;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });    \r\n                }\r\n            }\r\n        }, (err)=>{\r\n            button.interactable = true;\r\n\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '닉네임 확인에 실패했습니다.', ()=>{\r\n                this.isCheckNickname = false;\r\n                LoginSystemPopup.instance.closePopup();\r\n            });            \r\n        });\r\n\r\n    }\r\n\r\n    validate(): boolean {\r\n        if ( this.validateID() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '잘못된 아이디 형식 입니다. ( 4~10자 영문/숫자만 )', ()=>{\r\n                this.editBoxID.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateNickname() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '잘못된 닉네임 형식 입니다. ( 4~10자 영문/숫자/한글만 )', ()=>{\r\n                this.editBoxNickname.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validatePassword() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '잘못된 비밀번호 형식 입니다. ( 4~15자 영문/숫자만 )', ()=>{\r\n                this.editBoxPassword.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        let l1: string = this.editBoxPassword.string;\r\n        let l2: string = this.editBoxPasswordConfirm.string;\r\n\r\n        if ( l1 != l2 ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '비밀번호 확인이 잘못되었습니다.', ()=>{\r\n                this.editBoxPasswordConfirm.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;            \r\n        }\r\n\r\n        if ( this.validateTransferPassword() != true ) {\r\n            this.editBoxTransferPassword.string = '';\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '잘못된 환전 비밀번호 형식 입니다. ( 4~15자 영문/숫자만 )', ()=>{\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validatePhone() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '전화번호를 입력해 주세요.', ()=>{\r\n                this.editBoxPhone.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateBank() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '은행을 입력해주세요.', ()=>{\r\n                this.editBoxBank.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateHolder() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '예금주를 입력해주세요.', ()=>{\r\n                this.editBoxHolder.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateAccount() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '계좌 번호를 입력주세요.', ()=>{\r\n                this.editBoxAccount.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateRecommender() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '추천인 코드를 입력주세요.', ()=>{\r\n                this.editBoxRecommender.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    validateID(): boolean {\r\n        let l = this.editBoxID.string.length;\r\n\r\n        if ( l >= 4 &&  l <= 10 ) {\r\n            let reg = /^[a-zA-Z0-9]*$/;\r\n            let c = reg.test(this.editBoxID.string);\r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validateNickname(): boolean {\r\n        let l = this.editBoxNickname.string.length;\r\n\r\n        if ( l >= 4 &&  l <= 10 ) {\r\n            const regex = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|0-9|]+$/;\r\n            let c = regex.test(this.editBoxNickname.string);\r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validatePassword(): boolean {\r\n        let l = this.editBoxPassword.string.length;\r\n\r\n        if ( l >= 4 &&  l <= 12 ) {\r\n            let regex = /^[a-zA-Z0-9]*$/;\r\n            let c = regex.test(this.editBoxPassword.string);\r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validateTransferPassword(): boolean {\r\n        let l = this.editBoxTransferPassword.string.length;\r\n\r\n        if ( l >= 4 &&  l <= 12 ) {\r\n            let regex = /^[a-zA-Z0-9]*$/;\r\n            let c = regex.test(this.editBoxTransferPassword.string);\r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validatePhone(): boolean {\r\n        let l = this.editBoxPhone.string.length;\r\n\r\n        if ( l >= 5 ) {\r\n            let regex1 = /^[a-zA-Z0-9]*$/;\r\n            let regex2 = /^\\d{2,3}-\\d{3,4}-\\d{4}$/;\r\n            let c1 = regex1.test(this.editBoxPhone.string);\r\n            let c2 = regex2.test(this.editBoxPhone.string);\r\n            \r\n            if ( c1 != true && c2 != true) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;            \r\n        }\r\n        return true;\r\n    }\r\n\r\n    validateBank(): boolean {\r\n        let l = this.editBoxBank.string.length;\r\n\r\n        if ( l >= 2 ) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    validateHolder(): boolean {\r\n        let l = this.editBoxHolder.string.length;\r\n\r\n        if ( l >= 2 ) {\r\n            return true;\r\n        } \r\n        return false;\r\n    }\r\n\r\n    validateAccount(): boolean {\r\n        let l = this.editBoxAccount.string.length;\r\n\r\n        if ( l >= 5 ) {\r\n            let regex1 = /^[a-zA-Z0-9]*$/;\r\n            let regex2 = /^\\d{2,3}-\\d{3,4}-\\d{4}$/;\r\n\r\n            let c1 = regex1.test(this.editBoxAccount.string);\r\n            let c2 = regex2.test(this.editBoxAccount.string);\r\n\r\n            if ( c1 != true && c2 != true) {\r\n                return false;\r\n            }             \r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validateRecommender(): boolean {\r\n        let l = this.editBoxRecommender.string.length;\r\n\r\n        if ( l >= 4 ) {\r\n            let regex = /^[a-zA-Z0-9]*$/;\r\n\r\n            let c = regex.test(this.editBoxRecommender.string);\r\n            \r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private onLOGIN_ID_EDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n        console.log('onEDITBOX_DID_BEGAN');\r\n    }    \r\n\r\n    private onLOGIN_ID_EDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n        editbox.string = editbox.string.toLowerCase();\r\n    }\r\n\r\n    private onLOGIN_ID_EDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n        editbox.string = editbox.string.toLowerCase();        \r\n    }\r\n\r\n    private onLOGIN_ID_EDITBOX_TEXT_CHANGED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.blur();\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n        editbox.string = editbox.string.toLowerCase();\r\n    }\r\n\r\n    private onEDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onEDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEDITBOX_TEXT_CHANGED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.blur();\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Button, EditBox, EventHandler } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLOBBY_POPUP_CHARGE')\r\nexport class UiLOBBY_POPUP_CHARGE extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Label) labelContact: Label = null;        \r\n    @property(Label) labelAccount: Label = null;    \r\n    @property(Label) labelHolder: Label = null;\r\n    @property(Label) labelChargeMin: Label = null;\r\n    @property(Label) labelKorValue: Label = null;\r\n\r\n    @property(EditBox) editboxChargeAmount: EditBox = null;\r\n    @property(EditBox) editboxChargeHolder: EditBox = null;    \r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;\r\n\r\n    private charge_min: number = 0;\r\n\r\n    private cbEXIT: ()=>void = null;\r\n    private cbAPPLY: ()=>void = null;        \r\n\r\n    public Init( cbEXIT: any, cbAPPLY: any ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbAPPLY != null ) {\r\n            this.cbAPPLY = null;\r\n            this.cbAPPLY = cbAPPLY;\r\n        }\r\n\r\n        this.editboxChargeAmount.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxChargeAmount.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editboxChargeAmount.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxChargeAmount.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.node.active = false;\r\n        this.labelTitle.string = '충 전';\r\n\r\n        this.labelAccount.string = '';\r\n        this.labelAccount.node.active = false;\r\n\r\n        this.labelHolder.string = '';\r\n        this.labelHolder.node.active = false;\r\n\r\n        this.labelContact.string = '';\r\n        this.labelContact.node.active = false;\r\n\r\n        this.buttonExit.node.off( 'click' );\r\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\r\n\r\n        this.buttonApply.node.off( 'click' );\r\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\r\n    }\r\n\r\n    public Show( button: Button ) {\r\n        button.interactable = true;\r\n        this.Reset();\r\n\r\n        this.charge_min = 10000;\r\n        let conf = NetworkManager.Instance().GetConfig();\r\n        if ( conf != null && conf.min_charge ) {\r\n            this.charge_min = conf.min_charge;\r\n        }\r\n\r\n        this.labelChargeMin.string = '( 최소 충전신청금액: ' + CommonUtil.getKoreanNumber( this.charge_min ) + ' )';\r\n\r\n        NetworkManager.Instance().getCHARGE_REQUESTS( ( res )=>{\r\n            let charges = res.charges;\r\n            let count = charges.length;\r\n\r\n            if ( count > 0 )\r\n            {\r\n                let total: number = 0;\r\n                charges.forEach( ( charge )=>{\r\n                    total += charge.amount;\r\n                } );\r\n\r\n                let desc = count.toString() + ' 건 ( 총액: ' + CommonUtil.getKoreanNumber( total ) + ' ) 의 신청이 있습니다.\\n계속 진행하시겠습니까? '\r\n                LobbySystemPopup.instance.showPopUpYesOrNo( '충전 신청', desc, ()=>{\r\n                    this.GetStoreInfo();\r\n\r\n                }, ()=>{\r\n                    if ( this.cbEXIT != null ) {\r\n                        this.cbEXIT();\r\n                    }\r\n                });\r\n            } else {\r\n                this.GetStoreInfo();\r\n            }\r\n        }, (err)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', ' 정보를 불러올 수 없습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private Reset() {\r\n        // this.labelHolder.string = '';\r\n        this.editboxChargeAmount.string = '';\r\n        this.editboxChargeHolder.string = '';\r\n        this.labelKorValue.string = '';\r\n        this.labelKorValue.node.active = false;\r\n    }\r\n\r\n    private GetStoreInfo() {\r\n        NetworkManager.Instance().reqCOMPANY( ( res: any )=>{\r\n            let store = res.store;\r\n            if ( store != null ) {\r\n                console.log( store );\r\n                // this.labelAccount.string = store.bank + ' ' + store.account; \r\n                // this.labelHolder.string = store.holder;\r\n\r\n                let telegram: string = '';\r\n                if ( store.telegram != null && store.telegram.length > 0 ) {\r\n                    telegram = store.telegram;\r\n                }\r\n\r\n                let kakao: string = '';\r\n                if ( store.kakao != null && store.kakao.length > 0 ) {\r\n                    kakao = store.kakao;\r\n                }\r\n\r\n                this.labelContact.string = '텔레그램: ' + telegram + '\\n' + '카카오톡: ' + kakao ;\r\n                this.labelContact.node.active = true;\r\n            }\r\n\r\n            this.labelKorValue.string = '';\r\n            this.editboxChargeAmount.string = '';\r\n            this.node.active = true;\r\n        }, (err: any)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', ' 정보를 불러올 수 없습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onEXIT( button: Button ) {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onAPPLY( button: Button ) {\r\n        let num = Number(this.editboxChargeAmount.string);\r\n        let holder = this.editboxChargeHolder.string;\r\n\r\n        if ( num < this.charge_min ) {\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', CommonUtil.getKoreanNumber( this.charge_min ) + ' 이하는 신청할 수 없습니다.', ()=>{\r\n\r\n            })\r\n            return;\r\n        }\r\n\r\n        if ( holder.length <= 0 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', ' 입금자명을 입력해 주세요.', ()=>{\r\n\r\n            })\r\n            return;\r\n        }\r\n\r\n        let s = CommonUtil.getKoreanNumber( Number( this.editboxChargeAmount.string ) );\r\n        LobbySystemPopup.instance.showPopUpYesOrNo('충전 신청', s + ' 충전을 신청하시겠습니까?' ,()=>{\r\n            this.RequestCharge();\r\n        }, ()=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', '충전 신청을 취소했습니다.', ()=>{\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    private RequestCharge() {\r\n        let amount = Number( this.editboxChargeAmount.string );\r\n        let holder = this.editboxChargeHolder.string;\r\n        let desc = CommonUtil.getKoreanNumber(amount);\r\n        NetworkManager.Instance().reqCHARGE_REQUEST( {\r\n            amount: amount,\r\n            holder: holder\r\n        }, (res)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', desc + ' 충전 신청 했습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        }, (err)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', desc + ' 충전 신청에 실패했습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    private onEDITBOX_RETURN( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n\r\n        let s = CommonUtil.getKoreanNumber( Number(editbox.string) );\r\n        this.labelKorValue.string = s;\r\n        this.labelKorValue.node.active = true;\r\n\r\n    }\r\n\r\n    private onEDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n    }\r\n\r\n    private onEDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n\r\n        let s = CommonUtil.getKoreanNumber( Number(editbox.string) );\r\n        this.labelKorValue.string = s;\r\n        this.labelKorValue.node.active = true;\r\n\r\n    }\r\n\r\n    private onEDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n\r\n        let s = CommonUtil.getKoreanNumber( Number(editbox.string) );\r\n        this.labelKorValue.string = s;\r\n        this.labelKorValue.node.active = true;\r\n\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, Label, Sprite, assetManager, ImageAsset, SpriteFrame, Texture2D, Color } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ENUM_EVENT_POPUP_TYPE {\r\n    EVENT_POPUP_NONE,\r\n    EVENT_POPUP_NORMAL,\r\n    EVENT_POPUP_INSPECTION,\r\n}\r\n\r\n@ccclass('UiLOBBY_POPUP_EVENT')\r\nexport class UiLOBBY_POPUP_EVENT extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Label) labelDescription: Label = null;\r\n    @property(Label) labelLoadingMessage: Label = null;    \r\n    @property(Label) labelButtonLabel: Label = null;    \r\n    @property(Sprite) spriteEvent: Sprite = null;   \r\n    @property(SpriteFrame) defaultSpriteFrame: SpriteFrame = null;\r\n    @property(Button) buttonConfirm: Button = null;\r\n    @property(Button) buttonConfirmDisable: Button = null;\r\n\r\n    private popups: any[] = null;\r\n    private current: number = 0;\r\n    private maxPopup: number = 0;\r\n    private cbDONE: (type: number)=>void = null;\r\n\r\n    public Init() {\r\n        this.labelTitle.string = '';\r\n        this.labelDescription.string = '';\r\n        this.labelLoadingMessage.string = '';\r\n        this.spriteEvent.color = Color.BLACK;\r\n        this.spriteEvent.spriteFrame = this.defaultSpriteFrame;\r\n\r\n        this.buttonConfirm.node.off( 'click' );\r\n        this.buttonConfirm.node.on( 'click', this.onCONFIRM.bind(this), this );\r\n        this.labelButtonLabel.string = '닫기';\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show( popups: any[], done:( type: ENUM_EVENT_POPUP_TYPE )=>void ) {\r\n        if ( done != null ) {\r\n            this.cbDONE = done;\r\n        }\r\n\r\n        this.popups = popups;\r\n        this.spriteEvent.spriteFrame = this.defaultSpriteFrame;\r\n\r\n        this.buttonConfirm.node.active = false;\r\n        this.buttonConfirmDisable.node.active = true;\r\n\r\n        if ( this.popups.length > 0 ) {\r\n\r\n            this.current = 0;\r\n            this.labelButtonLabel.string = '확인';\r\n            this.maxPopup = this.popups.length;\r\n            this.spriteEvent.color = Color.BLACK;\r\n            let popup = this.popups[ this.current ];\r\n            this.SetPopup( popup );\r\n            this.node.active = true;\r\n\r\n        } else {\r\n            this.onDONE( ENUM_EVENT_POPUP_TYPE.EVENT_POPUP_NONE );\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        this.spriteEvent.spriteFrame = null;\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onDONE( type: ENUM_EVENT_POPUP_TYPE ) {\r\n        if ( this.cbDONE != null ) {\r\n            this.cbDONE( type );\r\n        }\r\n    }\r\n\r\n    private onCONFIRM( button: Button ) {\r\n        let type: ENUM_EVENT_POPUP_TYPE = this.popups[this.current].type;\r\n        if ( type == 1) {\r\n            this.onDONE(type);\r\n            return;\r\n        }\r\n\r\n        let next = this.current + 1;\r\n        if ( next < this.maxPopup ) {\r\n            this.current = next;            \r\n            this.SetPopup( this.popups[next] );\r\n        } else {\r\n            this.onDONE(type);\r\n        }\r\n    }\r\n\r\n    private async SetPopup( popup: any ) {\r\n\r\n        this.labelTitle.string = popup.title;\r\n        this.labelDescription.string = '';        \r\n        if ( popup.desc != null && popup.desc.length > 0 ) {\r\n            this.labelDescription.string = popup.desc;\r\n        }\r\n\r\n        this.labelLoadingMessage.string = '이미지를 불러오고 있습니다.';\r\n        this.labelLoadingMessage.node.active = true;\r\n\r\n        this.spriteEvent.spriteFrame = null;\r\n        this.spriteEvent.spriteFrame = this.defaultSpriteFrame;\r\n\r\n        this.spriteEvent.color = Color.BLACK;\r\n\r\n        this.buttonConfirm.node.active = false;\r\n        this.buttonConfirmDisable.node.active = true;\r\n\r\n        const regex = /(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/;\r\n        let v = regex.test(popup.url);\r\n\r\n        if ( popup.url.length > 0 && v == true ) {\r\n            await this.GetSpriteFromUrl( popup.url, (sf: any )=>{\r\n            \r\n                this.spriteEvent.spriteFrame = sf;\r\n                this.spriteEvent.color = Color.WHITE;\r\n                this.spriteEvent.node.active = true;\r\n\r\n                this.labelLoadingMessage.node.active = false;\r\n    \r\n                this.buttonConfirm.node.active = true;\r\n                this.buttonConfirmDisable.node.active = false;\r\n\r\n                this.labelDescription.node.active = false;\r\n    \r\n                let next = this.current + 1;\r\n                if ( next >= this.maxPopup ) {\r\n                    this.labelButtonLabel.string = '닫기';\r\n                }\r\n    \r\n            }, ( err: any )=>{\r\n                this.labelLoadingMessage.string = '이미지를 로드할 수 없습니다.';\r\n                this.labelLoadingMessage.node.active = true;\r\n\r\n                this.spriteEvent.spriteFrame = null;\r\n                this.spriteEvent.spriteFrame = this.defaultSpriteFrame;\r\n                this.spriteEvent.node.active = true;                \r\n        \r\n                this.spriteEvent.color = Color.BLACK;\r\n    \r\n                this.buttonConfirm.node.active = true;\r\n                this.buttonConfirmDisable.node.active = false;\r\n    \r\n                let next = this.current + 1;\r\n                if ( next >= this.maxPopup ) {\r\n                    this.labelButtonLabel.string = '닫기';\r\n                }            \r\n            } );\r\n        } else {\r\n            this.spriteEvent.node.active = false;\r\n            this.labelLoadingMessage.node.active = false;\r\n\r\n            this.buttonConfirm.node.active = true;\r\n            this.buttonConfirmDisable.node.active = false;\r\n\r\n            this.labelDescription.node.active = true;\r\n\r\n            let next = this.current + 1;\r\n            if ( next >= this.maxPopup ) {\r\n                this.labelButtonLabel.string = '닫기';\r\n            }            \r\n        }\r\n    }\r\n\r\n    private async GetSpriteFromUrl( url: string, onSUCCESS: (sf: any )=>void, onFAIL:( err: any )=>void ) {\r\n        assetManager.loadRemote<ImageAsset>( url, {xhrMimeType: 'image/png'}, (error, imageAsset)=>{\r\n            if ( !error ) {\r\n                const spriteFrame = new SpriteFrame();\r\n                const texture = new Texture2D();\r\n                texture.image = imageAsset;\r\n                spriteFrame.texture = texture;\r\n\r\n                onSUCCESS(spriteFrame);\r\n            } else {\r\n                onFAIL(error);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Label, Button } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiLOBBY_POPUP_NOTICE')\nexport class UiLOBBY_POPUP_NOTICE extends Component {\n    @property(Label) labelTitle: Label = null;\n\n    @property(Button) buttonExit: Button = null;\n    @property(Button) buttonApply: Button = null;\n\n    private cbEXIT: ()=>void = null;\n    private cbAPPLY: ()=>void = null;    \n\n    public Init( cbEXIT: any, cbAPPLY: any ) {\n        if ( cbEXIT != null ) {\n            this.cbEXIT = null;\n            this.cbEXIT = cbEXIT;\n        }\n\n        if ( cbAPPLY != null ) {\n            this.cbAPPLY = null;\n            this.cbAPPLY = cbAPPLY;\n        }\n\n        this.node.active = false;\n        this.labelTitle.string = '공 지';\n\n        this.buttonExit.node.off( 'click' );\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\n\n        this.buttonApply.node.off( 'click' );\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\n    }\n\n    public Show( button: Button ) {\n        button.interactable = true;\n        this.node.active = true;\n    }\n\n    public Hide() {\n        this.node.active = false;\n    }\n\n    private onEXIT( button: Button ) {\n        if ( this.cbEXIT != null ) {\n            this.cbEXIT();\n        }\n    }\n\n    private onAPPLY( button: Button ) {\n        if ( this.cbAPPLY != null ) {\n            this.cbAPPLY();\n        }\n    }\n}\n\n","import { _decorator, Button, CapsuleColliderComponent, Component, EditBox, instantiate, Label, Layout, log, Node, ScrollView, Toggle } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PointTransferElement')\r\nexport class PointTransferElement {\r\n    @property( Node ) rootNode: Node = null;\r\n    @property( Label ) labelDate: Label = null;\r\n    @property( Label ) labelTransferPoint: Label = null;\r\n    @property( Label ) labelRemainPoint: Label = null;\r\n    @property( Label ) labelAddBalance: Label = null;    \r\n    @property( Label ) labelDescription: Label = null;\r\n\r\n    public CopyObject(): PointTransferElement {\r\n        let o: PointTransferElement = new PointTransferElement();\r\n        let n = instantiate( this.rootNode );\r\n\r\n        o.rootNode = n;\r\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label);\r\n        o.labelTransferPoint = n.getChildByPath('VALUES/LABEL_TRANSFER_POINT').getComponent( Label);\r\n        o.labelRemainPoint = n.getChildByPath('VALUES/LABEL_REMAIN_POINT').getComponent( Label);\r\n        o.labelAddBalance = n.getChildByPath('VALUES/LABEL_ADD_BALANCE').getComponent( Label );\r\n        o.labelDescription = n.getChildByPath('VALUES/LABEL_DESCRIPTION').getComponent( Label);\r\n\r\n        return o;\r\n    }\r\n\r\n    public Clear() {\r\n        this.labelDate.string = '';\r\n        this.labelTransferPoint.string = '';\r\n        this.labelRemainPoint.string = '';\r\n        this.labelDescription.string = '';\r\n        this.labelAddBalance.string = '';\r\n    }\r\n\r\n    public Set( info: any ) {\r\n        this.labelDate.string = info.createDate;\r\n        this.labelTransferPoint.string = CommonUtil.getKoreanNumber(info.point);\r\n        this.labelRemainPoint.string = CommonUtil.getKoreanNumber(info.newPoint);\r\n        this.labelAddBalance.string = CommonUtil.getKoreanNumber(info.newBalance - info.oldBalance);\r\n        if ( info.desc != null ) {\r\n            this.labelDescription.string = info.desc;\r\n        } else {\r\n            this.labelDescription.string = '';            \r\n        }\r\n    }\r\n\r\n    public SetActive( active: boolean ) {\r\n        this.rootNode.active = active;\r\n    }\r\n\r\n    public SetParent( parent: Node ) {\r\n        this.rootNode.parent = parent;\r\n    }\r\n}\r\n\r\n@ccclass('PointGiftElement')\r\nexport class PointGiftElement {\r\n    @property( Node ) rootNode: Node = null;\r\n    @property( Label ) labelDate: Label = null;\r\n    @property( Label ) labelSender: Label = null;    \r\n    @property( Label ) labelReceivePoint: Label = null;\r\n    @property( Label ) labelPoint: Label = null;\r\n    @property( Label ) labelDescription: Label = null;\r\n\r\n    public CopyObject(): PointGiftElement {\r\n        let o: PointGiftElement = new PointGiftElement();\r\n        let n = instantiate( this.rootNode );\r\n\r\n        o.rootNode = n;\r\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label);\r\n        o.labelSender = n.getChildByPath('VALUES/LABEL_SENDER').getComponent( Label);\r\n        o.labelReceivePoint = n.getChildByPath('VALUES/LABEL_RECEIVE_POINT').getComponent( Label);\r\n        o.labelPoint = n.getChildByPath('VALUES/LABEL_POINT').getComponent( Label);\r\n        o.labelDescription = n.getChildByPath('VALUES/LABEL_DESCRIPTION').getComponent( Label);\r\n\r\n        return o;\r\n    }\r\n\r\n    public Clear() {\r\n        this.labelDate.string = '';\r\n        this.labelSender.string = '';\r\n        this.labelReceivePoint.string = '';\r\n        this.labelPoint.string = '';\r\n        this.labelDescription.string = '';\r\n    }\r\n\r\n    public Set( info: any ) {\r\n        this.labelDate.string = info.createDate;\r\n        this.labelReceivePoint.string = CommonUtil.getKoreanNumber(info.point);\r\n        this.labelPoint.string = CommonUtil.getKoreanNumber(info.newPoint);\r\n        this.labelSender.string = info.sender;\r\n\r\n        if ( info.desc != null ) {\r\n            this.labelDescription.string = info.desc;\r\n        } else {\r\n            this.labelDescription.string = '';            \r\n        }\r\n    }\r\n\r\n    public SetActive( active: boolean ) {\r\n        this.rootNode.active = active;\r\n    }\r\n\r\n    public SetParent( parent: Node ) {\r\n        this.rootNode.parent = parent;\r\n    }\r\n}\r\n\r\n@ccclass('UiLOBBY_POPUP_POINT')\r\nexport class UiLOBBY_POPUP_POINT extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n\r\n    @property(Node) rootPoint: Node = null;\r\n    @property(Node) rootGift: Node = null;\r\n\r\n    @property(Toggle) togglePoint: Toggle = null;\r\n    @property(Toggle) toggleGift: Toggle = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;\r\n    @property(Button) buttonConfirm: Button = null;    \r\n\r\n    @property(ScrollView) svPointTransfer: ScrollView = null;    \r\n    @property(ScrollView) svPointGift: ScrollView = null;        \r\n\r\n    @property(Layout) layoutPointLogs: Layout = null;\r\n    @property(Layout) layoutGiftLogs: Layout = null;\r\n\r\n    @property(Label) labelUserBalance: Label = null;\r\n    @property(Label) labelUserPoint: Label = null;\r\n    @property(Label) labelTransferMin: Label = null;    \r\n\r\n    @property(EditBox) editboxPointTransfer: EditBox = null;\r\n\r\n    @property(PointTransferElement) originPointTransfer: PointTransferElement = new PointTransferElement();\r\n    @property(PointGiftElement) originPointGift: PointGiftElement = new PointGiftElement();    \r\n\r\n    private pointTransferElementOnList: PointTransferElement[] = [];\r\n    private pointGiftElementOnList: PointGiftElement[] = [];\r\n\r\n    private user: any = null;\r\n    private transfer_min: number = 10000;\r\n\r\n    private cbEXIT: ()=>void = null;\r\n    private cbAPPLY: ()=>void = null;\r\n\r\n    public Init( cbEXIT: any, cbAPPLY: any ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbAPPLY != null ) {\r\n            this.cbAPPLY = null;\r\n            this.cbAPPLY = cbAPPLY;\r\n        }\r\n\r\n        this.node.active = false;\r\n        this.labelTitle.string = '포인트 전환';\r\n\r\n        this.labelUserBalance.string = '';\r\n        this.labelUserPoint.string = '';\r\n\r\n        this.buttonExit.node.off( 'click' );\r\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\r\n\r\n        this.buttonApply.node.off( 'click' );\r\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\r\n\r\n        this.buttonConfirm.node.off( 'click' );\r\n        this.buttonConfirm.node.on( 'click', this.onEXIT.bind(this), this );        \r\n\r\n        this.togglePoint.node.on('toggle', this.onTOGGLE_POINT.bind(this), null);\r\n        this.toggleGift.node.on('toggle', this.onTOGGLE_GIFT.bind(this), null);\r\n\r\n        this.originPointTransfer.rootNode.active = false;\r\n        this.originPointGift.rootNode.active = false;\r\n\r\n        this.editboxPointTransfer.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxPointTransfer.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editboxPointTransfer.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxPointTransfer.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n    }\r\n\r\n    public Show( button: Button ) {\r\n        this.originPointTransfer.rootNode.active = false;\r\n        this.originPointGift.rootNode.active = false;\r\n\r\n        this.transfer_min = 10000;\r\n        let conf = NetworkManager.Instance().GetConfig();\r\n        if ( conf != null && conf.min_point_transfer ) {\r\n            this.transfer_min = conf.min_point_transfer;\r\n        }\r\n\r\n        this.labelTransferMin.string = '( 최소 포인트 전환 금액: ' + CommonUtil.getKoreanNumber( this.transfer_min ) + ' )';\r\n\r\n        NetworkManager.Instance().getUSER_FromDB( (res: any)=>{\r\n            button.interactable = true;\r\n            this.user = res.user;\r\n\r\n            this.SetUserInfo();\r\n            NetworkManager.Instance().getPOINT_TRANSFERS( (res)=>{\r\n\r\n                if ( res != null ) {\r\n                    this.ShowPointTransferList( res.logs)\r\n                }\r\n\r\n                this.rootPoint.active = true;\r\n                this.rootGift.active = false;\r\n                this.togglePoint.isChecked = true;\r\n                this.node.active = true;\r\n\r\n                this.buttonApply.node.active = true;\r\n                this.buttonConfirm.node.active = false;\r\n\r\n\r\n            }, (err)=>{\r\n                this.rootPoint.active = true;\r\n                this.rootGift.active = false;\r\n                this.buttonConfirm.node.active = false;                \r\n                this.togglePoint.isChecked = true;\r\n                this.node.active = true;\r\n            });\r\n        }, ( err: any )=>{\r\n            button.interactable = true;\r\n        })\r\n    }\r\n\r\n    private SetUserInfo () {\r\n        this.labelUserBalance.string = CommonUtil.getKoreanNumber(this.user.balance);\r\n        this.labelUserPoint.string = CommonUtil.getKoreanNumber(this.user.point);\r\n    }\r\n\r\n    private ClearPointTransferList() {\r\n        this.DestroyPointTransferElements();\r\n    }\r\n\r\n    private ClearPointGiftList() {\r\n        this.DestroyPointGiftElements();\r\n    }\r\n\r\n    private ShowPointTransferList( logs: any[] ) {\r\n        if ( logs == null || logs.length <= 0 ) {\r\n            return;\r\n        }\r\n\r\n        this.ClearPointTransferList();\r\n\r\n        let logLength = Math.min( logs.length, 20 );\r\n        for ( let i: number = 0 ; i < logLength ; i++ ) {\r\n            let o = this.originPointTransfer.CopyObject();\r\n            o.Clear();\r\n            o.Set( logs[i] );\r\n            o.SetParent( this.layoutPointLogs.node );\r\n            o.SetActive ( true );\r\n\r\n            this.pointTransferElementOnList.push( o );\r\n        }\r\n\r\n        this.svPointTransfer.scrollToTop();\r\n    }\r\n\r\n    private ShowPointGiftList( logs: any[] ) {\r\n        if ( logs == null || logs.length <= 0 ) {\r\n            return;\r\n        }\r\n\r\n        this.ClearPointGiftList();\r\n\r\n        let logLength = Math.min( logs.length, 20 );\r\n        for ( let i: number = 0 ; i < logLength ; i++ ) {\r\n            let o = this.originPointGift.CopyObject();\r\n            o.Clear();\r\n            o.Set( logs[i] );\r\n            o.SetParent( this.layoutGiftLogs.node );\r\n            o.SetActive ( true );\r\n\r\n            this.pointGiftElementOnList.push( o );\r\n        }\r\n\r\n        this.svPointGift.scrollToTop();\r\n    }\r\n\r\n    private DestroyPointTransferElements() {\r\n        this.pointTransferElementOnList.forEach( (e)=>{\r\n            e.rootNode.destroy();\r\n            e.rootNode = null;            \r\n        } );\r\n        \r\n        this.pointTransferElementOnList = [];        \r\n    }\r\n\r\n    private DestroyPointGiftElements() {\r\n        this.pointGiftElementOnList.forEach( (e)=>{\r\n            e.rootNode.destroy();\r\n            e.rootNode = null;            \r\n        } );\r\n        \r\n        this.pointGiftElementOnList = [];\r\n    }    \r\n\r\n    public Hide() {\r\n        this.DestroyPointTransferElements();\r\n        this.DestroyPointGiftElements();\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onEXIT( button: Button ) {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onAPPLY( button: Button ) {\r\n        button.interactable = false;\r\n        let point = this.user.point;\r\n        let value = Number(this.editboxPointTransfer.string);\r\n\r\n        if ( this.editboxPointTransfer.string.length == 0 || value < this.transfer_min ) {\r\n            LobbySystemPopup.instance.showPopUpOk('포인트전환', CommonUtil.getKoreanNumber(this.transfer_min) + ' 이하는 포인트 전환할 수 없습니다.', ()=>{\r\n                button.interactable = true;            \r\n            });\r\n            return;\r\n        }\r\n\r\n        if ( value > point ) {\r\n            LobbySystemPopup.instance.showPopUpOk('포인트전환', '포인트가 부족합니다.', ()=>{\r\n                button.interactable = true;            \r\n            });\r\n            return;            \r\n        }\r\n\r\n        let oldBalance = this.user.balance;\r\n        let oldPoint = this.user.point;\r\n        LobbySystemPopup.instance.showPopUpYesOrNo('포인트전환', CommonUtil.getKoreanNumber(value) + ' 포인트를 게임머니로 전환하시겠습니까?', ()=>{\r\n            this.PointTransfer(value, oldBalance, oldPoint, ( logs )=>{\r\n                button.interactable = true;\r\n                if ( logs != null && logs.length > 0 ) {\r\n                    this.ShowPointTransferList( logs );\r\n                }\r\n\r\n                if ( this.cbAPPLY != null ) {\r\n                    this.cbAPPLY();\r\n                }\r\n            });\r\n        }, ()=>{\r\n            button.interactable = true;\r\n        });\r\n    }\r\n\r\n    private PointTransfer(value: number,  oldBalance: number, oldPoint: number, done: (logs)=>void ) {\r\n        let user_id = this.user.id;\r\n        NetworkManager.Instance().reqPOINT_TRANSFER( {\r\n            user_id: user_id,\r\n            value: value\r\n        }, (res: any)=>{\r\n            this.user = NetworkManager.Instance().GetUser();\r\n\r\n            let newBalance = this.user.balance;\r\n            let newPoint = this.user.point;\r\n            let b: string = '게임머니: ' + CommonUtil.getKoreanNumber(oldBalance) + ' -> ' + CommonUtil.getKoreanNumber(newBalance);\r\n            let p: string = '포인트: ' + CommonUtil.getKoreanNumber(oldPoint) + ' -> ' + CommonUtil.getKoreanNumber(newPoint);            \r\n\r\n            LobbySystemPopup.instance.showPopUpOk('포인트 변환', '포인트가 변환되었습니다.\\n' + b + '\\n' + p, ()=>{\r\n\r\n                this.labelUserBalance.string = CommonUtil.getKoreanNumber(this.user.balance);\r\n                this.labelUserPoint.string = CommonUtil.getKoreanNumber(this.user.point);    \r\n                this.editboxPointTransfer.string = '';\r\n\r\n                done( res.logs );\r\n    \r\n            });\r\n        }, (err: any)=>{\r\n            if ( done != null ) {\r\n                done(null);\r\n            }\r\n        } );\r\n    }\r\n\r\n    private ShowGiftLog() {\r\n        NetworkManager.Instance().getPOINT_RECEIVES( (res)=>{\r\n            this.ShowPointGiftList( res.logs );\r\n        }, (err)=>{\r\n\r\n        });\r\n    }\r\n\r\n    private onTOGGLE_POINT( toggle: Toggle ) {\r\n        if ( toggle.isChecked == true ) {\r\n            this.rootPoint.active = true;\r\n            this.rootGift.active = false;\r\n\r\n            this.buttonApply.node.active = true;\r\n            this.buttonConfirm.node.active = false;\r\n        }\r\n    }\r\n\r\n    private onTOGGLE_GIFT( toggle: Toggle ) {\r\n        if ( toggle.isChecked == true ) {\r\n\r\n            this.ShowGiftLog();\r\n\r\n            this.rootPoint.active = false;\r\n            this.rootGift.active = true;\r\n\r\n            this.buttonApply.node.active = false;\r\n            this.buttonConfirm.node.active = true;\r\n        }\r\n    }\r\n\r\n    private onEDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onEDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEDITBOX_TEXT_CHANGED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n}\r\n\r\n","import { _decorator, Component, Node, Label, Button, instantiate, Sprite, Layout, ScrollView, EditBox, Color } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { EDITOR } from 'cc/env';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst MAX_TITLE_COUNT: number = 30;\r\nconst MAX_DESCRIPTION_COUNT: number = 100;\r\n\r\n@ccclass('QnAElement')\r\nexport class QnAElement {\r\n    @property( Node ) rootNode: Node = null;\r\n    @property( Sprite ) spriteSlot: Sprite = null;\r\n    @property( Label ) labelTitle: Label = null;\r\n    @property( Button ) buttonQNA: Button = null;    \r\n    @property( Sprite) spriteUnread: Sprite = null;\r\n    @property( Sprite) spriteButton: Sprite = null;\r\n    @property( Label ) labelButton: Label = null;\r\n    @property( Label ) labelDate: Label = null;\r\n\r\n    private qna: any = null;\r\n    private cbSelect: ( info: any )=> void = null;\r\n\r\n    public CopyObject(): QnAElement {\r\n        let o: QnAElement = new QnAElement();\r\n        let n = instantiate( this.rootNode );\r\n\r\n        o.rootNode = n;\r\n        o.spriteSlot = n.getChildByPath('SPRITE_SLOT').getComponent( Sprite );\r\n        o.spriteUnread = n.getChildByPath('VALUES/TITLE/SPRITE_UNREAD').getComponent( Sprite );        \r\n        o.labelTitle = n.getChildByPath('VALUES/TITLE/LABEL_TITLE').getComponent( Label );\r\n        o.buttonQNA = n.getChildByPath('BUTTON_SHOW').getComponent( Button );\r\n        o.spriteButton = n.getChildByPath('BUTTON_SHOW').getComponent( Sprite );\r\n        o.labelButton = n.getChildByPath('BUTTON_SHOW/LABEL_BUTTON').getComponent( Label );                \r\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label);\r\n\r\n        return o;\r\n    }\r\n\r\n    public Clear() {\r\n        this.labelTitle.string = '';        \r\n        this.labelDate.string = '';\r\n        this.spriteUnread.node.active = false;\r\n\r\n        this.cbSelect = null;\r\n    }\r\n\r\n    public Set( info: any, cb: ( info: any )=>void ) {\r\n        this.qna = info;\r\n        this.labelTitle.string = CommonUtil.TruncateString(info.title, 15) ;\r\n        this.labelDate.string = info.questionDate;\r\n\r\n        if ( info.pending == 1) {\r\n            this.labelButton.string = '문의보기';\r\n            this.spriteButton.color = new Color(50, 50, 50, 255);\r\n            this.spriteSlot.color = new Color(14, 30, 60, 255);\r\n\r\n        } else {\r\n            this.labelButton.string = '답변보기';\r\n            this.spriteButton.color = new Color(0, 0, 0, 255);\r\n            this.spriteSlot.color = new Color(58, 94, 168, 255);\r\n        }\r\n\r\n        if ( cb != null ) {\r\n            this.cbSelect = cb;\r\n        }\r\n\r\n        if ( info.pending == 0 && info.unread == 1 ) {\r\n            this.spriteUnread.node.active = true; \r\n        } else {\r\n            this.spriteUnread.node.active = false;             \r\n        }\r\n\r\n        this.buttonQNA.node.off( 'click' );\r\n        this.buttonQNA.node.on( 'click', this.onSELECT_QNA.bind(this), this );\r\n    }\r\n\r\n    public SetActive( active: boolean ) {\r\n        this.rootNode.active = active;\r\n    }\r\n\r\n    public SetParent( parent: Node ) {\r\n        this.rootNode.parent = parent;\r\n    }\r\n\r\n    public onSELECT_QNA(button: Button ) {\r\n        if ( this.cbSelect != null ) {\r\n            this.cbSelect( this.qna );\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n@ccclass('UiLOBBY_POPUP_QnA')\r\nexport class UiLOBBY_POPUP_QnA extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Node) rootPANEL_LIST: Node = null;\r\n    @property(Node) rootPANEL_INPUT: Node = null;\r\n    @property(Node) rootPANEL_SHOW: Node = null;    \r\n\r\n    @property(Layout) layoutQnAList: Layout = null;\r\n    @property(ScrollView) svQnAs: ScrollView = null;\r\n\r\n    @property(QnAElement) originQNA: QnAElement = new QnAElement();\r\n\r\n    @property(EditBox) editboxTitle: EditBox = null;\r\n    @property(EditBox) editboxQuestion: EditBox = null;\r\n\r\n    @property(Button) buttonActivateTitle: Button = null;\r\n    @property(Label) labelTitleText: Label = null;\r\n\r\n    @property(Label) labelTitleCount: Label = null;\r\n    @property(Label) labelDescCount: Label = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n\r\n    @property(Button) buttonSend: Button = null;\r\n    @property(Button) buttonCancel: Button = null;    \r\n    @property(Button) buttonWrite: Button = null;\r\n    @property(Button) buttonBack: Button = null;\r\n    @property(Button) buttonDelete: Button = null;    \r\n\r\n    @property(Label) labelShowTitleText: Label = null;\r\n    @property(Label) labelShowQuestionText: Label = null;\r\n    @property(Label) labelShowAnswerText: Label = null;\r\n    @property(Label) labelShowPending: Label = null;\r\n\r\n    @property(Label) labelQuestionUpdate: Label = null;\r\n    @property(Label) labelAnswerUpdate: Label = null;    \r\n\r\n    private QNAAElementOnList: QnAElement[] = [];\r\n\r\n    private cbEXIT: ()=>void = null;\r\n    private cbAPPLY: ()=>void = null;\r\n    private selectedInfo: any = null;    \r\n\r\n    public Init( cbEXIT: any, cbAPPLY: any ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbAPPLY != null ) {\r\n            this.cbAPPLY = null;\r\n            this.cbAPPLY = cbAPPLY;\r\n        }\r\n\r\n        this.node.active = false;\r\n        this.labelTitle.string = '문 의';\r\n        this.labelTitleText.string = '';\r\n\r\n        this.rootPANEL_LIST.active = true;\r\n        this.rootPANEL_INPUT.active = false;\r\n        this.rootPANEL_SHOW.active = false;\r\n\r\n        this.labelShowTitleText.string = '';\r\n        this.labelShowQuestionText.string = '';\r\n        this.labelShowAnswerText.string = '';\r\n        this.labelShowPending.string = '';\r\n        this.labelQuestionUpdate.string = '';\r\n        this.labelAnswerUpdate.string = '';\r\n        this.selectedInfo = null;        \r\n\r\n        this.editboxTitle.node.on('editing-did-began', this.onTITLE_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxTitle.node.on('editing-return', this.onTITLE_EDITBOX_RETURN.bind(this), this);\r\n        this.editboxTitle.node.on('text-changed', this.onTITLE_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxTitle.node.on('editing-did-ended', this.onTITLE_EDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editboxQuestion.node.on('editing-did-began', this.onQUESTION_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxQuestion.node.on('editing-return', this.onQUESTION_EDITBOX_RETURN.bind(this), this);\r\n        this.editboxQuestion.node.on('text-changed', this.onQUESTION_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxQuestion.node.on('editing-did-ended', this.onQUESTION_EDITBOX_DID_ENDED.bind(this), this);        \r\n\r\n        this.buttonExit.node.off( 'click' );\r\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\r\n\r\n        this.buttonWrite.node.off( 'click' );\r\n        this.buttonWrite.node.on( 'click', this.onWRITE.bind(this), this );\r\n\r\n        this.buttonActivateTitle.node.off( 'click' );\r\n        this.buttonActivateTitle.node.on( 'click', this.onACTIVATE_TITLE.bind(this), this );\r\n\r\n        this.buttonBack.node.off( 'click' );\r\n        this.buttonBack.node.on( 'click', this.onBACK_LIST.bind(this), this );\r\n\r\n        this.buttonDelete.node.off( 'click' );\r\n        this.buttonDelete.node.on( 'click', this.onDELETE_QNA.bind(this), this );        \r\n\r\n        this.buttonSend.node.off( 'click' );\r\n        this.buttonSend.node.on( 'click', this.onSEND_QNA.bind(this), this );\r\n\r\n        this.buttonCancel.node.off( 'click' );\r\n        this.buttonCancel.node.on( 'click', this.onSEND_CANCEL.bind(this), this );\r\n    }\r\n\r\n    public Show( button: Button ) {\r\n        this.originQNA.rootNode.active = false;\r\n\r\n        this.rootPANEL_INPUT.active = false;\r\n        this.rootPANEL_SHOW.active = false;\r\n\r\n        this.selectedInfo = null;\r\n\r\n        NetworkManager.Instance().reqGET_QNA( (res: any)=>{\r\n            button.interactable = true;\r\n\r\n            if ( res != null ) {\r\n                this.ShowList( res.qnas );\r\n            }\r\n\r\n            this.rootPANEL_LIST.active = true;\r\n            this.node.active = true;\r\n\r\n        }, (err:any)=>{\r\n            this.rootPANEL_LIST.active = true;            \r\n            button.interactable = true;\r\n            this.node.active = true;\r\n        } );\r\n    }\r\n\r\n    private onREFRESH() {\r\n        this.selectedInfo = null;\r\n        NetworkManager.Instance().reqGET_QNA( (res: any)=>{\r\n            if ( res != null ) {\r\n                this.ShowList( res.qnas );\r\n            }\r\n        }, (err:any)=>{\r\n\r\n        } );        \r\n    }\r\n\r\n    private ShowList( qnas: any[] ) {\r\n        if ( qnas == null ) {\r\n            return;\r\n        }\r\n        this.ClearList();\r\n\r\n        let QnAsLength = Math.min( qnas.length, 20 );\r\n        for ( let i: number = 0 ; i < QnAsLength ; i++ ) {\r\n            let o = this.originQNA.CopyObject();\r\n            \r\n            o.Clear();\r\n            o.Set( qnas[i], this.onSELECT_QNA.bind(this));\r\n            o.SetParent( this.layoutQnAList.node );\r\n            o.SetActive( true );\r\n\r\n            this.QNAAElementOnList.push(o);\r\n        }\r\n        this.svQnAs.scrollToTop();\r\n    }\r\n\r\n    private onSELECT_QNA( info:any ) {\r\n        this.ClearShowPanel();\r\n\r\n        this.selectedInfo = info;\r\n        this.rootPANEL_LIST.active = false;\r\n        this.rootPANEL_INPUT.active = false;\r\n        this.rootPANEL_SHOW.active = true;\r\n\r\n        this.labelShowTitleText.string = info.title;\r\n        this.labelShowQuestionText.string = info.question;\r\n\r\n        if ( info.pending == 1 ) {\r\n            this.labelShowAnswerText.node.active = false;\r\n\r\n            this.labelShowPending.string = '답변 대기중...'\r\n            this.labelShowPending.node.active = true;\r\n            this.labelQuestionUpdate.string = info.questionDate;\r\n            this.labelQuestionUpdate.node.active = true;\r\n\r\n            this.labelAnswerUpdate.node.active = false;\r\n        } else {\r\n            if ( info.unread == 1 ) {\r\n                this.buttonExit.interactable = false;\r\n                this.buttonBack.interactable = false;\r\n                this.buttonDelete.interactable = false;\r\n\r\n                NetworkManager.Instance().reqREAD_QNA(info.id, (res: any )=>{\r\n                    this.buttonExit.interactable = true;\r\n                    this.buttonBack.interactable = true;\r\n                    this.buttonDelete.interactable = true;\r\n                }, ( err: any )=>{\r\n                    this.buttonExit.interactable = true;\r\n                    this.buttonBack.interactable = true;\r\n                    this.buttonDelete.interactable = true;\r\n                });\r\n            }\r\n\r\n            if ( info.answer != null ) {\r\n                this.labelShowAnswerText.string = info.answer;\r\n                this.labelShowAnswerText.node.active = true;\r\n            } else {\r\n                this.labelShowAnswerText.string = '';\r\n                this.labelShowAnswerText.node.active = true;                \r\n            }\r\n\r\n            this.labelAnswerUpdate.string = info.answerDate;\r\n            this.labelAnswerUpdate.node.active = true;\r\n\r\n            this.labelQuestionUpdate.node.active = false;\r\n        }\r\n    }\r\n\r\n    private ClearShowPanel() {\r\n        this.labelShowTitleText.string = '';\r\n        this.labelShowQuestionText.string = '';\r\n        this.labelShowAnswerText.string = '';\r\n        this.labelShowPending.string = '답변 대기중...'\r\n        this.labelShowPending.node.active = false;\r\n        this.labelQuestionUpdate.string = '';\r\n        this.labelAnswerUpdate.string = '';\r\n\r\n        this.selectedInfo = null;\r\n    }\r\n\r\n    private ClearList() {\r\n        this.selectedInfo = null;        \r\n        this.DestoryElements();\r\n    }\r\n\r\n    private DestoryElements() {\r\n        this.QNAAElementOnList.forEach( (e)=>{\r\n            e.rootNode.destroy();\r\n            e.rootNode = null;\r\n        } );\r\n\r\n        this.QNAAElementOnList = [];\r\n    }\r\n\r\n    public Hide() {\r\n        this.selectedInfo = null;\r\n        this.DestoryElements();\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onEXIT( button: Button ) {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onWRITE( button: Button ) {\r\n        this.rootPANEL_LIST.active = false;\r\n        this.rootPANEL_INPUT.active = true;\r\n\r\n        this.onRESET_WRITE();\r\n    }    \r\n\r\n    private onRESET_WRITE() {\r\n        this.editboxTitle.string = '';\r\n        this.editboxQuestion.string = '';\r\n\r\n        this.labelTitleCount.string = ' ( '+ (this.editboxTitle.string.length).toString() + ' / ' + MAX_TITLE_COUNT.toString() + ' )'\r\n        this.labelDescCount.string = ' ( '+ (this.editboxQuestion.string.length).toString() + ' / ' + MAX_DESCRIPTION_COUNT.toString() + ' )'\r\n    }\r\n\r\n    private onACTIVATE_TITLE( button: Button ) {\r\n        this.editboxTitle.focus();\r\n    }\r\n    \r\n    private onBACK_LIST( button: Button ) {\r\n        this.rootPANEL_SHOW.active = false;\r\n        this.rootPANEL_INPUT.active = false;\r\n        this.rootPANEL_LIST.active = true;\r\n\r\n        this.onREFRESH();\r\n    }\r\n\r\n    private onDELETE_QNA( button: Button  ) {\r\n        LobbySystemPopup.instance.showPopUpYesOrNo('문의사항', '현재 문의를 삭제하시겠습니까?', ()=>{\r\n            this.DELETE_QNA();\r\n\r\n        }, ()=>{\r\n        })\r\n\r\n    }\r\n    \r\n    private DELETE_QNA() {\r\n        if ( this.selectedInfo != null ) {\r\n            this.buttonBack.interactable = false;\r\n            this.buttonExit.interactable = false;\r\n\r\n            NetworkManager.Instance().reqDELETE_QNA( this.selectedInfo.id, ( res: any )=>{\r\n                this.buttonBack.interactable = true;\r\n                this.buttonExit.interactable = true;\r\n                this.onSHOW_LIST();\r\n\r\n                LobbySystemPopup.instance.showPopUpOk('문의', '문의를 삭제했습니다.', ()=>{\r\n\r\n                });\r\n            }, ( err: any )=>{\r\n                this.buttonBack.interactable = true;\r\n                this.buttonExit.interactable = true;                \r\n                LobbySystemPopup.instance.showPopUpOk('문의', '문의를 삭제할 수 없습니다.', ()=>{\r\n\r\n                });\r\n            } );\r\n        } else {\r\n            LobbySystemPopup.instance.showPopUpOk('문의', '문의를 삭제할 수 없습니다.', ()=>{\r\n            });\r\n        }\r\n    }\r\n\r\n    private onSHOW_LIST() {\r\n        this.rootPANEL_SHOW.active = false;\r\n        this.rootPANEL_INPUT.active = false;\r\n        this.rootPANEL_LIST.active = true;\r\n\r\n        this.onREFRESH();        \r\n    }\r\n    \r\n    private onSEND_QNA( button: Button ) {\r\n        let t = this.editboxTitle.string;\r\n        let q = this.editboxQuestion.string;\r\n        button.interactable = false;\r\n\r\n        if ( t.length <= 0 || q.length <= 0 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('문 의', '제목과 문의내용을 입력해주세요.', ()=>{\r\n                button.interactable = true;\r\n            });\r\n            return;\r\n        }\r\n\r\n        NetworkManager.Instance().reqSEND_QNA( {\r\n            title: t,\r\n            question: q\r\n        }, (res)=>{\r\n            button.interactable = true;            \r\n            if ( res != null && res.affected > 0 ) {\r\n                LobbySystemPopup.instance.showPopUpOk('문 의', '문의 보내기가 성공했습니다.', ()=>{\r\n                    this.onSHOW_LIST();\r\n                });\r\n            } else {\r\n                LobbySystemPopup.instance.showPopUpOk('문 의', '문의 보내기가 실패했습니다.', ()=>{\r\n                    this.onRESET_WRITE();\r\n                });\r\n            }\r\n\r\n        }, (err)=>{\r\n            button.interactable = true;            \r\n            LobbySystemPopup.instance.showPopUpOk('문 의', '문의 보내기가 실패했습니다.', ()=>{\r\n                this.onRESET_WRITE();\r\n            });\r\n        });\r\n    }\r\n    \r\n    private onSEND_CANCEL( button: Button ) {\r\n        this.rootPANEL_SHOW.active = false;\r\n        this.rootPANEL_INPUT.active = false;\r\n        this.rootPANEL_LIST.active = true;\r\n\r\n        this.onREFRESH();\r\n    }\r\n\r\n    private onAPPLY( button: Button ) {\r\n        if ( this.cbAPPLY != null ) {\r\n            this.cbAPPLY();\r\n        }\r\n    }\r\n\r\n    private onTITLE_EDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onTITLE_EDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private onTITLE_EDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private onTITLE_EDITBOX_TEXT_CHANGED( editbox ) {\r\n        this.labelTitleCount.string = '( ' + (editbox.string.length).toString() + ' / ' + MAX_TITLE_COUNT.toString() + ' )';\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.string = editbox.string.replace(c, '');\r\n            editbox.blur();\r\n        }\r\n    }\r\n\r\n    private onQUESTION_EDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onQUESTION_EDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private onQUESTION_EDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private onQUESTION_EDITBOX_TEXT_CHANGED( editbox ) {\r\n        this.labelDescCount.string = '( ' + (editbox.string.length).toString() + ' / ' + MAX_DESCRIPTION_COUNT.toString() + ' )';\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.string = editbox.string.replace(c, '');            \r\n            editbox.blur();\r\n        }\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Label, Node, Button } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiLOBBY_POPUP_RANKING')\nexport class UiLOBBY_POPUP_RANKING extends Component {\n    @property(Label) labelTitle: Label = null;\n    @property(Button) buttonExit: Button = null;\n    @property(Button) buttonApply: Button = null;\n\n    private cbEXIT: ()=>void = null;\n    private cbAPPLY: ()=>void = null;    \n\n    public Init( cbEXIT: any, cbAPPLY: any ) {\n        if ( cbEXIT != null ) {\n            this.cbEXIT = null;\n            this.cbEXIT = cbEXIT;\n        }\n\n        if ( cbAPPLY != null ) {\n            this.cbAPPLY = null;\n            this.cbAPPLY = cbAPPLY;\n        }\n\n        this.node.active = false;\n        this.labelTitle.string = '랭 킹';\n\n        this.buttonExit.node.off( 'click' );\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\n\n        this.buttonApply.node.off( 'click' );\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\n    }\n\n    public Show( button: Button ) {\n        button.interactable = true;        \n        this.node.active = true;\n    }\n\n    public Hide() {\n        this.node.active = false;\n    }\n\n    private onEXIT( button: Button ) {\n        if ( this.cbEXIT != null ) {\n            this.cbEXIT();\n        }\n    }\n\n    private onAPPLY( button: Button ) {\n        if ( this.cbAPPLY != null ) {\n            this.cbAPPLY();\n        }\n    }\n}\n\n","import { _decorator, Component, Node, Label, Button } from 'cc';\nimport { CommonUtil } from '../CommonUtil';\nimport { NetworkManager } from '../NetworkManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiLOBBY_POPUP_TICKETS')\nexport class UiLOBBY_POPUP_TICKETS extends Component {\n    @property(Label) labelTitle: Label = null;\n    @property(Label) labelDescription: Label = null;\n    @property(Button) buttonConfirm: Button = null;\n\n    private tickets: any[] = null;\n    private current: number = 0;\n    private maxTickets: number = 0;\n    private cbDONE: ()=>void = null;\n\n    public Init() {\n        this.tickets = [];\n        this.labelTitle.string = '';\n        this.labelDescription.string = '';\n\n        this.buttonConfirm.node.off( 'click' );\n        this.buttonConfirm.node.on( 'click', this.onCONFIRM.bind(this), this );\n\n        this.node.active = false;\n    }\n\n    public Show( tickets: any[], done:()=>void ) {\n        if ( done != null ) {\n            this.cbDONE = done;\n        }\n\n        this.tickets = tickets;\n\n        if ( this.tickets.length > 0 ) {\n            this.current = 0;\n            this.maxTickets = this.tickets.length;\n            let ticket = this.tickets[ this.current ];\n            this.SetTicket( ticket );\n            this.node.active = true;\n\n        } else {\n            this.onDONE();\n        }\n    }\n\n    public Hide() {\n        this.node.active = false;\n    }\n\n    private onDONE() {\n        console.log( 'onDONE');\n        if ( this.cbDONE != null ) {\n            this.cbDONE();\n        }\n    }\n\n    private onCONFIRM( button: Button ) {\n        let id: number = 0;\n        if ( this.tickets[ this.current ] != null ) {\n            id = this.tickets[ this.current ].id;\n        }\n\n        this.buttonConfirm.interactable = false;\n        NetworkManager.Instance().reqCHECK_TICKETS( id, ( res )=>{\n            this.buttonConfirm.interactable = true;\n            let next = this.current + 1;\n            if ( next < this.maxTickets ) {\n                this.current = next;\n                this.SetTicket( this.tickets[next] );\n            } else {\n                this.onDONE();\n            }\n        }, ( err )=>{\n            this.buttonConfirm.interactable = true;            \n            let next = this.current + 1;\n            if ( next < this.maxTickets ) {\n                this.current = next;\n                this.SetTicket( this.tickets[next] );\n            } else {\n                this.onDONE();\n            }\n        });\n    }\n\n\n\n    private async SetTicket( ticket: any ) {\n        let title: string = null;\n        let description: string = null;\n\n        if ( Number(ticket.charge) > 0 ) {\n            title = '입금신청';\n            description = '입금신청 [' + CommonUtil.getKoreanNumber( ticket.charge ) + '] 이 처리되었습니다.';\n            description += '\\n' + ticket.updateDate;\n\n        } else if ( Number(ticket.transfer) > 0 ) {\n            title = '출금신청';\n            description = '출금신청 [' + CommonUtil.getKoreanNumber( ticket.transfer ) + '] 이 처리되었습니다.';\n            description += '\\n' + ticket.updateDate;\n            \n        } else if ( Number(ticket.return) > 0 ) {\n            title = '출금신청';\n            description = '출금신청 ' + CommonUtil.getKoreanNumber( ticket.return ) + ' 이 취소되었습니다.';\n            description += '\\n' + ticket.updateDate;\n        }\n\n        this.labelTitle.string = title;\n        this.labelDescription.string = description;\n    }\n}\n\n","import { _decorator, Component, Node, Label, Button, EditBox } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { ENUM_RESULT_CODE, NetworkManager } from '../NetworkManager';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLOBBY_POPUP_TRANSFER')\r\nexport class UiLOBBY_POPUP_TRANSFER extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n\r\n    @property(Label) labelBank: Label = null;\r\n    @property(Label) labelHolder: Label = null;\r\n    @property(Label) labelAccount: Label = null;\r\n    @property(Label) labelPhone: Label = null;\r\n\r\n    @property(Label) labelBalance: Label = null;\r\n    @property(Label) labelAfterBalance: Label = null;    \r\n\r\n    @property(Label) labelKorAmount: Label = null;\r\n    @property(Label) labelTransferMin: Label = null;\r\n\r\n    @property(EditBox) editboxTransferAmount: EditBox = null;\r\n    @property(EditBox) editboxTransferPassword: EditBox = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;\r\n\r\n    private cbEXIT: ()=>void = null;\r\n    private cbAPPLY: ()=>void = null;\r\n    \r\n    private balance: number = 0;\r\n    private remain: number = 0;\r\n    private transfer_min: number = 0;\r\n    private amount: number = 0;\r\n\r\n    public Init( cbEXIT: any, cbAPPLY: any ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbAPPLY != null ) {\r\n            this.cbAPPLY = null;\r\n            this.cbAPPLY = cbAPPLY;\r\n        }\r\n\r\n        this.node.active = false;\r\n        this.labelTitle.string = '출금신청';\r\n\r\n        this.labelBank.string = '';\r\n        this.labelHolder.string = '';\r\n        this.labelAccount.string = '';\r\n        this.labelPhone.string = '';\r\n        this.labelTransferMin.string = '';\r\n\r\n        this.labelBalance.string = '0';\r\n        this.labelAfterBalance.string = '0';\r\n\r\n        this.labelKorAmount.string = '0';\r\n        this.labelKorAmount.node.active = false;\r\n\r\n        this.balance = 0;\r\n        this.remain = 0;\r\n        this.amount = 0;\r\n\r\n        this.buttonExit.node.off( 'click' );\r\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\r\n\r\n        this.buttonApply.node.off( 'click' );\r\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\r\n\r\n        this.editboxTransferAmount.node.on('editing-did-began', this.onAMOUNT_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxTransferAmount.node.on('editing-return', this.onAMOUNT_EDITBOX_RETURN.bind(this), this);\r\n        this.editboxTransferAmount.node.on('text-changed', this.onAMOUNT_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxTransferAmount.node.on('editing-did-ended', this.onAMOUNT_EDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editboxTransferPassword.node.on('editing-did-began', this.onPASSWORD_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxTransferPassword.node.on('editing-return', this.onPASSWORD_EDITBOX_RETURN.bind(this), this);\r\n        this.editboxTransferPassword.node.on('text-changed', this.onPASSWORD_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxTransferPassword.node.on('editing-did-ended', this.onPASSWORD_EDITBOX_DID_ENDED.bind(this), this);\r\n    }\r\n\r\n    public Show( button: Button ) {\r\n        button.interactable = true;\r\n        this.Reset();\r\n\r\n        this.transfer_min = 10000;\r\n        let conf = NetworkManager.Instance().GetConfig();\r\n        if ( conf != null && conf.min_transfer ) {\r\n            this.transfer_min = conf.min_transfer;\r\n        }\r\n\r\n        this.buttonApply.interactable = true;\r\n        this.labelTransferMin.string = '( 최소 환전 신청금액: ' + CommonUtil.getKoreanNumber( this.transfer_min ) + ' / 단위:' + CommonUtil.getKoreanNumber(10000)+ ' )';\r\n\r\n        NetworkManager.Instance().getTRANSFER_REQUESTS( ( res )=>{\r\n            let transfers = res.transfers;\r\n            let count = transfers.length;\r\n\r\n            if ( count > 0 )\r\n            {\r\n                let total: number = 0;\r\n                transfers.forEach( ( transfer )=>{\r\n                    total += transfer.amount;\r\n                } );\r\n\r\n                let desc = count.toString() + ' 건 ( 총액: ' + CommonUtil.getKoreanNumber( total ) + ' ) 의 신청이 있습니다.\\n계속 진행하시겠습니까? '\r\n                LobbySystemPopup.instance.showPopUpYesOrNo( '환전 신청', desc, ()=>{\r\n                    this.GetUserInfo();\r\n\r\n                }, ()=>{\r\n                    if ( this.cbEXIT != null ) {\r\n                        this.cbEXIT();\r\n                    }\r\n                });\r\n            } else {\r\n                this.GetUserInfo();\r\n            }\r\n        }, (err)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', ' 정보를 불러올 수 없습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private Reset() {\r\n        this.labelBank.string = '';\r\n        this.labelHolder.string = '';\r\n        this.labelAccount.string = '';\r\n        this.labelPhone.string = '';\r\n        this.balance = 0;\r\n        this.remain = 0;\r\n        this.amount = 0;\r\n\r\n        this.editboxTransferAmount.string = '';\r\n        this.editboxTransferPassword.string = '';\r\n        this.labelBalance.string = '';\r\n        this.labelAfterBalance.string = '';\r\n\r\n        this.labelKorAmount.string = '0';\r\n        this.labelKorAmount.node.active = false;\r\n    }\r\n\r\n    private GetUserInfo() {\r\n        NetworkManager.Instance().getUSER_FromDB( (res: any)=>{\r\n            let user = res.user;\r\n\r\n            if ( user != null ) {\r\n                this.labelBank.string = user.bank;\r\n                this.labelHolder.string = user.holder;\r\n                this.labelAccount.string = user.account;\r\n                this.labelPhone.string = user.phone;\r\n                this.balance = user.balance;\r\n\r\n                this.labelBalance.string = CommonUtil.getKoreanNumber(this.balance);\r\n                this.labelAfterBalance.string = CommonUtil.getKoreanNumber(this.balance);\r\n                this.node.active = true;                \r\n            }\r\n\r\n        }, (err: any) => {\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', ' 정보를 불러올 수 없습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onEXIT( button: Button ) {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onAPPLY( button: Button ) {\r\n        button.interactable = false;\r\n        let value: number = this.amount;\r\n        let password: string = this.editboxTransferPassword.string;\r\n        if ( password.length <= 0 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 비밀번호를 입력해 주세요.', ()=>{\r\n                button.interactable = true;\r\n            });\r\n            return;\r\n        }\r\n\r\n        if ( value <= 0 || value < this.transfer_min ) {\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', CommonUtil.getKoreanNumber(this.transfer_min) + ' 이하는 환전신청 할수 없습니다.', ()=>{\r\n                button.interactable = true;            \r\n            });\r\n            return;\r\n        }\r\n\r\n        this.remain = this.balance - value;\r\n        if ( this.remain < 0 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', '소지금이 부족합니다.', ()=>{\r\n                button.interactable = true;            \r\n            });\r\n            return;            \r\n        }\r\n\r\n        let desc = CommonUtil.getKoreanNumber( value ) + ' 출금 요청하시겠습니까?';\r\n        LobbySystemPopup.instance.showPopUpYesOrNo( '출금 신청', desc, ()=>{\r\n            NetworkManager.Instance().reqTRANSFER_REQUEST( {\r\n                value: value,\r\n                password: password\r\n            }, ( res: any )=>{\r\n                button.interactable = true;\r\n                if ( res != null ) {\r\n                    if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                        LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 신청이 완료되었습니다.', ()=>{\r\n                            if ( this.cbAPPLY != null ) {\r\n                                this.cbAPPLY();\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        if ( res.msg == 'INVALID_TRANSFER_PASSWORD') {\r\n                            LobbySystemPopup.instance.showPopUpOk('출금 신청', '거래비빌번호가 잘못됐습니다.', ()=>{\r\n                            });\r\n\r\n                        } else {\r\n                            LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 신청이 실패했습니다.', ()=>{\r\n                            });\r\n                        }\r\n                    }\r\n                } else {\r\n                    LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 신청이 실패했습니다.', ()=>{\r\n                    });                        \r\n                }\r\n            }, (err: any)=>{\r\n                button.interactable = true;                \r\n                LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 신청이 실패했습니다.', ()=>{\r\n                });\r\n            });\r\n        }, ()=>{\r\n            button.interactable = true;\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금신청이 취소되었습니다.', ()=>{\r\n            });\r\n        });\r\n    }\r\n\r\n    private onAMOUNT_EDITBOX_RETURN( editbox, customEventData ) {\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onAMOUNT_EDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n        this.labelAfterBalance.string = CommonUtil.getKoreanNumber( this.balance );\r\n\r\n        this.labelKorAmount.string = '0';\r\n        this.labelKorAmount.node.active = false;\r\n    }\r\n\r\n    private onAMOUNT_EDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onAMOUNT_EDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n\r\n        let n = Number( editbox.string );\r\n        let s: string = '';\r\n        n = n - ( n % 10000 );\r\n        if ( isNaN( n ) == false ) {\r\n            this.amount = n;\r\n            s = '신청금액: ' + CommonUtil.getKoreanNumber( this.amount );            \r\n        }\r\n\r\n        if ( s.length > 0) {\r\n            this.labelKorAmount.string = s;\r\n            this.labelKorAmount.node.active = true;\r\n\r\n            let remain = this.balance - this.amount;\r\n            if ( remain < 0 ) {\r\n                this.labelAfterBalance.string = '출금불가';\r\n            } else {\r\n                this.labelAfterBalance.string = CommonUtil.getKoreanNumber( remain );\r\n            }\r\n        }\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_RETURN( editbox, customEventData ) {\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();        \r\n\r\n        // let s = CommonUtil.getKoreanNumber( Number(editbox.string) );\r\n        // this.labelKorValue.string = s;\r\n\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Label, Button, director, Game, Scene, sys, Sprite } from 'cc';\r\nimport { UiLobbyBottom } from './Lobby/UiLobbyBottom';\r\nimport { UiLobbyPopup } from './Lobby/UiLobbyPopup';\r\nimport { UiPlayer } from './Lobby/UiPlayer';\r\nimport { UiTableList } from './Lobby/UiTableList';\r\nimport { LobbySystemPopup } from './LobbySystemPopup';\r\nimport { NetworkManager } from \"./NetworkManager\";\r\nimport { Board } from \"./Board\";\r\nimport { UiTable } from \"./UiTable\";\r\nimport { UiLobbyLoading } from './Lobby/UiLobbyLoading';\r\nimport { LobbyAudioContoller } from './Lobby/LobbyAudioContoller';\r\nimport { Platform } from '../../extensions/colyseus-sdk/runtime/colyseus';\r\nimport { GameManager } from './GameManager';\r\nimport { ENUM_LEAVE_REASON } from './HoldemDefines';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { ENUM_EVENT_POPUP_TYPE } from './Lobby/UiLOBBY_POPUP_EVENT';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLobby')\r\nexport class UiLobby extends Component {\r\n\r\n    @property(UiPlayer) uiPlayer: UiPlayer = null;\r\n    @property(UiTableList) uiTableList: UiTableList = null;\r\n    @property(UiLobbyPopup) uiLobbyPopup: UiLobbyPopup = null;\r\n    @property(UiLobbyBottom) uiLobbyBottom: UiLobbyBottom = null;\r\n    @property(UiLobbyLoading) uiLobbyLoading: UiLobbyLoading = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonSetting: Button = null;\r\n    @property(Sprite) spriteBlocker: Label = null;\r\n\r\n\tprivate user : any = null;\r\n    private setting: any = null;\r\n    private cbEnd: ()=> void = null;\r\n    private canRefresh: boolean = false; \r\n    private onHideTimestamp: number = 0;\r\n\r\n    public init() {\r\n        this.uiLobbyPopup.init( this );\r\n\r\n        this.uiPlayer.init( this.onShowAvartProfile.bind(this) );\r\n        this.uiTableList.init( this.onJoinTable.bind(this), this.EXIT_LOBBY.bind( this ) );\r\n        this.uiLobbyLoading.init();\r\n        \r\n        this.uiLobbyBottom.init( this.onSHOW_POINT.bind(this), this.onSHOW_RANKING.bind(this), this.onSHOW_CHARGE.bind(this), \r\n            this.onSHOW_TRANSFER.bind(this), this.onSHOW_QND.bind(this), this.onSHOW_NOTICE.bind(this) );\r\n\r\n        this.buttonSetting.node.off(\"click\");\r\n        this.buttonSetting.node.on(\"click\", this.onShowSetting.bind(this), this);\r\n\r\n        this.buttonExit.node.off('click');\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this), this);\r\n        this.node.active = true;\r\n    }\r\n\r\n    show( cbEnd: ()=> void ) {\r\n        if ( this.cbEnd != null ) {\r\n            this.cbEnd = null;\r\n\r\n            if ( cbEnd != null ) {\r\n                this.cbEnd = cbEnd;\r\n            }\r\n        }\r\n\r\n        this.spriteBlocker.node.active = false;\r\n\r\n        this.canRefresh = true;\r\n        this.user = NetworkManager.Instance().GetUser();\r\n        this.setting = NetworkManager.Instance().GetSetting();\r\n        this.onHideTimestamp = 0;\r\n\r\n        if (this.user != null)\r\n        {\r\n            this.uiPlayer.show();            \r\n            this.uiTableList.show();\r\n            this.uiLobbyBottom.show();\r\n        }\r\n\r\n        let leaveReason = NetworkManager.Instance().leaveReason;\r\n        if ( leaveReason == 4001 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('테이블', '장시간 자리비움으로 테이블을 떠났습니다.', ()=>{\r\n\r\n            });\r\n        } else if ( leaveReason == 4002 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('테이블', '게임을 이용할 수 없습니다.', ()=>{\r\n                this.EXIT_LOBBY();\r\n\r\n            });\r\n        }\r\n\r\n        NetworkManager.Instance().leaveReason = -1;\r\n        this.CheckEventPopup();\r\n\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    private CheckEventPopup() {\r\n        let isSHOW_POPUP = GameManager.Instance().GetShowEventPopup();\r\n        if ( isSHOW_POPUP == false ) {\r\n            this.canRefresh = true;\r\n            this.onREFRESH();\r\n            this.onREGIST_SCHEDULE();\r\n            return;\r\n        }\r\n\r\n        NetworkManager.Instance().getPOPUPS(( res )=>{\r\n            if ( res != null ) {\r\n                let popups: any[] = res.popups;\r\n\r\n                if ( popups != null && popups.length > 0 ) {\r\n                    this.uiLobbyPopup.OpenEventPopup( popups, ( type: ENUM_EVENT_POPUP_TYPE )=>{\r\n                        if ( type == 1 ) {\r\n                            console.log( this.user )\r\n                            if ( this.user.tester == 1 ) {\r\n                                this.uiLobbyPopup.CloseEventPopup();\r\n                                GameManager.Instance().SetShowEventPopup( false );\r\n                                this.canRefresh = true;\r\n    \r\n                                this.onREFRESH();\r\n                                this.onREGIST_SCHEDULE();\r\n                            } else {\r\n                                this.EXIT_LOBBY();                                \r\n                            }\r\n                        } else {\r\n                            this.uiLobbyPopup.CloseEventPopup();\r\n                            GameManager.Instance().SetShowEventPopup( false );\r\n                            this.canRefresh = true;\r\n\r\n                            this.onREFRESH();\r\n                            this.onREGIST_SCHEDULE();\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.canRefresh = true;\r\n                    this.onREFRESH();\r\n                    this.onREGIST_SCHEDULE();\r\n                }\r\n            }\r\n        }, (err)=>{\r\n            this.canRefresh = true;\r\n            this.onREFRESH();\r\n            this.onREGIST_SCHEDULE();\r\n        });\r\n    }\r\n\r\n    private SetUnreadAnswer( count: number ) {\r\n        this.uiLobbyBottom.SetUnreadBadge( count );\r\n    }\r\n\r\n    private ShowTicketResult( tickets: any ) {\r\n        if ( tickets != null ) {\r\n            if ( tickets.length > 0 ) {\r\n                this.uiLobbyPopup.OpenTicketsPopup( tickets, ()=>{\r\n                    this.uiLobbyPopup.CloseTicketsPopup();\r\n                });\r\n            } else {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    public refreshPlayer() {\r\n        NetworkManager.Instance().getUSER_FromDB( ()=>{\r\n            this.uiPlayer.refresh();\r\n        }, ()=>{\r\n\r\n        })\r\n    }\r\n\r\n    private onREGIST_SCHEDULE() {\r\n        this.schedule( ()=>{\r\n            this.onREFRESH();\r\n        }, 5);\r\n    }\r\n\r\n    private onUNREGIST_SCHEDULE() {\r\n        this.unscheduleAllCallbacks();\r\n    }\r\n\r\n    private onREFRESH() {        \r\n        if ( this.uiLobbyPopup.IsOpen() == true || LobbySystemPopup.instance.IsPOPUP_SHOW() == true || this.canRefresh == false ) {\r\n            return;\r\n        }\r\n\r\n        NetworkManager.Instance().reqREFRESH((res: any )=>{\r\n            if ( res != null ) {\r\n                if ( res.user != null && res.user.disable == 1) {\r\n                    GameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_DISABLE_ACCOUNT );\r\n                    this.EXIT_LOBBY();\r\n                    return;\r\n                }\r\n                console.log( res );\r\n\r\n                this.refreshPlayer();\r\n                this.SetUnreadAnswer( res.unreads );\r\n                this.ShowTicketResult( res.tickets );\r\n            }\r\n        }, (err: any )=>{\r\n            console.log(err);\r\n        });\r\n\r\n        this.uiTableList.getTableList();\r\n    }\r\n\r\n    public refreshUiPlayer() {\r\n        this.uiPlayer.refresh();\r\n    }\r\n\r\n    private onShowAvartProfile() {\r\n        this.uiLobbyPopup.openProfile();\r\n    }\r\n\r\n    private onClickExit( button: Button ) {\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n        LobbySystemPopup.instance.showPopUpYesOrNo('로그아웃', '로그아웃 하시겠습니까?', ()=>{\r\n            this.uiTableList.end();\r\n            NetworkManager.Instance().logout();\r\n\r\n            if ( this.cbEnd != null ) {\r\n                this.cbEnd();\r\n                this.cbEnd = null;\r\n            }\r\n\r\n            this.EXIT_LOBBY();\r\n        }, ()=>{\r\n            LobbySystemPopup.instance.closePopup();\r\n        })\r\n    }\r\n\r\n    private onShowSetting( button: Button ) {\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n        button.interactable = true;\r\n        this.uiLobbyPopup.openSetting();\r\n    }\r\n\r\n    private onJoinTable(button: Button, table: any) {\r\n        NetworkManager.Instance().reqENTER_TABLE( table.id, ( room, res )=>{\r\n            button.interactable = true;\r\n            this.canRefresh = false;\r\n            this.uiTableList.end();\r\n            \r\n            Board.isPublic = true;\r\n            Board.id = res.info.id;\r\n            Board.ante = res.info.ante;\r\n            Board.ip = res.ip;\r\n\r\n            Board.setInfo( res.info );\r\n            Board.room = room;\r\n            UiTable.seatMaxFromServer = res.count;\r\n\r\n            this.uiLobbyLoading.show( ()=>{\r\n                if ( this.cbEnd != null ) {\r\n                    this.cbEnd();\r\n                    this.cbEnd = null;\r\n                }\r\n            });\r\n\r\n        }, ( err )=>{\r\n            button.interactable = true;\r\n\r\n            switch ( err.msg ) {\r\n                case 'NOT_ENOUGHT_BALANCE':\r\n                    let desc = '소지금이 부족합니다.\\n' + '소지금: ' + CommonUtil.getKoreanNumber( err.balance ) + '\\n' + '최소바이인: ' + CommonUtil.getKoreanNumber( err.buyin );\r\n\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", desc, ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                            \r\n                    break;                \r\n                case 'DUPLICATE_LOGIN':\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"이미 플레이중인 테이블이 있습니다.\", ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                            \r\n                    break;\r\n                case 'INCORRECT_TABLE_INFO':\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"해당 테이블에 입장할 수 없습니다.\", ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                                                        \r\n                    break;\r\n                case 'DISABLE_ACCOUNT':\r\n                    GameManager.Instance().ForceExit(ENUM_LEAVE_REASON.LEAVE_DISABLE_ACCOUNT);\r\n                    this.EXIT_LOBBY();\r\n                    break;                    \r\n                case 'TABLE_IS_FULL':\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"테이블이 가득 찼습니다.\", ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                                                                                    \r\n                    break;\r\n                case 'TABLE_DUPLICATE_IP':\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"중복된 IP의 플레이어가 있습니다.\", ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                            \r\n                    break;                            \r\n\r\n                default:\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"해당 테이블에 입장할 수 없습니다.\\n\" + err.msg, ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                                                                                    \r\n            }\r\n        });\r\n    }\r\n\r\n    private onSHOW_POINT( button: Button ) {\r\n        this.uiLobbyPopup.OpenPoint( button );\r\n    }\r\n\r\n    private onSHOW_RANKING( button: Button ) {\r\n        this.uiLobbyPopup.OpenRanking( button );\r\n    }\r\n\r\n    private onSHOW_CHARGE( button: Button ) {\r\n        this.uiLobbyPopup.OpenCharge( button );\r\n    }\r\n\r\n    private onSHOW_TRANSFER( button: Button ) {\r\n        this.uiLobbyPopup.OpenTransfer( button );\r\n    }\r\n\r\n    private onSHOW_QND( button: Button ) {\r\n        this.uiLobbyPopup.OpenQNA( button );\r\n    }\r\n\r\n    private onSHOW_NOTICE( button: Button ) {\r\n\r\n        this.uiLobbyPopup.OpenNotice( button );\r\n    }\r\n\r\n    public onEVENT_SHOW() {\r\n        let now: any = new Date();\r\n        let ts = Number(now);\r\n\r\n        console.log(ts - this.onHideTimestamp);\r\n\r\n        if ( ts - this.onHideTimestamp > 1000 * 60 * 10 ) {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_LONG_AFK );\r\n        } else {\r\n            this.onHideTimestamp = ts;\r\n            this.onREGIST_SCHEDULE();\r\n        }\r\n        // this.onREGIST_SCHEDULE();\r\n    }\r\n\r\n    public onEVENT_HIDE() {\r\n        let now: any = new Date();\r\n        this.onHideTimestamp = Number( now );\r\n        console.log( 'this.onHideTimestamp' + this.onHideTimestamp );\r\n\r\n        this.onUNREGIST_SCHEDULE();\r\n    }\r\n\r\n    private EXIT_LOBBY() {\r\n        this.spriteBlocker.node.active = true;\r\n        this.uiTableList.end();\r\n        NetworkManager.Instance().logout();\r\n\r\n        this.onUNREGIST_SCHEDULE();        \r\n        director.loadScene('LoginScene', ()=>{\r\n\r\n        }, ()=>{\r\n\r\n        });\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label } from 'cc';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLobbyBottom')\r\nexport class UiLobbyBottom extends Component {\r\n    @property(Button) buttonPoint: Button = null;\r\n    @property(Button) buttonRanking: Button = null;\r\n    @property(Button) buttonCharge: Button = null;\r\n    @property(Button) buttonTransfer: Button = null;    \r\n    @property(Button) buttonQNA: Button = null;\r\n    @property(Button) buttonNotice: Button = null;\r\n    @property(Node) rootQNABadge: Node = null;\r\n    @property(Label) labelUnreadMessage: Label = null;    \r\n\r\n    private cbPOINT: ( button:Button )=> void = null;\r\n    private cbRANKING: ( button:Button )=> void = null;\r\n    private cbCHARGE: ( button:Button )=> void = null;\r\n    private cbTRANSFER: ( button:Button )=> void = null;\r\n    private cbQNA: ( button:Button )=> void = null;\r\n    private cbNOTICE: ( button:Button )=> void = null;\r\n\r\n    public init( cbPOINT: any, cbRANKING: any, cbCHARGE: any, cbTRANSFER: any, cbQNA: any, cbNOTICE: any ) {\r\n        if ( cbPOINT != null ) {\r\n            this.cbPOINT = null;\r\n            this.cbPOINT = cbPOINT;\r\n        }\r\n\r\n        if ( cbRANKING != null ) {\r\n            this.cbRANKING = null;\r\n            this.cbRANKING = cbRANKING;\r\n        }\r\n\r\n        if ( cbCHARGE != null ) {\r\n            this.cbCHARGE = null;\r\n            this.cbCHARGE = cbCHARGE;            \r\n        }\r\n\r\n        if ( cbTRANSFER != null ) {\r\n            this.cbTRANSFER = null;\r\n            this.cbTRANSFER = cbTRANSFER;\r\n        }\r\n\r\n        if ( cbQNA != null ) {\r\n            this.cbQNA = null;\r\n            this.cbQNA = cbQNA;\r\n        }\r\n\r\n        if ( cbNOTICE != null ) {\r\n            this.cbNOTICE = null;\r\n            this.cbNOTICE = cbNOTICE;\r\n        }\r\n        \r\n        this.buttonPoint.node.off('click');\r\n        this.buttonPoint.node.on('click', this.onCLICK_POINT.bind(this), null);\r\n\r\n        this.buttonRanking.node.off('click');\r\n        this.buttonRanking.node.on('click', this.onCLICK_RANKING.bind(this), null);\r\n\r\n        this.buttonCharge.node.off('click');\r\n        this.buttonCharge.node.on('click', this.onCLICK_CHARGE.bind(this), null);        \r\n\r\n        this.buttonTransfer.node.off('click');\r\n        this.buttonTransfer.node.on('click', this.onCLICK_TRANSFER.bind(this), null);\r\n\r\n        this.buttonQNA.node.off('click');\r\n        this.buttonQNA.node.on('click', this.onCLICK_QNA.bind(this), null);\r\n\r\n        this.buttonNotice.node.off('click');\r\n        this.buttonNotice.node.on('click', this.onCLICK_NOTICE.bind(this), null);\r\n\r\n        this.rootQNABadge.active = false;\r\n        this.labelUnreadMessage.string = '';\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    public SetUnreadBadge( count: number ) {\r\n        if ( count != null ) {\r\n            if ( count > 0 ) {\r\n                this.labelUnreadMessage.string = count.toString();\r\n                this.rootQNABadge.active = true;\r\n            } else {\r\n                this.labelUnreadMessage.string = count.toString();\r\n                this.rootQNABadge.active = false;\r\n            }\r\n        } else {\r\n            this.labelUnreadMessage.string = '0';\r\n            this.rootQNABadge.active = false;\r\n        }\r\n    }\r\n\r\n    private onCLICK_POINT( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbPOINT != null ) {\r\n            this.cbPOINT( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_RANKING( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbRANKING != null ) {\r\n            this.cbRANKING( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_CHARGE( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbCHARGE != null ) {\r\n            this.cbCHARGE( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_TRANSFER( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbTRANSFER != null ) {\r\n            this.cbTRANSFER( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_QNA( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbQNA != null ) {\r\n            this.cbQNA( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_NOTICE( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbNOTICE != null ) {\r\n            this.cbNOTICE( button );\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, director, Scene, resources, SpriteFrame, tween, Sprite, UIOpacity, Color, ProgressBar } from 'cc';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport { UiTable } from '../UiTable';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLobbyLoading')\r\nexport class UiLobbyLoading extends Component {\r\n    @property(Node) rootFadeIn: Node = null;\r\n    @property(ProgressBar) progressBar: ProgressBar = null;\r\n\r\n    private progress: number = 0.0;\r\n    private cbNext: ()=> void;\r\n\r\n    public init() {\r\n        this.rootFadeIn.active = false;\r\n        this.progressBar.progress = 0.0;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show(cbNext: ()=> void ) {\r\n        if ( this.cbNext != null ) {\r\n            this.cbNext = null;\r\n\r\n            if ( cbNext != null ) {\r\n                this.cbNext = cbNext;\r\n            }\r\n        }\r\n\r\n        this.progressBar.progress = 0.0;\r\n        this.FadeIn( this.rootFadeIn, 1.0, ()=>{\r\n            this.preLoadResource ();\r\n        });\r\n    }\r\n\r\n    private preLoadResource() {\r\n        this.loadTable();\r\n    }\r\n\r\n    private loadTable() {\r\n        ResourceManager.Instance().loadTables( ()=>{\r\n\r\n            this.progressBar.progress = 0.1;\r\n            this.loadBackground();\r\n        });\r\n    }\r\n\r\n    private loadBackground() {\r\n        ResourceManager.Instance().loadBackground( ()=>{\r\n            this.progressBar.progress = 0.2;\r\n\r\n            this.loadSounds();\r\n        });\r\n    }\r\n\r\n    private loadSounds() {\r\n        if ( ResourceManager.Instance().getSoundsPreloadState() == true ) {\r\n\r\n            this.progressBar.progress = 0.4;\r\n            this.loadCards();\r\n            return;\r\n        }\r\n\r\n        ResourceManager.Instance().loadSounds( ( progress: number )=>{\r\n            this.progressBar.progress = 0.2 + (progress * 0.2) ;\r\n\r\n        }, ()=>{\r\n            this.progressBar.progress = 0.4 ;\r\n            this.loadCards();\r\n        });\r\n    }\r\n\r\n    private loadCards() {\r\n\r\n        ResourceManager.Instance().loadCards(( progress: number )=>{\r\n            this.progressBar.progress = 0.4 + (progress * 0.2) ;\r\n\r\n        }, ()=>{\r\n\r\n            this.progressBar.progress = 0.6;\r\n            this.loadChips();\r\n        });\r\n    }\r\n\r\n    private loadChips() {\r\n        if ( ResourceManager.Instance().getChipPreloadState() == true ) {\r\n\r\n            this.progressBar.progress = 0.8;\r\n            this.launch();\r\n            return;\r\n        }\r\n\r\n        ResourceManager.Instance().loadChips(( progress: number )=>{\r\n            this.progressBar.progress = 0.6 + (progress * 0.2) ;            \r\n        }, ()=>{\r\n            this.progressBar.progress = 0.8;\r\n\r\n            this.launch();\r\n        });\r\n    }\r\n\r\n    private launch() {\r\n\r\n        let cnt = 0;\r\n        director.preloadScene('GameScene', ( completedCount: number, totalCount: number, item: any )=>{\r\n            cnt++;\r\n            let p: number = cnt / 372.0;\r\n            this.progressBar.progress = 0.8 + p * 0.2;\r\n\r\n        }, ()=>{\r\n            this.progressBar.progress = 1.0;\r\n\r\n            if ( this.cbNext != null ) {\r\n                this.cbNext();\r\n                this.cbNext = null;\r\n            }\r\n\r\n            director.loadScene('GameScene');\r\n        });\r\n    }\r\n\r\n    public hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    FadeIn( target: Node, duration: number, done: ()=>void ) {\r\n        let s = target.getComponent(Sprite);\r\n        s.color = new Color( 0, 0, 0, 255);\r\n\r\n        s.node.active = true;\r\n        this.node.active = true;\r\n\r\n        if ( s != null ) {\r\n            let tw = tween( s.node )\r\n            .set( {\r\n \r\n            })\r\n            .to ( duration, {\r\n\r\n            }, {\r\n                onUpdate: ( target: Node, ratio: number) => {\r\n                    let a = 255 - 255 * ratio;\r\n                    if ( a <= 0 ) {\r\n                        a = 0;\r\n                    }\r\n                    s.color = new Color (0, 0, 0, a);\r\n                }\r\n            });\r\n\r\n            tw.call(()=>{\r\n                s.color = new Color( 0, 0, 0, 255);                \r\n                s.node.active = false;\r\n                done();\r\n            });\r\n\r\n            tw.start();\r\n        }\r\n    }\r\n}","import { _decorator, Component, Node, color, Button } from 'cc';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { UiLobby } from '../UiLobby';\r\nimport { UiPopupChangeAvatar } from './UiPopupChangeAvatar';\r\nimport { UiPopupProfile } from './UiPopupProfile';\r\nimport { UiPopupSetting } from './UiPopupSetting';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { UiLOBBY_POPUP_POINT } from './UiLOBBY_POPUP_POINT';\r\nimport { UiLOBBY_POPUP_RANKING } from './UiLOBBY_POPUP_RANKING';\r\nimport { UiLOBBY_POPUP_CHARGE } from './UiLOBBY_POPUP_CHARGE';\r\nimport { UiLOBBY_POPUP_TRANSFER } from './UiLOBBY_POPUP_TRANSFER';\r\nimport { UiLOBBY_POPUP_QnA } from './UiLOBBY_POPUP_QnA';\r\nimport { UiLOBBY_POPUP_NOTICE } from './UiLOBBY_POPUP_NOTICE';\r\nimport { ENUM_EVENT_POPUP_TYPE, UiLOBBY_POPUP_EVENT } from './UiLOBBY_POPUP_EVENT';\r\nimport { UiLOBBY_POPUP_TICKETS } from './UiLOBBY_POPUP_TICKETS';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLobbyPopup')\r\nexport class UiLobbyPopup extends Component {\r\n\r\n    @property (UiPopupProfile) uiPopupProfile: UiPopupProfile = null;\r\n    @property (UiPopupSetting) uiPopupSetting: UiPopupSetting = null;    \r\n    @property (UiPopupChangeAvatar) uiPopupChangeAvatar: UiPopupChangeAvatar = null;\r\n\r\n    @property (UiLOBBY_POPUP_POINT) uiLOBBY_POPUP_POINT: UiLOBBY_POPUP_POINT = null;\r\n    @property (UiLOBBY_POPUP_RANKING) uiLOBBY_POPUP_RANKING: UiLOBBY_POPUP_RANKING = null;\r\n    @property (UiLOBBY_POPUP_CHARGE) uiLOBBY_POPUP_CHARGE: UiLOBBY_POPUP_CHARGE = null;\r\n    @property (UiLOBBY_POPUP_TRANSFER) uiLOBBY_POPUP_TRANFER: UiLOBBY_POPUP_TRANSFER = null;\r\n    @property (UiLOBBY_POPUP_QnA) uiLOBBY_POPUP_QNA: UiLOBBY_POPUP_QnA = null;\r\n    @property (UiLOBBY_POPUP_NOTICE) uiLOBBY_POPUP_NOTICE: UiLOBBY_POPUP_NOTICE = null;\r\n    @property (UiLOBBY_POPUP_EVENT) uiLOBBY_POPUP_EVENT: UiLOBBY_POPUP_EVENT = null;\r\n    @property (UiLOBBY_POPUP_TICKETS) uiLOBBY_POPUP_TICKETS: UiLOBBY_POPUP_TICKETS = null;            \r\n\r\n    private uiLobby: UiLobby = null;\r\n    private isOpen: boolean = false;\r\n\r\n    init( uiLobby:UiLobby ) {\r\n        this.uiPopupProfile.init( this.hide.bind(this), this.openChargeAvatar.bind(this) );\r\n        this.uiPopupSetting.init( this.hide.bind(this), this.applySetting.bind(this) );\r\n        this.uiPopupChangeAvatar.init( this.hideChangeAvatar.bind(this), this.applyChangeAvatar.bind(this));\r\n\r\n        if ( uiLobby != null ) {\r\n            this.uiLobby = uiLobby;\r\n        }\r\n\r\n        this.uiLOBBY_POPUP_POINT.Init( this.ClosePoint.bind(this), this.applyPointTransfer.bind(this) );\r\n        this.uiLOBBY_POPUP_RANKING.Init( this.CloseRanking.bind(this), null );\r\n        this.uiLOBBY_POPUP_CHARGE.Init( this.CloseCharge.bind(this), null );\r\n        this.uiLOBBY_POPUP_TRANFER.Init( this.CloseTransfer.bind(this), this.onAPPLY_TRANSFER.bind(this) );\r\n        this.uiLOBBY_POPUP_QNA.Init( this.CloseQNA.bind(this), null );\r\n        this.uiLOBBY_POPUP_NOTICE.Init( this.CloseNotice.bind(this), null );\r\n        this.uiLOBBY_POPUP_EVENT.Init();\r\n        this.uiLOBBY_POPUP_TICKETS.Init();\r\n\r\n        this.closeAllPopup();\r\n        this.isOpen = false;\r\n    }\r\n\r\n    public OpenEventPopup( popups: any[], done: ( type: ENUM_EVENT_POPUP_TYPE )=>void ) {\r\n        this.closeAllPopup();\r\n        this.uiLOBBY_POPUP_EVENT.Show( popups, done.bind(this) );\r\n\r\n        this.isOpen = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public OpenTicketsPopup( tickets: any[], done: ()=>void ) {\r\n        this.closeAllPopup();\r\n        this.uiLOBBY_POPUP_TICKETS.Show( tickets, done );\r\n\r\n        this.Open();\r\n    }    \r\n\r\n    public openProfile() {\r\n        this.closeAllPopup();\r\n        this.uiPopupProfile.show();\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public openSetting() {\r\n        this.closeAllPopup();\r\n        this.uiPopupSetting.show();\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public openChargeAvatar() {\r\n        this.closeAllPopup();\r\n        this.uiPopupChangeAvatar.show();\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public closeProfile() {\r\n        this.uiPopupProfile.hide();\r\n\r\n        this.hide();\r\n   }\r\n\r\n    public closeSetting() {\r\n        this.uiPopupSetting.hide();\r\n\r\n        this.hide();\r\n    }\r\n\r\n    public closeChangeAvatar() {\r\n        this.uiPopupChangeAvatar.hide();\r\n    }\r\n\r\n    public closeAllPopup() {\r\n        this.uiPopupProfile.hide();\r\n        this.uiPopupSetting.hide();\r\n        this.uiPopupChangeAvatar.hide();\r\n\r\n        this.uiLOBBY_POPUP_POINT.Hide();\r\n        this.uiLOBBY_POPUP_RANKING.Hide();\r\n        this.uiLOBBY_POPUP_CHARGE.Hide();\r\n        this.uiLOBBY_POPUP_TRANFER.Hide();\r\n        this.uiLOBBY_POPUP_QNA.Hide();\r\n        this.uiLOBBY_POPUP_NOTICE.Hide();\r\n        this.uiLOBBY_POPUP_EVENT.Hide();\r\n        this.uiLOBBY_POPUP_TICKETS.Hide();\r\n\r\n        this.hide();\r\n    }\r\n\r\n    private hideChangeAvatar() {\r\n        this.openProfile();\r\n    }\r\n\r\n    public OpenPoint( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_POINT.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenRanking( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_RANKING.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenCharge( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_CHARGE.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenTransfer( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_TRANFER.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenQNA( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_QNA.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenNotice( button: Button ) {\r\n        this.closeAllPopup();\r\n        this.uiLOBBY_POPUP_NOTICE.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public ClosePoint() {\r\n        this.uiLOBBY_POPUP_POINT.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseRanking() {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_RANKING.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseCharge() {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_CHARGE.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseTransfer() {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_TRANFER.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    private onAPPLY_TRANSFER() {\r\n        this.closeAllPopup();\r\n        this.uiLOBBY_POPUP_TRANFER.Hide();\r\n        this.uiLobby.refreshUiPlayer();\r\n\r\n        this.hide();\r\n    }\r\n\r\n    public CloseQNA() {\r\n        this.uiLOBBY_POPUP_QNA.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseNotice() {\r\n        this.uiLOBBY_POPUP_NOTICE.Hide();\r\n        this.hide();\r\n    }\r\n    \r\n    public CloseEventPopup() {\r\n        this.uiLOBBY_POPUP_EVENT.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseTicketsPopup() {\r\n        this.uiLOBBY_POPUP_TICKETS.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    private applyChangeAvatar( num: number ) {\r\n        NetworkManager.Instance().updateUSER_AVATAR( num, (res)=>{            \r\n            LobbySystemPopup.instance.showPopUpOk('아바타 변경', '아바타가 변경되었습니다.', ()=>{\r\n                this.uiLobby.refreshUiPlayer();\r\n                this.uiPopupChangeAvatar.hide();\r\n                this.openProfile();                \r\n            });\r\n        }, (msg)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('아바타 변경', '아바타가 변경되지 않았습니다.', ()=>{\r\n                this.uiPopupChangeAvatar.hide();\r\n                this.openProfile();                \r\n            });\r\n        });\r\n    }\r\n\r\n    private applySetting( selected: any ) {        \r\n        NetworkManager.Instance().updateUSER_SETTING( selected, (res)=>{\r\n            \r\n            LobbySystemPopup.instance.showPopUpOk('설정', '설정이 변경되었습니다.', ()=>{\r\n                LobbySystemPopup.instance.closePopup();\r\n                LobbyAudioContoller.instance.ApplyVolumn();\r\n\r\n                this.closeSetting();\r\n            });\r\n        }, (err)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('설정', '설정을 변경할 수 없습니다.', ()=>{\r\n                LobbySystemPopup.instance.closePopup();\r\n                this.closeSetting();\r\n            });\r\n        });\r\n    }\r\n\r\n    private applyPointTransfer() {\r\n        this.uiLobby.refreshPlayer();\r\n    }\r\n\r\n    public hide() {\r\n        this.node.active = false;\r\n        this.isOpen = false;\r\n    }\r\n\r\n    private Open() {\r\n        this.node.active = true;\r\n        this.isOpen = true;        \r\n    }\r\n\r\n    public IsOpen(): boolean {\r\n        return this.isOpen;\r\n    }\r\n}","import { _decorator, Component, Node, Button, EditBox, Label, AudioSource, AudioClip, director, Scene, game, Sprite, EventHandler, input, Input, EventKeyboard, KeyCode, Game, sys } from 'cc';\r\nimport { ENUM_RESULT_CODE, NetworkManager } from './NetworkManager';\r\nimport { Main } from './Main';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { LoginSystemPopup } from './Login/LoginSystemPopup';\r\nimport { ResourceManager } from './ResourceManager';\r\nimport { GameManager } from './GameManager';\r\nimport { ENUM_LEAVE_REASON } from './HoldemDefines';\r\nimport { UiLoginPOPUP } from './Login/UiLoginPOPUP';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLogin')\r\nexport class UiLogin extends Component {\r\n    @property (UiLoginPOPUP) uiLoginPOPUP = null;\r\n\r\n    @property (EditBox) editBoxUID: EditBox = null;\r\n    @property (EditBox) editBoxPassword: EditBox = null;    \r\n    @property (Label) labelLoginState: Label = null;\r\n    @property (AudioSource) audioSource: AudioSource = null;\r\n    @property (AudioClip) soundButtonClick: AudioClip = null;\r\n\r\n    @property (Button) buttonLogin: Button = null;\r\n    @property (Button) buttonJoin: Button = null;\r\n    @property (Button) buttonExit: Button = null;\r\n\r\n    @property (Sprite) spriteEventBlocker: Sprite = null;\r\n\r\n    private main: Main = null;\r\n\r\n    init(main: Main) {\r\n        this.main = main;\r\n\r\n        NetworkManager.Instance().logout();\r\n        GameManager.Instance().SetShowEventPopup( true );\r\n        this.RegistEditboxEvent();\r\n        this.uiLoginPOPUP.Init();\r\n\r\n        this.spriteEventBlocker.node.active = false;\r\n\r\n        this.buttonLogin.node.on( \"click\", this.onClickLogin.bind( this ), this );\r\n        this.buttonJoin.node.on('click', this.onClickJoin.bind( this ), this );\r\n        this.buttonExit.node.on('click', ()=>{\r\n\r\n            LoginSystemPopup.instance.showPopUpYesOrNo('종료', '게임을 종료하시겠습니까?', ()=>{\r\n                this.exitGame();\r\n            }, ()=>{\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n\r\n        }, this);\r\n    }\r\n\r\n    RegistEditboxEvent() {\r\n\r\n        this.editBoxUID.node.on('editing-did-began', this.onUID_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxUID.node.on('editing-return', this.onUID_EDITBOX_RETURN.bind(this), this);\r\n        this.editBoxUID.node.on('text-changed', this.onUID_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxUID.node.on('editing-did-ended', this.onUID_EDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxPassword.node.on('editing-did-began', this.onPASSWORD_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxPassword.node.on('editing-return', this.onPASSWORD_EDITBOX_RETURN.bind(this), this);\r\n        this.editBoxPassword.node.on('text-changed', this.onPASSWORD_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxPassword.node.on('editing-did-ended', this.onPASSWORD_EDITBOX_DID_ENDED.bind(this), this);\r\n    }\r\n\r\n    onUIDEditboxReturn() {\r\n\r\n    }\r\n\r\n    onUIDEditboxChanged( text: string, editbox: EditBox, customEventData: any ) {\r\n\r\n        // console.log('text: ' + text + 'is input');\r\n        // if ( /\\t/gi.test( text) == true ) {\r\n        //     console.log( '[[' + text.trim() + ']]');\r\n\r\n\r\n        //     this.editBoxPassword.focus();\r\n        //     editbox.string = text.trim();\r\n        //     editbox.textLabel.string = text.trim();            \r\n        // }\r\n    }\r\n\r\n    onUIDEditboxDidBegan() {\r\n        this.editBoxUID.string = '';\r\n    }\r\n\r\n    onPasswordEditboxReturn() {\r\n\r\n        if ( this.editBoxPassword.string.length > 0 && this.editBoxUID.string.length > 0 ) {\r\n            this.audioSource.playOneShot(this.soundButtonClick, 1);\r\n            this.onLogin();\r\n        }\r\n    }\r\n\r\n    onPasswordEditboxChanged() {\r\n\r\n    }\r\n\r\n    onPasswordEditboxDidBegan() {\r\n        this.editBoxPassword.string = '';\r\n    }\r\n    \r\n    onClickLogin(button: Button) {\r\n        this.audioSource.playOneShot(this.soundButtonClick, 1);\r\n        this.onLogin();\r\n\t}\r\n\r\n    public exitGame() {\r\n        // director.end();\r\n        game.end();\r\n    }\r\n\r\n    onLogin() {\r\n        let login_id: string = this.editBoxUID.string;\r\n        let password: string = this.editBoxPassword.string;\r\n\r\n        this.buttonLogin.interactable = false;\r\n        this.buttonJoin.interactable = false;\r\n\r\n        this.spriteEventBlocker.node.active = true;\r\n\r\n        if ( login_id.length < 4 ) {\r\n            LoginSystemPopup.instance.showPopUpOk('로그인', '아이디와 패스워드를 입력해주세요.', ()=>{\r\n                this.buttonLogin.interactable = true;\r\n                this.buttonJoin.interactable = true;\r\n                this.spriteEventBlocker.node.active = false;\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return;\r\n        }\r\n\r\n\t\tNetworkManager.Instance().reqLOGIN_HOLDEM( login_id, password ,(res)=>{\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n\r\n                let id: number = res.obj.id;\r\n                this.onLOAD_DATA( id );\r\n            }\r\n            else {\r\n                let desc: string = '';\r\n\r\n                switch ( res.msg ) {\r\n                    case 'INVALID_VERSION':\r\n                        desc = '버전이 맞지 않습니다.\\n새 버전을 다운로드 해 주세요.';\r\n                        break;\r\n                    case 'VERSION_MISMATCH':\r\n                        let referal: string = '';\r\n                        if ( res != null || res.obj != null || res.obj.referal != null ) {\r\n                            referal = res.obj.referal;\r\n                        }\r\n\r\n                        if ( referal.length > 0 ) {\r\n                            this.uiLoginPOPUP.OPEN_VersionMismatch( referal, this.onEXIT_GAME.bind(this), this.onDOWNLOAD_PAGE.bind(this) );\r\n                            return;\r\n\r\n                        } else {\r\n                            desc = 'VERSION_MISMATCH';\r\n                        }\r\n                        break;\r\n                    case 'INVALID_UID':\r\n                        desc = '잘못된 아이디 입니다.';\r\n                        break;\r\n                    case 'NO_EXIST_LOGIN_ID':\r\n                        desc = '아이디가 존재하지 않습니다.';\r\n                        break;\r\n                    case 'NO_MATCH_PASSWORD':\r\n                        desc = '비밀번호가 맞지 않습니다.';\r\n                        break;\r\n                    case 'DISABLE_ACCOUNT':\r\n                        desc = '사용할 수 없는 계정입니다.';\r\n                        break;\r\n                    case 'PENDING_ACCOUNT':\r\n                        desc = '가입 대기중인 계정입니다.';\r\n                        break;\r\n                    default:\r\n                        desc = '로그인 할 수 없습니다.';\r\n                }\r\n\r\n                LoginSystemPopup.instance.showPopUpOk('로그인', desc, ()=>{\r\n                    this.buttonLogin.interactable = true;\r\n                    this.buttonJoin.interactable = true;\r\n\r\n                    this.spriteEventBlocker.node.active = false;\r\n                });\r\n            }\r\n        },\r\n        ( err )=>{\r\n            if ( err.code == ENUM_RESULT_CODE.DISCONNECT_SERVER ) {\r\n                LoginSystemPopup.instance.showPopUpOk('로그인', '서버에 연결할 수 없습니다.', ()=>{\r\n                    this.buttonLogin.interactable = true;\r\n                    this.buttonJoin.interactable = true;\r\n\r\n                    this.spriteEventBlocker.node.active = false;\r\n                });\r\n                return;        \r\n            }\r\n            else {\r\n                LoginSystemPopup.instance.showPopUpOk('로그인', '로그인 할 수 없습니다.', ()=>{\r\n                    this.buttonLogin.interactable = true;\r\n                    this.buttonJoin.interactable = true;\r\n\r\n                    this.spriteEventBlocker.node.active = false;\r\n                });\r\n            }\r\n        });        \r\n    }\r\n\r\n    private onLOAD_DATA( user_id: number ) {\r\n        NetworkManager.Instance().getDATA(user_id, (res)=>{\r\n\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                if ( res.user != null && res.setting != null && res.conf != null ) {\r\n                    CommonUtil.setGameSetting( res.conf );\r\n\r\n                    ResourceManager.Instance().loadAvatars( res.conf.avatars, ()=>{}, ()=>{\r\n                        director.loadScene(\"LobbyScene\", (error: null | Error, scene?: Scene)=>{\r\n                        \r\n                        }, ()=>{\r\n            \r\n                        });\r\n    \r\n                    });\r\n                } else {\r\n                    LoginSystemPopup.instance.showPopUpOk('로그인', '게임 정보를 불러올 수 없습니다.', ()=>{\r\n                        this.spriteEventBlocker.node.active = false;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n                }\r\n            } else {\r\n                LoginSystemPopup.instance.showPopUpOk('로그인', '게임 정보를 불러올 수 없습니다.', ()=>{\r\n                    this.spriteEventBlocker.node.active = false;\r\n\r\n                    LoginSystemPopup.instance.closePopup();\r\n                });\r\n            }\r\n\r\n            this.buttonLogin.interactable = true;\r\n            this.buttonJoin.interactable = true;\r\n\r\n        }, ( err )=>{\r\n            LoginSystemPopup.instance.showPopUpOk('로그인', '게임 정보를 불러올 수 없습니다.', ()=>{\r\n                this.spriteEventBlocker.node.active = false;\r\n\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n\r\n            this.buttonLogin.interactable = true;\r\n            this.buttonJoin.interactable = true;\r\n        });\r\n    }\r\n\r\n    onClickJoin( button: Button ) {\r\n        button.interactable = false;\r\n        NetworkManager.Instance().reqJOIN_REQUEST(( res: any )=>{\r\n            button.interactable = true;            \r\n            this.main.onShowJoinMember();\r\n        }, ( err: any )=>{\r\n            button.interactable = true;\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '회원가입할 수 없습니다.' , ()=>{\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    show() {\r\n        let leaveReason = GameManager.Instance().GetLeaveReason();\r\n\r\n        let forceExit: boolean = false;\r\n        let desc: string = '';\r\n\r\n        switch (leaveReason) {\r\n            case ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE:\r\n                forceExit = false;\r\n                desc = '중복 로그인이 발생했습니다.';\r\n                break;\r\n            case ENUM_LEAVE_REASON.LEAVE_VERSION_MISMATCH:\r\n                forceExit = true;\r\n                desc = '버전이 맞지 않습니다.\\n새로운 버전을 설치하세요..';\r\n                break;\r\n            case ENUM_LEAVE_REASON.LEAVE_DISABLE_ACCOUNT:\r\n                forceExit = false;\r\n                desc = '게임을 이용할 수 없습니다.';\r\n                break;\r\n            case ENUM_LEAVE_REASON.LEAVE_LONG_AFK:\r\n                forceExit = false;\r\n                desc = '장시간 자리비움입니다.\\n게임을 다시 실행해주세요';\r\n                break;\r\n        }\r\n\r\n        GameManager.Instance().ResetLeaveReason();\r\n\r\n        if ( forceExit == true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('게임종료', desc , ()=>{\r\n                this.exitGame();\r\n            });\r\n            return;\r\n        } else {\r\n            if ( desc.length > 0 )\r\n            LoginSystemPopup.instance.showPopUpOk('로그인', desc , ()=>{\r\n\r\n            });\r\n        }\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onUID_EDITBOX_RETURN( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onUID_EDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n    }\r\n\r\n    private onUID_EDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onUID_EDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.blur();\r\n            // this.editBoxPassword.focus();\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onPASSWORD_EDITBOX_RETURN( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n        if ( editbox.string.length > 0 && editbox.string.length > 0 ) {\r\n            this.audioSource.playOneShot(this.soundButtonClick, 1);\r\n            this.onLogin();\r\n        }\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.blur();\r\n            // this.editBoxUID.focus();\r\n        }        \r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEXIT_GAME() {\r\n        this.uiLoginPOPUP.Hide();\r\n        this.exitGame();\r\n    }\r\n\r\n    private onDOWNLOAD_PAGE( url: string ) {\r\n        sys.openURL(url);\r\n        this.onEXIT_GAME();\r\n    }\r\n}\r\n","import { _decorator, Button, Component, Node } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLoginPOPUP_VERSION_MISMATCH')\r\nexport class UiLoginPOPUP_VERSION_MISMATCH extends Component {\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonDownload: Button = null;\r\n\r\n    private url: string = '';\r\n\r\n    private cbEXIT:()=>void = null;\r\n    private cbDOWNLOAD: ( referal: string )=>void = null;\r\n\r\n    public Init() {\r\n        this.buttonExit.node.off('click');\r\n        this.buttonExit.node.on('click', this.onCLICK_EXIT.bind(this));\r\n\r\n        this.buttonDownload.node.off('click');\r\n        this.buttonDownload.node.on('click', this.onCLICK_DOWNLOAD.bind(this));\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show( referal: string, cbEXIT:()=>void, cbDOWNLOAD:( referal: string )=>void ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbDOWNLOAD != null ) {\r\n            this.cbDOWNLOAD = cbDOWNLOAD;\r\n        }\r\n\r\n        NetworkManager.Instance().reqCOMPANY( (res: any)=>{\r\n            if ( res != null && res.store != null && res.store.homepage != null ) {\r\n                this.url = res.store.homepage + '?code=' + referal;\r\n            }\r\n\r\n            this.node.active = true;\r\n        }, (err: any)=>{\r\n            this.node.active = true;\r\n        });\r\n    }\r\n\r\n    private onCLICK_EXIT() {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onCLICK_DOWNLOAD() {\r\n        if ( this.cbDOWNLOAD != null ) {\r\n            this.cbDOWNLOAD( this.url );\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n        }\r\n\r\n        if ( this.cbDOWNLOAD != null ) {\r\n            this.cbDOWNLOAD = null;\r\n        }\r\n\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nimport { UiLoginPOPUP_VERSION_MISMATCH } from './UiLoginPOPUP_VERSION_MISMATCH';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLoginPOPUP')\r\nexport class UiLoginPOPUP extends Component {\r\n    @property(UiLoginPOPUP_VERSION_MISMATCH) uiLoginPopupVersionMismatch: UiLoginPOPUP_VERSION_MISMATCH = null;\r\n\r\n    public Init() {\r\n        this.uiLoginPopupVersionMismatch.Init();\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    public Hide() {\r\n        this.CLOSE_VersionMismatch();\r\n        this.node.active = false;\r\n    }\r\n\r\n    public OPEN_VersionMismatch( referal: string, cbExit:()=>void , cbDOWNLOAD: ( url: string )=>void ) {\r\n        this.uiLoginPopupVersionMismatch.Show( referal, cbExit, cbDOWNLOAD );\r\n\r\n        this.Show();\r\n    }\r\n\r\n    public CLOSE_VersionMismatch() {\r\n        this.uiLoginPopupVersionMismatch.Hide();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, Label, profiler, Button, resources, SpriteFrame } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiPlayer')\r\nexport class UiPlayer extends Component {\r\n    @property(Sprite) spriteAvatar: Sprite = null;\r\n    @property(Label) labelNickname: Label = null;\r\n    @property(Label) labelIp: Label = null;    \r\n    @property(Label) labelChips: Label = null;\r\n    @property(Label) labelPoints: Label = null;\r\n    @property(Button) buttonAvatar: Button = null;\r\n\r\n    private avatarType: number = -1;\r\n    private nickname: string = \"\";\r\n    private chips: number = -1; \r\n    private points: number = -1;\r\n\r\n    private cbClickAvatar: ()=>void = null;\r\n\r\n    public init( cbClickAvatar: ()=>void = null ) {\r\n        this.cbClickAvatar = cbClickAvatar;\r\n\r\n        this.avatarType = -1;\r\n        this.nickname = '';\r\n        this.chips = -1;\r\n        this.points = -1;\r\n\r\n        this.labelNickname.string = this.nickname;\r\n        this.labelChips.string = this.chips.toString();\r\n        this.labelPoints.string = this.points.toString();\r\n        this.labelIp.string = '';\r\n        this.labelIp.node.active = false;\r\n\r\n        this.buttonAvatar.node.on(\"click\", this.onClickAvatar.bind(this), this);\r\n        this.spriteAvatar.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickAvatar(button: Button) {\r\n        // LobbyAudioContoller.instance.playButtonClick();\r\n\r\n        this.cbClickAvatar();\r\n    }\r\n\r\n    public show () {\r\n        this.refresh();        \r\n        this.node.active = true;\r\n    }\r\n\r\n    public refresh() {\r\n        let user = NetworkManager.Instance().GetUser();\r\n        if (user != null)\r\n        {\r\n            this.labelNickname.string = user.nickname;\r\n            this.labelChips.string = CommonUtil.getKoreanNumber(user.balance + user.chip);\r\n            this.labelPoints.string = CommonUtil.getKoreanNumber(user.point);\r\n            this.labelIp.string = '( ' + user.login_ip + ' )';\r\n            this.labelIp.node.active = false;\r\n\r\n            let s = Number( user.avatar );\r\n            let sf: SpriteFrame = ResourceManager.Instance().getAvatarImage( s );\r\n            if ( sf != null ) {\r\n                this.spriteAvatar.spriteFrame = sf;\r\n                this.spriteAvatar.node.active = true;\r\n            }\r\n        }\r\n        this.node.active = true;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label, Slider, EventHandler, sys } from 'cc';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { ENUM_BETTING_KIND, ENUM_BETTING_TYPE, UiBettingControl } from './Game/UiBettingControl';\r\nimport { AudioController } from './Game/AudioController';\r\nimport { ENUM_BET_SOUND, ENUM_CARD_TYPE, ENUM_DEVICE_TYPE } from './HoldemDefines';\r\nimport { GameManager } from './GameManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiPlayerAction')\r\nexport class UiPlayerAction extends Component {\r\n\t@property (Node) rootPortraitController: Node = null;\r\n\t@property (Node) rootLandscapeContoller: Node = null;\r\n\r\n\t// @property (Node) NodeMobileContoller: Node = null;\r\n\t\r\n\t// private uiBettingControl: UiBettingControl = null;\r\n\r\n\tprivate nodeRoot: Node = null;\r\n\r\n\tprivate isChildRegistered: boolean = false;\r\n\r\n\tprivate buttonFold: Button = null;    \r\n\tprivate buttonCheck: Button = null;\r\n\tprivate buttonCall: Button = null;\r\n\r\n\t// private buttonBet: Button = null;\r\n\t// private buttonRaise: Button = null;\r\n\t// private buttonConfirm: Button = null;\r\n\tprivate buttonAllIn: Button = null;\r\n\r\n\tprivate turnBet: number = 0;\r\n\tprivate myBet: number = 0;\r\n\tprivate myChips: number = 0;\r\n\tprivate pot: number = 0;\r\n\tprivate betMin: number = 0;\r\n\tprivate betStart: number = 0;\r\n\tprivate betRange: number = 0;\r\n\tprivate callValue: number = 0;\r\n\tprivate isBet: boolean = false;\r\n\tprivate maxChips: number = 0;\r\n\r\n\tprivate buttonQuater: Button = null;\r\n\tprivate buttonHalf: Button = null;\r\n\tprivate buttonFull: Button = null;\r\n\tprivate buttonMax: Button = null;\r\n\r\n\tprivate buttonQuaterDisable: Button = null;\r\n\tprivate buttonHalfDisable: Button = null;\r\n\tprivate buttonFullDisable: Button = null;\r\n\r\n\tprivate labelCallValue: Label = null;\r\n\tprivate labelQuaterValue: Label = null;\r\n\tprivate labelHalfValue: Label = null;\r\n\tprivate labelFullValue: Label = null;\r\n\tprivate labelMaxValue: Label = null;\r\n\r\n\tprivate labelQuaterDisableValue: Label = null;\r\n\tprivate labelHalfDisableValue: Label = null;\r\n\tprivate labelFullDisableValue: Label = null;\r\n\t\r\n\tprivate labelBet: Label = null;\r\n\tprivate labelRaise: Label = null;\r\n\r\n\tprivate quaterValue: number = 0;\r\n\tprivate halfValue: number = 0;\r\n\tprivate fullValue: number = 0;\r\n\tprivate maxValue: number = 0;\r\n\tprivate betType: ENUM_BETTING_TYPE = ENUM_BETTING_TYPE.None;\r\n\r\n\tprivate sb: number = 0;\r\n\tprivate bb: number = 0;\r\n\r\n\tprivate rotateType: ENUM_DEVICE_TYPE = ENUM_DEVICE_TYPE.MOBILE_PORTRAIT;\r\n\r\n\tcbFold: () => void = null;\r\n\tcbCall: ( betValue: number ) => void = null;\r\n\tcbCheck: () => void = null;\r\n\tcbBet: ( betValue: number, callValue:number, sound: ENUM_BET_SOUND ) => void = null;\r\n\tcbRaise: ( betValue: number, callValue: number, sound: ENUM_BET_SOUND ) => void = null;\r\n\tcbAllIn: ( betValue: number, callValue: number ) => void = null;\r\n\tcbBetAnnounce: ( kind: ENUM_BETTING_KIND )=> void = null;\r\n\r\n    childRegistered() {\r\n\t\tif( true == this.isChildRegistered ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.isChildRegistered = true;\r\n\t\tlet info = GameManager.Instance().GetInfo();\r\n\t\tthis.rotateType = info.device;\r\n\r\n\t\tif ( this.rotateType == ENUM_DEVICE_TYPE.MOBILE_PORTRAIT ) {\r\n\t\t\tthis.nodeRoot = this.rootPortraitController;\r\n\r\n\t\t} else {\r\n\t\t\tthis.nodeRoot = this.rootLandscapeContoller;\r\n\t\t}\t\t\r\n\r\n\t\tthis.buttonFold = this.nodeRoot.getChildByPath( \"BUTTON_FOLD\" )?.getComponent( Button );\r\n\t\tthis.buttonFold?.node.on( \"click\", this.onClickFold.bind( this ), this );\r\n\r\n\t\tthis.buttonCheck = this.nodeRoot.getChildByPath( \"BUTTON_CHECK\" )?.getComponent( Button );\r\n\t\tthis.buttonCheck?.node.on( \"click\", this.onClickCheck.bind( this ), this );\r\n\r\n\t\tthis.buttonCall = this.nodeRoot.getChildByPath( \"BUTTON_CALL\" )?.getComponent( Button );\r\n\t\tthis.buttonCall?.node.on( \"click\", this.onClickCall.bind( this ), this );\r\n\t\tthis.labelCallValue = this.buttonCall.node.getChildByPath('LABEL_VALUE').getComponent( Label );\r\n\r\n\t\tthis.buttonAllIn = this.nodeRoot.getChildByPath( \"BUTTON_ALLIN\" )?.getComponent( Button );\r\n\t\tthis.buttonAllIn?.node.on( \"click\", this.onClickAllin.bind( this ), this );\r\n\r\n\t\tthis.buttonQuater = this.nodeRoot.getChildByPath('BUTTON_QUATER').getComponent( Button );\r\n\t\tif ( this.buttonQuater != null ) {\r\n\t\t\tthis.buttonQuater.node.off('click');\r\n\t\t\tthis.buttonQuater.node.on( 'click', this.onClickQuater.bind( this ), this );\r\n\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonHalf = this.nodeRoot.getChildByPath('BUTTON_HALF').getComponent( Button );\r\n\t\tif ( this.buttonHalf != null ) {\r\n\t\t\tthis.buttonHalf.node.off('click');\t\t\t\t\r\n\t\t\tthis.buttonHalf.node.on( 'click', this.onClickHalf.bind( this ), this );\r\n\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonFull = this.nodeRoot.getChildByPath('BUTTON_FULL').getComponent( Button );\r\n\t\tif ( this.buttonFull != null ) {\r\n\t\t\tthis.buttonFull.node.off('click');\r\n\t\t\tthis.buttonFull.node.on( 'click', this.onClickFull.bind( this ), this );\r\n\t\t\tthis.buttonFull.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonMax = this.nodeRoot.getChildByPath('BUTTON_MAX').getComponent( Button );\r\n\t\tif ( this.buttonMax != null ) {\r\n\t\t\tthis.buttonMax.node.off('click');\r\n\t\t\tthis.buttonMax.node.on( 'click', this.onClickMax.bind( this ), this );\r\n\t\t\tthis.buttonMax.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelQuaterValue = this.nodeRoot.getChildByPath('BUTTON_QUATER/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelQuaterValue != null ) {\r\n\t\t\tthis.labelQuaterValue.string = '';\r\n\t\t\tthis.labelQuaterValue.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelHalfValue = this.nodeRoot.getChildByPath('BUTTON_HALF/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelHalfValue != null ) {\r\n\t\t\tthis.labelHalfValue.string = '';\r\n\t\t\tthis.labelHalfValue.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelFullValue = this.nodeRoot.getChildByPath('BUTTON_FULL/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelFullValue != null ) {\r\n\t\t\tthis.labelFullValue.string = '';\r\n\t\t\tthis.labelFullValue.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelMaxValue = this.nodeRoot.getChildByPath('BUTTON_MAX/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelMaxValue != null ) {\r\n\t\t\tthis.labelMaxValue.string = '';\r\n\t\t\tthis.labelMaxValue.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonQuaterDisable = this.nodeRoot.getChildByPath('BUTTON_QUATER_DISABLE').getComponent( Button );\r\n\t\tif ( this.buttonQuaterDisable != null ) {\r\n\t\t\tthis.buttonQuaterDisable.interactable = false;\r\n\t\t\tthis.buttonQuaterDisable.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonHalfDisable = this.nodeRoot.getChildByPath('BUTTON_HALF_DISABLE').getComponent( Button );\r\n\t\tif ( this.buttonHalfDisable != null ) {\r\n\t\t\tthis.buttonHalfDisable.interactable = false;\r\n\t\t\tthis.buttonHalfDisable.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonFullDisable = this.nodeRoot.getChildByPath('BUTTON_FULL_DISABLE').getComponent( Button );\r\n\t\tif ( this.buttonFullDisable != null ) {\r\n\t\t\tthis.buttonFullDisable.interactable = false;\r\n\t\t\tthis.buttonFullDisable.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelQuaterDisableValue = this.nodeRoot.getChildByPath('BUTTON_QUATER_DISABLE/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelQuaterDisableValue != null ) {\r\n\t\t\tthis.labelQuaterDisableValue.string = '';\r\n\t\t\tthis.labelQuaterDisableValue.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelHalfDisableValue = this.nodeRoot.getChildByPath('BUTTON_HALF_DISABLE/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelHalfDisableValue != null ) {\r\n\t\t\tthis.labelHalfDisableValue.string = '';\r\n\t\t\tthis.labelHalfDisableValue.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelFullDisableValue = this.nodeRoot.getChildByPath('BUTTON_FULL_DISABLE/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelFullDisableValue != null ) {\r\n\t\t\tthis.labelFullDisableValue.string = '';\r\n\t\t\tthis.labelFullDisableValue.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.nodeRoot.active = true;\r\n\t}\r\n\r\n\tonLoad() {\r\n\t\tthis.childRegistered();\r\n\t}\r\n\r\n\tinit( sb: number, bb: number ) {\t\t\r\n\t\tthis.sb = sb;\r\n\t\tthis.bb = bb;\r\n\t}\r\n    \r\n\tshow( minBet: number, turnBet: number, minRaise: number, pot: number, myBet: number, myChips: number, maxChips:number, isLast : boolean, hasAction: boolean) {\r\n\t\tthis.childRegistered();\r\n\r\n\t\tthis.quaterValue  = 0;\r\n\t\tthis.halfValue = 0;\r\n\t\tthis.fullValue = 0;\r\n\t\tthis.maxValue = 0;\r\n\t\tthis.betType =  ENUM_BETTING_TYPE.None;\r\n\r\n\t\t// this.uiBettingControl.hide();\r\n\t\t// this.buttonConfirm.node.active = false;\r\n\r\n\t\tthis.betMin = minBet;\r\n\t\tthis.turnBet = turnBet;\r\n\t\tthis.myBet = myBet;\r\n\t\tthis.myChips = myChips;\r\n\t\tthis.pot = pot;\r\n\t\tthis.maxChips = maxChips;\r\n\r\n\t\tthis.callValue = 0;\r\n\r\n\t\tthis.buttonQuaterDisable.node.active = false;\r\n\t\tthis.buttonHalfDisable.node.active = false;\r\n\t\tthis.buttonFullDisable.node.active = false;\t\t\r\n\r\n\t\tif ( this.turnBet != 0 && this.myChips < 0 ) {\r\n\t\t\tthis.buttonFold.node.active = false;\r\n\t\t\tthis.buttonAllIn.node.active = false;\r\n\r\n\t\t\tthis.buttonCheck.node.active = false;\r\n\t\t\tthis.buttonCall.node.active = true;\r\n\t\t\tthis.labelCallValue.string = '';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.buttonFold.node.active = true;\r\n\t\tif ( (this.turnBet == this.myBet) && ( hasAction == true ) ) {\r\n\t\t\tthis.buttonCheck.node.active = true;\r\n\t\t} else {\r\n\t\t\tthis.buttonCheck.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.callValue = this.turnBet - this.myBet;\r\n\r\n\t\tif ( this.callValue > 0 ) {\r\n\t\t\tthis.buttonCall.node.active = true;\r\n\t\t\tthis.isBet = false;\r\n\t\t} else {\r\n\t\t\tthis.buttonCall.node.active = false;\r\n\t\t\tthis.isBet = true;\r\n\t\t}\r\n\r\n\t\tif ( this.buttonCall.node.active == true ) {\r\n\t\t\tif ( this.callValue >= this.myChips ) {\r\n\t\t\t\tthis.buttonCall.node.active = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.labelCallValue.string = CommonUtil.getKoreanNumber( this.callValue );\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t\tif ( this.turnBet == 0 ) {\r\n\t\t\tthis.betStart = this.betMin;\r\n\t\t} else {\r\n\t\t\tthis.betStart = this.turnBet * 2;\r\n\t\t}\r\n\r\n\t\tthis.betRange = this.myChips;\r\n\r\n\t\tif ( this.turnBet != 0 && this.turnBet >= this.betRange ) {\r\n\t\t\tthis.buttonAllIn.node.active = true;\r\n\t\t} else {\r\n\t\t\tthis.buttonAllIn.node.active = false;\r\n\t\t}\r\n\r\n\t\tif ( this.buttonAllIn.node.active == true ) {\r\n\r\n\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t\tthis.buttonFull.node.active = false;\r\n\r\n\t\t\tthis.buttonQuaterDisable.node.active = false;\r\n\t\t\tthis.buttonHalfDisable.node.active = false;\r\n\t\t\tthis.buttonFullDisable.node.active = false;\r\n\r\n\t\t\tthis.buttonMax.node.active = false;\r\n\t\t\t\r\n\t\t} else {\r\n\r\n\t\t\tlet quater: number = 0;\r\n\t\t\tlet half: number = 0;\r\n\t\t\tlet full: number = 0;\r\n\t\t\tlet max: number = 0;\r\n\r\n\t\t\tlet currentPot = this.pot + this.callValue;\r\n\t\t\tquater = Math.floor( currentPot * 0.25 );\r\n\t\t\thalf = Math.floor( currentPot * 0.5 );\r\n\t\t\tfull = Math.floor( currentPot * 1.0 );\r\n\t\t\tmax = this.betRange;\r\n\r\n\t\t\tthis.quaterValue  = quater + this.callValue;\r\n\t\t\tthis.halfValue = half + this.callValue;\r\n\t\t\tthis.fullValue = full + this.callValue;\r\n\r\n\t\t\tthis.maxValue = this.maxChips;\r\n\r\n\t\t\tif ( this.isBet == true ) {\r\n\t\t\t\tthis.betType = ENUM_BETTING_TYPE.Bet;\r\n\t\t\t} else {\r\n\t\t\t\tthis.betType = ENUM_BETTING_TYPE.Raise;\r\n\t\t\t}\r\n\r\n\t\t\tthis.labelQuaterValue.string = CommonUtil.getKoreanNumber( this.quaterValue );\r\n\t\t\tthis.labelHalfValue.string = CommonUtil.getKoreanNumber( this.halfValue  );\r\n\t\t\tthis.labelFullValue.string = CommonUtil.getKoreanNumber( this.fullValue );\r\n\r\n\t\t\tthis.labelQuaterDisableValue.string = CommonUtil.getKoreanNumber( this.quaterValue );\r\n\t\t\tthis.labelHalfDisableValue.string = CommonUtil.getKoreanNumber( this.halfValue  );\r\n\t\t\tthis.labelFullDisableValue.string = CommonUtil.getKoreanNumber( this.fullValue );\r\n\r\n\t\t\tthis.labelMaxValue.string = CommonUtil.getKoreanNumber( this.maxValue - this.myBet );\r\n\r\n\t\t\tlet m = this.maxValue - this.myBet;\r\n\t\t\tif ( this.quaterValue > m ) {\r\n\t\t\t\tthis.labelQuaterValue.node.active = false;\r\n\t\t\t\tthis.buttonQuater.node.active = false;\r\n\r\n\t\t\t\tthis.labelQuaterDisableValue.node.active = true;\r\n\t\t\t\tthis.buttonQuaterDisable.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.labelQuaterValue.node.active = true;\r\n\t\t\t\tthis.buttonQuater.node.active = true;\r\n\r\n\t\t\t\tthis.labelQuaterDisableValue.node.active = false;\r\n\t\t\t\tthis.buttonQuaterDisable.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.halfValue > m ) {\r\n\t\t\t\tthis.labelHalfValue.node.active = false;\r\n\t\t\t\tthis.buttonHalf.node.active = false;\r\n\r\n\t\t\t\tthis.labelHalfDisableValue.node.active = true;\r\n\t\t\t\tthis.buttonHalfDisable.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.labelHalfValue.node.active = true;\r\n\t\t\t\tthis.buttonHalf.node.active = true;\r\n\r\n\t\t\t\tthis.labelHalfDisableValue.node.active = false;\r\n\t\t\t\tthis.buttonHalfDisable.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.fullValue > m ) {\r\n\t\t\t\tthis.labelFullValue.node.active = false;\r\n\t\t\t\tthis.buttonFull.node.active = false;\r\n\r\n\t\t\t\tthis.labelFullDisableValue.node.active = true;\r\n\t\t\t\tthis.buttonFullDisable.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.labelFullValue.node.active = true;\r\n\t\t\t\tthis.buttonFull.node.active = true;\r\n\r\n\t\t\t\tthis.labelFullDisableValue.node.active = false;\r\n\t\t\t\tthis.buttonFullDisable.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.labelMaxValue.node.active = true;\t\t\t\t\r\n\t\t\tthis.buttonMax.node.active = true;\r\n\r\n\t\t}\r\n\r\n\t\tif ( isLast == true ) {\r\n\r\n\t\t\tif (this.buttonCall.node.active == true) {\r\n\t\t\t\tthis.buttonAllIn.node.active = false;\r\n\r\n\t\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t\t\tthis.buttonFull.node.active = false;\r\n\r\n\t\t\t\tthis.buttonQuaterDisable.node.active = false;\r\n\t\t\t\tthis.buttonHalfDisable.node.active = false;\r\n\t\t\t\tthis.buttonFullDisable.node.active = false;\r\n\r\n\t\t\t\tthis.buttonMax.node.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( hasAction == false ) {\r\n\r\n\t\t\tif ( this.buttonCall.node.active == true ) {\r\n\t\t\t\tthis.buttonAllIn.node.active = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.node.active = true;\r\n\t}\r\n\r\n\thide() {\r\n\t\tthis.node.active = false;\r\n\t}    \r\n\r\n\tprivate onClickFold() {\r\n\t\tif( null == this.cbFold){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.cbFold();\r\n\t}\r\n\r\n\tprivate onClickCall() {\r\n\t\tlet sendValue = this.callValue;\r\n\t\tif ( sendValue > this.myChips ) {\r\n\t\t\tsendValue = this.myChips;\r\n\t\t}\r\n\r\n\t\tsendValue = sendValue + this.myBet;\r\n\t\tthis.cbCall( sendValue );\r\n\t}\r\n\r\n    private onClickAllin() {\r\n\t\tlet value = this.myChips + this.myBet;\r\n\t\tif ( this.buttonCall.node.active == false ) {\r\n\r\n\t\t\tthis.cbCall ( value );\r\n\r\n\t\t} else {\r\n\t\t\tthis.cbAllIn( value, this.callValue );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onClickCheck() {\r\n\t\tthis.cbCheck();\r\n\t}\r\n\r\n\tprivate onClickQuater( button: Button ) {\r\n\t\tlet value = this.quaterValue + this.myBet;\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.cbBet( value, this.callValue, ENUM_BET_SOUND.BET_QUATER );\r\n\t\t} else {\r\n\t\t\tthis.cbRaise( value, this.callValue, ENUM_BET_SOUND.BET_QUATER  );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onClickHalf( button: Button ) {\r\n\t\tlet value = this.halfValue + this.myBet;\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.cbBet( value, this.callValue, ENUM_BET_SOUND.BET_HALF );\r\n\t\t} else {\r\n\t\t\tthis.cbRaise( value, this.callValue, ENUM_BET_SOUND.BET_HALF );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onClickFull( button: Button ) {\r\n\t\tlet value = this.fullValue + this.myBet;\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.cbBet( this.fullValue, this.callValue, ENUM_BET_SOUND.BET_FULL  );\r\n\t\t}  else {\r\n\t\t\tthis.cbRaise( this.fullValue, this.callValue, ENUM_BET_SOUND.BET_FULL );\r\n\t\t}\r\n\r\n\t\t// AudioController.instance.PlaySound('VOICE_BETTING_FULL');\r\n\t}\r\n\r\n\tprivate onClickMax( button: Button ) {\r\n\t\tlet value = this.maxValue;\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.cbBet( value, this.callValue, ENUM_BET_SOUND.BET_MAX );\r\n\r\n\t\t} else {\r\n\t\t\tthis.cbRaise( value, this.callValue, ENUM_BET_SOUND.BET_MAX );\r\n\t\t}\r\n\r\n\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t}\r\n}","import { _decorator, Component, Node, Toggle, Label } from 'cc';\r\nimport { Board } from '../Board';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ENUM_RESERVATION_TYPE {\r\n    RESERVATION_NONE = 0,\r\n    RESERVATION_FOLD = 1,\r\n    RESERVATION_CHECK = 2,\r\n}\r\n\r\n@ccclass('UiPlayerActionReservation')\r\nexport class UiPlayerActionReservation extends Component {\r\n    @property(Toggle) toggleFoldReservation: Toggle = null;\r\n    @property(Toggle) toggleCheckReservation: Toggle = null;\r\n\r\n    private isOpen: boolean = false;\r\n    private reservationType: ENUM_RESERVATION_TYPE = ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n\r\n    init() {\r\n        this.reservationType = ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n        this.isOpen = false;\r\n\r\n        this.toggleFoldReservation.isChecked = false;\r\n        this.toggleCheckReservation.isChecked = false;\r\n\r\n        this.toggleFoldReservation.node.active = false;\r\n        this.toggleCheckReservation.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    show( myBet: number, turnBet: number ) {\r\n        this.toggleFoldReservation.node.active = true;\r\n\r\n        this.isOpen = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    reset( resetCheck: boolean = false) {\r\n        this.reservationType = ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n        this.isOpen = false;\r\n\r\n        this.toggleFoldReservation.isChecked = false;\r\n        this.toggleCheckReservation.isChecked = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    hide() {\r\n        this.isOpen = false;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public isOpenReservation(): boolean {\r\n        return this.isOpen;\r\n    }\r\n\r\n    public resetCheck() {\r\n        this.toggleFoldReservation.node.active = true;\r\n        this.toggleCheckReservation.node.active = true;\r\n    }\r\n\r\n    public showCheck( show: boolean ) {\r\n        this.toggleCheckReservation.node.active = show;\r\n    }\r\n\r\n    public checkReservation( myBet: number, turnBet: number ): ENUM_RESERVATION_TYPE {\r\n        if ( this.toggleCheckReservation.isChecked == false && this.toggleFoldReservation.isChecked == false ) {\r\n            return ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n        } else {\r\n            if ( this.toggleFoldReservation.isChecked == true ) {\r\n                return ENUM_RESERVATION_TYPE.RESERVATION_FOLD;\r\n            } else {\r\n                if ( myBet == turnBet ) {\r\n                    return ENUM_RESERVATION_TYPE.RESERVATION_CHECK;\r\n                }\r\n                else {\r\n                    return ENUM_RESERVATION_TYPE.RESERVATION_NONE;                    \r\n                }\r\n            }\r\n        }\r\n        return ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n    }\r\n\r\n    public getReservationType(): number {\r\n        return this.reservationType;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Toggle, instantiate, Label, Sprite, ToggleContainer, UITransform } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { TableListUiElement } from './UiTableList';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PlayerAvatarElement')\r\nexport class PlayerAvatarElement {\r\n    @property(Node) nodeRoot: Node = null;\r\n    @property(Toggle) toggle: Toggle = null;\r\n\r\n    private id: number = -1;\r\n    private cb: (num: number, toggle: Toggle)=>void = null;\r\n\r\n    public copy(): PlayerAvatarElement {\r\n        let copyObj: PlayerAvatarElement = new PlayerAvatarElement();\r\n        let newObj: Node = instantiate( this.nodeRoot );\r\n\r\n        copyObj.nodeRoot = newObj;\r\n        copyObj.toggle = newObj.getComponent(Toggle);\r\n\r\n        return copyObj;\r\n    }\r\n\r\n    public clear() {\r\n        this.id = -1;\r\n    }\r\n\r\n    public setParent(parent: Node) {\r\n        this.nodeRoot.parent = parent;\r\n    }\r\n\r\n    public setAvatar(currentId: number, id: number, cb:(num: number)=>void ) {\r\n        this.id = id;\r\n\r\n        if (cb != null) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        let s = this.nodeRoot.getComponent(Sprite);\r\n        if ( s != null) {\r\n            let sf = ResourceManager.Instance().getAvatarImage( id );\r\n            s.spriteFrame = sf;\r\n            this.nodeRoot.active = true;\r\n\r\n            // CommonUtil.setAvatarSprite( id, s, ()=>{\r\n            //     this.nodeRoot.active = true;\r\n            //     let t = this.nodeRoot.getComponent(UITransform);\r\n            // });\r\n        }\r\n\r\n        if ( currentId == id) {\r\n            this.toggle.isChecked = true;\r\n        } else {\r\n            this.toggle.isChecked = false;\r\n        }\r\n\r\n        this.toggle.node.on('toggle', this.onToggle.bind(this));\r\n    }\r\n\r\n    private onToggle(toggle: Toggle ) {\r\n        if ( this.cb != null ) {\r\n            if ( toggle.isChecked == true ) {\r\n                LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n                this.cb( this.id, toggle );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('UiPopupChangeAvatar')\r\nexport class UiPopupChangeAvatar extends Component {\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;\r\n    @property(PlayerAvatarElement) origin: PlayerAvatarElement = new PlayerAvatarElement();\r\n    @property(Node) contents: Node = null;\r\n\r\n    private userInfo: any = null;\r\n    private gameSetting: any = null;\r\n    private selectId: number = -1;\r\n    private currentId: number = -1;\r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbApply: (num: number)=>void = null;    \r\n\r\n    public init( cbExit: ()=>void, cbApply: (num: number)=>void ) {        \r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        if ( cbApply != null ) {\r\n            this.cbApply = cbApply;\r\n        }\r\n\r\n        this.buttonExit.node.on(\"click\", this.onClickExit.bind(this));\r\n        this.buttonApply.node.on('click', this.onClickApply.bind(this))\r\n        this.node.active = false;\r\n    }\r\n\r\n\r\n    public show() {\r\n        this.userInfo = NetworkManager.Instance().GetUser();\r\n        this.gameSetting = CommonUtil.getGameSetting();\r\n\r\n        this.currentId = this.userInfo.avatar;        \r\n        this.showAvatars( this.gameSetting.avatars ) ;\r\n        this.selectId = this.currentId;\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    private showAvatars( count ) {\r\n        if (count <= 0) {\r\n            return;\r\n        }\r\n\r\n        let container:ToggleContainer = this.contents.getComponent(ToggleContainer);\r\n        container.allowSwitchOff = true;        \r\n\r\n        for ( let i = 0 ; i < count ; i++) {\r\n            let e = this.origin.copy();\r\n            e.setAvatar( this.currentId, i, this.onClickToggle.bind(this) );\r\n            e.setParent( this.contents );\r\n        }\r\n\r\n        container.allowSwitchOff = false;\r\n    }\r\n\r\n    public hide() {\r\n\r\n        this.contents.removeAllChildren();\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickToggle(num: number, toggle: Toggle) {\r\n        this.selectId = num;\r\n    }\r\n\r\n    public onClickExit(button: Button) {\r\n        if ( this.cbExit != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n            this.cbExit();\r\n        }\r\n    }\r\n\r\n    public onClickApply( button: Button) {\r\n        if ( this.currentId != this.selectId ) {\r\n            if ( this.cbApply != null ) {\r\n                LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n                this.cbApply ( this.selectId );\r\n            }\r\n        }\r\n        else {\r\n            if ( this.cbExit != null ) {\r\n                LobbyAudioContoller.instance.PlayButtonClick();\r\n                this.cbExit();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Button, Component, Label, Node, Sprite } from 'cc';\nimport { CommonUtil } from '../CommonUtil';\nimport { ResourceManager } from '../ResourceManager';\nimport * as PokerEvaluator from '../PokerEvaluator';\nconst { ccclass, property } = _decorator;\n\nlet CARD_NAME: string[] = [\n\t\"Ac\", \"Kc\", \"Qc\", \"Jc\", \"Tc\", \"9c\", \"8c\", \"7c\", \"6c\", \"5c\", \n\t\"4c\", \"3c\", \"2c\", \"Ad\", \"Kd\", \"Qd\", \"Jd\", \"Td\", \"9d\", \"8d\", \n\t\"7d\", \"6d\", \"5d\", \"4d\", \"3d\", \"2d\",\t\"Ah\", \"Kh\", \"Qh\", \"Jh\", \n\t\"Th\", \"9h\", \"8h\", \"7h\", \"6h\", \"5h\", \"4h\", \"3h\", \"2h\", \"As\", \n\t\"Ks\", \"Qs\", \"Js\", \"Ts\", \"9s\", \"8s\", \"7s\", \"6s\", \"5s\", \"4s\",\n\t\"3s\", \"2s\" ];\n\n@ccclass('UiPopupGameProfile')\nexport class UiPopupGameProfile extends Component {\n    @property(Sprite) avatar: Sprite = null;\n    @property(Button) buttonExit: Button = null;\n    @property(Label) labeNickname: Label = null;\n\n    private rootInfo: Node = null;\n    private rootHands: Node = null;\n    private statics: any = null;\n    private entity: any = null;\n\n    private rootBalance: Node = null;\n    private rootPoint: Node = null;\n\n    private labelHandCount: Label = null;\n    private labelMaxPots: Label = null;\n    private labelWin: Label = null;\n    private labelFold: Label = null;\n    private labelWinPreflop: Label = null;\n    private labelWinFlop: Label = null;\n    private labelWinTurn: Label = null;\n    private labelWinRiver: Label = null;\n    private labelFoldPreflop: Label = null;\n    private labelFoldFlop: Label = null;\n    private labelFoldTurn: Label = null;\n    private labelFoldRiver: Label = null;\n    private labelHandRankDesc: Label = null;\n\n    private labelBalance: Label = null;\n    private labelPoint: Label = null;\n    \n    private cards: Sprite[] = [];\n    private isMe: Boolean = false;\n    \n    public init() {        \n        this.statics = null;\n\n        globalThis.lib = {};\n        PokerEvaluator.exportToGlobal(globalThis.lib);\n\n        this.RegisterChildren();\n        this.InitCards();        \n\n        this.buttonExit.node.on('click', this.onClickExit.bind(this), this);\n        this.node.active = false;\n    }\n\n    public show( entity: any, statics: any, isMe: boolean = false ) {\n\n        this.node.active = true;\n        this.avatar.node.active = false;\n        this.rootInfo.active = true;\n        this.entity = entity;\n        this.statics = statics;\n        this.isMe = isMe;\n\n        this.SetProfile();\n    }\n\n    public GetActivate() :boolean {\n        return this.node.active;\n    }\n\n    private SetProfile() {\n        this.labeNickname.string = this.entity.nickname;\n        this.labeNickname.node.active = true;\n\n        this.avatar.spriteFrame = ResourceManager.Instance().getAvatarImage( this.entity.avatar );\n        this.avatar.node.active = true;\n\n        if ( this.isMe == true ) {\n            if ( this.rootBalance != null ) {\n                if ( this.labelBalance != null ) {\n                    console.log('this.labelBalance != null');\n                    this.labelBalance.string = CommonUtil.getKoreanNumber( this.entity.balance );\n                    this.labelBalance.node.active = true;\n                }\n                this.rootBalance.active = true;\n            }\n\n            if ( this.rootPoint != null ) {\n                this.rootPoint.active = false;\n            }\n\n        } else {\n            if ( this.rootBalance != null ) {\n                this.rootBalance.active = false;\n            }\n\n            if ( this.rootPoint != null ) {\n                this.rootPoint.active = false;\n            }\n\n        }\n\n        let hands = this.statics.hands;\n        this.labelHandCount.string = hands.toString();\n\n        let maxPots = CommonUtil.getKoreanNumber(this.statics.maxPots);\n        this.labelMaxPots.string = maxPots;\n\n        let win = this.statics.win;\n        this.labelWin.string = win.toString() + '  (' + ( win / hands * 100.0 ).toFixed(1) +  '%)';\n        if ( win == 0 || win == undefined ) {\n            this.labelWinPreflop.string =   (0).toString() + ' (0%)';\n            this.labelWinFlop.string =      (0).toString() + ' (0%)';\n            this.labelWinTurn.string =      (0).toString() + ' (0%)';\n            this.labelWinRiver.string =     (0).toString() + ' (0%)';\n        } else {\n            let winPreflop = this.statics.win_preflop;\n            let winFlop = this.statics.win_flop;\n            let winTurn = this.statics.win_turn;\n            let winRiver = this.statics.win_river;\n    \n            this.labelWinPreflop.string = winPreflop.toString() + '  (' + ( winPreflop / win * 100.0 ).toFixed(1) +  '%)';\n            this.labelWinFlop.string = winFlop.toString() + '  (' + ( winFlop / win * 100.0 ).toFixed(1) +  '%)';\n            this.labelWinTurn.string = winTurn.toString() + '  (' + ( winTurn / win * 100.0 ).toFixed(1) +  '%)';\n            this.labelWinRiver.string = winRiver.toString() + '  (' + ( winRiver / win * 100.0 ).toFixed(1) +  '%)';\n        }\n\n        let fold = this.statics.fold;\n        if ( fold == 0 || fold == undefined ) {\n            this.labelFold.string =         (0).toString() + ' (0%)';\n            this.labelFoldPreflop.string =   (0).toString() + ' (0%)';\n            this.labelFoldFlop.string =      (0).toString() + ' (0%)';\n            this.labelFoldTurn.string =      (0).toString() + ' (0%)';\n            this.labelFoldRiver.string =     (0).toString() + ' (0%)';            \n        } else {\n\n            let foldPreflop = this.statics.fold_preflop;\n            let foldFlop = this.statics.fold_flop;\n            let foldTurn = this.statics.fold_turn;\n            let foldRiver = this.statics.fold_river;\n\n            this.labelFold.string = fold.toString() + '  (' + ( fold / hands * 100.0 ).toFixed(1) +  '%)';            \n            this.labelFoldPreflop.string = foldPreflop.toString() + '  (' + ( foldPreflop / fold * 100.0 ).toFixed(1) +  '%)';            \n            this.labelFoldFlop.string = foldFlop.toString() + '  (' + ( foldFlop / fold * 100.0 ).toFixed(1) +  '%)';\n            this.labelFoldTurn.string = foldTurn.toString() + '  (' + ( foldTurn / fold * 100.0 ).toFixed(1) +  '%)';\n            this.labelFoldRiver.string = foldRiver.toString() + '  (' + ( foldRiver / fold * 100.0 ).toFixed(1) +  '%)';\n        }\n\n        this.SetHandRank();\n\n        this.rootInfo.active = true;\n        this.node.active = true;\n    }\n\n    public hide() {\n        this.node.active = false;\n    }\n\n    private SetHandRank() {\n        let hands = this.statics.best_hands;\n        hands = hands.trim();\n        if ( hands == null || hands.length <= 0 ) {\n            this.ResetCards();\n            this.labelHandRankDesc.string = '등록된 핸드가 없습니다.';\n\n        } else {\n\n            let h = hands.split(',');\n            let evaluate: any = this.GetHandsEval(h);\n            let pools: number[] = [];\n\n            evaluate['cards'].forEach( (elem)=>{\n                let name = elem.value + elem.suit;\n                let num = this.ConvertCardNameToIndex( name );\n                pools.push( num );\n            });\n\n            this.SetCards( pools );\n            this.labelHandRankDesc.string = evaluate.descr;\n        }\n        this.labelHandRankDesc.node.active = true;\n        this.rootHands.active = true;\n    }\n\n    private ConvertCardNameToIndex( name: string ): number {\n\t\tlet n: number = -1;\n\t\tfor ( let i: number = 0 ; i < CARD_NAME.length; i++ ) {\n\t\t\tif ( name == CARD_NAME[i] ) {\n\t\t\t\tn = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn n;\n\t}\n\n    private onClickExit(button: Button) {\n        this.hide();\n    }\n\n    private InitCards() {\n        this.cards = [];\n        if ( this.rootInfo != null ) {\n            this.rootHands = this.rootInfo.getChildByPath('BEST_HANDS');\n\n            for ( let i: number = 0 ; i < 5 ; i++ ) {\n                let s = this.rootHands.getChildByPath(i.toString()).getComponent( Sprite );\n                if ( s != null ) {\n                    this.cards.push( s );\n                }\n\n            }\n\n            this.ResetCards();\n\n            this.labelHandRankDesc = this.rootHands.getChildByPath('LABEL_HAND_RANK').getComponent(Label);\n            if ( this.labelHandRankDesc != null ) {\n                this.labelHandRankDesc.string = '';\n                this.labelHandRankDesc.node.active = false;\n            }\n        }\n\n        this.rootHands.active = false;\n    }\n\n    private ResetCards() {\n        this.cards.forEach( (s)=>{\n            s.node.active = false;\n            CommonUtil.setCardSprite(0, 0, s, ()=>{\n                s.node.active = true;\n            });\n\n        });\n    }\n\n    private SetCards( pools: number[] ) {\n        for ( let i: number = 0 ; i < pools.length; i++ )\n        {\n            let s = this.cards[i];\n            s.node.active = false;\n            CommonUtil.setCardSprite( 0, pools[i] + 1, s, ()=>{\n                s.node.active = true;\n            })\n        }\n    }\n\n    public GetHandsEval( cards: string[] ): string {\n        if ( cards.length <= 5 ) {\n            return null;\n        }\n\n\t\tlet rs = cards.join();\n\t\tlet handRank = globalThis.lib[ \"Hand\" ].solve( rs.split( \",\" ) );\n\t\treturn handRank;\n\t}\n\n    private RegisterChildren() {\n        this.rootInfo = this.node.getChildByPath('INFO_PANEL');\n        if ( this.rootInfo != null ) {\n            this.labelHandCount = this.rootInfo.getChildByPath('VALUE/HAND_COUNT').getComponent(Label);\n            this.labelHandCount.string = '0';\n\n            this.labelMaxPots = this.rootInfo.getChildByPath('VALUE/MAX_POT').getComponent(Label);\n            this.labelMaxPots.string = '0';\n\n            this.labelWin = this.rootInfo.getChildByPath('VALUE/WIN').getComponent(Label);\n            this.labelWin.string = '0';\n\n            this.labelFold = this.rootInfo.getChildByPath('VALUE/FOLD').getComponent(Label);\n            this.labelFold.string = '0';\n\n            this.labelWinPreflop = this.rootInfo.getChildByPath('VALUE/WIN_PREFLOP').getComponent(Label);\n            this.labelWinPreflop.string = '0';\n\n            this.labelWinFlop = this.rootInfo.getChildByPath('VALUE/WIN_FLOP').getComponent(Label);\n            this.labelWinFlop.string = '0';\n\n            this.labelWinTurn = this.rootInfo.getChildByPath('VALUE/WIN_TURN').getComponent(Label);\n            this.labelWinTurn.string = '0';\n\n            this.labelWinRiver = this.rootInfo.getChildByPath('VALUE/WIN_RIVER').getComponent(Label);\n            this.labelWinRiver.string = '0';\n\n            this.labelFoldPreflop = this.rootInfo.getChildByPath('VALUE/FOLD_PREFLOP').getComponent(Label);\n            this.labelFoldPreflop.string = '0';\n\n            this.labelFoldFlop = this.rootInfo.getChildByPath('VALUE/FOLD_FLOP').getComponent(Label);\n            this.labelFoldFlop.string = '0';\n\n            this.labelFoldTurn = this.rootInfo.getChildByPath('VALUE/FOLD_TURN').getComponent(Label);\n            this.labelFoldTurn.string = '0';\n\n            this.labelFoldRiver = this.rootInfo.getChildByPath('VALUE/FOLD_RIVER').getComponent(Label);\n            this.labelFoldRiver.string = '0';\n            \n            this.rootInfo.active = false;\n        }\n\n        this.rootBalance = this.node.getChildByPath('CHIPS');\n        if ( this.rootBalance != null ) {\n            this.labelBalance = this.rootBalance.getChildByPath('LABEL_CHIPS').getComponent(Label);\n            this.labelBalance.string = '0';\n            this.rootBalance.active = false;\n        }\n\n        this.rootPoint = this.node.getChildByPath('POINTS');\n        if ( this.rootPoint != null ) {\n            this.labelPoint = this.rootPoint.getChildByPath('LABEL_POINTS').getComponent(Label);\n            this.labelPoint.string = '0';\n            this.rootPoint.active = false;            \n        }\n    }\n}\n\n","import { _decorator, Component, Node, Button, Sprite, Label } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport * as PokerEvaluator from '../PokerEvaluator';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nlet CARD_NAME: string[] = [\r\n\t\"Ac\", \"Kc\", \"Qc\", \"Jc\", \"Tc\", \"9c\", \"8c\", \"7c\", \"6c\", \"5c\", \r\n\t\"4c\", \"3c\", \"2c\", \"Ad\", \"Kd\", \"Qd\", \"Jd\", \"Td\", \"9d\", \"8d\", \r\n\t\"7d\", \"6d\", \"5d\", \"4d\", \"3d\", \"2d\",\t\"Ah\", \"Kh\", \"Qh\", \"Jh\", \r\n\t\"Th\", \"9h\", \"8h\", \"7h\", \"6h\", \"5h\", \"4h\", \"3h\", \"2h\", \"As\", \r\n\t\"Ks\", \"Qs\", \"Js\", \"Ts\", \"9s\", \"8s\", \"7s\", \"6s\", \"5s\", \"4s\",\r\n\t\"3s\", \"2s\" ];\r\n\r\n@ccclass('UiPopupProfile')\r\nexport class UiPopupProfile extends Component {\r\n    @property(Sprite) avatar: Sprite = null;\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonChangeAvatar: Button = null;\r\n    \r\n    @property(Label) labeNickname: Label = null;\r\n    @property(Label) labelChips: Label = null;\r\n    @property(Label) labelPoints: Label = null;\r\n    @property(Label) labelRanking: Label = null;\r\n\r\n    private rootInfo: Node = null;\r\n    private rootHands: Node = null;\r\n    private statics: any = null;\r\n\r\n    private labelHandCount: Label = null;\r\n    private labelMaxPots: Label = null;\r\n    private labelWin: Label = null;\r\n    private labelFold: Label = null;\r\n    private labelWinPreflop: Label = null;\r\n    private labelWinFlop: Label = null;\r\n    private labelWinTurn: Label = null;\r\n    private labelWinRiver: Label = null;\r\n    private labelFoldPreflop: Label = null;\r\n    private labelFoldFlop: Label = null;\r\n    private labelFoldTurn: Label = null;\r\n    private labelFoldRiver: Label = null;\r\n    private labelHandRankDesc: Label = null;    \r\n    private cards: Sprite[] = [];\r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbChangeAvatar: ()=>void = null;\r\n    \r\n    public init( cbExit: ()=>void, cbChangeAvatar: ()=>void ) {        \r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        if ( cbChangeAvatar != null ) {\r\n            this.cbChangeAvatar = cbChangeAvatar;\r\n        }\r\n\r\n        globalThis.lib = {};\r\n        PokerEvaluator.exportToGlobal(globalThis.lib);\r\n\r\n        this.labeNickname.string = '';\r\n        this.labelChips.string = '';\r\n        this.labelPoints.string = '';\r\n        this.labelRanking.string = '';\r\n        this.statics = null;\r\n\r\n        this.RegisterChildren();\r\n        this.InitCards();        \r\n\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this), this);\r\n        this.buttonChangeAvatar.node.on('click', this.onClickChangeAvatar.bind(this), this);\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show() {\r\n        this.node.active = true;\r\n        this.avatar.node.active = false;\r\n        this.rootInfo.active = true;\r\n\r\n        this.refresh();\r\n    }\r\n\r\n    public refresh() {\r\n        let info = NetworkManager.Instance().GetUser();\r\n\r\n        this.labeNickname.string = info.nickname;\r\n        this.labeNickname.node.active = true;\r\n        this.labelChips.string = CommonUtil.getKoreanNumber(info.balance);\r\n        this.labelPoints.string = CommonUtil.getKoreanNumber(info.point );\r\n        this.avatar.spriteFrame = ResourceManager.Instance().getAvatarImage(info.avatar);\r\n        this.avatar.node.active = true;\r\n        this.statics = null;\r\n\r\n        NetworkManager.Instance().getSTATICS( info.id, ( res )=>{\r\n            this.SetInformation( res );\r\n        }, ( msg )=>{\r\n\r\n        });\r\n    }\r\n\r\n    public hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private SetInformation( res: any ) {\r\n        this.statics = res.statics;\r\n\r\n        let hands = this.statics.hands;\r\n        this.labelHandCount.string = hands.toString();\r\n\r\n        let maxPots = CommonUtil.getKoreanNumber(this.statics.maxPots);\r\n        this.labelMaxPots.string = maxPots;\r\n\r\n        let win = this.statics.win;\r\n\r\n        if ( win == 0 || win == undefined ) {\r\n            this.labelWin.string =          (0).toString() + ' (0%)';         \r\n            this.labelWinPreflop.string =   (0).toString() + ' (0%)';\r\n            this.labelWinFlop.string =      (0).toString() + ' (0%)';\r\n            this.labelWinTurn.string =      (0).toString() + ' (0%)';\r\n            this.labelWinRiver.string =     (0).toString() + ' (0%)';\r\n        } else {\r\n            let winPreflop = this.statics.win_preflop;\r\n            let winFlop = this.statics.win_flop;\r\n            let winTurn = this.statics.win_turn;\r\n            let winRiver = this.statics.win_river;\r\n\r\n            this.labelWin.string = win.toString() + '  (' + ( win / hands * 100.0 ).toFixed(1) +  '%)';    \r\n            this.labelWinPreflop.string = winPreflop.toString() + '  (' + ( winPreflop / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinFlop.string = winFlop.toString() + '  (' + ( winFlop / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinTurn.string = winTurn.toString() + '  (' + ( winTurn / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinRiver.string = winRiver.toString() + '  (' + ( winRiver / win * 100.0 ).toFixed(1) +  '%)';\r\n        }\r\n\r\n        let fold = this.statics.fold;\r\n        if ( fold == 0 || fold == undefined ) {\r\n            this.labelFold.string =         (0).toString() + ' (0%)';\r\n            this.labelFoldPreflop.string =   (0).toString() + ' (0%)';\r\n            this.labelFoldFlop.string =      (0).toString() + ' (0%)';\r\n            this.labelFoldTurn.string =      (0).toString() + ' (0%)';\r\n            this.labelFoldRiver.string =     (0).toString() + ' (0%)';            \r\n        } else {\r\n\r\n            let foldPreflop = this.statics.fold_preflop;\r\n            let foldFlop = this.statics.fold_flop;\r\n            let foldTurn = this.statics.fold_turn;\r\n            let foldRiver = this.statics.fold_river;\r\n\r\n            this.labelFold.string = fold.toString() + '  (' + ( fold / hands * 100.0 ).toFixed(1) +  '%)';            \r\n            this.labelFoldPreflop.string = foldPreflop.toString() + '  (' + ( foldPreflop / fold * 100.0 ).toFixed(1) +  '%)';            \r\n            this.labelFoldFlop.string = foldFlop.toString() + '  (' + ( foldFlop / fold * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelFoldTurn.string = foldTurn.toString() + '  (' + ( foldTurn / fold * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelFoldRiver.string = foldRiver.toString() + '  (' + ( foldRiver / fold * 100.0 ).toFixed(1) +  '%)';\r\n        }\r\n\r\n        this.SetHandRank();\r\n\r\n        this.rootInfo.active = true;\r\n        this.node.active = true;            \r\n    }\r\n\r\n    private SetHandRank() {\r\n        let hands = this.statics.best_hands;\r\n        hands = hands.trim();\r\n\r\n        if ( hands == null || hands.length <= 0 ) {\r\n            this.ResetCards();\r\n            this.labelHandRankDesc.string = '등록된 핸드가 없습니다.';\r\n\r\n        } else {\r\n\r\n            let h = hands.split(',');\r\n            let evaluate: any = this.GetHandsEval(h);\r\n            let pools: number[] = [];\r\n\r\n            evaluate['cards'].forEach( (elem)=>{\r\n                if ( elem.value == '1' ) {\r\n                    elem.value = 'A';\r\n                }\r\n                \r\n                let name = elem.value + elem.suit;\r\n                let num = this.ConvertCardNameToIndex( name );\r\n                pools.push( num );\r\n            });\r\n\r\n            this.SetCards( pools );\r\n            this.labelHandRankDesc.string = evaluate.descr;\r\n        }\r\n        this.labelHandRankDesc.node.active = true;\r\n        this.rootHands.active = true;\r\n    }\r\n\r\n    private ConvertCardNameToIndex( name: string ): number {\r\n\t\tlet n: number = -1;\r\n\t\tfor ( let i: number = 0 ; i < CARD_NAME.length; i++ ) {\r\n\t\t\tif ( name == CARD_NAME[i] ) {\r\n\t\t\t\tn = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n    private onClickExit(button: Button) {\r\n        if ( this.cbExit != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n            this.cbExit();\r\n        }\r\n    }\r\n\r\n    private onClickChangeAvatar( button: Button ) {\r\n        if ( this.cbChangeAvatar != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n                        \r\n            this.cbChangeAvatar();\r\n        }\r\n    }\r\n\r\n    private InitCards() {\r\n        this.cards = [];\r\n        if ( this.rootInfo != null ) {\r\n            this.rootHands = this.rootInfo.getChildByPath('BEST_HANDS');\r\n\r\n            for ( let i: number = 0 ; i < 5 ; i++ ) {\r\n                let s = this.rootHands.getChildByPath(i.toString()).getComponent( Sprite );\r\n                if ( s != null ) {\r\n                    this.cards.push( s );\r\n                }\r\n\r\n            }\r\n\r\n            this.ResetCards();\r\n\r\n            this.labelHandRankDesc = this.rootHands.getChildByPath('LABEL_HAND_RANK').getComponent(Label);\r\n            if ( this.labelHandRankDesc != null ) {\r\n                this.labelHandRankDesc.string = '';\r\n                this.labelHandRankDesc.node.active = false;\r\n            }\r\n        }\r\n\r\n        this.rootHands.active = false;\r\n    }\r\n\r\n    private ResetCards() {\r\n        this.cards.forEach( (s)=>{\r\n            s.node.active = false;\r\n            CommonUtil.setCardSprite(0, 0, s, ()=>{\r\n                s.node.active = true;\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    private SetCards( pools: number[] ) {\r\n        for ( let i: number = 0 ; i < pools.length; i++ )\r\n        {\r\n            let s = this.cards[i];\r\n            s.node.active = false;\r\n            CommonUtil.setCardSprite( 0, pools[i] + 1, s, ()=>{\r\n                s.node.active = true;\r\n            })\r\n        }\r\n    }\r\n\r\n    public GetHandsEval( cards: string[] ): string {\r\n        if ( cards.length <= 5 ) {\r\n            return null;\r\n        }\r\n\r\n\t\tlet rs = cards.join();\r\n\t\tlet handRank = globalThis.lib[ \"Hand\" ].solve( rs.split( \",\" ) );\r\n\t\treturn handRank;\r\n\t}\r\n\r\n    private RegisterChildren() {\r\n        this.rootInfo = this.node.getChildByPath('INFO_PANEL');\r\n        if ( this.rootInfo != null ) {\r\n            this.labelHandCount = this.rootInfo.getChildByPath('VALUE/HAND_COUNT').getComponent(Label);\r\n            this.labelHandCount.string = '0';\r\n\r\n            this.labelMaxPots = this.rootInfo.getChildByPath('VALUE/MAX_POT').getComponent(Label);\r\n            this.labelMaxPots.string = '0';\r\n\r\n            this.labelWin = this.rootInfo.getChildByPath('VALUE/WIN').getComponent(Label);\r\n            this.labelWin.string = '0';\r\n\r\n            this.labelFold = this.rootInfo.getChildByPath('VALUE/FOLD').getComponent(Label);\r\n            this.labelFold.string = '0';\r\n\r\n            this.labelWinPreflop = this.rootInfo.getChildByPath('VALUE/WIN_PREFLOP').getComponent(Label);\r\n            this.labelWinPreflop.string = '0';\r\n\r\n            this.labelWinFlop = this.rootInfo.getChildByPath('VALUE/WIN_FLOP').getComponent(Label);\r\n            this.labelWinFlop.string = '0';\r\n\r\n            this.labelWinTurn = this.rootInfo.getChildByPath('VALUE/WIN_TURN').getComponent(Label);\r\n            this.labelWinTurn.string = '0';\r\n\r\n            this.labelWinRiver = this.rootInfo.getChildByPath('VALUE/WIN_RIVER').getComponent(Label);\r\n            this.labelWinRiver.string = '0';\r\n\r\n            this.labelFoldPreflop = this.rootInfo.getChildByPath('VALUE/FOLD_PREFLOP').getComponent(Label);\r\n            this.labelFoldPreflop.string = '0';\r\n\r\n            this.labelFoldFlop = this.rootInfo.getChildByPath('VALUE/FOLD_FLOP').getComponent(Label);\r\n            this.labelFoldFlop.string = '0';\r\n\r\n            this.labelFoldTurn = this.rootInfo.getChildByPath('VALUE/FOLD_TURN').getComponent(Label);\r\n            this.labelFoldTurn.string = '0';\r\n\r\n            this.labelFoldRiver = this.rootInfo.getChildByPath('VALUE/FOLD_RIVER').getComponent(Label);\r\n            this.labelFoldRiver.string = '0';\r\n    \r\n            this.rootInfo.active = false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Toggle, ToggleContainer, Slider, Label, EventHandler } from 'cc';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { VOLUMNE_MULTIPLIER } from '../HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiPopupSetting')\r\nexport class UiPopupSetting extends Component {\r\n    @property(ToggleContainer) togglesCard: ToggleContainer = null;\r\n    @property(ToggleContainer) togglesTable: ToggleContainer = null;\r\n    @property(ToggleContainer) togglesBackground: ToggleContainer = null;\r\n    @property(Slider) sliderVolumn: Slider = null;\r\n    @property(Label) labelVolumn: Label = null;    \r\n\r\n    private selectCard: number = 0;\r\n    private selectTable: number = 0;\r\n    private selectBackground: number = 0;\r\n\r\n    private initSetting: boolean = false;\r\n    private volumn: number = 0;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;    \r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbApply: ( selected: any )=>void = null;    \r\n\r\n    public init( cbExit: ()=>void , cbApply: (selected: any )=>void ){\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        if ( cbApply != null ) {\r\n            this.cbApply = cbApply;\r\n        }\r\n\r\n        this.initSetting = false;\r\n\r\n        this.togglesCard.toggleItems.forEach( (e)=>{\r\n            e.node.on('toggle', this.onToggleCardsChanged.bind(this) );            \r\n        } );\r\n\r\n        this.togglesTable.toggleItems.forEach( (e)=>{\r\n            e.node.on('toggle', this.onToggleTablesChanged.bind(this) );            \r\n        } );\r\n\r\n        this.togglesBackground.toggleItems.forEach( (e)=>{\r\n            e.node.on('toggle', this.onToggleBackgroundChanged.bind(this) );            \r\n        } );\r\n\r\n        const sliderEventHandler = new EventHandler();\r\n        sliderEventHandler.target = this.node;\r\n        sliderEventHandler.component = 'UiPopupSetting';\r\n        sliderEventHandler.handler = 'onSliderChangeVolumn';\r\n        sliderEventHandler.customEventData = '???'\r\n        this.sliderVolumn.slideEvents.push( sliderEventHandler );\r\n\r\n        this.labelVolumn.string = '';\r\n\r\n        this.buttonExit.node.on(\"click\", this.onClickExit.bind(this));\r\n        this.buttonApply.node.on('click', this.onClickApply.bind(this));\r\n    \r\n        this.selectCard = 0;\r\n        this.selectTable = 0;\r\n        this.selectBackground = 0;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    onSliderChangeVolumn( slider: Slider ) {\r\n        this.volumn = Math.floor( slider.progress * VOLUMNE_MULTIPLIER );\r\n        this.labelVolumn.string = this.volumn.toString();\r\n    }\r\n\r\n    private onToggleCardsChanged( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        if ( this.initSetting == true ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        for ( let index = 0; index < this.togglesCard.toggleItems.length; index++ ) {\r\n            if ( this.togglesCard.toggleItems[index].isChecked == true ) {\r\n\r\n                this.selectCard = index;\r\n            }\r\n        }\r\n    }\r\n\r\n    private onToggleBackgroundChanged( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        if ( this.initSetting == true ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        for ( let index = 0; index < this.togglesBackground.toggleItems.length; index++ ) {\r\n            if ( this.togglesBackground.toggleItems[index].isChecked == true ) {\r\n                this.selectBackground = index;\r\n            }\r\n        }\r\n    }\r\n\r\n    private onToggleTablesChanged( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        if ( this.initSetting == true ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        for ( let index = 0; index < this.togglesTable.toggleItems.length; index++ ) {\r\n            if ( this.togglesTable.toggleItems[index].isChecked == true ) {\r\n                this.selectTable = index;\r\n            }\r\n        }\r\n    }\r\n\r\n    public show() {\r\n        let info = NetworkManager.Instance().GetUser();\r\n        if ( info != null ) {\r\n\r\n            NetworkManager.Instance().getSETTING( info.id, (res)=>{\r\n                this.initSetting = false;\r\n    \r\n                let setting = res.setting;\r\n    \r\n                this.node.active = true;\r\n                this.togglesCard.toggleItems[ setting.card ].isChecked = true;\r\n                this.togglesTable.toggleItems[ setting.board ].isChecked = true;\r\n                this.togglesBackground.toggleItems[ setting.background ].isChecked = true;\r\n    \r\n                this.selectCard = setting.card;\r\n                this.selectTable = setting.board;\r\n                this.selectBackground = setting.background;\r\n    \r\n                this.volumn = setting.sound;\r\n                this.labelVolumn.string = ( this.volumn ).toString();\r\n                this.sliderVolumn.progress = ( this.volumn / VOLUMNE_MULTIPLIER);\r\n    \r\n                this.initSetting = true;\r\n                \r\n            }, (err)=>{\r\n                LobbySystemPopup.instance.showPopUpOk('설정', '설정을 얻어올 수 없습니다.', ()=>{\r\n                    LobbySystemPopup.instance.closePopup();\r\n                });\r\n            });            \r\n\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        this.initSetting = false;        \r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickExit( button: Button ) {\r\n        if ( this.cbExit != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n            this.cbExit();\r\n        }\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickApply( button: Button ) {\r\n\r\n        if ( this.cbApply != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n            this.cbApply( {\r\n                sound: this.volumn,\r\n                card: this.selectCard,\r\n                table: this.selectTable,\r\n                background: this.selectBackground\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label } from 'cc';\r\nimport { CommonUtil } from './CommonUtil';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"Pot\")\r\nexport class Pot{\r\n    @property(Node) public showRoot : Node = null;\r\n    @property(Label) public valueLabel : Label = null;\r\n\r\n    public ClearCallback(){\r\n        // this.showRoot.off(Node.EventType.TOUCH_START);\r\n        // this.showRoot.off(Node.EventType.TOUCH_END);\r\n        // this.showRoot.off(Node.EventType.TOUCH_CANCEL);\r\n    }\r\n}\r\n\r\n@ccclass('UiPot')\r\nexport class UiPot extends Component {\r\n    @property(Label) public labelMaxPot : Label = null;\r\n    @property(Label) public labelPotCount : Label = null;\r\n\r\n    @property(Node) public maxPotRoot : Node = null;\r\n    @property(Node) public potCountRoot : Node = null;\r\n\r\n    @property(Pot) private potUi : Pot[] = [];\r\n\r\n    public svPots : any[] = null;\r\n    public potCount: number = 0;\r\n\r\n    private selectedPot : number = -1;\r\n    private potInfoTimeout : number = null;\r\n\r\n    onLoad() {\r\n    }\r\n\r\n    public Show( pots : any[])\r\n    {\r\n        if(null === pots || undefined === pots)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if(pots.length < 1)\r\n        {\r\n            return;\r\n        }\r\n\r\n        let shown : any[] = [];\r\n\r\n        pots.sort((a :any, b : any) => {\r\n            if(a.players.length > b.players.length)\r\n            {\r\n                return -1;\r\n            }\r\n            else\r\n            {\r\n                return 1;\r\n            }\r\n        });\r\n\r\n        pots.forEach(element => {\r\n            if(element.players.length <= 1){\r\n                return;\r\n            }\r\n\r\n            shown.push(element);\r\n        });\r\n\r\n        this.SetPotCount(shown.length);\r\n        \r\n        this.svPots = pots;\r\n\r\n        for (let i = 0; i < this.potUi.length; i++) {\r\n            const sidePot = this.potUi[i];\r\n            sidePot.ClearCallback();\r\n            \r\n            if(i >= shown.length){\r\n                sidePot.showRoot.active = false;\r\n                continue;\r\n            }\r\n\r\n            const potInfo = shown[i];\r\n\r\n            sidePot.valueLabel.string = CommonUtil.getKoreanNumber( potInfo.total );\r\n            sidePot.showRoot.active = true;\r\n\r\n            if(null == potInfo.rake){\r\n                continue;\r\n            }\r\n        }\r\n    }\r\n\r\n    public UpdatePotTotal(totalValue : number){\r\n        this.labelMaxPot.node.active = true;\r\n        this.labelMaxPot.string = CommonUtil.getKoreanNumber(totalValue);\r\n    }\r\n\r\n    public GetPots() : Pot[]{\r\n        return this.potUi;\r\n    }\r\n\r\n    public SetPotCount(count: number) {\r\n        if (count > 1) {\r\n            this.potCountRoot.active = true;\r\n            this.labelPotCount.string = count.toString();\r\n        } else {\r\n            this.potCountRoot.active = false;\r\n        }\r\n    }\r\n    \r\n    public ClearPotCount() {\r\n        this.potCountRoot.active = false;\r\n        this.labelPotCount.string = \"\";\r\n    }\r\n    \r\n    public Hide(){\r\n        this.potUi.forEach(element => {\r\n            element.valueLabel.string = \"0\";\r\n            element.showRoot.active = false;\r\n        });\r\n\r\n        this.ClearPotCount();\r\n\r\n        this.svPots = null;\r\n        this.maxPotRoot.active = false;\r\n        this.labelMaxPot.node.active = false;\r\n        this.labelMaxPot.string =  \"0\";//totalValue.toLocaleString().split( \".\" )[ 0 ];\r\n    }\r\n    \r\n    public HidePotInfo(){\r\n\r\n        if(this.potInfoTimeout != null){\r\n            clearTimeout(this.potInfoTimeout);\r\n            this.potInfoTimeout = null;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, SpriteFrame, Vec3, UITransform, tween, Tween, UIOpacity } from 'cc';\r\nimport { Board } from '../Board';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiPotChips')\r\nexport class UiPotChips extends Component {\r\n    @property(Node) digits: Node[] = [];\r\n\r\n    private sprites: any[] = [];\r\n    private value: number = 0;\r\n    private numbers: any[] = [];\r\n    private vecOriginal: Vec3 = null;\r\n\r\n    init() {\r\n        for ( let i: number = 0 ; i < this.digits.length ; i++ ) {\r\n            let ss: Sprite[] = [];\r\n            for ( let j: number = 0 ; j < 9 ; j++ ) {\r\n                let s: Sprite = this.digits[i].getChildByPath( (j + 1).toString() ).getComponent( Sprite );\r\n                if ( s != null ) {\r\n                    ss.push(s);\r\n                }\r\n            }\r\n            this.sprites.push( ss );\r\n            this.digits[i].active = false;\r\n        }\r\n\r\n        this.vecOriginal = new Vec3( this.node.position.x, this.node.position.y, this.node.position.z );\r\n        this.node.active = false;\r\n    }\r\n\r\n    show(num: number) {\r\n        this.value = num;\r\n\r\n        if ( num > 0) {\r\n            this.setNumbers();\r\n            this.setDigits();    \r\n        }\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    private setNumbers() {\r\n        this.numbers = [];\r\n        let s: string = this.value.toString();\r\n        let cnt: number = 0;\r\n\r\n        for ( let i = 0 ; i < s.length ; i++ ) {\r\n            let n: number = parseInt( s[i] );\r\n            this.numbers.push( {\r\n                number: n,\r\n                digit: s.length - i,\r\n            });\r\n\r\n            cnt++;\r\n            if ( cnt >= this.digits.length ) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private setDigits() {\r\n        for ( let i: number = 0 ; i < this.digits.length ; i++ ) {\r\n            let s: any = this.sprites[i];\r\n\r\n            for ( let j: number = 0 ; j < 9 ; j++ ) {\r\n                let sf: SpriteFrame = ResourceManager.Instance().getChipImage( this.numbers[i].digit );\r\n                s[j].spriteFrame = sf;\r\n                if ( j < this.numbers[i].number ) {\r\n                    s[j].node.active = true;\r\n                } else {\r\n                    s[j].node.active = false;\r\n                }\r\n            }\r\n            this.digits[i].active = true;\r\n        }\r\n\r\n    }\r\n\r\n    private reset() {\r\n        for ( let i: number = 0; i < this.digits.length; i++ ) {\r\n            this.digits[i].active = false;\r\n        }\r\n        this.value = 0;\r\n    }\r\n\r\n    public MovePotToEntity( from: Node, to: Node, value: number  ) {\r\n        this.value = value;\r\n\r\n        this.setNumbers();\r\n        this.setDigits();\r\n\r\n        let vecFrom = from.parent.getComponent( UITransform ).convertToWorldSpaceAR( from.position );\r\n        vecFrom = this.node.parent.getComponent( UITransform ).convertToNodeSpaceAR( vecFrom );\r\n\r\n        let vecTo = this.node.parent.getComponent( UITransform ).convertToWorldSpaceAR( this.vecOriginal );\r\n        vecTo = this.node.getComponent( UITransform ).convertToNodeSpaceAR( vecTo );\r\n\r\n        // this.node.position = new Vec3( vecFrom.x, vecFrom.y, vecFrom.z );\r\n        this.node.active = true;\r\n\r\n        let op: UIOpacity = this.node.getComponent( UIOpacity );\r\n        if ( op != null ) {\r\n            op.opacity = 255;\r\n        }\r\n\r\n        let tw = tween ( this.node )\r\n        .set ({\r\n            position: vecFrom,\r\n        }).to ( 0.5 , {\r\n            position: vecTo,\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate(target, ratio) {\r\n                let o = 255 - ( 255 * ratio);\r\n                if ( op != null ) {\r\n                    op.opacity = o;\r\n                }\r\n            },\r\n        })\r\n\r\n        tw.call(()=>{\r\n            this.node.position = new Vec3( this.vecOriginal.x, this.vecOriginal.y, this.vecOriginal.z);\r\n            this.node.active = false;\r\n        });\r\n\r\n        tw.start();\r\n    }\r\n\r\n    hide() {\r\n        this.reset();\r\n        this.node.active = false;\r\n    }\r\n\r\n    easeOutBack(x: number ): number {\r\n        const c1 = 1.70158;\r\n        const c3 = c1 + 1;\r\n        \r\n        return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);\r\n    }\r\n\r\n    easeOutQuad( x: number ): number {\r\n        return 1 - (1 - x) * (1 - x);\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, Label, Sprite } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiProfile')\r\nexport class UiProfile extends Component {\r\n    @property(Node) nodePanel: Node = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n\r\n    @property(Label) labelNickname: Label = null;\r\n    @property(Sprite) spriteAvatar: Sprite = null;\r\n    @property(Label) labelChips: Label = null;\r\n    @property(Label) labelRanking: Label = null;\r\n\r\n    private cbExit: ()=>void = null;\r\n\r\n    init( cbExit: ()=>void ) {\r\n        if (cbExit != null) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        this.labelNickname.string = '';\r\n        this.labelChips.string = '';\r\n        this.labelRanking.string = '';\r\n        this.spriteAvatar.node.active = false;\r\n\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n        this.nodePanel.active = false;\r\n        this.node.active = false;        \r\n    }\r\n\r\n    show( entity: any ) {\r\n        this.node.active = true;\r\n    }\r\n\r\n    open(id: number) {\r\n        this.node.active = true;\r\n        this.nodePanel.active = false;\r\n\r\n        NetworkManager.Instance().getPlayerProfile( id, (res)=>{\r\n\r\n            this.labelNickname.string = res.profile.name;\r\n            this.labelChips.string = CommonUtil.getNumberStringWithComma(res.profile.chip);\r\n\r\n            let s = res.profile.avatar;\r\n\r\n            CommonUtil.setAvatarSprite(s, this.spriteAvatar, ()=>{\r\n                this.spriteAvatar.node.active = true;\r\n                this.nodePanel.active = true;                \r\n            });\r\n\r\n        }, (err)=>{\r\n            this.node.active = true;\r\n        });\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickExit( button: Button ) {\r\n        if ( this.cbExit != null ) {\r\n            this.cbExit();\r\n        }\r\n\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, Vec3, Label, Tween, tween, Color, Quat, bezier, Animation, color } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiResultEffect')\r\nexport class UiResultEffect extends Component {\r\n    private spriteWinAnimation1: Sprite = null;\r\n    private spriteWinAnimation2: Sprite = null;\r\n    private spriteWinAnimation3: Sprite = null;\r\n\r\n    private vecWinAnimation3: Vec3 = new Vec3();    \r\n\r\n    private spriteEffectWin: Sprite = null;\r\n    private spriteEffectDraw: Sprite = null;\r\n    private spriteEffectReturn: Sprite = null;\r\n\r\n    private AnimationWinEffect: Animation = null;\r\n    private AnimationDrawEffect: Animation = null;\r\n    private AnimationReturnEffect: Animation = null;\r\n\r\n    private rootLabelValue: Node = null;\r\n\r\n    private labelEffectValue: Label = null;\r\n    private winTweens: Tween<Node>[] = [];\r\n\r\n    private isChildRegisted: boolean = false;\r\n\r\n    Init() {\r\n        this.childedRegisted();\r\n        this.node.active = false;\r\n    }\r\n\r\n    ResetResultEffect() {\r\n        this.spriteEffectWin.node.active = false;\r\n        this.spriteEffectDraw.node.active = false;\r\n        this.spriteEffectReturn.node.active = false;\r\n\r\n        this.labelEffectValue.string = '';\r\n        this.labelEffectValue.node.active = false;\r\n        this.rootLabelValue.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    SetWinEffect( value: number ) {\r\n        this.ResetResultEffect();\r\n\r\n        this.labelEffectValue.string = '+' + CommonUtil.getKoreanNumber( value );\r\n        this.labelEffectValue.node.active = true;\r\n        this.rootLabelValue.active = true;\r\n\r\n        this.spriteEffectWin.node.active = true;\r\n        this.node.active = true;\r\n\r\n        this.AnimationWinEffect.play();\r\n        this.WinTweenEffect();\r\n    }\r\n\r\n    public SetDrawEffect( value: number ) {\r\n        this.ResetResultEffect();\r\n\r\n        this.labelEffectValue.string = '+' + CommonUtil.getKoreanNumber( value );\r\n        this.labelEffectValue.node.active = true;\r\n        this.rootLabelValue.active = true;\r\n\r\n        this.spriteEffectDraw.node.active = true;\r\n        this.node.active = true;\r\n\r\n        this.AnimationDrawEffect.play();\r\n    }\r\n\r\n    public SetReturnEffect( value: number ) {\r\n        this.ResetResultEffect();\r\n\r\n        this.labelEffectValue.string = '+' + CommonUtil.getKoreanNumber( value );\r\n        this.labelEffectValue.node.active = true;\r\n        this.rootLabelValue.active = true;\r\n\r\n        this.spriteEffectReturn.node.active = true;\r\n        this.node.active = true;\r\n\r\n        this.AnimationReturnEffect.play();\r\n    }\r\n\r\n    private WinTweenEffect() {\r\n\r\n        this.spriteWinAnimation1.node.active = true;\r\n        let tw1 = tween( this.spriteWinAnimation1.node )\r\n        .set( {\r\n\r\n        })\r\n        .to( 1, {}, {\r\n            onUpdate: ( target: any, ratio: number )=>{\r\n                let a = 255 * ratio;\r\n                if ( a > 255 ) {\r\n                    a = 255;\r\n                }\r\n\r\n                if ( a <= 0) {\r\n                    a = 0;\r\n                }\r\n                this.spriteWinAnimation1.color = new Color( 255, 255, 255, a);\r\n            }\r\n        });\r\n\r\n        tw1.call(()=>{\r\n            this.spriteWinAnimation1.color = new Color( 255, 255, 255, 0 );\r\n        });\r\n\r\n        tw1.union();\r\n        tw1.start();\r\n\r\n        this.spriteWinAnimation3.node.active = true;\r\n        let tw3 = tween( this.spriteWinAnimation3.node )\r\n        .set({\r\n            position: new Vec3 ( this.vecWinAnimation3 ),\r\n            scale: new Vec3( 0.5, 0.5, 0.5 )\r\n        })\r\n        .to(0.5, {\r\n            scale: new Vec3(1.0, 1.0, 1.0)\r\n        }, {\r\n            easing: 'backOut',\r\n            onUpdate: ( target: any, ratio: number )=>{\r\n                let a = 255 * ratio;\r\n                this.spriteWinAnimation3.color = new Color( 255, 255, 255, a);\r\n            }\r\n        })\r\n        .to(3, {\r\n\r\n        }, {\r\n            easing: 'linear',\r\n            onUpdate: ( target: any, ratio: number )=>{\r\n                let a = 255 - 255 * ratio;\r\n                this.spriteWinAnimation3.color = new Color( 255, 255, 255, a );\r\n                this.spriteWinAnimation1.color = new Color( 255, 255, 255, a );\r\n            }\r\n        });\r\n\r\n        tw3.call(()=>{\r\n            this.spriteWinAnimation3.color = new Color(255, 255, 255, 0);\r\n            this.spriteWinAnimation3.node.position = new Vec3 ( this.vecWinAnimation3 );\r\n\r\n            this.spriteWinAnimation3.node.active = false;\r\n        });\r\n\r\n        tw3.union();\r\n        tw3.start();\r\n\r\n        this.spriteWinAnimation2.node.active = true;        \r\n        let dest: Quat = Quat.IDENTITY.clone();\r\n\r\n        let tw2 = tween( this.spriteWinAnimation2.node )        \r\n        .to( 2, {\r\n            scale: new Vec3( 0.7, 0.7, 0.7 )\r\n        }, {\r\n            onUpdate: ( target: any, ratio: number )=>{\r\n                Quat.fromEuler( dest, 0, 0, 360 * 12 * ratio );\r\n                this.spriteWinAnimation2.node.setRotation( dest );\r\n\r\n                let a = bezier( 0, 500, 255, 0, ratio );\r\n                let max: number = 255 * 0.7;\r\n                if ( a > max ) {\r\n                    a = max;\r\n                }\r\n\r\n                this.spriteWinAnimation2.color = new Color( 255, 255, 255, a);\r\n            }\r\n        });\r\n\r\n        tw2.call( ()=>{\r\n            this.spriteWinAnimation2.color = new Color(255,255,255,0);\r\n            this.spriteWinAnimation2.node.scale = new Vec3(1.15,1.15,1.15);\r\n            this.spriteWinAnimation2.node.setRotation(dest);\r\n            this.spriteWinAnimation2.node.active = false;\r\n        });\r\n\r\n        tw2.union();\r\n        tw2.start();\r\n    }\r\n\r\n    private onFinishedResultWin() {\r\n        this.AnimationWinEffect.node.active = false;\r\n    }\r\n\r\n    private onFinishedResultDraw() {\r\n        this.AnimationDrawEffect.node.active = false;\r\n    }\r\n\r\n    private onFinishedResultReturn() {\r\n        this.AnimationReturnEffect.node.active = false;\r\n    }\r\n\r\n    childedRegisted() {\r\n        if ( this.isChildRegisted == true ) {\r\n            return;\r\n        }\r\n        \r\n        this.spriteWinAnimation1 = this.node.getChildByPath('SPRITE_WIN_ANI1').getComponent(Sprite);\r\n        if ( this.spriteWinAnimation1 != null ) {\r\n            this.spriteWinAnimation1.node.active = false;\r\n        }\r\n\r\n        this.spriteWinAnimation2 = this.node.getChildByPath('SPRITE_WIN_ANI2').getComponent(Sprite);\r\n        if ( this.spriteWinAnimation2 != null ) {\r\n            this.spriteWinAnimation2.node.active = false;\r\n        }\r\n\r\n        this.spriteWinAnimation3 = this.node.getChildByPath('SPRITE_WIN_ANI3').getComponent(Sprite);\r\n        if ( this.spriteWinAnimation3 != null ) {\r\n            this.spriteWinAnimation3.node.active = false;\r\n            this.vecWinAnimation3 = new Vec3( this.spriteWinAnimation3.node.position );\r\n        }\r\n\r\n        this.spriteEffectWin = this.node.getChildByPath('SPRITE_WIN').getComponent(Sprite);\r\n        if ( this.spriteEffectWin != null ) {\r\n            this.spriteEffectWin.node.active = false;\r\n        }\r\n        \r\n        this.spriteEffectDraw = this.node.getChildByPath('SPRITE_DRAW').getComponent(Sprite);\r\n        if ( this.spriteEffectDraw != null ) {\r\n            this.spriteEffectDraw.node.active = false;\r\n        }\r\n\r\n        this.spriteEffectReturn = this.node.getChildByPath('SPRITE_RETURN').getComponent(Sprite);\r\n        if ( this.spriteEffectReturn != null ) {\r\n            this.spriteEffectReturn.node.active = false;\r\n        }\r\n\r\n        this.rootLabelValue = this.node.getChildByPath('VALUE');\r\n        if ( this.rootLabelValue != null ) {\r\n            this.labelEffectValue = this.rootLabelValue.getChildByPath('LABEL_VALUE').getComponent(Label);\r\n            if ( this.labelEffectValue != null ) {\r\n                this.labelEffectValue.string = '0';\r\n                this.labelEffectValue.node.active = false;\r\n            }\r\n\r\n            this.rootLabelValue.active  = false;\r\n        }\r\n\r\n        this.AnimationWinEffect = this.node.getChildByPath('SPRITE_WIN').getComponent( Animation );\r\n        if ( this.AnimationWinEffect != null ) {\r\n            this.AnimationWinEffect.on('finished', this.onFinishedResultWin.bind(this), this );\r\n        }\r\n\r\n        this.AnimationDrawEffect = this.node.getChildByPath('SPRITE_DRAW').getComponent( Animation );\r\n        if ( this.AnimationDrawEffect != null ) {\r\n            this.AnimationDrawEffect.on('finished', this.onFinishedResultDraw.bind(this), this );\r\n        }\r\n\r\n        this.AnimationReturnEffect = this.node.getChildByPath('SPRITE_RETURN').getComponent( Animation );\r\n        if ( this.AnimationReturnEffect != null ) {\r\n            this.AnimationReturnEffect.on('finished', this.onFinishedResultReturn.bind(this), this );\r\n        }\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Label, Layout } from 'cc';\nimport { CommonUtil } from '../CommonUtil';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiRoundPotValue')\nexport class UiRoundPotValue extends Component {\n    @property(Label) labelPotValue: Label = null;\n    private value: number = 0;\n\n    public init() {\n        this.labelPotValue.string = '';\n        this.node.active = false;\n    }\n\n    public show( value: number ) {\n        if ( this.labelPotValue == null ) {\n            return;\n        }\n\n        if ( value > -1 ) {\n            this.value = value;\n            this.labelPotValue.string = CommonUtil.getKoreanNumber( this.value );            \n        } else {            \n            this.labelPotValue.string = CommonUtil.getKoreanNumber( this.value );\n        }\n\n\n        this.node.active = true;\n        let layout: Layout = this.node.getComponent(Layout);\n        if ( layout != null ) {\n            layout.updateLayout(true);\n        }\n    }\n\n    public updatePotVaule( value: number ) {\n        if ( this.labelPotValue == null ) {\n            return;\n        }\n                \n        this.labelPotValue.string = CommonUtil.getKoreanNumber( value );\n    }\n\n    public hide() {\n        this.node.active = false;\n    }\n}\n\n","import { _decorator, Component, Node, Button, Sprite, Label, SpriteFrame, resources } from 'cc';\r\nimport { Board } from './Board';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { ResourceManager } from './ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiSeat')\r\nexport class UiSeat extends Component {\r\n    @property(Node) public entity: Node = null;\r\n    @property(Button) public buttonTakeSeat: Button = null;\r\n    @property(Sprite) public spriteReserve: Sprite = null;\r\n\r\n    private buttonAvatar: Button = null;\r\n    private isChildRegistered: boolean = false;\r\n    private labelNickname: Label = null;\r\n    private labelChips: Label = null;\r\n    private spriteSelected: Sprite = null;\r\n    private posSymbols: {} = {};\r\n    private spriteAvatar: Sprite = null;\r\n    private info: any = null;\r\n    private isSet: boolean = false;\r\n    private id: number = -1;\r\n    private seat: number = -1;\r\n\r\n    onLoad() {\r\n        this.childRegistered();\r\n    }\r\n\r\n    childRegistered() {\r\n        if (true == this.isChildRegistered) {\r\n            return;\r\n        }\r\n\r\n        this.isChildRegistered = true;\r\n        this.labelNickname = this.entity.getChildByPath('BG/LABEL_NAME').getComponent(Label);\r\n        this.labelNickname.string = 'EMPTY'\r\n\r\n        this.labelChips = this.entity.getChildByPath('BG/LABEL_CHIPS').getComponent(Label);\r\n        this.labelChips.node.active = true;\r\n\r\n        this.spriteAvatar = this.entity.getChildByPath('AVATAR/SPRITE/AVATAR').getComponent(Sprite);\r\n        this.spriteAvatar.node.active = false;\r\n\r\n        this.posSymbols['dealer'] = this.entity.getChildByPath('SPRITE_DEALER').getComponent(Sprite);\r\n        this.posSymbols['dealer'].node.active = false;\r\n\r\n        this.posSymbols['sb'] = this.entity.getChildByPath('SPRITE_SMALL_BLIND').getComponent(Sprite);\r\n        this.posSymbols['sb'].node.active = false;\r\n\r\n        this.posSymbols['bb'] = this.entity.getChildByPath('SPRITE_BIG_BLIND').getComponent(Sprite);\r\n        this.posSymbols['bb'].node.active = false;\r\n\r\n        this.buttonAvatar = this.entity.getChildByPath('AVATAR/SPRITE/AVATAR').getComponent(Button);\r\n        this.buttonAvatar.node.on('click', this.onClickAvatar.bind(this));\r\n\r\n        this.isSet = false;\r\n    }\r\n\r\n    setUi( entity ) {        \r\n        this.childRegistered();\r\n\r\n        if (null == entity) {\r\n            this.setEscapee();\r\n        }\r\n\r\n        this.info = entity;\r\n        this.id = entity.id;\r\n        this.seat = entity.seat;\r\n\r\n        this.clearUiPosSymbol();\r\n        this.setNickname( entity.nickname );\r\n        if (entity.wait == true) {\r\n            if (entity.isSitOut == true) {\r\n                this.setStatus('자리비움');\r\n            } else {\r\n                this.setStatus('대기중');\r\n            }\r\n        } else {\r\n            this.setUiChips(entity.chips);\r\n        }\r\n\r\n        let s = Number(entity.avatar);\r\n        let sf = ResourceManager.Instance().getAvatarImage(s);\r\n        if ( sf != null ) {\r\n            this.spriteAvatar.spriteFrame = sf;\r\n            this.spriteAvatar.node.active = true;            \r\n        }\r\n\r\n        this.isSet = true;\r\n    }\r\n\r\n    setEscapee() {\r\n        this.labelNickname.string = 'EMPTY'\r\n        this.labelChips.node.active = false;\r\n\r\n        this.posSymbols['dealer'].node.active = false;\r\n        this.posSymbols['sb'].node.active = false;\r\n        this.posSymbols['bb'].node.active = false;\r\n    }\r\n\r\n    setNickname(name: string) {\r\n        this.labelNickname.string = name;\r\n    }\r\n\r\n    setUiChips( chips: number) {\r\n        this.labelChips.string = CommonUtil.getKoreanNumber(chips);\r\n        this.labelChips.node.active = true;\r\n    }\r\n\r\n    setStatus(status: string) {\r\n        this.labelChips.string = status;\r\n        this.labelChips.node.active = true;\r\n    }\r\n\r\n    setUiPosSymbol( symbolName: string)\r\n    {\r\n        let keys = Object.keys( this.posSymbols );\r\n        keys.forEach((element)=>{\r\n            let v: Sprite = this.posSymbols[element];\r\n            if ( element == symbolName) {\r\n                v.node.active = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    getTakeButton (): Button {\r\n        return this.buttonTakeSeat;\r\n    }\r\n\r\n    setShowEntity( show: boolean ) {\r\n        this.entity.active = show;\r\n    }\r\n\r\n    setShowReserve(show: boolean) {\r\n        this.spriteReserve.node.active = show;\r\n    }\r\n\r\n    getEntity(): Node {\r\n        return this.entity;\r\n    }\r\n\r\n    clearUiPosSymbol() {\r\n        let keys = Object.keys(this.posSymbols);\r\n        keys.forEach(element => {\r\n            let v: Sprite = this.posSymbols[element];\r\n            v.node.active = false;\r\n        });\r\n    }\r\n\r\n    private onClickAvatar(button:Button) {\r\n        if ( this.isSet == false ) {\r\n            return;\r\n        }\r\n\r\n        if ( this.seat > -1 ) {\r\n            Board.table.OpenUserProfile( this.id, this.seat );\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label, Sprite } from 'cc';\r\nimport { Board } from './Board';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { UiGameSystemPopup } from './Game/UiGameSystemPopup';\r\nimport { UiSeat } from './UiSeat';\r\nimport { ResourceManager } from './ResourceManager';\r\nimport { AudioController } from './Game/AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiSeats')\r\nexport class UiSeats extends Component {\r\n    @property(Label) labelLimitTimer: Label = null;\r\n\r\n    private uiSeats: UiSeat[] = [];\r\n    private buttonTakeSeats: Button[] = [];\r\n    private count: number = 0;\r\n    private isWaitingResult: boolean = false;\r\n    private timerId: number = 0;\r\n    private isOpen: boolean = false;\r\n    private limitTime: number = 0;\r\n    private pauseTimer: boolean = false;\r\n    private joinPlayer: number = -1;\r\n    private playingPlayer: number = -1;\r\n    public unselectSeatDuringTime = false;\r\n\r\n    callback: (number) => void = null;\r\n\r\n    public init ( maxSeat: number, onClickCallback: (seatNumber: number)=>void) {\r\n\r\n        this.isWaitingResult = false;\r\n        let seatCount: number = maxSeat;\r\n        this.callback = onClickCallback;\r\n\r\n        let seatsRoot9: Node = this.node.getChildByPath('SEATS9');\r\n        let seatsRoot6: Node = this.node.getChildByPath('SEATS6');        \r\n\r\n\r\n        let nodeTarget: Node = null;\r\n\r\n        let seatRootPath = `SEATS${ seatCount }`;\r\n\r\n        if ( seatsRoot9.name == seatRootPath )\r\n        {\r\n            seatsRoot9.active = true;\r\n            seatsRoot6.active = false;\r\n            nodeTarget = seatsRoot9;\r\n        } else {\r\n            seatsRoot9.active = false;\r\n            seatsRoot6.active = true;\r\n            nodeTarget = seatsRoot6;\r\n        }\r\n\r\n        this.uiSeats = [];\r\n        for (let i = 0 ; i < nodeTarget.children.length; i++)\r\n        {\r\n            let cn = nodeTarget.children[i];\r\n            if (null == cn) {\r\n                continue;\r\n            }\r\n\r\n            let uiSeat: UiSeat = cn.getComponent(UiSeat);\r\n            if (null == uiSeat) {\r\n                continue;\r\n            }\r\n\r\n            uiSeat.childRegistered();\r\n            uiSeat.setShowEntity(false);\r\n            uiSeat.setShowReserve(false);\r\n\r\n            this.uiSeats.push(uiSeat);\r\n        }\r\n\r\n        for (let i = 0 ; i < this.uiSeats.length; i++) {\r\n            this.buttonTakeSeats[i] = this.uiSeats[i].getTakeButton();\r\n        }\r\n\r\n        let bg: Sprite = this.node.getChildByPath('SPRITE_BACKGROUND').getComponent(Sprite);\r\n        if ( bg != null ) {\r\n            ResourceManager.Instance().setBackgroundImage(bg);\r\n            bg.node.active = true;\r\n        }\r\n\r\n        let tb: Sprite = this.node.getChildByPath('SPRITE_TABLE').getComponent( Sprite );\r\n        if ( tb != null ) {\r\n            ResourceManager.Instance().setTableImage(tb);\r\n            tb.node.active = true;            \r\n        }\r\n\r\n        this.unselectSeatDuringTime = false;\r\n        this.labelLimitTimer.string = '플레이할 자리를 선택해 주세요 (60)';\r\n        this.pauseTimer = true;\r\n        this.node.active = false;\r\n    }\r\n\r\n    updateSeatInfo ( seats: any[], info: number[], bb: number, sb: number, dealer: number ) {\r\n\r\n        for ( let i = 0 ; i < this.buttonTakeSeats.length; i++) {\r\n            let button: Button = this.buttonTakeSeats[i];\r\n            if ( button == null ) {\r\n\r\n            }\r\n            else {\r\n                if ( i >= this.uiSeats.length ) {\r\n                    button.node.active = false;\r\n                    continue;\r\n                }\r\n\r\n                button.node.active = true;\r\n                button.node.off(\"click\");\r\n                button.node.on(\"click\", this.onClickSeatButton.bind(this, i), this);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < info.length; i++) {\r\n            let status: number = info[i];\r\n            if ( status == 2)\r\n            {\r\n                this.uiSeats[i].setShowEntity(true);\r\n                this.uiSeats[i].setShowReserve(false);\r\n    \r\n                let target = seats.find((e)=>{\r\n                    return e.seat === i;\r\n                });\r\n    \r\n                if (null != target) {\r\n                    this.uiSeats[i].setUi(target);\r\n    \r\n                    if (bb > -1 && target === bb) {\r\n                        this.uiSeats[i].setUiPosSymbol(\"bb\");\r\n                    }\r\n    \r\n                    if (sb > -1 && target === sb) {\r\n                        this.uiSeats[i].setUiPosSymbol(\"sb\");\r\n                    }\r\n    \r\n                    if (dealer > -1 && target === dealer) {\r\n                        this.uiSeats[i].setUiPosSymbol(\"dealer\");\r\n                    }\r\n                }\r\n    \r\n                this.buttonTakeSeats[i].node.active = false;\r\n                continue;\r\n            }\r\n\r\n            if ( status == 1 ) {\r\n                this.uiSeats[i].setEscapee();\r\n                this.buttonTakeSeats[i].node.active = false;\r\n                this.uiSeats[i].setShowEntity(false);\r\n                this.uiSeats[i].setShowReserve(true);\r\n                continue;\r\n            }\r\n\r\n            this.uiSeats[i].setShowEntity(false);\r\n            this.uiSeats[i].setShowReserve(false);\r\n            \r\n            this.uiSeats[i].setEscapee();\r\n            this.uiSeats[i].setNickname(\"EMPTY\");\r\n        }\r\n\r\n        if (Board.reserveSeat > -1) {\r\n            let status = info[Board.reserveSeat];\r\n            if ( status == 0 ) {\r\n                this.onClickSeatButton (Board.reserveSeat);\r\n                Board.reserveSeat = -1;\r\n            } else {\r\n\r\n            }\r\n        }\r\n\r\n        let playing = info.filter ((status)=>{\r\n            return (status === 2);\r\n        });\r\n\r\n        this.joinPlayer = seats.length;\r\n        this.playingPlayer = playing.length;\r\n    }\r\n\r\n    public startSeatsSelect(second: number) {\r\n        if (this.node.active == true) {\r\n            return;\r\n        }\r\n\r\n        this.labelLimitTimer.string = '플레이할 자리를 선택해 주세요' + '(' + ( second ).toString() + ')';\r\n\r\n        this.count = 0;\r\n        this.isOpen = true;\r\n        this.pauseTimer = false;\r\n\r\n        if ( second > 0 ) {\r\n            this.limitTime = second;\r\n            this.timerId = setInterval( ()=>this.checkTimer(), 1000 );\r\n        }\r\n\r\n        this.unselectSeatDuringTime = false;\r\n        this.node.active = true;\r\n    }\r\n\r\n    end() {\r\n        if (this.node.active == false) {\r\n            return;\r\n        }\r\n\r\n        this.clearTimer();\r\n        this.isOpen = false;\r\n        this.pauseTimer = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    onClickSeatButton(seatPos: number) {\r\n\r\n        if (null == this.callback) {\r\n            return;\r\n        }\r\n\r\n        if (true === this.isWaitingResult) {\r\n            return;\r\n        }\r\n\r\n        AudioController.instance.PlaySound('BUTTON_CLICK');\r\n\r\n        this.isWaitingResult = true;\r\n        this.callback( seatPos );\r\n    }\r\n\r\n    pause() {\r\n        if ( this.isOpen == true ) {\r\n            this.pauseTimer = true;\r\n        }\r\n    }\r\n\r\n    unpause() {\r\n        if ( this.isOpen == true ) {\r\n            this.pauseTimer = false;\r\n            clearInterval( this.timerId );\r\n            this.timerId = setInterval( ()=> this.checkTimer(), 60000 );\r\n        }\r\n    }\r\n\r\n    onResultFail() {\r\n        this.isWaitingResult = false;\r\n    }\r\n\r\n    checkTimer() {\r\n        if ( this.isOpen == false ) {\r\n            clearInterval( this.timerId );\r\n            return;\r\n        }\r\n\r\n        if ( this.pauseTimer == true ) {\r\n            return;\r\n        }\r\n\r\n        this.count++;\r\n\r\n        if (this.count >= this.limitTime ) {\r\n            this.clearTimer();\r\n            // this.isOpen = false;\r\n            this.timerId = -1;\r\n            this.unselectSeatDuringTime = true;\r\n\r\n            this.unscheduleAllCallbacks();\r\n            Board.table.leave();\r\n            Board.table.LoadLobby();\r\n\r\n            // UiGameSystemPopup.instance.showOkPopup('자리 선택', '자리를 선택하지 않아 로비로 이동합니다', ()=>{\r\n            //     UiGameSystemPopup.instance.closePopup();\r\n            //     Board.table.LoadLobby();\r\n\r\n            //     this.unselectSeatDuringTime = false;\r\n            // });\r\n\r\n        }\r\n        else {\r\n            if ( this.labelLimitTimer != null ) {\r\n                this.labelLimitTimer.string = '플레이할 자리를 선택해 주세요' + '(' + ( this.limitTime - this.count).toString() + ')';\r\n            }\r\n        }\r\n    }\r\n\r\n    checkTimerId() {\r\n        if ( this.timerId != -1 ) {\r\n            clearInterval( this.timerId );\r\n            this.timerId = -1;\r\n        }\r\n\r\n    }\r\n\r\n    clearTimer() {\r\n        clearInterval( this.timerId );\r\n        this.count = 0;\r\n        this.timerId = -1;\r\n    }\r\n\r\n    isSeatsSelectOpen(): boolean {\r\n        return false;\r\n    }\r\n\r\n    leaveRoom() {\r\n        this.clearTimer();\r\n        this.isOpen = false;\r\n        this.timerId = -1;\r\n\r\n        this.node.active = false;\r\n        Board.table.leave();\r\n    }\r\n\r\n    leave() {\r\n        clearInterval( this.timerId );        \r\n        this.isOpen = false;\r\n        this.timerId = -1;\r\n        this.node.active = false;\r\n    }\r\n\r\n    onJoinTable() {\r\n        Board.room.send(\"BUY_IN\", {id: Board.id, buyInAmount: Board.buyin});\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, Animation, AnimationState } from 'cc';\nimport { AudioController } from './AudioController';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiShowDownEffect')\nexport class UiShowDownEffect extends Component {\n    private animation: Animation = null;\n    private animState: AnimationState = null;\n    private cbDone: ()=> void;\n\n    Init() {\n        this.animation = this.node.getComponent(Animation);\n        if ( this.animation != null ) {\n            this.animation.on('finished', this.onFinished.bind(this), this);\n        }\n        this.node.active = false;\n    }\n\n    Show( cbDone:()=>void ) {\n        if ( cbDone != null ) {\n            this.cbDone = cbDone;\n        }\n\n        this.scheduleOnce(()=>{\n            AudioController.instance.PlaySound('SHOWDOWN');\n            this.node.active = true;\n            this.animation.play();\n        }, 0.5);\n    }\n\n    Hide() {\n        if ( this.cbDone != null ) {\n            this.cbDone = null;\n        }\n\n        this.node.active = false;\n\n    }\n\n    onFinished() {\n        if ( this.cbDone != null ) {\n            this.cbDone();\n        }\n    }\n\n}\n\n","import { _decorator, Component, Node, director, Sprite, Vec3, Label, sys,\r\n    instantiate, bezier, UITransform, tween, SpriteFrame, Color, Quat, Button, ConstantForce} from 'cc';\r\nimport { Board } from './Board';\r\nimport { NetworkManager } from './NetworkManager';\r\n\r\nimport * as PokerEvaluator from \"./PokerEvaluator\";\r\nimport { UiEntity } from './UiEntity';\r\nimport { UiPlayerAction } from './UiPlayerAction';\r\nimport { Pot, UiPot } from './UiPot';\r\nimport { UiSeats } from './UiSeats';\r\nimport { UiBuyIn} from \"./Game/UiBuyIn\";\r\nimport { UiControls} from \"./Game/UiControls\";\r\nimport { UiGameSystemPopup} from \"./Game/UiGameSystemPopup\";\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { AudioController } from './Game/AudioController';\r\nimport { ENUM_RESERVATION_TYPE, UiPlayerActionReservation } from './Game/UiPlayerActionReservation';\r\nimport { EMOTICON_TYPE, UiGameChatting } from './Game/UiGameChatting';\r\nimport { UiWinEffect } from './Game/UiWinEffect';\r\nimport { UiPotChips } from './Game/UiPotChips';\r\nimport { UiRoundPotValue } from './Game/UiRoundPotValue';\r\nimport { ResourceManager } from './ResourceManager';\r\nimport { UiShowDownEffect } from './Game/UiShowDownEffect';\r\nimport { UiEffectShowRiver } from './Game/UiEffectShowRiver';\r\nimport { UiCommunityCards } from './Game/UiCommunityCards';\r\nimport { PlayerActionInformation } from './Game/PlayerActionInformation';\r\nimport { ENUM_BET_SOUND } from './HoldemDefines';\r\nimport { UiPopupGameProfile } from './Game/UiPopupGameProfile';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nlet totalCards: string[] = [\r\n\t\"Ac\", \"Kc\", \"Qc\", \"Jc\", \"Tc\", \"9c\", \"8c\", \"7c\", \"6c\", \"5c\", \r\n\t\"4c\", \"3c\", \"2c\", \"Ad\", \"Kd\", \"Qd\", \"Jd\", \"Td\", \"9d\", \"8d\", \r\n\t\"7d\", \"6d\", \"5d\", \"4d\", \"3d\", \"2d\",\t\"Ah\", \"Kh\", \"Qh\", \"Jh\", \r\n\t\"Th\", \"9h\", \"8h\", \"7h\", \"6h\", \"5h\", \"4h\", \"3h\", \"2h\", \"As\", \r\n\t\"Ks\", \"Qs\", \"Js\", \"Ts\", \"9s\", \"8s\", \"7s\", \"6s\", \"5s\", \"4s\",\r\n\t\"3s\", \"2s\" ];\r\n\r\nconst GAME_STATE_SUSPEND: number = 0;\r\nconst GAME_STATE_READY: number = 1;\r\nconst GAME_STATE_PREPARE: number = 2;\r\nconst GAME_STATE_PREFLOP: number = 3;\r\nconst GAME_STATE_BET: number = 4;\r\nconst GAME_STATE_FLOP: number = 5;\r\nconst GAME_STATE_TURN: number = 6;\r\nconst GAME_STATE_RIVER: number = 7;\r\nconst GAME_STATE_RESULT: number = 8;\r\nconst GAME_STATE_SHOWDOWN: number = 9;\r\nconst GAME_STATE_CLEAR: number = 10;\r\n\r\nconst SHOWDOWN_NONE: number = 0;\r\nconst SHOWDOWN_START: number = 1;\r\nconst SHOWDOWN_FLOP: number = 2;\r\nconst SHOWDOWN_TURN: number = 3;\r\nconst SHOWDOWN_RIVER: number = 4;\r\nconst SHOWDOWN_END: number = 5;\r\n\r\n@ccclass('UiTable')\r\nexport class UiTable extends Component {\r\n    @property(UiSeats) uiSeats: UiSeats = null;\r\n\t@property(UiPot) uiPot : UiPot = null;\r\n\t@property(UiBuyIn) uiBuyIn: UiBuyIn = null;\r\n\t@property(UiPopupGameProfile) uiProfile: UiPopupGameProfile = null;\t\r\n\t@property(UiPlayerActionReservation) uiPlayerActionReservation: UiPlayerActionReservation = null;\r\n\t@property(UiCommunityCards) uiCommunityCards: UiCommunityCards = null;\r\n\r\n\t@property(Node) nodeCardShuffleMessage: Node = null;\r\n\t@property(Button) buttonShowCard: Button = null;\r\n\t@property(Button) buttonSitout: Button = null;\r\n\t@property(Button) buttonSitoutCancel: Button = null;\t\r\n\t@property(Button) buttonSitback: Button = null;\r\n\t@property(Button) buttonEmoticon: Button = null;\r\n\t@property(Button) buttonAddChips: Button = null;\r\n\r\n\t@property(UiGameChatting) uiGameChatting: UiGameChatting = null;\r\n\t@property(UiWinEffect) uiWinEffect: UiWinEffect = null;\t\r\n\t@property(UiPotChips) uiPotChips: UiPotChips = null;\r\n\t@property(UiRoundPotValue) uiRoundPotValue: UiRoundPotValue = null;\r\n\t@property(UiShowDownEffect) uiShowDownEffect: UiShowDownEffect = null;\r\n\t@property(UiEffectShowRiver) uiEffectShowRiver: UiEffectShowRiver = null;\r\n\r\n\t@property(PlayerActionInformation) playerActionInformation: PlayerActionInformation = null;\r\n\r\n\tprivate GAME_STATE: number = GAME_STATE_SUSPEND;\r\n\tprivate SHOWDOWN_STATE: number = SHOWDOWN_NONE;\r\n\r\n\tprivate SEAT_PLAYERS: number[] = [];\r\n    private PLAYER_CARDS: {} = null;\r\n    private ENTITY_ELEMENTS: UiEntity[] = [];\r\n\r\n    private roundState: string = \"\";\r\n    private spritePotRoot: Sprite = null;\r\n\r\n    private uiPlayerAction: UiPlayerAction = null;\r\n    private nodeCardDispensingRoot: Node = null;\r\n\r\n    private timerRoot: Node = null;\r\n    private labelReadyMessage: Label = null;\r\n\r\n    private objPotMoveToWinnerChips: {} = {};\r\n    private objPotReturnChips: {} = {};\r\n\r\n    private curPotValue: number = -1;\r\n    private myChips: number = -1;\r\n    private mySeat: number = -1;\r\n\tprivate myCards: number[] = [-1, -1];\r\n    private myWaitStatus: boolean = false;\r\n\r\n    private startBetFromServer: number = -1;\r\n    private betMin: number = -1;\r\n    private seatMax: number = 6;\r\n    private enableSeats: number[] = [];\r\n\r\n\tprivate seatDealer: number = -1;\r\n\tprivate seatSB: number = -1;\r\n\tprivate seatBB: number = -1;\r\n\r\n    private room: Colyseus.Room = null;\r\n    private msgWINNERS: string = \"\";\r\n\r\n    private isFold: boolean = false;\r\n    private isAllIn: boolean = false;\r\n\tprivate isSitout: boolean = false;\r\n\tprivate isWait: boolean = false;\r\n\r\n    private readyMessageHandler: number = -1;\r\n    private countPlayers: number = -1;\r\n\r\n\tstatic seatMaxFromServer : number = 9;\r\n\r\n\tprivate isSitOutReservation: boolean = false;\r\n\tprivate labelCurrentPot: Label = null;\r\n\r\n\tprivate rootPotChips: Node = null;\r\n\tprivate labelSitout: Label = null;\r\n\tprivate labelSitback: Label = null;\r\n\tprivate isReserveSitout: boolean = false;\r\n\tprivate isSitoutable: boolean = false;\r\n\tprivate labelReservationSitout: Label = null;\r\n\tprivate rootCurrentPot: Node = null;\r\n\tprivate reserveLeave: boolean = false;\r\n\tprivate updateClinet: boolean = true;\r\n\r\n    init() {\r\n        this.seatMax = UiTable.seatMaxFromServer;\r\n        globalThis.lib = {};\r\n\r\n        PokerEvaluator.exportToGlobal(globalThis.lib);\r\n\r\n        Board.table = this;\r\n        \r\n        this.childRegistered();\r\n\r\n        this.uiSeats.init(this.seatMax, this.onClickSeatSelect.bind(this));\r\n\t\tthis.uiBuyIn.init();\r\n\t\tthis.uiProfile.init();\r\n\r\n\t\tthis.uiGameChatting.init( this.onClickEmoticon.bind(this), this.onClickEmticonExit.bind(this));\r\n\t\tthis.setEmoticonButtinInteractive(true);\r\n\t\tthis.uiPlayerActionReservation.init();\r\n\t\tthis.uiWinEffect.init();\r\n\t\tthis.uiPotChips.init();\r\n\t\tthis.uiRoundPotValue.init();\r\n\t\tthis.uiShowDownEffect.Init();\r\n\t\tthis.uiEffectShowRiver.Init();\r\n\t\tthis.uiCommunityCards.Init();\r\n\r\n\t\tthis.playerActionInformation.Init();\r\n\r\n        if ( null == NetworkManager.Instance().room ) {\r\n            return;\r\n        }\r\n\r\n        this.registRoomEvent(NetworkManager.Instance().room);\r\n\r\n\t\tUiControls.instance.setExitCallback( this.onCLICK_EXIT.bind(this) );\r\n\t\tUiControls.instance.show();\r\n\r\n\t\tlet bg: Sprite = this.node.getChildByPath('SPRITE_BACKGROUND').getComponent(Sprite);\r\n        if ( bg != null ) {\r\n            ResourceManager.Instance().setBackgroundImage(bg);\r\n            bg.node.active = true;\r\n        }\r\n\r\n        let tb: Sprite = this.node.getChildByPath('SPRITE_TABLE').getComponent( Sprite );\r\n        if ( tb != null ) {\r\n            ResourceManager.Instance().setTableImage(tb);\r\n            tb.node.active = true;            \r\n        }\r\n\r\n\t\tthis.buttonEmoticon.node.on('click', this.onClickShowEmoticon.bind(this), this);\r\n\t\tthis.buttonAddChips.node.on('click', this.onClickAddChips.bind(this), this);\r\n\r\n\t\tthis.hide();\r\n        this.sendMsg(\"ONLOAD\", {\r\n\r\n        });\r\n    }\r\n\r\n\tonClickShowEmoticon(button: Button) {\r\n\t\tAudioController.instance.ButtonClick();\t\t\r\n\t\tthis.uiGameChatting.show();\r\n\t}\r\n\r\n\tonClickEmoticon( type: EMOTICON_TYPE, id: number ) {\r\n\t\tthis.sendMsg(\"SHOW_EMOTICON\", { \r\n\t\t\tseat : this.mySeat, \r\n\t\t\ttype: type,\r\n\t\t\tid: id,\r\n\t\t});\r\n\t\tthis.uiGameChatting.hide();\t\t\r\n\r\n\t\tlet uiEntity =  this.GetEntityFromSeat( this.mySeat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.setEmoticon(type, id)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setEmoticonButtinInteractive(enable: boolean) {\r\n\t\tthis.buttonEmoticon.interactable = enable;\r\n\t}\r\n\r\n\tonClickEmticonExit() {\r\n\r\n\t}\r\n\r\n    private childRegistered() {\r\n\t\tthis.uiPlayerAction = this.node.getChildByPath( \"PLAYER_ACTION\" ).getComponent( UiPlayerAction );\r\n\t\tthis.uiPlayerAction.hide();\r\n\r\n\t\tthis.nodeCardDispensingRoot = this.node.getChildByPath( \"CARD_DISPENSING_ROOT\" );\r\n\r\n\t\tlet entitiesRoot9 = this.node.getChildByPath( `ENTITIES_9` );\r\n\t\tlet entitiesRoot6 = this.node.getChildByPath( `ENTITIES_6` );\r\n\r\n\t\tlet entitiesRootPath = `ENTITIES_${ this.seatMax }`;\r\n\r\n\t\tif( entitiesRoot9.name === entitiesRootPath ) {\r\n\t\t\tentitiesRoot9.active = true;\r\n\t\t\tentitiesRoot6.active = false;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tentitiesRoot9.active = false;\r\n\t\t\tentitiesRoot6.active = true;\r\n\t\t}\r\n\r\n\t\tthis.ENTITY_ELEMENTS = [];\r\n\t\tlet playerMe = this.node.getChildByPath( `${ entitiesRootPath }/ENTITY_ME` ).getComponent( UiEntity );\r\n\t\tif ( playerMe != null ) {\r\n\t\t\tplayerMe.isMe = true;\r\n\t\t\tplayerMe.Init();\r\n\t\t\tthis.ENTITY_ELEMENTS.push( playerMe );\r\n\t\t}\r\n\r\n\t\tfor( let i = 1; i < this.seatMax; i++ ) {\r\n\t\t\tlet elem = this.node.getChildByPath( `${ entitiesRootPath }/ENTITY_${ i }` ).getComponent( UiEntity );\r\n\t\t\tif ( elem != null ) {\r\n\t\t\t\telem.isMe = false;\r\n\t\t\t\telem.Init();\r\n\t\t\t\tthis.ENTITY_ELEMENTS.push( elem );\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.rootPotChips = this.node.getChildByPath('ROUND_POT/POT_CHIPS');\r\n\r\n\t\tfor ( let i = 1; i < this.ENTITY_ELEMENTS.length; i++ ) {\r\n\t\t\tlet entity = this.ENTITY_ELEMENTS[i];\r\n\t\t\tif (entity != null) {\r\n\t\t\t\tentity.SetEscape();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.spritePotRoot = this.node.getChildByPath( \"POT\" ).getComponent( Sprite );\r\n\t\tthis.spritePotRoot.node.active = false;\r\n\r\n\t\tlet winnerChips = this.node.getChildByPath( \"WINNER_CHIPS\" );\r\n\t\tlet keys = Object.keys( this.objPotMoveToWinnerChips );\r\n\t\tkeys.forEach( elem => {\r\n\t\t\tlet obj = this.objPotMoveToWinnerChips[ elem ];\r\n\t\t\tfor( let i = 0; i < obj.sprChips.length; i++ ) {\r\n\t\t\t\tlet spr: Sprite = obj.sprChips[ i ];\r\n\t\t\t\tspr.node.destroy();\r\n\t\t\t\tspr.node.removeFromParent();\r\n\t\t\t}\r\n\t\t\tobj.sprChips = [];\r\n\t\t} );\r\n\r\n\t\tthis.objPotMoveToWinnerChips = {};\r\n\r\n\t\tlet originalSprChipsCount = winnerChips.children.length;\r\n\t\tfor( let loopIdx: number = 0; loopIdx < 10; loopIdx++ ) {\r\n\t\t\tlet cloneSprArray: Sprite[] = [];\r\n\t\t\tfor( let i = 0; i < originalSprChipsCount; i++ ) {\r\n\t\t\t\tlet node: Node = winnerChips.children[ i ];\r\n\t\t\t\tif( false == node.isValid ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnode.active = false;\r\n\t\t\t\tlet newNode = instantiate( node );\r\n\t\t\t\tnewNode.setParent( node.parent );\r\n\t\t\t\tnewNode.position = new Vec3( node.position );\r\n\t\t\t\tnewNode.scale = new Vec3( node.scale );\r\n\t\t\t\tnewNode.name = `sprChip_${ loopIdx }_${ i }`;\r\n\t\t\t\tcloneSprArray.push( newNode.getComponent( Sprite ) );\r\n\t\t\t}\r\n\r\n\t\t\tthis.objPotMoveToWinnerChips[ loopIdx ] = { sprChips: cloneSprArray };\r\n\t\t}\r\n\r\n\t\tlet returnChips = this.node.getChildByPath(\"RETURN_CHIPS\");\r\n\t\tlet rKeys = Object.keys(this.objPotReturnChips);\r\n\r\n\t\trKeys.forEach(elem => {\r\n\t\t\tlet obj = this.objPotReturnChips[ elem ];\r\n\t\t\tfor(let i = 0 ; i < obj.sprChips.length; i++){\r\n\t\t\t\tlet spr : Sprite = obj.sprChips[i];\r\n\t\t\t\tspr.node.destroy();\r\n\t\t\t\tspr.node.removeFromParent();\r\n\t\t\t}\r\n\r\n\t\t\tobj.sprChips = [];\r\n\t\t})\r\n\r\n\t\tthis.objPotReturnChips = {};\r\n\t\t\r\n\t\tlet originSprReturnChipsCount = returnChips.children.length;\r\n\t\tfor(let i = 0; i < 10;i++){\r\n\t\t\tlet clone: Sprite[] = [];\r\n\t\t\tfor(let j = 0; j < originSprReturnChipsCount; j++){\r\n\t\t\t\tlet node : Node = returnChips.children[ j ];\r\n\r\n\t\t\t\tif(false == node.isValid){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnode.active = false;\r\n\t\t\t\tlet newNode = instantiate(node);\r\n\t\t\t\tnewNode.setParent(node.parent);\r\n\t\t\t\tnewNode.position = new Vec3(node.position);\r\n\t\t\t\tnewNode.scale = new Vec3(node.scale);\r\n\t\t\t\tnewNode.name = `sprChip_${ i }_${ j }`;\r\n\t\t\t\tclone.push( newNode.getComponent( Sprite ) );\r\n\t\t\t}\r\n\r\n\t\t\tthis.objPotReturnChips[ i ] = {sprChips : clone};\r\n\t\t}\r\n\t\t/////////////////////////\r\n\r\n\t\tthis.labelReadyMessage = this.node.getChildByPath(\"LABLE_READY_MESSAGE\").getComponent( Label );\r\n\t\tthis.labelReadyMessage.string = \"\";\r\n\t\tthis.labelReadyMessage.node.active = false;\r\n\r\n\t\tlet isOn = true;\r\n\r\n\t\tthis.buttonShowCard.node.off('click');\r\n\t\tthis.buttonShowCard.node.on('click', this.onClickShowCard.bind(this));\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\r\n\t\tthis.buttonSitout.node.off('click');\r\n\t\tthis.buttonSitout.node.on('click', this.onClickSitout.bind(this));\r\n\t\tthis.buttonSitout.node.active = false;\r\n\r\n\t\tthis.labelSitout = this.buttonSitout.node.getChildByPath('LABEL').getComponent(Label);\r\n\t\tif ( this.labelSitout != null ) {\r\n\t\t\tthis.labelSitout.string = '자리비움';\r\n\t\t}\r\n\r\n\t\tthis.buttonSitback.node.off('click');\r\n\t\tthis.buttonSitback.node.on('click', this.onClickSitback.bind(this));\r\n\t\tthis.buttonSitback.node.active = false;\r\n\r\n\t\tthis.labelSitback = this.buttonSitback.node.getChildByPath('LABEL').getComponent(Label);\r\n\t\tif ( this.labelSitback != null ) {\r\n\t\t\tthis.labelSitback.string = '게임복귀';\r\n\t\t}\r\n\r\n\t\tthis.nodeCardShuffleMessage.active = false;\r\n\r\n\t\tthis.labelReservationSitout = this.node.getChildByPath('LABEL_RESERVATION_SITOUT').getComponent(Label);\r\n\t\tif ( this.labelReservationSitout != null ) {\r\n\t\t\tthis.labelReservationSitout.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonSitoutCancel.node.off('click');\r\n\t\tthis.buttonSitoutCancel.node.on('click', this.onClickSitCancel.bind(this));\r\n\t\tthis.buttonSitoutCancel.node.active = false;\r\n\r\n\t\tthis.rootCurrentPot = this.node.getChildByPath('CURRENT_POT');\r\n\t\tif ( this.rootCurrentPot != null ) {\r\n\t\t\tthis.rootCurrentPot.active = false;\r\n\r\n\t\t\tthis.labelCurrentPot = this.rootCurrentPot.getChildByPath('LABEL_CURRENT_POT').getComponent(Label);\r\n\t\t\tthis.labelCurrentPot.string = '0';\r\n\t\t\tthis.labelCurrentPot.node.active = false;\r\n\t\t}\r\n    }\r\n\r\n\tprivate SetCurrentPot( value: number ) {\r\n\t\tlet v = CommonUtil.getKoreanNumber( value );\r\n\t\tthis.labelCurrentPot.string = v;\r\n\r\n\t\tthis.labelCurrentPot.node.active = true;\r\n\t\tthis.rootCurrentPot.active = true;\t\t\r\n\t}\r\n\r\n\tprivate ResetCurrentPot() {\r\n\t\tthis.labelCurrentPot.string = '0';\r\n\t\tthis.rootCurrentPot.active = false;\r\n\t}\r\n\r\n    private onClickSeatSelect(no: number)\r\n    {\r\n        this.sendMsg(\"SEAT_SELECT\", {\r\n            selected: no,\r\n        });\r\n    }\r\n\r\n    private onSHOW_SELECT_SEAT(msg: any) {\r\n        let limitTime = msg[\"limitTime\"];\r\n        this.uiSeats.startSeatsSelect(limitTime);\r\n\r\n\t\tthis.node.active = false;\r\n    }\r\n\r\n    private onSELECT_SEAT_ERROR(msg: any) {\r\n        this.uiSeats.onResultFail();\r\n    }\r\n\r\n    private onUPDATE_SELECT_SEAT(msg: any) {\r\n        this.uiSeats.updateSeatInfo( msg[\"entities\"], msg[\"seatInfo\"], msg[\"bbSeat\"], msg[\"sbSeat\"], msg[\"dealerSeat\"]);\r\n    }\r\n\r\n    public onClickSitout() {\r\n\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tthis.buttonSitout.interactable = false;\r\n\r\n\t\tthis.SetSitout();\r\n\t}\r\n\r\n    public onClickSitback() {\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tthis.buttonSitback.interactable = false;\r\n\r\n\t\tthis.SetSitback();\r\n    }\r\n\r\n\tpublic onClickSitCancel( button: Button ) {\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tbutton.interactable = false;\r\n\r\n\t\tthis.sendMsg(\"SIT_OUT_CANCEL\", { \r\n\t\t\tseat : this.mySeat \r\n\t\t});\t\t\r\n\t}\r\n\r\n\tprivate SetSitout() {\r\n\t\tthis.sendMsg(\"SIT_OUT\", { \r\n\t\t\tseat : this.mySeat \r\n\t\t});\r\n\t}\r\n\r\n\tprivate SetSitback() {\r\n\t\tthis.sendMsg(\"SIT_BACK\", {\r\n\t\t\tseat : this.mySeat\r\n\t\t});\r\n\t}\r\n\r\n    onClickAddChips() {\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tthis.sendMsg( \"ADD_CHIPS_REQUEST\", {seat: this.mySeat } );\r\n    }\r\n\r\n    onCLICK_EXIT() {\r\n\r\n\t\tlet user = NetworkManager.Instance().GetUser();\r\n\t\tif ( this.uiSeats.node.active == true ) {\r\n\t\t\tUiGameSystemPopup.instance.showYesNoPopup(\"게임종료\", \"게임을 나가시겠습니까?\", ()=>{\r\n\r\n\t\t\t\tthis.sendMsg(\"EXIT_TABLE\", {\r\n\t\t\t\t\tseat : this.mySeat,\r\n\t\t\t\t\tid : user.id,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t}, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tUiGameSystemPopup.instance.showYesNoPopup(\"게임종료\", \"게임을 나가시겠습니까?\", ()=>{\r\n\r\n\t\t\t\tthis.sendMsg(\"EXIT_TABLE\", {\r\n\t\t\t\t\tseat : this.mySeat,\r\n\t\t\t\t\tid : user.id,\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t}, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    public show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    public hide() {\r\n\t\tclearInterval(this.readyMessageHandler);        \r\n        this.node.active = false;\r\n    }\r\n\r\n    registRoomEvent( room: Colyseus.Room ) {\r\n        this.room = room;\r\n        room.onMessage( \"NEW_ENTITY\", this.onNEW_ENTITY.bind( this ) );\r\n\t\troom.onMessage( \"HANDLE_ESCAPEE\", this.onHANDLE_ESCAPEE.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SUSPEND_ROUND\", this.onSUSPEND_ROUND.bind( this ) );\r\n\t\troom.onMessage( \"READY_ROUND\", this.onREADY_ROUND.bind( this ) );\r\n\t\troom.onMessage( \"PREPARE_ROUND\", this.onPREPARE_ROUND.bind( this ) );        \r\n        room.onMessage( \"CARD_DISPENSING\", this.onCARD_DISPENSING.bind( this ) );\r\n\t\troom.onMessage( \"BLIND_BET\", this.onBLIND_BET.bind( this ) );\r\n\t\troom.onMessage( \"PRE_FLOP_END\", this.onPRE_FLOP_END.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SHOW_FLOP\", this.onSHOW_FLOP.bind( this ) );\r\n\t\troom.onMessage( \"FLOP_END\", this.onFLOP_END.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SHOW_TURN\", this.onSHOW_TURN.bind( this ) );\r\n\t\troom.onMessage( \"TURN_END\", this.onTURN_END.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SHOW_RIVER\", this.onSHOW_RIVER.bind( this ) );\r\n\t\troom.onMessage( \"RIVER_END\", this.onRIVER_END.bind( this ) );\r\n\r\n\t\troom.onMessage( 'SHOWDOWN_START', this.onSHOWDOWN_START.bind(this) );\r\n\t\troom.onMessage( 'SHOWDOWN_FLOP', this.onSHOWDOWN_FLOP.bind(this) );\r\n\t\troom.onMessage( 'SHOWDOWN_TURN', this.onSHOWDOWN_TURN.bind(this) );\r\n\t\troom.onMessage( 'SHOWDOWN_RIVER', this.onSHOWDOWN_RIVER.bind(this) );\r\n\t\troom.onMessage( \"CLEAR_ROUND\", this.onCLEAR_ROUND.bind( this ) );\r\n        \r\n        //PLAYER ACTION\r\n\t\troom.onMessage( \"YOUR_TURN\", this.onYOUR_TURN.bind( this ) );\r\n\t\troom.onMessage( \"FOLD\", this.onFOLD.bind( this ) );\r\n\t\troom.onMessage( \"CHECK\", this.onCHECK.bind( this ) );\r\n\t\troom.onMessage( \"CALL\", this.onCALL.bind( this ) );\r\n\t\troom.onMessage( \"BET\", this.onBET.bind( this ) );\r\n\t\troom.onMessage( \"RAISE\", this.onRAISE.bind( this ) );\r\n\t\troom.onMessage( \"SHOW_CARD\", this.onSHOW_CARD.bind( this ) );\r\n\t\troom.onMessage( \"PLAYER_CARDS\", this.onPLAYER_CARDS.bind( this ) );\r\n\t\troom.onMessage( \"WINNERS\", this.onWINNERS.bind( this ) );\r\n\r\n        room.onMessage( \"BUY_IN\", this.onBUY_IN.bind( this ) );\r\n\t\troom.onMessage( \"RES_BUY_IN\", this.onRES_BUY_IN.bind( this ) );\r\n\t\troom.onMessage( \"RES_RE_BUY\", this.onRES_RE_BUY.bind( this ) );\r\n\t\t\r\n\t\troom.onMessage( \"RE_BUY_IN\", this.onRE_BUY_IN.bind( this ) );\r\n\t\troom.onMessage( \"RES_ADD_CHIPS_REQUEST\", this.onRES_ADD_CHIPS_REQUEST.bind( this ) );\r\n\t\troom.onMessage( \"RES_ADD_CHIPS\", this.onRES_ADD_CHIPS.bind( this ) );\r\n\r\n\t\troom.onMessage( \"RES_ADD_CHIPS_PEND\", this.onRES_ADD_CHIPS_PEND.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SIT_OUT\", this.onSIT_OUT.bind(this));\r\n\t\troom.onMessage( \"SIT_OUT_PEND\", this.onSIT_OUT_PEND.bind(this));\r\n\t\troom.onMessage( \"SIT_OUT_CANCEL\", this.onSIT_OUT_CANCEL.bind(this));\t\t\r\n\t\troom.onMessage( \"SIT_BACK\", this.onSIT_BACK.bind(this));\r\n\r\n        room.onMessage( \"SHOW_SELECT_SEAT\", this.onSHOW_SELECT_SEAT.bind(this));\r\n        room.onMessage( \"UPDATE_SELECT_SEAT\", this.onUPDATE_SELECT_SEAT.bind(this));\r\n\t\troom.onMessage( \"SELECT_SEAT_ERROR\", this.onSELECT_SEAT_ERROR.bind(this));\r\n\t\troom.onMessage( \"SHOW_EMOTICON\", this.onSHOW_EMOTICON.bind(this));\r\n\t\troom.onMessage( \"SHOW_PROFILE\", this.onSHOW_PROFILE.bind(this));\r\n\r\n\t\troom.onMessage( \"TOKEN_VERIFY\", this.onTOKEN_VERIFY.bind(this));\r\n\r\n\t\troom.onMessage( \"SYNC_TABLE\", this.onSYNC_TABLE.bind(this));\r\n\t\troom.onMessage( \"EXIT_TABLE\", this.onEXIT_TABLE.bind(this));\r\n\r\n\t\troom.onMessage( \"MASTER_CALL\", this.onMASTER_CALL.bind(this));\r\n\r\n        \r\n        this.room.onMessage( \"JOIN\", msg => {\r\n            this.onJOIN(room, msg);\r\n        });\r\n\r\n        this.room.onMessage( \"REJOIN\", msg => {\r\n            this.onRE_JOIN(room, msg);\r\n        });\r\n\r\n        room.onLeave((code)=>{\r\n            this.leaveRoom(code);\r\n            this.hide();\r\n\r\n\t\t\tif ( this.uiSeats.isSeatsSelectOpen() == true ) {\r\n\t\t\t\tthis.uiSeats.leave();\r\n\t\t\t}\r\n\r\n            NetworkManager.Instance().room.removeAllListeners();\r\n            NetworkManager.Instance().leaveReason = code;\r\n\r\n\t\t\tdirector.loadScene(\"LobbyScene\");\r\n        });\r\n\r\n        room.onMessage( \"ping\", this.onPING.bind( this ) );\r\n    }\r\n\r\n\tprivate onSHOW_EMOTICON(msg) {\r\n\t\tlet seat = msg['seat'];\r\n\t\tif ( seat == this.mySeat ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet type = msg['type'];\r\n\t\tlet id = msg['id'];\r\n\r\n\t\tlet uiEntity =  this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tif (type == 0 ) {\r\n\t\t\t\tuiEntity.setEmoticon(EMOTICON_TYPE.Emoticon, id);\r\n\t\t\t} else {\r\n\t\t\t\tuiEntity.setEmoticon(EMOTICON_TYPE.Chatting, id);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onSHOW_PROFILE(msg) {\r\n\r\n\t\tlet statics = msg['statics'];\r\n\t\tlet entity = msg['entity'];\r\n\t\tlet seat = msg['seat'];\r\n\r\n\t\tlet me = (this.mySeat == seat) ;\r\n\r\n\t\tif ( statics != null ) {\r\n\t\t\tthis.uiProfile.show( entity, statics, me );\r\n\t\t} else {\r\n\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('프로필', '정보를 불러올 수 없습니다.', ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate onEXIT_TABLE( msg ) {\r\n\t\tthis.uiSeats.end();\r\n\t\tthis.room?.leave( false );\r\n\t}\r\n\r\n\tprivate onMASTER_CALL( msg ) {\r\n\t\tlet popup = msg['popup'];\r\n\t\tif ( popup != null ) {\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('SYSTEM', popup, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onTOKEN_VERIFY( msg ) {\r\n\t\tlet verify = msg['verify']\r\n\t\tif ( verify == true ) {\r\n\r\n\t\t} else {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onSYNC_TABLE( msg ) {\r\n\t\treturn;\r\n\r\n\t\tthis.GAME_STATE = msg['gameState'];\r\n\t\tthis.SHOWDOWN_STATE = msg['showdownState'];\r\n\r\n\t\tthis.uiCommunityCards.Reset();\r\n\t\tthis.uiPot.maxPotRoot.active = false;\r\n\t\tthis.labelCurrentPot.node.active = false;\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\r\n\t\tthis.uiPot.Hide();\r\n\t\tthis.uiPotChips.hide();\r\n\t\tthis.uiRoundPotValue.hide();\r\n\t\tthis.uiProfile.hide();\r\n\r\n\t\tthis.msgWINNERS = '';\r\n\r\n\t\tthis.uiPlayerAction.init( Board.small, Board.big );\r\n\t\tthis.uiPlayerAction.hide();\r\n\t\tthis.uiPlayerActionReservation.hide();\r\n\r\n\t\tlet myEntity = msg[\"yourself\"];\t\t\r\n\t\tBoard.balance = myEntity.balance;\r\n\t\tthis.mySeat = myEntity.seat;\r\n\t\tthis.myChips = myEntity.chips;\r\n\t\tthis.myWaitStatus = myEntity.wait;\r\n        this.isFold = false;\r\n\t\tthis.isAllIn = false;\r\n\t\tthis.isSitout = myEntity.isSitOut;\r\n\r\n        let players: any = msg[\"entities\"];\r\n\t\tthis.countPlayers = players.length;\r\n        this.SEAT_PLAYERS = [];\r\n\r\n        for ( let i = 0; i < this.seatMax ; i++) {\r\n            let seat = this.mySeat + i;\r\n            this.SEAT_PLAYERS.push( seat % this.seatMax );\r\n        }\r\n\r\n        this.SetEntities( players );\r\n\t\tthis.enableSeats = [];\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity =  msg[ \"entities\" ].find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\r\n\t\t\tif( null == entity ) {\r\n\t\t\t\tuiEntity.SetEscape();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.enableSeats.push( entity.seat );\r\n\t\t}\t\t\r\n\r\n\t\tif ( this.GAME_STATE == GAME_STATE_SUSPEND ) {\r\n\r\n\t\t\tthis.labelReadyMessage.string = '다른 플레이어를 기다리고 있습니다';\r\n\t\t\tthis.labelReadyMessage.node.active = true;\r\n\r\n\t\t\tthis.uiPot.Hide();\r\n\r\n\t\t} else {\r\n\t\t\tthis.seatDealer = msg[\"dealer\"];\r\n\t\t\tlet uiDealer = this.GetEntityFromSeat( this.seatDealer );\r\n\t\t\tif ( uiDealer != null ) {\r\n\t\t\t\tuiDealer.SetButtons('DEALER');\r\n\t\t\t}\r\n\r\n\t\t\tthis.seatSB = msg['sb'];\r\n\t\t\tlet uiSB = this.GetEntityFromSeat( this.seatSB );\r\n\t\t\tif ( uiSB != null ) {\r\n\t\t\t\tuiSB.SetButtons('SB');\r\n\t\t\t}\r\n\r\n\t\t\tthis.seatBB = msg['bb'];\r\n\t\t\tlet uiBB = this.GetEntityFromSeat( this.seatBB );\r\n\t\t\tif ( uiBB != null ) {\r\n\t\t\t\tuiBB.SetButtons('BB');\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.GAME_STATE == GAME_STATE_PREFLOP ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_BET || \r\n\t\t\t\t this.GAME_STATE == GAME_STATE_FLOP ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_TURN ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_RIVER )\r\n\t\t\t{\r\n\t\t\t\tthis.curPotValue = msg['pot'];\r\n\t\t\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\t\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\r\n\t\t\t\tplayers.forEach( ( e )=> {\r\n\t\t\t\t\tlet uiEntity = this.GetEntityFromSeat( e.seat );\r\n\t\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\t\tif ( e.wait == true ) {\r\n\t\t\t\t\t\t\tuiEntity.SetWait( e );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif ( e.fold == true ) {\r\n\t\t\t\t\t\t\t\tuiEntity.SetFold( true );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif ( e.seat != this.mySeat ) {\r\n\t\t\t\t\t\t\t\t\tuiEntity.ClearHands();\r\n\t\t\t\t\t\t\t\t\tuiEntity.SetShowHiddenCard();\r\n\t\t\t\t\t\t\t\t\tuiEntity.SetBetValue( e.roundBet );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.curPotValue = msg['pot'];\r\n\t\t\t\tif ( this.curPotValue > 0 ) {\r\n\t\t\t\t\tthis.labelCurrentPot.string = '현재 팟: ' + CommonUtil.getKoreanNumber(this.curPotValue);\r\n\t\t\t\t}\r\n\t\t\t\tthis.uiPotChips.show( msg['initPot'] );\r\n\t\t\t\tthis.uiRoundPotValue.show( msg['initPot'] );\r\n\t\t\t\t\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\t\t\t} else if ( this.GAME_STATE == GAME_STATE_RESULT ) {\r\n\t\t\t\tlet playerCards = msg['playerCards'];\r\n\t\t\t\tlet winners = msg['winners'];\r\n\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\r\n\t\t\t\tif ( playerCards != null ) {\r\n\t\t\t\t\tthis.onPLAYER_CARDS(playerCards);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( winners != null ) {\r\n\t\t\t\t\tthis.onWINNERS(winners);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( this.GAME_STATE == GAME_STATE_SHOWDOWN ) {\r\n\t\t\t\tlet showdown = msg['showdown'];\r\n\t\t\t\tlet winners = msg['winners'];\r\n\t\t\t\t\r\n\t\t\t\tthis.ShowdownOpenHands(showdown);\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\t\t\t\tthis.UpdatePlayerHandRank();\r\n\r\n\t\t\t\tif ( this.SHOWDOWN_STATE == SHOWDOWN_END ) {\r\n\t\t\t\t\tif ( winners != null ) {\r\n\t\t\t\t\t\tthis.onWINNERS( winners );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n\r\n\tpublic LoadLobby() {\r\n\t\tdirector.loadScene(\"LobbyScene\");\r\n\t}\r\n\r\n    private onPING() {\r\n\r\n    }\r\n\r\n    public onRE_JOIN(room, msg) {\r\n\t\treturn;\r\n\r\n\t\tlet myEntity = msg[ \"yourself\" ];\r\n\r\n\t\tBoard.balance = myEntity.balance;\r\n\t\tBoard.big = msg[ \"big\" ];\r\n\t\tBoard.small = msg[ \"small\" ];\r\n\t\tBoard.minStakePrice = msg[\"minStakePrice\"];\r\n\t\tBoard.maxStakePrice = msg[\"maxStakePrice\"];\r\n\t\tBoard.passPrice = msg[ \"passPrice\" ];\r\n\r\n\t\tthis.timerRoot.active = msg[\"useTimePass\"];\r\n\r\n\t\tthis.room = room;\r\n\t\tthis.mySeat = myEntity.seat;\r\n\t\tthis.myChips = myEntity.chips;\r\n\t\tthis.myWaitStatus = myEntity.wait;\r\n\t\tthis.isFold = false;\r\n\t\tthis.SEAT_PLAYERS = [];\r\n\t\tthis.msgWINNERS = \"\";\r\n\t\t// this.playersCARD = null;\r\n\t\tthis.isAllIn = false;\r\n\t\tthis.curPotValue = msg[\"pot\"];\r\n\r\n\t\tthis.betMin = msg[\"minBet\"];\r\n\t\tthis.startBetFromServer = msg[\"minBet\"];\r\n\r\n\t\tthis.seatDealer = msg[\"dealer\"];\r\n\t\tthis.seatSB = msg[\"sb\"];\r\n\t\tthis.seatBB = msg[\"bb\"];\r\n\r\n\t\tfor( let i = 0; i < this.seatMax; i++ ) {\r\n\t\t\tlet seat = this.mySeat + i;\r\n\t\t\tthis.SEAT_PLAYERS.push( seat % this.seatMax );\r\n\t\t}\r\n\r\n\t\tif (true === myEntity.isSitOut) {\r\n\t\t\tthis.buttonSitout.node.active = false;\r\n\t\t\tthis.buttonSitback.node.active = true;\r\n\t\t} else {\r\n\t\t\tthis.buttonSitout.node.active = true;\r\n\t\t\tthis.buttonSitback.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\t\tlet players: any = msg[ \"entities\" ];\r\n\t\tthis.SetEntities( players );\r\n\t\tthis.countPlayers = players.length;\r\n\t\tthis.enableSeats = [];\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity =  msg[ \"entities\" ].find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\r\n\t\t\tif( null == entity ) {\r\n\t\t\t\tuiEntity?.SetEscape();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.enableSeats.push( entity.seat );\r\n\t\t}\t\t\r\n\r\n\t\t// this.setUiCommunityCards( msg[ \"openCards\" ] );\r\n\r\n\t\t// this.myPrimaryCardIndex = msg[\"primCard\"];\r\n\t\t// this.mySecondaryCardIndex = msg[\"secCard\"];\r\n\r\n\t\t// let uiEntity =  this.getUiEntityFromSeat(this.mySeat);\r\n\t\t// if (this.myPrimaryCardIndex != -1 && this.mySecondaryCardIndex != -1) {\r\n\t\t// \tlet sf: SpriteFrame = ResourceManager.Instance().getCardImage(this.myPrimaryCardIndex + 1);\r\n\t\t// \t// this.setAniOpenHand(uiEntity.spriteHandCards[0], sf, () => {\r\n\t\t// \t// });\r\n\r\n\t\t// \tsf = ResourceManager.Instance().getCardImage( this.mySecondaryCardIndex + 1 );\r\n\r\n\r\n\t\t// \t// this.setAniOpenHand(uiEntity.spriteHandCards[1], sf, () => {\r\n\t\t// \t// \tlet handRank = this.getHandRank(this.myPrimaryCardIndex, this.mySecondaryCardIndex, this.numberCommunityCards);\r\n\t\t// \t// \tuiEntity.setUiHandRank(handRank);\r\n\t\t// \t// });\r\n\r\n\t\t// \tif (myEntity.fold === true) {\r\n\t\t// \t\tuiEntity.setUiHandCardsFold();\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tif (msg[\"centerCardState\"] != 0) {\r\n\t\t\tmsg[\"entities\"].forEach(element => {\r\n\t\t\t\tlet seatNumber = element.seat;\r\n\t\t\t\tlet entity = this.GetEntityFromSeat(seatNumber);\r\n\r\n\t\t\t\tif (seatNumber === this.mySeat || true === element.wait) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// entity.setShowHiddenCard( true );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tlet uiDealer = this.GetEntityFromSeat( this.seatDealer );\r\n\t\tif ( uiDealer != null ) {\r\n\t\t\tuiDealer.SetButtons( 'DEALER');\r\n\t\t}\r\n\r\n\t\tlet uiSB = this.GetEntityFromSeat( this.seatSB );\r\n\t\tif ( uiSB != null ) {\r\n\t\t\tuiSB.SetButtons('SB');\r\n\t\t}\r\n\r\n\t\tlet uiBB = this.GetEntityFromSeat( this.seatBB );\r\n\t\tif ( uiBB != null ) {\r\n\t\t\tuiBB.SetButtons('BB');\r\n\t\t}\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.show();\r\n    }\r\n\r\n    public onJOIN( room, msg) {\r\n\t\tconsole.log('onJOIN');\r\n\r\n\t\tBoard.big = msg[\"big\"];\r\n\t\tBoard.small = msg[\"small\"];\r\n\t\tBoard.minStakePrice = msg[\"minStakePrice\"];\r\n\t\tBoard.maxStakePrice = msg[\"maxStakePrice\"];\r\n\r\n        this.room = room;\r\n\t\tthis.GAME_STATE = msg['gameState'];\r\n\t\tthis.SHOWDOWN_STATE = msg['showdownState'];\r\n\r\n\t\tthis.uiCommunityCards.Reset();\r\n\t\tthis.uiPot.maxPotRoot.active = false;\r\n\t\tthis.labelCurrentPot.node.active = false;\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\r\n\t\tthis.uiPot.Hide();\r\n\t\tthis.uiPotChips.hide();\r\n\t\tthis.uiRoundPotValue.hide();\r\n\t\tthis.uiProfile.hide();\r\n\r\n\t\tthis.msgWINNERS = '';\r\n\r\n\t\tthis.uiPlayerAction.init( Board.small, Board.big );\r\n\t\tthis.uiPlayerAction.hide();\r\n\t\tthis.uiPlayerActionReservation.hide();\r\n\r\n\t\tlet myEntity = msg[\"yourself\"];\t\t\r\n\t\tBoard.balance = myEntity.balance;\r\n\t\tthis.mySeat = myEntity.seat;\r\n\t\tthis.myChips = myEntity.chips;\r\n\t\tthis.myWaitStatus = myEntity.wait;\r\n        this.isFold = false;\r\n\t\tthis.isAllIn = false;\r\n\t\tthis.isSitout = myEntity.isSitOut;\r\n\r\n        let players: any = msg[\"entities\"];\r\n\t\tthis.countPlayers = players.length;\r\n        this.SEAT_PLAYERS = [];\r\n\r\n        for ( let i = 0; i < this.seatMax ; i++) {\r\n            let seat = this.mySeat + i;\r\n            this.SEAT_PLAYERS.push( seat % this.seatMax );\r\n        }\r\n\r\n        this.SetEntities( players );\r\n\t\tthis.enableSeats = [];\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity =  msg[ \"entities\" ].find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\r\n\t\t\tif( null == entity ) {\r\n\t\t\t\tuiEntity.SetEscape();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.enableSeats.push( entity.seat );\r\n\t\t}\t\t\r\n\r\n\t\tif ( this.GAME_STATE == GAME_STATE_SUSPEND ) {\r\n\r\n\t\t\tthis.labelReadyMessage.string = '다른 플레이어를 기다리고 있습니다';\r\n\t\t\tthis.labelReadyMessage.node.active = true;\r\n\r\n\t\t\tthis.uiPot.Hide();\r\n\r\n\t\t} else {\r\n\t\t\tthis.seatDealer = msg[\"dealer\"];\r\n\t\t\tlet uiDealer = this.GetEntityFromSeat( this.seatDealer );\r\n\t\t\tif ( uiDealer != null ) {\r\n\t\t\t\tuiDealer.SetButtons('DEALER');\r\n\t\t\t}\r\n\r\n\t\t\tthis.seatSB = msg['sb'];\r\n\t\t\tlet uiSB = this.GetEntityFromSeat( this.seatSB );\r\n\t\t\tif ( uiSB != null ) {\r\n\t\t\t\tuiSB.SetButtons('SB');\r\n\t\t\t}\r\n\r\n\t\t\tthis.seatBB = msg['bb'];\r\n\t\t\tlet uiBB = this.GetEntityFromSeat( this.seatBB );\r\n\t\t\tif ( uiBB != null ) {\r\n\t\t\t\tuiBB.SetButtons('BB');\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.GAME_STATE == GAME_STATE_PREFLOP ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_BET || \r\n\t\t\t\t this.GAME_STATE == GAME_STATE_FLOP ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_TURN ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_RIVER )\r\n\t\t\t{\r\n\t\t\t\tthis.curPotValue = msg['pot'];\r\n\t\t\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\t\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\r\n\t\t\t\tplayers.forEach( ( e )=> {\r\n\t\t\t\t\tlet uiEntity = this.GetEntityFromSeat( e.seat );\r\n\t\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\t\tif ( e.wait == true ) {\r\n\t\t\t\t\t\t\tuiEntity.SetWait( e );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif ( e.fold == true ) {\r\n\t\t\t\t\t\t\t\tuiEntity.SetFold( true );\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif ( e.seat != this.mySeat ) {\r\n\t\t\t\t\t\t\t\t\tuiEntity.ClearHands();\r\n\t\t\t\t\t\t\t\t\tuiEntity.SetShowHiddenCard();\r\n\t\t\t\t\t\t\t\t\tuiEntity.SetBetValue( e.roundBet );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.curPotValue = msg['pot'];\r\n\t\t\t\tif ( this.curPotValue > 0 ) {\r\n\t\t\t\t\tthis.labelCurrentPot.string = '현재 팟: ' + CommonUtil.getKoreanNumber(this.curPotValue);\r\n\t\t\t\t}\r\n\t\t\t\tthis.uiPotChips.show( msg['initPot'] );\r\n\t\t\t\tthis.uiRoundPotValue.show( msg['initPot'] );\r\n\t\t\t\t\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\t\t\t} else if ( this.GAME_STATE == GAME_STATE_RESULT ) {\r\n\t\t\t\tlet playerCards = msg['playerCards'];\r\n\t\t\t\tlet winners = msg['winners'];\r\n\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\r\n\t\t\t\tif ( playerCards != null ) {\r\n\t\t\t\t\tthis.onPLAYER_CARDS(playerCards);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( winners != null ) {\r\n\t\t\t\t\tthis.onWINNERS(winners);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( this.GAME_STATE == GAME_STATE_SHOWDOWN ) {\r\n\t\t\t\tlet showdown = msg['showdown'];\r\n\t\t\t\tlet winners = msg['winners'];\r\n\t\t\t\t\r\n\t\t\t\tthis.ShowdownOpenHands(showdown);\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\t\t\t\tthis.UpdatePlayerHandRank();\r\n\r\n\t\t\t\tif ( this.SHOWDOWN_STATE == SHOWDOWN_END ) {\r\n\t\t\t\t\tif ( winners != null ) {\r\n\t\t\t\t\t\tthis.onWINNERS( winners );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.SetSitoutButtons( this.isSitout );\r\n\r\n\t\tthis.scheduleOnce(()=>{\r\n\t\t\tAudioController.instance.PlaySound('VOICE_WELCOME');\r\n\t\t}, 0.5);\r\n\r\n    }\r\n\r\n    leaveRoom( code: any ) {\r\n\t\tconsole.log('leaveRoom');\r\n\r\n        this.ClearEntities();\r\n\t\tthis.ClearPot();\r\n\r\n\t\tthis.uiPlayerAction.hide();\r\n\t\tthis.uiBuyIn.node.active = false;\r\n\r\n\t\tthis.unscheduleAllCallbacks();\r\n\t\tthis.isAllIn = false;\r\n\t\tthis.room = null;\r\n    }\r\n\r\n\tprivate SetEntities( entities: any ) {\r\n\t\tif ( entities == null || entities.length == 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n        for (let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n            let seat = this.SEAT_PLAYERS[i];\r\n\r\n\t\t\tlet entity = entities.find( (e)=> {\r\n\t\t\t\treturn e.seat == seat;\r\n\t\t\t} );\r\n\r\n\t\t\tif ( entity != null ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tuiEntity.SetEntity( entity, this.OpenProfile.bind(this), this.CloseProfile.bind(this) );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n    private ClearEntities() {\r\n        for ( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n            let seat = this.SEAT_PLAYERS[ i ];\r\n            let uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetEntity( null, null, null );\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n    private setUiPot(pots: any[]) {\r\n\t\tthis.spritePotRoot.node.active = true;\r\n\t\tif (null !== pots || undefined !== pots) {\r\n\t\t\tthis.uiPot.Show(pots);\r\n\t\t}\r\n    }\r\n\r\n    private ClearPot() {\r\n\t\tthis.spritePotRoot.node.active = false;\r\n\t\tthis.labelCurrentPot.node.active = false;\r\n\t\tthis.uiPot.Hide();\r\n    }\r\n\r\n    private ClearEntitiesButtons() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => element.ClearButtons() );        \r\n    }\r\n\r\n\tprivate SetUiCommunityCards( cards: number[] ) {\r\n\t\tif ( cards != null ) {\r\n\t\t\tthis.uiCommunityCards.SetCommunityCards( cards );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate GetEntityFromSeat( seat: number ) {\r\n\t\tlet idx = this.SEAT_PLAYERS.findIndex( ( element )=> (element == seat) );\r\n\t\tif ( idx == -1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn this.ENTITY_ELEMENTS[idx];\r\n\t}\r\n\r\n\tpublic GetHandsEval( hands: number[], communities: number[] ): string {\r\n\t\tif ( hands == null || hands.length != 2 || hands[0] < 0 || hands[1] < 0 || hands[0] == hands[1] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( communities == null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet array = [];\r\n\r\n\t\thands.forEach( e => {\r\n\t\t\tif( -1 == e ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tarray.push( totalCards[ e ] );\r\n\t\t} );\r\n\r\n\t\tcommunities.forEach( e => {\r\n\t\t\tif( -1 == e ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet d = array.find( (element)=>{\r\n\t\t\t\treturn element == totalCards[e];\r\n\t\t\t});\r\n\r\n\t\t\tarray.push( totalCards[ e ] );\r\n\t\t} );\r\n\r\n\t\tlet rs = array.join();\r\n\t\tlet handRank = globalThis.lib[ \"Hand\" ].solve( rs.split( \",\" ) );\r\n\t\treturn handRank;\r\n\t}\r\n\r\n\tprivate SetMyHandRank() {\t\t\r\n\t\tif ( this.myCards[0] < 0 || this.myCards[1] < 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet hand = this.myCards;\r\n\t\tlet communities = this.uiCommunityCards.GetCommunityCards();\r\n\r\n\t\tlet evaluate: any = this.GetHandsEval( hand, communities);\r\n\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.SetHandRank( evaluate );\r\n\t\t}\r\n    }\r\n\r\n\tprivate SetPlayerHandRank( cards: number[], uiEntity: any ) {\r\n\t\tif ( cards.length != 2) {\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\r\n\t\tlet hand = cards;\r\n\t\tlet communities = this.uiCommunityCards.GetCommunityCards();\r\n\r\n\t\tlet evaluate: any = this.GetHandsEval( hand, communities);\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.SetHandRank( evaluate );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate EndTurns() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.endTurn();\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate ClearUiEntities() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.endTurn();\r\n\t\t\telement.ClearAction();\r\n\t\t\telement.clearUiBetValue();\t\t\t\r\n\t\t} );\t\t\r\n\t}\r\n\r\n    private clearUiEntitiesAction() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.ClearAction();\r\n\t\t} );\r\n    }\r\n\r\n    private clearUiEntitiesBetValue() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.clearUiBetValue();\r\n\t\t} );\r\n    }\r\n\r\n    private isEnableSeat( seat: number ): boolean {\r\n\t\treturn null != this.enableSeats.find( elem => elem == seat );\r\n    }\r\n\r\n    public sendMsg(key: string, msg: object) {\r\n        this.room?.send(key, msg);\r\n    }\r\n\r\n    private onNEW_ENTITY( msg ) {\r\n\t\tlet entity = msg[ \"newEntity\" ];\r\n\t\tif ( entity != null ) {\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( entity.seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetEntity( entity, this.OpenProfile.bind(this), this.CloseProfile.bind(this) );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconsole.log('entity == null ');\r\n\t\t}\r\n    }\r\n\r\n    private onCARD_DISPENSING( msg ) {\r\n\t\tconsole.log('onCARD_DISPENSING');\r\n\t\tthis.uiCommunityCards.Reset();\r\n\r\n\t\tthis.myCards = [msg[ \"primary\" ], msg[ \"secondary\" ]];\r\n\t\tthis.CardDispensing();\r\n    }\r\n\r\n    private onYOUR_TURN( msg ) {\r\n\t\tconsole.log('onYOUR_TURN');\r\n\r\n\t\tlet seat = msg[ \"player\" ];\r\n\t\tlet duration = msg[\"duration\"];\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\t\t\tif( seat == this.SEAT_PLAYERS[ i ] ) {\r\n\t\t\t\tuiEntity?.startTurn(duration);\r\n\t\t\t\tuiEntity?.StartActionTimer();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tuiEntity?.endTurn();\r\n\t\t}\r\n\r\n\t\tif( this.mySeat == seat ) {\r\n\r\n\t\t\tlet curBet = msg[ \"maxBet\" ];\r\n\t\t\tlet myBet = msg[ \"currBet\" ];\r\n\t\t\tlet minRaise = msg[ \"minRaise\" ];\r\n\t\t\tlet chips = msg[ \"chips\" ];\r\n\t\t\tlet curPot = msg[ \"currPot\" ];\r\n\t\t\tlet isLast = msg[\"isLast\"];\r\n\t\t\tlet hasAction = msg[\"action\"];\r\n\t\t\tlet maxChips = msg['maxChip'];\r\n\r\n\t\t\tAudioController.instance.PlaySound('MY_TURN');\r\n\t\t\tlet reservation = this.uiPlayerActionReservation.checkReservation( myBet, curBet );\r\n\t\t\tif ( reservation != ENUM_RESERVATION_TYPE.RESERVATION_NONE ) {\r\n\r\n\t\t\t\tthis.uiPlayerActionReservation.hide();\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\t\t\t\t\t\r\n\t\t\t\tif ( reservation == ENUM_RESERVATION_TYPE.RESERVATION_FOLD ) {\r\n\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tseat: this.mySeat\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tthis.uiPlayerActionReservation.reset( true );\r\n\t\t\t\t\tthis.scheduleOnce(()=>{\r\n\t\t\t\t\t\tthis.sendMsg( \"FOLD\", obj );\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t\t\r\n\t\t\t\t} else if ( reservation == ENUM_RESERVATION_TYPE.RESERVATION_CHECK ) {\r\n\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tthis.uiPlayerActionReservation.reset( true );\r\n\t\t\t\t\tthis.scheduleOnce(()=>{\r\n\t\t\t\t\t\tthis.sendMsg( \"CHECK\", obj );\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tlet uiEntity =  this.GetEntityFromSeat(this.mySeat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tuiEntity.StartActionTimer();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.uiPlayerActionReservation.hide();\r\n\r\n\t\t\tthis.uiPlayerAction.show( this.betMin, curBet, minRaise, curPot, myBet, chips, maxChips, isLast, hasAction);\r\n\t\t\t// this.playerActionInformation.Set( this.betMin, msg );\r\n\t\t\t// this.playerActionInformation.Show();\r\n\r\n\t\t\tthis.uiPlayerAction.cbCheck = () => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t};\r\n\t\t\t\tthis.sendMsg( \"CHECK\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbCall = ( betValue ) => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tbetAmount: betValue,\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t};\r\n\t\t\t\tthis.sendMsg( \"CALL\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbBet = ( betValue, callValue, sound ) => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tbetAmount: betValue,\r\n\t\t\t\t\tcallValue: callValue,\t\t\t\t\t\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\tsound: sound\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.sendMsg( \"BET\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbRaise = ( betValue, callValue, sound ) => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tbetAmount: betValue,\r\n\t\t\t\t\tcallValue: callValue,\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\tsound: sound\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.sendMsg( \"RAISE\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbAllIn = ( betValue, callValue ) => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tbetAmount: betValue,\r\n\t\t\t\t\tcallValue: callValue,\t\t\t\t\t\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t};\r\n\t\t\t\tthis.sendMsg( \"ALLIN\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbFold = () => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tseat: this.mySeat\r\n\t\t\t\t};\r\n\t\t\t\tthis.sendMsg( \"FOLD\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.uiPlayerAction.hide();\r\n\r\n\t\t\tlet uiEntity =  this.GetEntityFromSeat(this.mySeat);\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tif ( uiEntity.isFold == true || this.myWaitStatus == true ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet curBet = msg[ \"maxBet\" ];\r\n\t\t\t\tlet myBet = msg[ \"currBet\" ];\r\n\r\n\t\t\t\tthis.uiPlayerActionReservation.show( myBet, curBet);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    private onBLIND_BET( msg ) {\r\n\t\tconsole.log('onBLIND_BET');\r\n\r\n\t\tthis.roundState = \"BLIND_BET\";\r\n\r\n\t\tlet PLAYERS = msg[\"player\"];\r\n\r\n\t\tlet sb = msg[ \"sb\" ];\r\n\t\tlet bb = msg[ \"bb\" ];\r\n\t\tthis.betMin = msg[ \"maxBet\" ];\r\n\r\n\t\tthis.CLEAR_EFFECT();\r\n\r\n\t\tthis.clearUiEntitiesAction();\r\n\t\tthis.clearUiEntitiesBetValue();\r\n\r\n\t\tthis.uiPlayerActionReservation.reset();\r\n\t\tthis.uiPlayerActionReservation.showCheck( false );\r\n\r\n\t\tfor ( let i: number = 0 ; i < PLAYERS.length ; i++ ) {\r\n\t\t\tlet seat = PLAYERS[i].seat;\r\n\t\t\tif ( PLAYERS[i] == null || PLAYERS[i].seat == null || seat < 0 ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetStatus( PLAYERS[i] );\r\n\t\t\t\tuiEntity.SetBetValue( PLAYERS[i].totalBet );\r\n\r\n\t\t\t\tif ( PLAYERS[i].seat == sb.seat ) {\r\n\t\t\t\t\tuiEntity.SetBlindBet( PLAYERS[i].chips, true, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( PLAYERS[i].seat == bb.seat ) {\r\n\t\t\t\t\tuiEntity.SetBlindBet( PLAYERS[i].chips, false, true )\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( PLAYERS[i].seat != sb.seat && PLAYERS[i].seat != bb.seat ) {\r\n\t\t\t\t\tuiEntity.SetChips( PLAYERS[i].chips );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( seat == this.mySeat ) {\r\n\t\t\t\t\tthis.myChips == PLAYERS[i].chips;\r\n\t\t\t\t\tif ( PLAYERS[i].isBB == true) {\r\n\t\t\t\t\t\tthis.uiPlayerActionReservation.showCheck( true );\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.uiPotChips.show( 0 );\r\n\t\tthis.uiRoundPotValue.show( 0 );\r\n\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onSUSPEND_ROUND( msg ) {\r\n\t\tconsole.log('onSUSPEND_ROUND');\r\n\t\tclearInterval(this.readyMessageHandler);\r\n\r\n\t\tthis.roundState = \"SUSPEND_ROUND\";\r\n\t\tthis.labelReadyMessage.node.active = false;\r\n\r\n\t\tlet entities = msg[ \"entities\" ];\r\n\t\tthis.countPlayers = entities.length;\r\n\r\n\t\tthis.enableSeats = [];\r\n\r\n\t\tthis.CLEAR_EFFECT();\r\n\r\n\t\tthis.labelReadyMessage.string = '다른 플레이어를 기다리고 있습니다';\r\n\t\tthis.labelReadyMessage.node.active = true;\r\n\r\n\t\tthis.nodeCardShuffleMessage.active = false;\r\n\r\n\t\tthis.uiPot.Hide();\r\n\t\tthis.labelCurrentPot.node.active = false;\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity = entities.find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tif ( entity != null ) {\r\n\t\t\t\t\tuiEntity.SetPrepareRound( entity );\r\n\t\t\t\t\tif( seat == this.mySeat ) {\r\n\t\t\t\t\t\tthis.myWaitStatus = entity.wait;\r\n\t\t\t\t\t\t// this.isSitout = \r\n\t\t\t\t\t\tthis.isFold = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.enableSeats.push( entity.seat );\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuiEntity.SetEscape();\t\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.ResetCurrentPot();\r\n    }\r\n\r\n\tprivate CLEAR_EFFECT() {\r\n\t\tthis.uiWinEffect.hide();\r\n\t\tthis.uiEffectShowRiver.Hide();\r\n\t\tthis.uiShowDownEffect.Hide();\r\n\t}\r\n\r\n    private onREADY_ROUND( msg ) {\r\n\t\tconsole.log('onREADY_ROUND');\t\t\r\n\t\tthis.roundState = \"READY_ROUND\";\r\n\r\n\t\tthis.CLEAR_EFFECT();\r\n\t\tclearInterval(this.readyMessageHandler);\t\t\r\n\r\n\t\tlet timeMs = msg[ \"timeMS\" ] / 1000;\r\n\t\tlet lb:string = \"새로운 게임이 \" + timeMs + \" 초 후에 시작합니다\";\r\n\r\n\t\tthis.labelReadyMessage.string = lb;\r\n\t\tthis.labelReadyMessage.node.active = true;\r\n\r\n\t\tthis.readyMessageHandler = setInterval(()=> {\r\n\t\t\ttimeMs--;\r\n\t\t\tlb = \"새로운 게임이 \" + timeMs + \" 초 후에 시작합니다\";\r\n\t\t\tthis.labelReadyMessage.string = lb;\r\n\t\t\tif (timeMs < 0) {\r\n\t\t\t\tthis.labelReadyMessage.node.active = false;\r\n\t\t\t\tclearInterval(this.readyMessageHandler);\r\n\t\t\t}\r\n\t\t}, 1000);\r\n    }\r\n\r\n    private onPREPARE_ROUND( msg ) {\r\n\t\tconsole.log('onPREPARE_ROUND');\r\n\t\tthis.roundState = \"PREPARE_ROUND\";\r\n\r\n\t\tthis.CLEAR_EFFECT();\r\n\r\n\t\tthis.nodeCardShuffleMessage.active = false;\r\n\t\tthis.labelReadyMessage.node.active = false;\r\n\r\n\t\tthis.seatDealer = msg['dealerSeatPos'];\r\n\t\tthis.seatSB = msg['sbSeatPos'];\r\n\t\tthis.seatBB = msg['bbSeatPos'];\r\n\r\n\t\tlet entities = msg[ \"entities\" ];\r\n\t\tthis.countPlayers = entities.length;\r\n\r\n\t\tthis.startBetFromServer = msg[ \"startBet\" ];\r\n\t\tthis.betMin = msg[ \"startBet\" ];\r\n\r\n\t\tthis.enableSeats = [];\r\n\t\tthis.isAllIn = false;\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity = entities.find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\r\n\t\t\tif( null == entity ) {\r\n\t\t\t\tuiEntity.SetEscape();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif( seat == this.mySeat ) {\r\n\t\t\t\tthis.myWaitStatus = entity.wait;\r\n\t\t\t\tthis.isFold = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tif ( entity.wait == true ) {\r\n\t\t\t\t\tuiEntity.SetWait( entity );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.enableSeats.push( entity.seat );\r\n\t\t\t\t\tuiEntity.SetPrepareRound( entity );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.ClearPot();\r\n\t\tthis.ClearEntitiesButtons();\r\n\t\tthis.uiCommunityCards.Ready();\r\n\t\tthis.ResetCurrentPot();\r\n\r\n\t\tlet uiDealer = this.GetEntityFromSeat( this.seatDealer );\r\n\t\tif ( uiDealer != null ) {\r\n\t\t\tuiDealer.SetButtons('DEALER');\r\n\t\t}\r\n\r\n\t\tlet uiSB = this.GetEntityFromSeat( this.seatSB );\r\n\t\tif ( uiSB != null ) {\r\n\t\t\tuiSB.SetButtons('SB');\r\n\t\t}\r\n\r\n\t\tlet uiBB = this.GetEntityFromSeat( this.seatBB );\r\n\t\tif ( uiBB != null ) {\r\n\t\t\tuiBB.SetButtons('BB');\r\n\t\t}\r\n    }\r\n\r\n    private onHANDLE_ESCAPEE( msg ) {\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.SetEscape();\r\n\t\t}\r\n    }\r\n\r\n\tprivate onPRE_FLOP_END( msg ) {\r\n\t\tconsole.log('onPRE_FLOP_END');\r\n\t\tlet potValue = msg['pot'];\r\n\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.show( potValue );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    private onSHOW_FLOP( msg ) {\r\n\t\tconsole.log('onSHOW_FLOP');\r\n\t\tthis.roundState = \"SHOW_FLOP\";\r\n\r\n\t\tthis.uiPlayerActionReservation.resetCheck();\r\n\r\n\t\tthis.clearUiEntitiesAction();\r\n\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\r\n\t\tthis.uiCommunityCards.ShowFlopCards( cards, ()=>{\r\n\t\t\tif ( this.isEnableSeat( this.mySeat ) == true ) {\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tthis.curPotValue = msg['pot'];\r\n\t\tthis.uiPot.UpdatePotTotal( this.curPotValue );\r\n\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n\tprivate onFLOP_END( msg ) {\r\n\t\tconsole.log('onFLOP_END');\r\n\t\tlet potValue = msg['pot'];\r\n\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.updatePotVaule( potValue );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    private onSHOW_TURN( msg ) {\r\n\t\tconsole.log( 'onSHOW_TURN' );\t\t\r\n\t\tthis.roundState = \"SHOW_TURN\";\r\n\r\n\t\tthis.uiPlayerActionReservation.resetCheck();\r\n\t\tthis.clearUiEntitiesAction();\r\n\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\r\n\t\tthis.uiCommunityCards.ShowTurnCard( cards, ()=>{\r\n\t\t\tif ( this.isEnableSeat( this.mySeat ) == true ) {\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tthis.curPotValue = msg['pot'];\r\n\t\tthis.uiPot.UpdatePotTotal( this.curPotValue );\r\n\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n\tprivate onTURN_END( msg ) {\r\n\t\tconsole.log('onTURN_END');\r\n\t\tlet potValue = msg['pot'];\r\n\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.updatePotVaule( potValue );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\t\r\n\r\n    private onSHOW_RIVER( msg ) {\r\n\t\tconsole.log('onSHOW_RIVER');\r\n\t\tthis.roundState = \"SHOW_RIVER\";\r\n\r\n\t\tthis.uiPlayerActionReservation.resetCheck();\r\n\t\tthis.clearUiEntitiesAction();\r\n\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\r\n\t\tthis.uiCommunityCards.ShowRiverCard( cards, ()=>{\r\n\t\t\tif ( this.isEnableSeat( this.mySeat ) == true ) {\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.curPotValue = msg['pot'];\r\n\t\tthis.uiPot.UpdatePotTotal( this.curPotValue );\r\n\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n\tprivate onRIVER_END( msg ) {\r\n\t\tconsole.log('onRIVER_END');\r\n\t\tlet potValue = msg['pot'];\r\n\r\n\t\tthis.clearUiEntitiesAction();\r\n\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.updatePotVaule( potValue );\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n\tprivate ShowdownOpenHands( msg ) {\r\n\t\tlet pot: any = msg['pot'];\r\n\t\tthis.uiRoundPotValue.show(pot);\r\n\r\n\t\tlet hands = msg['hands'];\r\n\t\tlet keys = Object.keys( hands );\r\n\t\tthis.PLAYER_CARDS = {};\r\n\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif( false == this.isEnableSeat( seat ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.PLAYER_CARDS[ seat ] = {\r\n\t\t\t\tcards: [ hands[key][0], hands[key][1] ],\r\n\t\t\t};\r\n\t\t} );\r\n\t\tthis.ShowPlayersHand();\r\n\t}\r\n\r\n\tprivate onSHOWDOWN_START ( msg ) {\r\n\t\tconsole.log('onSHOWDOWN_START');\r\n\r\n\t\tlet pot: any = msg['pot'];\r\n\r\n\t\tthis.uiPlayerActionReservation.reset();\r\n\t\tthis.uiPlayerAction.hide();\r\n\t\tthis.ENTITY_ELEMENTS.forEach(element => element.endTurn());\r\n\r\n\t\tlet hands = msg['hands'];\r\n\t\tlet keys = Object.keys( hands );\r\n\t\tthis.PLAYER_CARDS = {};\r\n\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif( false == this.isEnableSeat( seat ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.PLAYER_CARDS[ seat ] = {\r\n\t\t\t\tcards: [ hands[key][0], hands[key][1] ],\r\n\t\t\t};\r\n\t\t} );\r\n\r\n\t\tthis.ChipsMoveToPot( pot, ()=>{\r\n\t\t\tthis.uiRoundPotValue.show(pot);\r\n\t\t\tthis.uiShowDownEffect.Show(()=>{\r\n\t\t\t\tthis.ShowPlayersHand();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onSHOWDOWN_FLOP( msg ) {\r\n\t\tconsole.log('onSHOWDOWN_FLOP');\r\n\t\tlet cards = msg['cards'];\r\n\r\n\t\tthis.uiCommunityCards.ShowFlopCards( cards, ()=>{\r\n\t\t\tthis.UpdatePlayerHandRank();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onSHOWDOWN_TURN( msg ) {\r\n\t\tconsole.log('onSHOWDOWN_TURN');\r\n\t\tlet cards = msg['cards'];\r\n\r\n\t\tthis.uiCommunityCards.ShowTurnCard( cards, ()=>{\r\n\t\t\tthis.UpdatePlayerHandRank();\t\t\t\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onSHOWDOWN_RIVER( msg ) {\r\n\r\n\t\tconsole.log('onSHOWDOWN_RIVER');\r\n\t\tlet cards = msg['cards'];\r\n\t\tlet river = cards[0];\r\n\r\n\t\tthis.uiEffectShowRiver.Show( river, ()=>{\r\n\t\t\tthis.uiCommunityCards.ShowRiverCardImmediate( cards );\r\n\t\t\tthis.UpdatePlayerHandRank();\r\n\t\t});\r\n\t}\r\n\t\r\n\tprivate ChipsMoveToPot( value, cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( value );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.updatePotVaule( value );\r\n\r\n\t\t\t\t\t\t\tif ( cbDone != null ) {\r\n\t\t\t\t\t\t\t\tcbDone();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n\r\n    private onCLEAR_ROUND( msg ) {\r\n\t\tconsole.log( msg );\r\n\t\tconsole.log('onCLEAR_ROUND');\r\n\r\n\t\tthis.uiCommunityCards.Reset();\r\n\t\tthis.ResetCurrentPot();\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\r\n\t\tthis.labelReadyMessage.node.active = false;\r\n\t\tthis.nodeCardShuffleMessage.active = false;\r\n\r\n\t\tthis.uiWinEffect.hide();\r\n\t\tthis.uiEffectShowRiver.Hide();\r\n\t\tthis.uiShowDownEffect.Hide();\r\n\r\n\t\tthis.uiPotChips.hide();\r\n\t\tthis.uiRoundPotValue.hide();\r\n\r\n\t\tthis.isAllIn = false;\r\n\t\tlet entities = msg[ \"entities\" ];\r\n\t\tthis.countPlayers = entities.length;\r\n\r\n\t\tthis.uiPlayerActionReservation.reset();\r\n\r\n\t\tthis.nodeCardShuffleMessage.active = true;\r\n\t\tAudioController.instance.PlaySound('CARD_SHUFFLE');\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\tlet entity = entities.find( (elem) => {\r\n\t\t\t\treturn elem.seat == seat} \r\n\t\t\t\t);\r\n\r\n\t\t\tif ( uiEntity != null && entity != null ) {\r\n\t\t\t\tuiEntity.SetClearRound( entity );\r\n\t\t\t\tif( seat == this.mySeat ) {\r\n\t\t\t\t\tthis.myChips = entity.chips;\r\n\t\t\t\t\tthis.isSitout = entity.isSitOut;\r\n\t\t\t\t}\t\r\n\t\t\t} else {\r\n\t\t\t\tuiEntity.SetEscape();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.ClearPot();\r\n\t\tthis.uiCommunityCards.Ready();\r\n\r\n\t\tlet me = entities.find( elem => elem.seat == this.mySeat );\r\n\r\n\t\tif(me === null || me === undefined)\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tBoard.balance = me.balance;\r\n\t\tif( me.enoughChip == false ) {\r\n\r\n\t\t\tlet self = this;\r\n\t\t\tlet leave: boolean = false;\r\n\t\t\tif( Board.balance + me.chips < Board.minStakePrice ) {\r\n\r\n\t\t\t\tthis.scheduleOnce(()=>{\r\n\t\t\t\t\tif ( self != null ) {\r\n\t\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t\t\tself.room?.leave(false);\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, 5 );\r\n\r\n\t\t\t\tUiGameSystemPopup.instance.showOkPopup('리 바이인', '최소 바이인을 할 수 없습니다.\\r\\n테이블에서 나갑니다.', ()=>{\r\n\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t\tself.room?.leave(false);\r\n\t\t\t\t\tself = null;\r\n\t\t\t\t} );\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tthis.uiBuyIn.reBuyIn( Board.balance, this.myChips , (res)=>{\r\n\t\t\t\tthis.sendMsg('RE_BUY', {\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\tamount: res,\r\n\t\t\t\t});\r\n\t\t\t}, ()=>{\r\n\t\t\t\tself.room?.leave();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//\r\n    }\r\n\r\n    private onCHECK( msg ) {\r\n\t\tconsole.log('onCHECK');\r\n\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tthis.labelCurrentPot.string = CommonUtil.getKoreanNumber( this.curPotValue );\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\r\n\t\tAudioController.instance.PlaySound('VOICE_ACTION_CHECK');\r\n\t\tthis.uiPlayerActionReservation.showCheck( true );\r\n\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.SetAction( \"check\" );\t\t\t\r\n\t\t}\r\n\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onRAISE( msg ) {\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tthis.uiPlayerActionReservation.showCheck( false );\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet chips = Number.parseInt( msg[ \"chips\" ] );\r\n\t\tlet sound = Number.parseInt( msg['sound'] );\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity?.SetChips( chips );\r\n\r\n\t\t\tif( this.mySeat == seat ) {\r\n\t\t\t\tthis.myChips = chips;\r\n\t\t\t}\r\n\r\n\t\t\tif( true == msg[ \"allin\" ] ) {\r\n\t\t\t\tuiEntity.SetAllIn();\t\t\t\r\n\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tuiEntity.SetAction( \"raise\" );\r\n\t\t\t\tswitch ( sound) {\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_QUATER ) :\t//quater\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_QUATER');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_HALF) :\t//half\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_HALF');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_FULL) :\t//full\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_FULL');\r\n\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_MAX) :\t//max\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('BET_CHIPS');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuiEntity.SetBetValue( msg[ \"bet\" ] );\r\n\t\t}\r\n\r\n\t\tthis.setUiPot(msg[\"dpPot\"]);\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onFOLD( msg ) {\r\n\t\tconsole.log( 'onFOLD' );\r\n\t\tAudioController.instance.PlaySound('VOICE_ACTION_DIE');\r\n\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.ClearAction();\r\n\r\n\t\t\tif( this.mySeat != seat ) {\r\n\t\t\t\tuiEntity.ClearHandRank();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.isFold = true;\r\n\t\t\t}\r\n\t\t\tuiEntity.SetFold( true );\r\n\t\t}\r\n    }\r\n\r\n    private onCALL ( msg ) {\r\n\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tlet chips = Number.parseInt( msg[ \"chips\" ] );\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.SetChips( chips );\r\n\r\n\t\t\tif( true == msg[ \"allin\" ] ) {\r\n\t\t\t\tuiEntity?.SetAllIn();\r\n\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tuiEntity?.SetAction( \"call\" );\r\n\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_CALL');\r\n\t\t\t}\r\n\t\t\tuiEntity.SetBetValue( msg[ \"bet\" ] );\r\n\t\t}\r\n\r\n\t\tif( this.mySeat == seat ) {\r\n\t\t\tthis.myChips = chips;\r\n\t\t}\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onBET ( msg ) {\r\n\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tthis.uiPlayerActionReservation.showCheck( false );\r\n\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet sound = Number.parseInt( msg['sound'] );\r\n\t\tlet chips = Number.parseInt( msg[ \"chips\" ] );\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.SetChips( chips );\r\n\t\t\tif ( seat == this.mySeat ) {\r\n\t\t\t\tthis.myChips = chips;\r\n\t\t\t}\r\n\r\n\t\t\tif ( msg['allin'] == true ) {\r\n\t\t\t\tuiEntity.SetAllIn();\r\n\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t\t\t} else {\r\n\t\t\t\tuiEntity.SetAction( \"bet\" );\r\n\t\t\t\tswitch ( sound) {\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_QUATER ) :\t//quater\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_QUATER');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_HALF) :\t//half\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_HALF');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_FULL) :\t//full\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_FULL');\r\n\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_MAX) :\t//max\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('BET_CHIPS');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuiEntity.SetBetValue( msg[ \"bet\" ] );\r\n\t\t}\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onSIT_OUT( msg: any ) {\r\n\t\tconsole.log('onSIT_OUT');\r\n\r\n\t\tlet seat = msg['seat'];\r\n\r\n\t\tif( seat == null || seat == undefined ){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.SetSitout();\r\n\t\t}\r\n\r\n\t\tif ( seat == this.mySeat ) {\r\n\t\t\tthis.buttonSitout.interactable = true;\r\n\t\t\tthis.buttonSitout.node.active = false;\r\n\t\t\tthis.labelReservationSitout.node.active = false;\r\n\t\t\tthis.buttonSitoutCancel.interactable = true;\r\n\t\t\tthis.buttonSitoutCancel.node.active = false;\r\n\r\n\t\t\tthis.buttonSitback.node.active = true;\r\n\t\t\tthis.buttonSitback.interactable = false;\r\n\r\n\t\t\tthis.scheduleOnce( ()=>{\r\n\t\t\t\tthis.buttonSitback.interactable = true;\r\n\t\t\t}, 1.5);\r\n\t\t}\r\n    }\r\n\r\n\tprivate onSIT_OUT_PEND( msg: any ) {\r\n\t\tthis.buttonSitout.interactable = true;\r\n\t\tthis.buttonSitout.node.active = false;\r\n\t\tthis.buttonSitback.node.active = false;\r\n\t\tthis.buttonSitoutCancel.interactable = false;\r\n\t\tthis.buttonSitoutCancel.node.active = true;\r\n\t\tthis.labelReservationSitout.node.active = true;\r\n\r\n\t\tthis.scheduleOnce(()=>{\r\n\t\t\tthis.buttonSitoutCancel.interactable = true;\r\n\t\t}, 1.5);\r\n    }\r\n\r\n\tprivate onSIT_OUT_CANCEL( msg: any ) {\r\n\t\tthis.buttonSitoutCancel.interactable = true;\r\n\t\tthis.buttonSitoutCancel.node.active = false;\r\n\t\tthis.labelReservationSitout.node.active = false;\r\n\r\n\t\tthis.buttonSitout.interactable = false;\r\n\t\tthis.buttonSitout.node.active = true;\r\n\r\n\t\tthis.scheduleOnce( ()=>{\r\n\t\t\tthis.buttonSitout.interactable = true;\r\n\t\t}, 1.5);\r\n\t}\r\n\r\n    private onSIT_BACK( msg: any ) {\r\n\t\tlet seat = msg['seat'];\r\n\t\t\r\n\t\tif ( seat == null || seat == undefined ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.SetSitback( msg );\r\n\t\t}\r\n\r\n\t\tif ( seat == this.mySeat ) {\r\n\t\t\tthis.buttonSitback.interactable = true;\r\n\t\t\tthis.buttonSitback.node.active = false;\r\n\t\t\tthis.labelReservationSitout.node.active = false;\r\n\t\t\tthis.buttonSitoutCancel.node.active = false;\r\n\r\n\t\t\tthis.buttonSitout.interactable = false;\r\n\t\t\tthis.buttonSitout.node.active = true;\r\n\r\n\t\t\tthis.scheduleOnce( ()=>{\r\n\t\t\t\tthis.buttonSitout.interactable = true;\r\n\t\t\t}, 1.5);\r\n\t\t}\r\n    }\r\n\r\n    private onSHOW_CARD( msg ) {\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\r\n\t\tif ( seat == this.mySeat ) {\r\n\r\n\t\t} else {\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.HideHiddenCard();\r\n\r\n\t\t\t\tlet hands: number[] = [cards[0], cards[1]];\r\n\t\t\t\tuiEntity.ShowHands( hands, ()=>{\r\n\t\t\t\t\tthis.SetPlayerHandRank( hands, uiEntity );\r\n\t\t\t\t\tAudioController.instance.PlaySound('CARD_SHOW');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    private onPLAYER_CARDS( msg ) {\r\n\t\tconsole.log( 'onPLAYER_CARDS ');\r\n\r\n\t\tlet allin = msg[ \"allin\" ];\r\n\r\n\t\tif ( allin == true ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\t\tlet keys = Object.keys( cards );\r\n\t\tthis.PLAYER_CARDS = {};\r\n\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif( false == this.isEnableSeat( seat ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.PLAYER_CARDS[ seat ] = {\r\n\t\t\t\tcards: [ cards[key][0], cards[key][1] ],\r\n\t\t\t};\r\n\t\t} );\r\n\r\n\t\tthis.ShowPlayersHand();\r\n\t\tthis.ClearUiEntities();\r\n    }\r\n\r\n    private onWINNERS ( msg ) {\r\n\t\tconsole.log('onWINNERS');\r\n\t\tconsole.log( msg );\r\n\r\n\t\tthis.msgWINNERS = msg;\r\n\t\tthis.uiPlayerActionReservation.reset();\r\n\t\tthis.uiPlayerAction.hide();\r\n\r\n\t\tthis.EndTurns();\r\n\t\tthis.SetWinners();\r\n\r\n\t\tlet folders = msg['folders'];\r\n\t\tlet folder = folders.find( (e)=>{\r\n\t\t\treturn e == this.mySeat;\r\n\t\t});\r\n\r\n\t\tlet skip = msg['skip'];\r\n\r\n\t\tif ( folder != null || skip == true ) {\r\n\t\t\tthis.buttonShowCard.node.active = true;\r\n\t\t} else {\r\n\t\t\tthis.buttonShowCard.node.active = false;\t\t\t\r\n\t\t}\r\n    }\r\n\r\n    private onClickShowCard( button: Button ) {\r\n\t\tbutton.node.active = false;\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tif(null == this.msgWINNERS){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet obj = {\r\n\t\t\tseat: this.mySeat\r\n\t\t};\r\n\r\n\t\tthis.sendMsg( \"SHOW_CARD\", obj );\r\n    }\r\n\r\n    private SetWinners() {\r\n\t\tlet entities = this.msgWINNERS[ \"winners\" ];\r\n\r\n\t\tif ( this.msgWINNERS['skip'] == true ) {\r\n\t\t\tlet cnt: number = 0;\r\n\t\t\tlet potValue = this.msgWINNERS['pot'];\r\n\r\n\t\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.uiRoundPotValue.node , ( idx: number )=>{\r\n\t\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\t\tif ( ( cnt ) == idx) {\r\n\t\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\t\tthis.uiRoundPotValue.show( potValue );\r\n\r\n\t\t\t\t\t\t\t\tthis.scheduleOnce(()=>{\r\n\t\t\t\t\t\t\t\t\tthis.ResultSkipAnimation( entities, this.msgWINNERS[\"dpPot\"] );\r\n\t\t\t\t\t\t\t\t}, 1.0 );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.ResultPotAnimation( entities, this.msgWINNERS[\"dpPot\"]).then(() =>{\r\n\t\t\t\tthis.setAniPotUiFadeOut();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n\tprivate async ResultSkipAnimation ( winners: any[], pot: any[] ) {\r\n\t\tlet uiPots : Pot[] = this.uiPot.GetPots();\t\t\r\n\t\tfor(let i = 0; i < winners.length; i++){\r\n\t\t\tlet winner = winners[i];\r\n\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( winner.seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetPlay();\r\n\t\t\t\tthis.uiPot.UpdatePotTotal( winner.winAmount );\r\n\r\n\t\t\t\tlet isReturn : boolean = winner.fold;\r\n\t\t\t\tif ( isReturn == false ) {\r\n\t\t\t\t\tuiEntity.SetWinner( this.uiRoundPotValue.node , winner.winAmount );\r\n\t\t\t\t\tAudioController.instance.PlaySound('WIN');\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tuiPots.forEach(element => {\r\n\t\t\telement.ClearCallback();\r\n\t\t});\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(0);\r\n\t\tthis.uiPot.HidePotInfo();\r\n\t\tawait new Promise(ret => setTimeout(ret, 2000));\r\n\t}\r\n\r\n    private async ResultPotAnimation(winners: any[], pot: any[] ) {\r\n\r\n\t\tlet uiPots : Pot[] = this.uiPot.GetPots();\r\n\t\t\r\n\t\tthis.setUiPot(pot);\r\n\r\n\t\tlet svPots : any[] = this.uiPot.svPots;\r\n\r\n\t\tlet returnPot : any[] = [];\r\n\t\tlet showPot : any[] = [];\r\n\r\n\t\tlet totalPotValue = 0;\r\n\r\n\t\tsvPots.forEach(element => {\r\n\t\t\ttotalPotValue += element.total;\r\n\r\n\t\t\tif(element.players.length <= 1){\r\n\t\t\t\treturnPot.push(element);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tshowPot.push(element);\r\n\t\t});\r\n\r\n\t\tlet potCount = showPot.length;\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(totalPotValue);\r\n\t\tthis.uiPot.SetPotCount(potCount);\r\n\r\n\t\tlet retAnimCount = 0;\r\n\r\n\t\tfor (let i = 0; i < returnPot.length; i++) {\r\n\t\t\tlet pot: any = returnPot[i];\r\n\r\n\t\t\tif (pot.players.length > 1) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif ( pot.rake != null ) {\r\n\t\t\t\ttotalPotValue -= pot.total - pot.rake;\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\ttotalPotValue -= pot.total;\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( pot.players[0] );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetPlay();\r\n\t\t\t\tuiEntity.SetReturn( pot.total );\r\n\t\t\t\tretAnimCount++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait new Promise( ret => setTimeout(ret, 1500) );\r\n\r\n\t\tfor(let i = 0; i < showPot.length; i++){\r\n\t\t\tlet pot = showPot[i];\r\n\r\n\t\t\tlet info: any = null;\r\n\t\t\tfor(let j = 0; j < pot.winner.length; j++){\r\n\t\t\t\tlet chip: any = null;\r\n\t\t\t\tif ( pot.rake != null ) {\r\n\t\t\t\t\tchip = (pot.total - pot.rake) / pot.winner.length;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tchip = pot.total;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( pot.winner[j] );\t\t\t\t\r\n\t\t\t\tif(uiEntity != null ){\r\n\t\t\t\t\tuiEntity.SetPlay();\r\n\t\t\t\t\tuiEntity.SetWinner( this.uiRoundPotValue.node , chip );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet wns: any[] = [];\r\n\t\t\tfor ( let w: number = 0 ; w < pot.winner.length ; w++ ) {\r\n\t\t\t\tlet e = winners.find ( (elem) => { \r\n\t\t\t\t\treturn elem.seat == pot.winner[w];\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( e != null ) {\r\n\t\t\t\t\twns.push(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinfo = winners.find((elem) => {return elem.seat == pot.winner[0];});\r\n\t\t\tif ( info != null ) {\r\n\t\t\t\tlet cards: any = this.msgWINNERS['cards'];\r\n\r\n\t\t\t\tlet ev = this.GetHandsEval( wns[0].cards, cards );\r\n\t\t\t\tthis.uiWinEffect.show( wns, info.eval.handType, ev );\r\n\t\t\t}\r\n\r\n\t\t\tthis.ShowWinningCards(wns);\r\n\t\t\tAudioController.instance.PlaySound('WIN');\r\n\r\n\t\t\tpotCount--;\r\n\t\t\tthis.uiPot.SetPotCount(potCount);\r\n\r\n\t\t\tif ( pot.rake != null ) {\r\n\t\t\t\ttotalPotValue -=  pot.total - pot.rake;\r\n\t\t\t} else {\r\n\t\t\t\ttotalPotValue =  pot.total;\r\n\t\t\t}\r\n\r\n\t\t\tthis.uiPot.UpdatePotTotal(totalPotValue);\r\n\r\n\t\t\tlet count = i + 1;\r\n\r\n\t\t\tfor(let j = 0; j < uiPots.length; j++){\r\n\t\t\t\tlet ui = uiPots[j];\r\n\t\t\t\tui.ClearCallback();\r\n\t\t\t\t\r\n\t\t\t\tif(count >= showPot.length){\r\n\t\t\t\t\tui.showRoot.active = false;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet potInfo = showPot[count];\r\n\r\n\t\t\t\tui.showRoot.active = true;\r\n\r\n\t\t\t\tif ( potInfo.rake != null ) {\r\n\t\t\t\t\tui.valueLabel.string = CommonUtil.getKoreanNumber(potInfo.total - potInfo.rake);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tui.valueLabel.string = CommonUtil.getKoreanNumber(potInfo.total);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tthis.uiPot.HidePotInfo();\r\n\t\t\tawait new Promise(ret => setTimeout(ret, 2500));\r\n\t\t}\r\n    }\r\n\r\n\tprivate ShowWinningCards( wns: any ) {\r\n\t\tlet cards: any = this.msgWINNERS['cards'];\r\n\r\n\t\tlet pools: number[] = [];\r\n\t\twns.forEach( ( e )=>{\r\n\t\t\tlet c: any = this.GetHandsEval( e.cards, cards )['cards'];\r\n\t\t\tc.forEach( (elem)=> {\r\n\t\t\t\tlet name = elem.value + elem.suit;\r\n\t\t\t\tlet num = this.ConvertCardNameToIndex( name );\r\n\r\n\t\t\t\tpools.push(num);\r\n\t\t\t});\r\n\r\n\t\t\tthis.uiCommunityCards.SetWinCards( pools );\r\n\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat(e.seat);\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetWinCards(pools);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate ConvertCardNameToIndex( name: string ): number {\r\n\t\tlet n: number = -1;\r\n\t\tfor ( let i: number = 0 ; i < totalCards.length; i++ ) {\r\n\t\t\tif ( name == totalCards[i] ) {\r\n\t\t\t\tn = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n\tprivate CardDispensing() {\r\n\t\tlet seats: number[] = [];\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif ( this.isEnableSeat ( seat) == false ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tseats.push(i);\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[i];\r\n\t\t\tif ( uiEntity != null ) {\r\n\r\n\t\t\t\tuiEntity.PrepareDispensingCards();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.SetDispensingAnimation( seats, 0, ()=>{\r\n\t\t\tthis.SetDispensingAnimation( seats, 1, ()=>{\r\n\r\n\t\t\t\tif ( this.isEnableSeat ( this.mySeat ) == true ) {\r\n\t\t\t\t\tthis.ShowMyHands();\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate SetDispensingAnimation( seats: any, card: number, cb: ()=> void ) {\r\n\t\tlet interval = 0.1;\r\n\t\tlet duration = 0.2;\r\n\r\n\t\tfor ( let i: number = 0 ; i < seats.length; i++ ) {\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ seats[i] ];\r\n\t\t\tif (uiEntity != null ) {\r\n\r\n\t\t\t\tuiEntity.CardDispensing( card, i, duration, i * interval, (idx)=>{\r\n\t\t\t\t\tif ( (seats.length - 1 ) == idx ) {\r\n\t\t\t\t\t\tif ( cb != null ) {\r\n\t\t\t\t\t\t\tcb();\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate ShowPlayersHand() {\r\n\t\tlet keys = Object.keys( this.PLAYER_CARDS );\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif ( seat != this.mySeat ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tuiEntity.HideHiddenCard();\r\n\r\n\t\t\t\t\tuiEntity.ShowHands( this.PLAYER_CARDS[key].cards, ()=>{\r\n\t\t\t\t\t\tthis.SetPlayerHandRank( this.PLAYER_CARDS[key].cards, uiEntity );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate UpdatePlayerHandRank() {\r\n\t\tlet keys = Object.keys( this.PLAYER_CARDS );\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif ( seat != this.mySeat ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tthis.SetPlayerHandRank( this.PLAYER_CARDS[key].cards, uiEntity );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate ShowMyHands() {\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\tif ( uiEntity != null ) {\r\n\r\n\t\t\tuiEntity.ShowHands( this.myCards, ()=>{\r\n\t\t\t\tAudioController.instance.PlaySound('CARD_FLIP');\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n    \r\n    private setAniPotMoveToWinner( startNode: Node, seat: number, movingChipsIdx: number, chips: number, \r\n        isPlaySound: boolean, isReturn: boolean, duration: number = 1) {\r\n\r\n\t\t\tlet obj = false === isReturn ?  this.objPotMoveToWinnerChips[ movingChipsIdx ] : this.objPotReturnChips[ movingChipsIdx ];\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\r\n\t\t\tif(null == uiEntity){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (true === isReturn) {\r\n\t\r\n\t\t\t\tfor (let i = 0; i < obj.sprChips.length; i++) {\r\n\t\t\t\t\tlet moveTarget = obj.sprChips[i];\r\n\t\t\t\t\tlet delay = i * 0.05;\r\n\t\r\n\t\t\t\t\tlet fromNode = null === startNode || undefined === startNode ? this.uiPot.maxPotRoot : startNode;\r\n\t\r\n\t\t\t\t\tlet pos = fromNode.parent.getComponent(UITransform).convertToWorldSpaceAR(fromNode.position);\r\n\t\t\t\t\tpos = moveTarget.node.parent.getComponent(UITransform).convertToNodeSpaceAR(pos);\r\n\t\r\n\t\t\t\t\tlet to = uiEntity.node.parent.getComponent(UITransform).convertToWorldSpaceAR(uiEntity.node.position);\r\n\t\t\t\t\tto = uiEntity.node.parent.getComponent(UITransform).convertToNodeSpaceAR(to);\r\n\t\r\n\t\t\t\t\tlet isLast = i == obj.sprChips.length - 1;\r\n\t\t\t\t\tlet dur = 0.8;\r\n\t\t\t\t\tthis.setTweenMoveFromTo(moveTarget, new Color(Color.WHITE), pos, to, delay, dur, this.easeOutQuart, () => {\r\n\t\t\t\t\t\tif (true == isPlaySound) {\r\n\t\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_START');\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, isLast ? () => {\r\n\t\t\t\t\t\tuiEntity?.SetChips(chips);\r\n\t\t\t\t\t\tif (true == isPlaySound) {\r\n\t\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_END');\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} : () => {\r\n\t\t\t\t\t\tif (true == isPlaySound) {\r\n\t\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_END');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\tlet bezierPathNodes: Node[] = [];\r\n\t\t\tbezierPathNodes.push( null=== startNode || undefined === startNode ? this.uiPot.maxPotRoot : startNode);\r\n\t\r\n\t\t\tuiEntity.bezierPoints.forEach(elem => bezierPathNodes.push(elem));\r\n\t\r\n\t\t\tbezierPathNodes.push(uiEntity.node);\r\n\t\r\n\t\t\tfor( let i = 0; i < obj.sprChips.length; i++ ) {\r\n\t\t\t\tlet moveTarget = obj.sprChips[ i ];\r\n\t\t\t\tlet delay = i * 0.05;\r\n\t\r\n\t\t\t\tlet bezierPts = [];\r\n\t\t\t\tfor( let i = 0; i < bezierPathNodes.length; i++ ) {\r\n\t\t\t\t\tlet pos = bezierPathNodes[ i ].parent.getComponent( UITransform ).convertToWorldSpaceAR( bezierPathNodes[ i ].position );\r\n\t\t\t\t\tpos = moveTarget.node.parent.getComponent( UITransform ).convertToNodeSpaceAR( pos );\r\n\t\t\t\t\tbezierPts.push( pos );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tlet isLast = i == obj.sprChips.length - 1;\r\n\t\r\n\t\t\t\tthis.setTweenFadeInOutFromToMove( moveTarget, new Color( Color.WHITE ), bezierPts, delay, duration, this.easeOutQuart, () => {\r\n\t\t\t\t\tif( true == isPlaySound ) {\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_START');\r\n\t\t\t\t\t}\r\n\t\t\t\t}, isLast ? () => {\r\n\t\t\t\t\tuiEntity?.SetChips( chips );\r\n\t\t\t\t\tif( true == isPlaySound ) {\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_END');\r\n\t\t\t\t\t}\r\n\t\t\t\t} : () => {\r\n\t\t\t\t\tif( true == isPlaySound ) {\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_END');\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n    }\r\n\r\n    private setAniPotUiFadeOut() {\r\n\t\tif (this.spritePotRoot != null ) {\r\n\t\t\tthis.spritePotRoot.node.active = false;\r\n\t\t}\r\n    }\r\n\r\n    setTweenMoveFromTo( sprite: Sprite, originalColor, from: Vec3, to: Vec3, delay: number,\r\n        duration: number, easingFunc: ( k: number )=> number, onStart: ()=>void, onFinished: ()=>void ) {\r\n\r\n\t\t\tsprite.node.active = true;\r\n\t\t\tsprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, 0 );\r\n\t\r\n\t\t\tlet tw = tween( sprite.node )\r\n\t\t\t\t.set( {\r\n\t\t\t\t\tposition: from\r\n\t\t\t\t} )\r\n\t\t\t\t.delay( delay );\r\n\t\r\n\t\t\tif( null != onStart ) {\r\n\t\t\t\ttw.call( onStart );\r\n\t\t\t}\r\n\t\r\n\t\t\ttw.to( duration, {\r\n\t\t\t\tposition: to,\r\n\t\t\t}, {\r\n\t\t\t\tonUpdate: ( target: Node, ratio: number ) => {\r\n\t\r\n\t\t\t\t\tlet tv = bezier( 0, 0.25, 0.25, 1, ratio );\r\n\t\r\n\t\t\t\t\tlet a = bezier( 255, 255, 255, 0, tv );\r\n\t\t\t\t\tif( a > originalColor.a ) {\r\n\t\t\t\t\t\ta = originalColor.a;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, a );\r\n\t\t\t\t},\r\n\t\t\t} );\r\n\t\r\n\t\t\tif( null != onFinished ) {\r\n\t\t\t\ttw.call( onFinished );\r\n\t\t\t}\r\n\t\r\n\t\t\ttw.union();\r\n\t\t\ttw.start();\r\n    }\r\n\r\n\tsetTweenFadeInOutFromToMove( sprite: Sprite, originalColor: Color, bezierPath: Vec3[], delay: number,\r\n\t\tduration: number, easingFunc: ( k: number ) => number, onStart: () => void, onFinished: () => void ) {\r\n\r\n\t\tsprite.node.active = true;\r\n\r\n\t\tsprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, 0 );\r\n\r\n\t\tlet tw = tween( sprite.node )\r\n\t\t\t.set( {\r\n\t\t\t\tposition: bezierPath[ 0 ]\r\n\t\t\t} )\r\n\t\t\t.delay( delay );\r\n\r\n\t\tif( null != onStart ) {\r\n\t\t\ttw.call( onStart );\r\n\t\t}\r\n\r\n\t\ttw.to( duration, {\r\n\t\t\t// position: to,\r\n\t\t}, {\r\n\t\t\tonUpdate: ( target: Node, ratio: number ) => {\r\n\r\n\t\t\t\tlet tv = bezier( 0, 0.25, 0.25, 1, ratio );\r\n\t\t\t\tlet x = bezier( bezierPath[ 0 ].x, bezierPath[ 1 ].x, bezierPath[ 2 ].x, bezierPath[ 3 ].x, tv );\r\n\t\t\t\tlet y = bezier( bezierPath[ 0 ].y, bezierPath[ 1 ].y, bezierPath[ 2 ].y, bezierPath[ 3 ].y, tv );\r\n\t\t\t\tsprite.node.position = new Vec3( x, y, 0 );\r\n\r\n\t\t\t\tlet a = bezier( 255, 255, 255, 0, tv );\r\n\t\t\t\tif( a > originalColor.a ) {\r\n\t\t\t\t\ta = originalColor.a;\r\n\t\t\t\t}\r\n\t\t\t\tsprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, a );\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\tif( null != onFinished ) {\r\n\t\t\ttw.call( onFinished );\r\n\t\t}\r\n\r\n\t\ttw.union();\r\n\t\ttw.start();\r\n\t}\r\n\r\n\r\n    easeOutQuart( x: number ): number {\r\n\t\treturn 1 - Math.pow( 1 - x, 4 );        \r\n    }\r\n\r\n\tgetBezierSampleValue( points: Vec3[], t: number ): Vec3 {\r\n\t\tlet x = bezier( points[ 0 ].x, points[ 1 ].x, points[ 2 ].x, points[ 3 ].x, t );\r\n\t\tlet y = bezier( points[ 0 ].y, points[ 1 ].y, points[ 2 ].y, points[ 3 ].y, t );\r\n\t\treturn new Vec3( x, y, 0 );\r\n\t}\r\n\r\n    private onBUY_IN( msg ) {\r\n\r\n\t\tBoard.balance = Number.parseInt( msg[ \"balance\" ] );\r\n\t\tBoard.small = Number.parseInt( msg[ \"small\" ] );\r\n\t\tBoard.big = Number.parseInt( msg[ \"big\" ] );\r\n\t\tBoard.id = Number.parseInt( msg[ \"id\" ] );\r\n\t\tBoard.passPrice = msg[ \"passPrice\" ];\r\n\t\tBoard.minStakePrice = msg[\"minStakePrice\"];\r\n\t\tBoard.maxStakePrice = msg[\"maxStakePrice\"];\r\n\r\n\t\tlet self =this;\r\n\t\tthis.uiBuyIn.buyIn((res)=>{\r\n\t\t\tBoard.room.send( \"BUY_IN\", { id: Board.id, buyInAmount: res } );\r\n\t\t\tthis.uiBuyIn.closePopup();\r\n\r\n\t\t}, ()=>{\r\n\t\t\tself.room.send('CANCEL_BUY_IN');\r\n\t\t\tthis.uiSeats.onResultFail();\r\n\t\t\tthis.uiBuyIn.closePopup();\r\n\t\t});\r\n    }\r\n\r\n    private onRES_BUY_IN( msg ) {\r\n        let ret: number = msg[\"ret\"];\r\n        if (ret === -1) {\r\n\r\n        } else {\r\n\t\t\tthis.uiBuyIn.buyInDone();\r\n            this.uiSeats.end();\r\n            this.show();\r\n\r\n\t\t\tif ( ret != 0 ) {\r\n\t\t\t\tthis.room?.leave();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n    private onRES_RE_BUY( msg ) {\r\n\r\n\t\tif ( 0 != msg['resultCode'] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tBoard.balance = Number.parseInt( msg['balance ']);\r\n\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\tlet chips = Number.parseInt( msg ['chips'] );\r\n\r\n\t\tuiEntity.SetChips( chips);\r\n\t\tthis.myChips = chips;\r\n    }\r\n\r\n    private onRE_BUY_IN( msg ) {\r\n\r\n    }\r\n\r\n    private onRES_ADD_CHIPS_REQUEST( msg ) {\r\n\t\tlet code = msg[\"code\"];\r\n\r\n\t\tif ( code === -1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( code > 0 ) {\r\n\t\t\tlet message: string = this.getAddChipsErrorMessage(code);\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\tlet balance: number = msg[\"balance\"];\r\n\t\t\tlet chips: number = msg[\"initChips\"];\r\n\t\t\tlet amount:number = msg[\"amount\"];\r\n\r\n\t\t\tthis.uiBuyIn.addChips( balance, amount, (res)=>{\r\n\t\t\t\tif ( res > 0 ) {\r\n\t\t\t\t\tthis.sendMsg('ADD_CHIPS', {\r\n\t\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\t\tamount: res,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', '칩 추가가 취소되었습니다', ()=>{\r\n\t\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    private onRES_ADD_CHIPS( msg ) {\r\n\t\tthis.uiSeats.end();\r\n\t\tlet code: number = msg[ \"code\" ];\r\n\t\tif ( 0 === code ) {\r\n\t\t\tlet pending: boolean = msg[\"pending\"];\r\n\t\t\tlet balance = msg[ \"balance\" ];\r\n\t\t\tlet chips = msg[ \"chips\" ];\r\n\t\t\tlet amount = msg[ \"amount\" ];\r\n\t\t\tif ( true === pending ) {\r\n\t\t\t\tlet message: string = \"칩은 현재 핸드가 종료된 다음에 적용됩니다.\";\r\n\t\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\t\t\tBoard.balance = balance;\r\n\t\t\t\tuiEntity.SetChips( chips );\r\n\t\t\t\tthis.myChips = chips;\r\n\r\n\t\t\t\tlet message: string = CommonUtil.getNumberStringWithComma(amount) + \" 칩이 추가되었습니다.\";\r\n\t\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet message: string = this.getAddChipsErrorMessage(code);\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    private onRES_ADD_CHIPS_PEND( msg ) {\r\n\t\tlet code: number = msg[ \"code\" ];\r\n\t\tif ( 0 === code ) {\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\t\tlet balance = msg[ \"balance\" ];\r\n\t\t\tlet chips = msg[ \"chips\" ];\r\n\t\t\tlet amount = msg[ \"amount\" ];\r\n\r\n\t\t\tBoard.balance = balance;\r\n\t\t\tuiEntity.SetChips( chips );\r\n\t\t\tthis.myChips = chips;\r\n\r\n\t\t\tlet message: string = CommonUtil.getNumberStringWithComma(amount) + \" 칩이 추가되었습니다.\";\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlet message: string = this.getAddChipsErrorMessage(code);\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    private onPing ( msg ) {\r\n\t\tthis.room.send( \"pong\", { seat: this.mySeat } );\r\n    }\r\n\r\n    public leave() {\r\n\t\tif ( this.uiProfile != null ) {\r\n\t\t\tthis.uiProfile.hide();\r\n\t\t}\r\n\t\tthis.room?.leave();\r\n    }\r\n\r\n    private getAddChipsErrorMessage( code: number ) : string {\r\n\t\tlet ret: string = \"UNKNOWN MESSAGE\";\r\n\t\tswitch (code) {\r\n\t\t\tcase -1:\r\n\t\t\t\tret = \"플레이어 정보가 없거나 잘못되었습니다\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tret = \"바이인 할 수 없습니다. 다시 신청해주세요\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tret = \"이미 바이인 요청이 있습니다.\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n \t\t\t\tret = \"더 이상 바이인을 할 수 없습니다.\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tret = \"바이인할 칩이 없습니다.\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tret = \"더 이상 바이인 할 수 없습니다.\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tret = \"최대 바이인 횟수에 도달했습니다.\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\t\treturn ret;\r\n    }\r\n\r\n\tpublic OpenUserProfile( id :number, seat: number ) {\r\n\t\tthis.sendMsg(\"SHOW_PROFILE\", { \r\n\t\t\tid: id,\r\n\t\t\tseat: seat,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic onEVENT_FOREGROUND() {\r\n\t\tif ( this.uiSeats != null && this.uiSeats.node.active == true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.updateClinet = true;\r\n\t\tthis.sendMsg(\"FORE_GROUND\", { \r\n\t\t\tseat: this.mySeat,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic onEVENT_BACKGROUND() {\r\n\t\tif ( this.uiSeats != null && this.uiSeats.node.active == true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\t\t\r\n\t\tthis.updateClinet = false;\t\t\r\n\t\tthis.sendMsg(\"BACK_GROUND\", { \r\n\t\t\tseat: this.mySeat,\t\t\t\r\n\t\t});\r\n\t}\r\n\r\n\tprivate SetSitoutButtons( isSitout: boolean, reservable: boolean = false ) {\r\n\t\tif ( isSitout == true ) {\r\n\t\t\tthis.buttonSitout.node.active = false;\r\n\r\n\t\t\tthis.buttonSitback.node.active = true;\r\n\t\t\tthis.labelSitback.string = '자리복귀';\t\t\t\r\n\t\t} else {\t\t\t\r\n\t\t\tif ( reservable == true ) {\r\n\r\n\t\t\t}\r\n\t\t\tthis.buttonSitback.node.active = false;\r\n\r\n\t\t\tthis.buttonSitout.node.active = true;\r\n\t\t\tthis.labelSitout.string = '자리비움';\r\n\t\t}\r\n\t}\r\n\r\n\tprivate OpenProfile(id: number, seat: number) {\r\n\t\tthis.OpenUserProfile(id, seat )\r\n\t}\r\n\r\n\tprivate CloseProfile( seat: number ) {\r\n\r\n\t}\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, UITransform, director, Scene, Label, instantiate, Layout, ToggleContainer, Toggle } from 'cc';\r\nimport { Board } from '../Board';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nimport { ENUM_RESULT_CODE, NetworkManager } from '../NetworkManager';\r\nimport { UiTable } from '../UiTable';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('TableListUiElement')\r\nexport class TableListUiElement {\r\n    @property(Node) nodeRoot: Node = null;\r\n    @property(Label) labelTableName: Label = null;\r\n    @property(Label) labelTableMax: Label = null;\r\n    @property(Label) labelBlind: Label = null;\r\n    @property(Label) labelAnte: Label = null;\r\n    @property(Label) labelBuyIn: Label = null;\r\n    @property(Label) labelPlayers: Label = null;\r\n    @property(Button) buttonJoin: Button = null;\r\n\r\n    private table: any = null;\r\n    private cbJoinTable: ( button:Button, table: any ) => void = null;\r\n\r\n    public copy(): TableListUiElement {\r\n        let copyObject: TableListUiElement = new TableListUiElement();\r\n        let newObject = instantiate (this.nodeRoot );\r\n\r\n        copyObject.nodeRoot = newObject;\r\n        copyObject.labelTableName = newObject.getChildByPath(\"LABEL_TABLE_NAME\")?.getComponent(Label);\r\n        copyObject.labelTableMax = newObject.getChildByPath(\"LABEL_TABLE_MAX\")?.getComponent(Label);        \r\n        copyObject.labelBlind = newObject.getChildByPath(\"VALUES/LABEL_BLIND\")?.getComponent(Label);\r\n        copyObject.labelAnte = newObject.getChildByPath(\"VALUES/LABEL_ANTE\")?.getComponent(Label);        \r\n        copyObject.labelBuyIn = newObject.getChildByPath(\"VALUES/LABEL_MIN_BUYIN\")?.getComponent(Label);\r\n        copyObject.labelPlayers = newObject.getChildByPath(\"VALUES/LABEL_PLAYERS\")?.getComponent(Label);        \r\n        copyObject.buttonJoin = newObject.getChildByPath(\"BUTTON_JOIN\")?.getComponent(Button);\r\n\r\n        return copyObject;\r\n    }\r\n\r\n    public clear() {\r\n        this.labelTableName.string = \"\";\r\n        this.labelTableMax.string = \"\";        \r\n        this.labelBlind.string = \"\";\r\n        this.labelAnte.string = '';\r\n        this.labelBuyIn.string = \"\";\r\n\r\n        if ( this.cbJoinTable != null ) {\r\n            this.cbJoinTable = null;\r\n        }\r\n    }\r\n\r\n    public setTable( table: any, cb: ( button:Button, table: any )=>void ) {\r\n        this.table = table;\r\n        this.labelTableName.string = '[' + this.table.id + '] ' + this.table.name;\r\n\r\n        if ( table.maxPlayers == 9 ) {\r\n            this.labelTableMax.string = '9인';\r\n\r\n        } else if ( table.maxPlayers == 6 ) {\r\n            this.labelTableMax.string = '6인';\r\n        }\r\n\r\n        this.labelBlind.string = \r\n            CommonUtil.getNumberStringWithComma( this.table.smallBlind )  + \" / \" + \r\n            CommonUtil.getNumberStringWithComma( this.table.bigBlind );\r\n        this.labelAnte.string = CommonUtil.getNumberStringWithComma ( this.table.ante );\r\n        this.labelBuyIn.string = CommonUtil.getNumberStringWithComma( this.table.minBuyIn );\r\n        this.labelPlayers.string = table.players;\r\n\r\n        this.cbJoinTable = null;\r\n        this.cbJoinTable = cb;\r\n\r\n        this.buttonJoin.node.off(\"click\");        \r\n        this.buttonJoin.node.on(\"click\", this.onClickJoinTable.bind(this), this);\r\n    }\r\n\r\n    public setActive( active: boolean ) {\r\n        this.nodeRoot.active = active;\r\n    }\r\n\r\n    public setParent( parent: Node ) {        \r\n        this.nodeRoot.parent = parent;\r\n    }\r\n\r\n    private onClickJoinTable( button: Button ) {\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n        this.cbJoinTable( button, this.table );\r\n    }\r\n}\r\n\r\n@ccclass('UiTableList')\r\nexport class UiTableList extends Component {\r\n\r\n    @property(Layout) contents: Layout = null;\r\n    @property(TableListUiElement) origin: TableListUiElement = new TableListUiElement();\r\n    @property(Toggle) toggleHoldemTable: Toggle = null;\r\n    @property(Toggle) toggleTournament: Toggle = null;\r\n\r\n    @property(ToggleContainer) tg: ToggleContainer = null;\r\n\r\n    private info: any = null;\r\n    private res: any = null;\r\n\r\n    private tables: any[] = [];\r\n    private elementOnList: TableListUiElement[] = [];\r\n    private elementPool: TableListUiElement[] = [];\r\n\r\n    private cbJoinTable: ( button: Button, table: any)=>void = null;\r\n    private cbExitLobby: ()=>void = null;\r\n\r\n    public init( cbJoinTable: (table: any)=>void, exitLobby: ()=> void  ) {\r\n        if ( cbJoinTable != null ) {\r\n            this.cbJoinTable = cbJoinTable;\r\n        }\r\n\r\n        if ( exitLobby != null ) {\r\n            this.cbExitLobby = exitLobby;\r\n        }\r\n\r\n        this.toggleHoldemTable.node.on('toggle', this.onToggleHoldemTable.bind(this), this);\r\n        this.toggleTournament.node.on('toggle', this.onToggleTournament.bind(this), this);\r\n\r\n        this.origin.nodeRoot.active = false;\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onToggleHoldemTable( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n    }\r\n\r\n    private onToggleTournament( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n    }\r\n\r\n    private clearList() {\r\n        this.elementOnList.forEach( (e)=> {\r\n            e.clear();\r\n            e.setActive(false);\r\n            e.setParent(this.node);\r\n\r\n            this.elementPool.push(e);\r\n        } );\r\n\r\n        this.elementOnList.splice(0);\r\n    }\r\n\r\n    private showTableList(tables: any[]) {\r\n        if (tables == null) {\r\n            return;\r\n        }\r\n\r\n        this.clearList();\r\n        this.tables = [];\r\n        this.tables = tables;\r\n\r\n        this.elementOnList = [];\r\n        this.elementPool = [];\r\n\r\n        if ( this.tables.length < this.elementOnList.length ) {\r\n            let toPool: TableListUiElement[] = this.elementOnList.splice( this.tables.length - 1 );\r\n\r\n            toPool.forEach( (e)=>{\r\n                e.clear();\r\n                e.setActive(false);\r\n                e.setParent(this.node);\r\n            } );\r\n            this.elementOnList.push(...toPool);\r\n        }\r\n\r\n        for ( let i = 0 ; i < this.tables.length; i++ ) {\r\n            let table: any = this.tables[i];\r\n\r\n            if ( this.elementOnList.length - 1 < i ) {\r\n                let e: TableListUiElement = null;\r\n\r\n                if ( this.elementPool.length > 0 ) {\r\n                    e = this.elementPool.pop();\r\n                } else {\r\n                    e = this.origin.copy();\r\n                }\r\n\r\n                e.clear();\r\n                e.setTable( table, this.onClickJoinRoom.bind(this) );\r\n                e.setParent( this.contents.node );\r\n                e.setActive( true );\r\n\r\n                this.elementOnList.push( e );\r\n                continue;\r\n            }\r\n\r\n            this.elementOnList[i].setTable( table, this.onClickJoinRoom.bind(this) );\r\n            this.elementOnList[i].setActive( true );\r\n        }\r\n    }\r\n\r\n    private onClickJoinRoom( button: Button, table: any) {\r\n        if ( button == null ) {\r\n            return;\r\n        }\r\n\r\n        button.interactable = false;\r\n\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n        this.cbJoinTable( button, table );\r\n    }\r\n\r\n    public show() {\r\n        this.node.active = true;\r\n        // this.getTableList();\r\n\r\n        // this.schedule( ()=>{\r\n        //     this.getTableList();\r\n        // }, 10 );\r\n    }\r\n\r\n    public end() {\r\n        // this.unscheduleAllCallbacks();\r\n    }\r\n\r\n    public getTableList() {\r\n        NetworkManager.Instance().getTABLE_LIST( (res)=>{\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                this.showTableList(res.tables);\r\n            } else {\r\n\r\n            }\r\n        }, (err)=>{\r\n            if ( err.code == ENUM_RESULT_CODE.DISCONNECT_SERVER ) {\r\n                LobbySystemPopup.instance.showPopUpOk('로비', '게임서버에 연결할 수 없습니다.', ()=>{\r\n                    if ( this.cbExitLobby != null ) {\r\n                        this.cbExitLobby();\r\n\r\n                    }\r\n\r\n                    // this.end();\r\n                    // director.loadScene('LoginScene', ()=>{\r\n\r\n                    // }, ()=>{\r\n\r\n                    // });\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, resources, SpriteFrame, Label } from 'cc';\r\nimport { Board } from '../Board';\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiWinEffect')\r\nexport class UiWinEffect extends Component {\r\n    @property(SpriteFrame) spriteFrameGrades: SpriteFrame[] = [];\r\n    @property(SpriteFrame) spriteFrameRanks: SpriteFrame[] = [];    \r\n\r\n    @property(Sprite) spriteWinEffectBackGround: Sprite = null;\r\n    @property(Sprite) spriteWinEffectRank: Sprite = null;\r\n\r\n    @property(Node) rootInfo: Node = null;\r\n    @property(Label) labelWinners: Label = null;\r\n    @property(Label) labelHands: Label = null;\r\n\r\n\r\n    init() {\r\n        this.spriteWinEffectBackGround.node.active = false;\r\n        this.spriteWinEffectRank.node.active = false;\r\n\r\n        this.rootInfo.active = false;\r\n        this.labelWinners.string = '';\r\n        this.labelWinners.node.active = false;\r\n\r\n        this.labelHands.string = '';\r\n        this.labelHands.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    show( winners: any, type: number, e: any ) {\r\n        this.labelWinners.string = '';\r\n        this.labelHands.string = '';\r\n\r\n        let wns: string[] = [];\r\n        winners.forEach( (e)=>{\r\n            wns.push( e.nickname );\r\n        });\r\n\r\n        let ws = wns.toString();\r\n        this.labelWinners.string = ws;\r\n        this.labelHands.string = e.descr;\r\n\r\n        this.labelWinners.node.active = true;\r\n        this.labelHands.node.active = true;\r\n\r\n        if ( type > 0 ) {\r\n            type = ( type - 1 );\r\n            \r\n            this.spriteWinEffectRank.spriteFrame = this.spriteFrameRanks[ type ];\r\n            this.spriteWinEffectRank.node.active = true;\r\n            let grade = Math.floor( ( type ) / 3 );\r\n\r\n            this.spriteWinEffectBackGround.spriteFrame = this.spriteFrameGrades[ grade ];\r\n            this.spriteWinEffectBackGround.node.active = true;\r\n        }\r\n\r\n        switch ( type ) {\r\n            case 0:\r\n                AudioController.instance.PlaySound('VOICE_RANK_TOP');\r\n                break;\r\n            case 1:\r\n                AudioController.instance.PlaySound('VOICE_RANK_ONEPAIR');                \r\n                break;\r\n            case 2:\r\n                AudioController.instance.PlaySound('VOICE_RANK_TWOPAIR');                \r\n                break;\r\n            case 3:\r\n                AudioController.instance.PlaySound('VOICE_RANK_TRIPLE');                \r\n                break;\r\n            case 4:\r\n                AudioController.instance.PlaySound('VOICE_RANK_STRAIGHT');                \r\n                break;\r\n            case 5:\r\n                AudioController.instance.PlaySound('VOICE_RANK_FLUSH');                \r\n                break;\r\n            case 6:\r\n                AudioController.instance.PlaySound('VOICE_RANK_FULL_HOUSE');                \r\n                break;\r\n            case 7:\r\n                AudioController.instance.PlaySound('VOICE_RANK_FOURCARD');\r\n                break;                \r\n            case 8:\r\n                AudioController.instance.PlaySound('VOICE_RANK_STRAIGHT_FLUSH');\r\n                break;\r\n       }\r\n\r\n        this.rootInfo.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.spriteWinEffectBackGround.node.active = false;\r\n        this.spriteWinEffectRank.node.active = false;\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n"]}