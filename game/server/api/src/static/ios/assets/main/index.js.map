{"version":3,"sources":["../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/AudioController.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Board.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/Card.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/extensions/colyseus-sdk/runtime/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/extensions/colyseus-sdk/runtime/colyseus.js","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/CommonUtil.ts","../../file:/C:/ProgramData/cocos/editors/Creator/3.7.3/resources/resources/3d/engine/editor/assets/tools/file:/C:/ProgramData/cocos/editors/Creator/3.7.3/resources/resources/3d/engine/editor/assets/tools/debug-view-runtime-control.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/GameEntry.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/GameManager.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/HoldemDefines.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/LobbyAudioContoller.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/LobbyEntry.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/LobbySystemPopup.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/LoginSystemPopup.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Main.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/NetworkManager.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/PlayerActionInformation.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/PokerEvaluator.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/ResourceManager.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiBettingChips.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiBettingControl.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiBuyIn.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiCard.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiCommunityCards.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiControls.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiEffectShowRiver.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiEntity.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiEntityAvatar.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiGameChatting.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiGameInput.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiGamePOPUP_MESSAGES.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiGameSystemPopup.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiJoinPlayer.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_CHARGE.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_EVENT.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_NOTICE.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_POINT_RECEIVE.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_POINT.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_QnA.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_RANKING.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_TICKETS.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLOBBY_POPUP_TRANSFER.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiLobby.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLobbyBottom.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLobbyLoading.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiLobbyPopup.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiLogin.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/UiLoginPOPUP_VERSION_MISMATCH.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Login/UiLoginPOPUP.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiPlayer.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiPlayerAction.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiPlayerActionReservation.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiPopupChangeAvatar.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiPopupGameProfile.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiPopupProfile.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiPopupSetting.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiPot.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiPotChips.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiProfile.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiResultEffect.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiRoundPotValue.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiSeat.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiSeats.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiShowDownEffect.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/UiTable.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Lobby/UiTableList.ts","../../file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/file:/C:/Dev/SNLSoft/_CASINO/Holdem/Hawaii-Holdem/game/client/assets/Scripts/Game/UiWinEffect.ts"],"names":["ccclass","_decorator","property","_dec","_dec2","AudioSource","_dec3","_class3","_Component","AudioController","_this","_len","arguments","length","args","Array","_key","call","apply","concat","_initializerDefineProperty","_descriptor","_assertThisInitialized","_descriptor2","volumn","_inheritsLoose","_proto","prototype","init","instance","this","ApplyVolumn","setting","NetworkManager","Instance","GetSetting","undefined","sound","audioSource","volume","VOLUMNE_MULTIPLIER","audioSourceTimeLimitFourSec","PlayTimeLimit","play","StopTimeLimit","stop","PlaySound","name","source","ResourceManager","getSoundSource","playOneShot","ButtonClick","Component","_applyDecoratedDescriptor","_class2","configurable","enumerable","writable","initializer","_class","_RF","pop","Board","setInfo","info","id","table_id","small","smallBlind","big","bigBlind","ante","balance","buyin","passPrice","passTerm","room","table","minStakePrice","maxStakePrice","reserveSeat","isPublic","ip","Sprite","_dec4","Card","_descriptor3","vec3Original","anim","num","type","ENUM_CARD_TYPE","NONE","flipDone","Init","Vec3","node","position","spriteCard","spriteHighlight","spriteDimmed","spriteFrame","getCardImage","active","PLAYER_HIDDEN","getComponent","Animation","on","OnFlipFinished","bind","Show","ShowFlip","delay","done","_this2","scheduleOnce","ShowImmediate","Fold","SetWinCard","pools","_this3","find","e","x","y","z","Hide","ResetPosition","Reset","card","OnFlipCentered","GetType","__cjsMetaURL","import","define","exports","require","module","__filename","__dirname","global","factory","amd","globalThis","self","Colyseus","ArrayBuffer","isView","a","buffer","window","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__extends","TypeError","String","__","constructor","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","then","__generator","body","f","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","push","src","tar","headers","statusMessage","statusText","statusCode","status","data","response","send","method","uri","opts","res","rej","k","tmp","arr","req","XMLHttpRequest","str","timeout","ontimeout","onerror","err","open","href","onload","getAllResponseHeaders","trim","split","shift","toLowerCase","join","indexOf","JSON","parse","reviver","FormData","stringify","withCredentials","setRequestHeader","get","post","patch","del_1","get_1","patch_1","post_1","put_1","send_1","xhr","del","put","http","freeze","assign","ServerError","_super","code","message","Error","Decoder","offset","_offset","_buffer","_view","DataView","byteOffset","byteLength","utf8Write","view","c","i","l","charCodeAt","setUint8","_encode","bytes","defers","hi","lo","size","utf8Length$1","_str","_length","Math","floor","isFinite","pow","_float","isArray","Date","time","getTime","_bin","toJSON","keys","key","allKeys","encode","buf","deferIndex","deferWritten","nextOffset","defer","deferLength","bin","Uint8Array","j","setFloat64","_array","_parse","_map","string","chr","end","byte","getUint8","toString","fromCharCode","utf8Read$1","slice","prefix","getUint16","getUint32","getInt8","getFloat32","getFloat64","getInt16","getInt32","Protocol","ErrorCode","WebSocket","WebSocketTransport","events","ws","connect","url","protocols","binaryType","onopen","onmessage","onclose","close","reason","Connection","transport","serializers","registerSerializer","serializer","getSerializer","EventEmitter","handlers","register","cb","once","invoke","_i","forEach","handler","invokeAsync","all","map","remove","index","clear","createSignal","emitter","callback","storage","umd","fn","createCommonjsModule","__decorate","decorators","target","desc","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__spreadArray","to","from","il","OPERATION","SWITCH_TO_STRUCTURE","TYPE_ID","Root","refs","Map","refCounts","deletedRefs","Set","nextUniqueId","getNextUniqueId","addRef","refId","ref","incrementCount","set","removeRef","add","clearRefs","garbageCollectDeletedRefs","Schema","fieldName","schema","definition","parent","_definition","fieldsByIndex","parentIndex","values","child","ChangeTree","root","changed","changes","allChanges","caches","currentCustomOperation","setParent","indexes","field","parentIndex_1","changeTreee","parentIndex_2","operation","change","ADD","assertValidIndex","previousChange","DELETE","TOUCH","DELETE_AND_ADD","touchParents","touch","has","getType","parentType","getChildrenFilter","childFilters","getValue","previousValue","console","warn","discard","discardAll","cache","cachedBytes","clone","ensureRefId","DEFAULT_SORT","A","B","getArrayProxy","Proxy","obj","prop","isNaN","at","setValue","parseInt","deleteAt","setAt","deleteProperty","ArraySchema","items","$changes","$items","$indexes","$refId","is","splice","lastIndex","_a","_b","$deleteAt","isDecoding","item","CLEAR","separator","reverse","shiftAt","start","sort","compareFn","deleteCount","removedItems","unshift","addedLength","previousValues","searchElement","fromIndex","lastIndexOf","every","callbackfn","some","filter","reduce","initialValue","reduceRight","predicate","findIndex","fill","copyWithin","toLocaleString","unscopables","entries","includes","flatMap","flat","depth","setIndex","getIndex","getByIndex","deleteByIndex","toArray","triggerAll","getMapProxy","MapSchema","initialValues","toStringTag","hasIndex","REPLACE","isRef","cloned","registeredTypes","registerType","identifier","SchemaDefinition","deprecated","descriptors","addField","getNextFieldIndex","array","addFilter","filters","indexesWithFilters","addChildrenFilter","hasFilter","klass","_context","useFilters","Context","types","schemas","typeid","_typeid","context","globalContext","definitionAtLine","stack","isMap","childType","fieldCached","filterChildren","throws","defineTypes","fields","utf8Length","int8$1","uint8$1","int16$1","uint16$1","int32$1","uint32$1","b4","b3","b2","b1","int64$1","high","uint64$1","float32$1","writeFloat32","float64$1","writeFloat64","_int32$1","Int32Array","_float32$1","Float32Array","_float64$1","Float64Array","boolean$1","string$1","number$1","Number","MAX_SAFE_INTEGER","int8","uint8","int16","uint16","int32","uint32","int64","uint64","float32","float64","number","utf8Read","error","it","readFloat32","readFloat64","low","_int32","_float32","_float64","boolean","stringCheck","numberCheck","arrayCheck","switchStructureCheck","decode","CollectionSchema","entry","SetSchema","EventEmitter_","ClientState","refIds","WeakSet","containerIndexes","WeakMap","addRefId","changeTree","client","$filterState","EncodeSchemaError","assertType","typeofTarget","allowNull","log","foundValue","assertInstanceType","encodePrimitiveType","encodeFunc","decodePrimitiveType","defineProperties","$listeners","onError","props","listen","attr","$root","totalBytes","isSchema","fieldIndex","dynamicIndex","refId_1","getSchemaType","createTypeInstance","onChange","onRemove","typeDef","refId_2","valueRef","onAdd","deletes","iter","value_1","getProxy","hasChange","nextIterator","nextRef","_triggerChanges","encodeAll","rootChangeTree","refIdsVisited","changeTrees","numChangeTrees","cl","beginIndex","tryEncodeTypeId","applyFilters","refIdsDissallowed","filteredBytes","_loop_1","clientHasRefId","isEncodeAll","indexWithFilter","_triggerAllFillChanges","discardAllChanges","targetType","defaultType","_c","_d","_e","_f","_g","_h","_j","_k","_l","_m","listener","dumpChanges","dump","currentStructure","reflectionContext","ReflectionField","ReflectionType","Reflection","rootSchemaType","reflection","rootType","buildType","currentType","fieldType","type_1","childTypeSchema","referencedType","type_2","schemaTypes","reflectionType","schemaType","refType","typeInfo","rootInstance","Room","rootSchema","onStateChange","onLeave","onJoin","hasJoined","onMessageHandlers","emit","event","state","removeAllListeners","endpoint","connection","onMessageCallback","destroy","leave","consented","LEAVE_ROOM","onMessage","getMessageHandlerKey","initialBytes","ROOM_DATA","encoded","getState","JOIN_ROOM","serializerId","handshake","ERROR","it_1","code_1","ROOM_DATA_SCHEMA","it_2","dispatchMessage","ROOM_STATE","setState","ROOM_STATE_PATCH","it_3","decoder","encodedState","binaryPatch","messageType","teardown","getStorage","cc","sys","localStorage","setItem","getItem","removeItem","Platform","TOKEN_STORAGE","Auth","_id","username","displayName","avatarUrl","isAnonymous","email","lang","location","timezone","metadata","devices","facebookId","twitterId","googleId","gameCenterId","steamId","friendIds","blockedUserIds","createdAt","updatedAt","token","replace","login","options","queryParams","hasToken","request","registerPingService","save","getFriends","getOnlineFriends","getFriendRequests","sendFriendRequest","friendId","userId","acceptFriendRequest","declineFriendRequest","blockUser","unblockUser","segments","query","name_1","queryString","logout","unregisterPingService","keepOnlineInterval","setInterval","clearInterval","MatchMakeError","DEFAULT_ENDPOINT","hostname","protocol","port","Client","_auth","joinOrCreate","roomName","createMatchMakeRequest","joinById","roomId","reconnect","sessionId","getAvailableRooms","consumeSeatReservation","createRoom","buildEndpoint","params","processId","SchemaSerializer","rawState","patches","NoneSerializer","__esModule","CommonUtil","getNumberStringWithComma","showCurrency","getKoreanNumber","setAvatarSprite","sf","resources","load","setCardSprite","setEmoticonSprite","TruncateString","setGameSetting","avatars","getGameSetting","Node","DebugViewRuntimeControl","_single","strSingle","strComposite","strMisc","compositeModeToggleList","singleModeToggleList","miscModeToggleList","textComponentList","labelComponentList","textContentList","hideButtonLabel","_currentColorIndex","strColor","color","Color","WHITE","BLACK","RED","GREEN","BLUE","Canvas","uiTransform","UITransform","halfScreenWidth","width","halfScreenHeight","height","miscNode","getChildByName","buttonNode","instantiate","titleNode","newLabel","EnableAllCompositeModeButton","setPosition","setScale","labelComponent","Label","overflow","currentRow","newNode","singleModeToggle","textComponent","getComponentInChildren","RichText","Toggle","EventType","TOGGLE","toggleSingleMode","Button","CLICK","enableAllCompositeMode","changeColorButton","changeTextColor","HideButton","hideUI","compositeModeToggle","isChecked","toggleLightingWithAlbedo","toggleCSMColoration","toggleCompositeMode","isTextMatched","textUI","textDescription","tempText","search","substr","toggle","debugView","director","singleMode","enableCompositeMode","lightingWithAlbedo","csmLayerColoration","button","toggleComponent","activeValue","onLoad","update","deltaTime","GameEntry","_root","_popup","_controls","_isChildrenRegisted","_table","_rootInformation","_labelID","_labelAnte","_labelSB","_labelBB","_labelIP","_labelHandInfo","rootPortrait","rootLandscape","GameManager","GetInfo","device","ENUM_DEVICE_TYPE","MOBILE_PORTRAIT","PC_LANDSCAPE","RegisterChildren","audioController","SetCurrentScene","ENUM_CURRENT_SCENE","GAME_SCENE","SetHandInfo","show","game","Game","EVENT_SHOW","onEVENT_SHOW","EVENT_HIDE","onEVENT_HIDE","getChildByPath","UiGameSystemPopup","UiControls","UiTable","onEVENT_FOREGROUND","onEVENT_BACKGROUND","onDestroy","off","hands","_cc$Component","version","deviceType","leaveReason","ENUM_LEAVE_REASON","LEAVE_UNKNOWN","currentScene","LOGIN_SCENE","showEventPopup","_instance","GetVersion","SetVersion","SetDeviceType","scene","GetShowEventPopup","SetShowEventPopup","ForceExit","LEAVE_NONE","LEAVE_VERSION_MISMATCH","LEAVE_TOKEN_EXPIRE","LEAVE_LONG_AFK","loadScene","ResetLeaveReason","GetLeaveReason","ENUM_COMMUNTY_CARD_STATE","ENUM_BET_SOUND","AudioClip","LobbyAudioContoller","PlayButtonClick","clipButtonClick","LobbyEntry","_lobby","AudioContoller","initialize","LOBBY_SCENE","UiLobby","LobbySystemPopup","ePopupType","PopUpElement","_dec5","_dec6","_dec7","_dec8","_dec9","_dec10","_dec11","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_descriptor10","onClose","onYes","onNo","btnOk","onClickOk","btnYes","onClickYes","btnNo","onClickNo","hide","title","content","closeCallback","yesCallback","noCallback","lbTitle","lbTitleShadow","lbContents","lbContentsShadow","popUpOk","popUpYesOrNo","None","Ok","YesOrNo","_dec12","_dec13","_class6","_descriptor11","popupQueue","isPopupShow","_proto2","uiPopUp","showPopUpOk","showPopup","showPopUpYesOrNo","showInfo","IsPOPUP_SHOW","closePopup","_class5","_class4","LoginPopupType","LoginPopUpElement","LoginSystemPopup","Main","_login","_join","_loginPopup","_lableVersion","Initialize","onShowJoinMember","onShowLogin","UiLogin","UiJoinPlayer","ENUM_RESULT_CODE","HOLDEM_SERVER_TYPE","apiHost","gameHost","apiPort","gamePort","useSSL","user","statics","config","store","API_SERVER","GAME_SERVER","api_port","game_port","user_id","getQueryStringParams","decodeURIComponent","_Init","_asyncToGenerator","_regeneratorRuntime","mark","_callee","onSuccess","onFail","result_api","wrap","prev","Post","API_SERVER_SUB","DISCONNECT_SERVER","msg","abrupt","UNKNOWN_FAIL","SUCCESS","_x","_x2","_x3","reqTOKEN_VERIFY","_reqTOKEN_VERIFY","_callee2","onSUCCESS","onFAIL","_context2","parsedError","_x4","_x5","reqCHECK_VERSION","_reqCHECK_VERSION","_callee3","_context3","_x6","_x7","_x8","reqCHECK_TICKETS","_reqCHECK_TICKETS","_callee4","ticket_id","_context4","_x9","_x10","_x11","reqLOGIN_HOLDEM","_reqLOGIN_HOLDEM","_callee5","login_id","password","isConnect","platform","os","_context5","_x12","_x13","_x14","_x15","reqJOIN_REQUEST","_reqJOIN_REQUEST","_callee6","_context6","_x16","_x17","getDATA","_getDATA","_callee7","_context7","conf","_x18","_x19","_x20","getPOPUPS","_getPOPUPS","_callee8","store_id","_context8","_x21","_x22","getSTATICS","_getSTATICS","_callee9","_context9","_x23","_x24","_x25","reqREFRESH","_reqREFRESH","_callee10","_context10","_x26","_x27","reqGET_UNREAD_MESSAGE","_reqGET_UNREAD_MESSAGE","_callee11","_context11","_x28","_x29","reqREAD_QNA","_reqREAD_QNA","_callee12","_context12","_x30","_x31","_x32","reqREAD_MESSAGE","_reqREAD_MESSAGE","_callee13","_context13","_x33","_x34","_x35","reqNOTICES","_reqNOTICES","_callee14","_context14","_x36","_x37","reqDELETE_QNA","_reqDELETE_QNA","_callee15","_context15","_x38","_x39","_x40","getTABLE_LIST","_getTABLE_LIST","_callee16","_context16","_x41","_x42","reqENTER_TABLE","_reqENTER_TABLE","_callee17","_context17","ColySeus","errorCode","t0","_x43","_x44","_x45","reqCOMPANY","_reqCOMPANY","_callee18","errMessage","_context18","_x46","_x47","getSTORE","_getSTORE","_callee19","_context19","_x48","_x49","getCHARGE_REQUESTS","_getCHARGE_REQUESTS","_callee20","_context20","_x50","_x51","getTRANSFER_REQUESTS","_getTRANSFER_REQUESTS","_callee21","_context21","_x52","_x53","reqCHARGE_REQUEST","_reqCHARGE_REQUEST","_callee22","amount","holder","_context22","_x54","_x55","_x56","reqTRANSFER_REQUEST","_reqTRANSFER_REQUEST","_callee23","_context23","_x57","_x58","_x59","getSETTING","_getSETTING","_callee24","_context24","_x60","_x61","_x62","reqJOIN_MEMBER","_reqJOIN_MEMBER","_callee25","_context25","_x63","_x64","_x65","reqCHECK_LOGIN_ID","_reqCHECK_LOGIN_ID","_callee26","_context26","_x66","_x67","_x68","reqCHECK_NICKNAME","_reqCHECK_NICKNAME","_callee27","nickname","_context27","_x69","_x70","_x71","reqPOINT_TRANSFER","_reqPOINT_TRANSFER","_callee28","_context28","_x72","_x73","_x74","getPOINT_TRANSFERS","_getPOINT_TRANSFERS","_callee29","_context29","_x75","_x76","reqUNREAD","_reqUNREAD","_callee30","_context30","_x77","_x78","reqGET_QNA","_reqGET_QNA","_callee31","_context31","_x79","_x80","reqMESSAGE","_reqMESSAGE","_callee32","_context32","_x81","_x82","reqSEND_QNA","_reqSEND_QNA","_callee33","_context33","_x83","_x84","_x85","getPOINT_RECEIVES","_getPOINT_RECEIVES","_callee34","_context34","_x86","_x87","GetUser","GetConfig","updateUSER_AVATAR","_updateUSER_AVATAR","_callee35","avatar","_context35","_x88","_x89","_x90","updateUSER_SETTING","_updateUSER_SETTING","_callee36","selected","_context36","_x91","_x92","_x93","getUSER_FromDB","_getUSER_FromDB","_callee37","_context37","_x94","_x95","_reconnect","_callee38","roomid","session_id","_context38","_x96","_x97","reqCHECK_GAME_SERVER","_reqCHECK_GAME_SERVER","_callee39","game_servers","_context39","server","GAME_SERVER_SUB","_x98","_x99","onreadystatechange","readyState","respone","responseText","fullUrl","PlayerActionInformation","labelMinBet","labelCurBet","labelPlayerChips","labelMaxChips","labelMaxBet","labelMinRaise","labelCurrentPot","labelCurrentBet","minBet","currBet","chips","maxBet","maxChip","minRaise","Hand","RoyalFlush","NaturalRoyalFlush","WildRoyalFlush","FiveOfAKind","StraightFlush","FourOfAKindPairPlus","FourOfAKind","FourWilds","TwoThreeOfAKind","ThreeOfAKindTwoPair","FullHouse","Flush","Straight","ThreeOfAKind","ThreePair","TwoPair","OnePair","HighCard","PaiGowPokerHelper","suit","rank","wildValue","cards","canDisqualify","cardPool","suits","wilds","sfLength","alwaysQualifies","isPossible","descr","sfQualify","lowestQualified","myCards","obj1","key1","handRank","handValues","solve","compare","loseTo","hand","getNumCardsByRank","val","checkCardsLength","wildStatus","getCardsForFlush","setRanks","wild","resetWildCards","nextHighest","picks","excluding","qualifiesHigh","winners","h","highestRank","max","lose","stripWilds","nonWilds","_Hand","possibleStraight","nonCards","straight","_StraightFlush","_RoyalFlush","_RoyalFlush2","_Hand2","cardsInHand","_Hand3","_Hand4","noKickers","_Hand5","_Hand6","_Hand7","_Hand8","_Hand9","_proto14","checkCards","wheelStatus","getWheel","wildCount","getGaps","checkHandLength","wildCards","cardsToCheck","gapCards","cardsList","gapCount","prevCard","diff","stripReturn","wheelCards","cardFound","_Hand10","_Hand11","_Hand12","_Hand13","_Hand14","_Hand15","baseHand","hiHand","loHand","loGame","hiGame","_proto21","splitHouseWay","hiCards","loCards","handValue","sfReturn","altGame","altHand","altRank","getSFData","possibleSF","possibleLoCards","bestLoCards","bestHand","handsToCheck","qualifiesValid","compareHands","player","banker","hiWinner","loWinner","setHands","fullHand","gameRules","CARDS_NAME","SOUNDS_NAME","preloadCardsResource","preloadChipsResource","preloadSoundsResource","preloadAvatarResource","preloadTableResource","preloadBackgroundResource","currentCardType","currentTableType","currentBgType","loadAvatars","count","cbProgress","cbDone","cnt","finished","total","ext","loadChips","loadCards","_this4","loadSounds","_this5","_loop","loadTables","_this6","board","loadBackground","_this7","background","getChipImage","getAvatarImage","getTableImage","getBackgroundImage","setBackgroundImage","s","setTableImage","getCardPreloadState","getChipPreloadState","getSoundsPreloadState","getTablePreloadState","getBackgroundPreloadState","clipName","resetCardsPreload","resetChipsPreload","UiBettingChips","sprites","positions","numbers","digits","ss","rootBettingValue","labelBettingValue","setNumbers","setDigits","reset","move","targets","moveChipsToPot","idx","moveToPot","digit","UIOpacity","opacity","tw","tween","easing","easeOutQuad","onUpdate","ratio","o","vecTo","convertToWorldSpaceAR","convertToNodeSpaceAR","easeOutBack","c1","ENUM_BETTING_TYPE","Slider","UiBettingControl","betStart","betRange","betMin","sb","cbBet","bb","_this$sliderBetting","labelDisplayValue","sliderEventHandler","EventHandler","component","customEventData","sliderBetting","slideEvents","buttonMinus","onCLICK_MINUS","buttonPlus","onCLICK_PLUS","buttonBet","onCLICK_BET","buttonRaise","onCLICK_RAISE","progress","isBet","hasAction","enable","onENABLE","SetValue","Bet","Raise","buttonMinusDisable","onDISABLE","buttonBetDisable","buttonRaiseDisable","min","buttonPlusDisable","sliderBettingDisable","SetSlide","onSLIDE_CHANGE","slider","UiBuyIn","_descriptor12","buyInRange","buyInResult","cbExit","cbBuyIn","initialized","_this$sliderBuyIn","buttonExit","onClickExit","buttonBuyIn","onClickBuyIn","buttonMin","onClickMin","buttonMax","onClickMax","buttonInput","onClickInput","sliderBuyIn","buyIn","labelBuyIn","labelUserChips","labelBlind","m","labelMinStakePrice","labelMaxStakePrice","setBuyInRatio","onSliderChangeValue","addChips","labelTitle","reBuyIn","minValue","buyInDone","buyInRemain","AnimationClip","UiCard","sprite","originalPos","onCardFlipFinished","spriteWin","onCardFlippCenter","UiCommunityCards","isRegistedChildren","RegistedChildren","Ready","SetCommunityCards","ShowFlopCards","_loop2","ShowTurnCard","COMMUNITY_TURN","ShowRiverCard","COMMUNITY_RIVER","ShowRiverCardImmediate","SetWinCards","GetCommunityCards","COMMUNITY_FLOP","cbMessage","buttonMessage","onClickMessage","labelUnread","BADGE_MESSAGE","onREFRESH_UNREAD_BADGE","SetUnreadCount","setExitCallback","unread_messages","SetCallback","UiEffectShowRiver","animation","onFinished","unscheduleAllCallbacks","onChangeCard","UiEntity","uiEntityAvatar","isChildRegistered","rootCards","rootButtons","timerDeltaTime","turnDuration","playTimeLimitSound","buttons","rootHandRank","labelHandRank","isFold","isWait","isMe","isSitout","bezierPoints","nodeEmoticon","spriteEmoticon","nodeChatting","animationEmoticon","animationChatting","labelChatting","buttonAvatar","uiBettingChips","uiResultEffect","timeOutId","uiPotChips","cbProfileOpen","cbProfileClose","isPlaying","rootHandCards","handCards","rootHiddenCards","hiddenCards","rootCardDispensing","seat","rootReserveExit","betTimerUnit","childRegistered","UiEntityAvatar","UiResultEffect","PLAYER_HAND","SIZE_CHANGED","uiTransLB","uiTransSpr","setContentSize","contentSize","point","onFinishedEmoticonAnimation","onFinishedChattingAnimation","UiPotChips","onClickAvatar","SetEntity","entity","cbOpen","cbClose","SetAvatar","endTurn","ClearAction","ClearBetValue","ClearHands","fold","wait","isSitOut","SetStatus","SetWait","SetSitout","SetEscape","SetClearRound","SetChips","ResetResultEffect","SetPlay","SetPrepareRound","SetFold","setChipsMoveToPot","pot","setEscape","clearTimeout","clearUiBetValue","SetNickname","SetBlindBet","isSB","isBB","SetBigBlind","SetSmallBlind","SetShowChips","SetButtons","element","ClearButtons","SetAction","action","CLEAR_ROUND_ACTION","ENUM_STATUS_TYPE","SITOUT","WAITING","SetBetValue","betValue","ResetHands","HideHiddenCard","HideHandCard","ClearHandRank","SetShowHiddenCard","SetHandCardsFold","SetHandRank","handEval","startTurn","duration","StartActionTimer","SET_UI_FOLD","SetAllIn","SetSitback","SetSitbackStatus","setEmoticon","setEmoticonButtinInteractive","EMOTICON_TYPE","Emoticon","Chatting","EMOTICON_CHAT_MESSAGE","dt","updateTimer","setShowTimer","setWaitingTimerColor","YELLOW","setWaitingTimer","setWaitingTimerProgress","GetNickname","SetDraw","SetDrawEffect","SetReturn","SetReturnEffect","SetWinner","MovePotToEntity","SetWinEffect","setAniWinner","setTweenFadeInFromToMove","originalColor","fadeInRatio","easingFunc","union","PrepareDispensingCards","CardDispensing","ShowHands","hiddenCardFadeOut","TIMER_BEGIN_COLOR","TIMER_END_COLOR","SpriteFrame","rootSelected","rootNameTag","rootActions","rootStatus","spriteAvatarProfile","spriteTimer","spriteStatus","spriteFold","SPRITE_NAME_TAG","labelNickname","labelChips","labelWaitingTimer","actions","isChildRegisted","uiEntity","SPRITE_FOLD","SPRITE_ALLIN","SPRITE_FRAME","SetPlayerThumbnail","GRAY","fillRange","SET_PLAY","SET_FOLD","SET_DIMMED","SET_ALLIN","isDimmed","delta","lerp","spriteFrameStatus","EmoticonElement","copy","copyObj","newObj","nodeRoot","emoticon","onClick","ChattingElement","buttonChatting","setChatting","chat","_dec14","_dec15","_dec16","_dec17","_class8","UiGameChatting","_descriptor13","_descriptor14","cbSelect","isSet","_proto3","originEmoticonElement","onClickEmoticon","nodeEmoticonContents","originChattingElement","onClickChatting","nodeChattingContents","toggleEmoticon","onToggleEmoticon","toggleChatting","onToggleChatting","nodeChattingPanel","nodeEmoticonPanel","_class7","UiGameInput","inputValue","maxValue","GameMessageElement","CopyObject","rootNode","spriteUnread","labelSender","labelDate","Clear","createDate","unread","onSELECT_MESSAGE","SetActive","SetParent","Layout","ScrollView","_dec18","_dec19","_dec20","UiGamePOPUP_MESSAGES","_descriptor15","_descriptor16","_descriptor17","_descriptor18","MessageElementOnList","selectedMessage","cbUNREAD_COUNT","PANEL_MESSAGE_LIST","PANEL_MESSAGE_SHOW","buttonBack","onBACK_MESSAGE_LIST","originMessage","onMESSAGE_REFRESH","ShowMessageList","messages","ClearList","MessagesLength","layoutMessageList","svMessagess","scrollToTop","ClearShowMessagePanel","labelMessageTitle","labelMessageSender","labelMessageDescription","description","labelMessageUpdate","DestoryElements","cbOk","cbYes","cbNo","labelDescription","nodeOkPopup","nodeYesNoPopup","buttonOk","buttonYes","buttonNo","showOkPopup","showYesNoPopup","EditBox","main","isCheckID","isCheckNickname","buttonJoin","onCLICK_JOIN","buttonCancel","onCLICK_CANCEL","buttonIDCheck","onCLICK_CHECK_ID","buttonNicknameCheck","onCLICK_CHECK_NICKNAME","editBoxID","onLOGIN_ID_EDITBOX_DID_BEGAN","onLOGIN_ID_EDITBOX_RETURN","onLOGIN_ID_EDITBOX_TEXT_CHANGED","onLOGIN_ID_EDITBOX_DID_ENDED","editBoxNickname","onEDITBOX_DID_BEGAN","onEDITBOX_RETURN","onEDITBOX_TEXT_CHANGED","onEDITBOX_DID_ENDED","editBoxPassword","editBoxPasswordConfirm","editBoxTransferPassword","editBoxPhone","editBoxBank","editBoxHolder","editBoxAccount","editBoxRecommender","interactable","validate","store_code","transfer_password","phone","bank","account","recommender","validateID","validateNickname","validatePassword","validateTransferPassword","validatePhone","validateBank","validateHolder","validateAccount","validateRecommender","test","c2","editbox","blur","UiLOBBY_POPUP_CHARGE","charge_min","cbEXIT","cbAPPLY","editboxChargeAmount","labelAccount","labelHolder","labelContact","onEXIT","buttonApply","onAPPLY","min_charge","labelChargeMin","charges","charge","GetStoreInfo","editboxChargeHolder","labelKorValue","telegram","kakao","RequestCharge","ENUM_EVENT_POPUP_TYPE","UiLOBBY_POPUP_EVENT","popups","current","maxPopup","cbDONE","labelLoadingMessage","spriteEvent","defaultSpriteFrame","buttonConfirm","onCONFIRM","labelButtonLabel","buttonConfirmDisable","popup","SetPopup","onDONE","EVENT_POPUP_NONE","_SetPopup","GetSpriteFromUrl","_GetSpriteFromUrl","assetManager","loadRemote","xhrMimeType","imageAsset","texture","Texture2D","image","NoticeElement","notice","labelAuthor","buttonNotice","onSELECT_NOTICE","UiLOBBY_POPUP_NOTICE","selectdNotice","NoticeElementOnList","onCLICK_EXIT","onCLICK_BACK","rootList","rootShow","notices","onSHOW_LIST","NoticesLength","originNotice","layoutNotices","svNotices","onREFRESH","labelShowTitle","labelShowDate","labelShowDescription","UiLOBBY_POPUP_POINT_RECEIVE","logs","maxLogs","SetLog","_SetLog","PointTransferElement","labelTransferPoint","labelRemainPoint","labelAddBalance","newPoint","newBalance","oldBalance","PointGiftElement","labelReceivePoint","labelPoint","_dec21","_dec22","_dec23","_dec24","_dec25","_dec26","_dec27","_dec28","_dec29","_dec30","_dec31","_dec32","_dec33","UiLOBBY_POPUP_POINT","_descriptor19","_descriptor20","_descriptor21","_descriptor22","_descriptor23","_descriptor24","_descriptor25","_descriptor26","_descriptor27","_descriptor28","_descriptor29","_descriptor30","pointTransferElementOnList","pointGiftElementOnList","transfer_min","labelUserBalance","labelUserPoint","togglePoint","onTOGGLE_POINT","toggleGift","onTOGGLE_GIFT","originPointTransfer","originPointGift","editboxPointTransfer","min_point_transfer","labelTransferMin","SetUserInfo","ShowPointTransferList","rootPoint","rootGift","ClearPointTransferList","DestroyPointTransferElements","ClearPointGiftList","DestroyPointGiftElements","logLength","layoutPointLogs","svPointTransfer","ShowPointGiftList","layoutGiftLogs","svPointGift","oldPoint","PointTransfer","ShowGiftLog","QnAElement","qna","spriteSlot","buttonQNA","spriteButton","labelButton","questionDate","pending","onSELECT_QNA","MessageElement","_dec34","_dec35","_dec36","_dec37","_dec38","_dec39","_dec40","_dec41","_dec42","_dec43","_dec44","_dec45","_dec46","_dec47","_dec48","_dec49","_dec50","_dec51","_dec52","_dec53","_dec54","_dec55","_dec56","_dec57","_dec58","_dec59","_dec60","UiLOBBY_POPUP_QnA","_descriptor31","_descriptor32","_descriptor33","_descriptor34","_descriptor35","_descriptor36","_descriptor37","_descriptor38","_descriptor39","_descriptor40","_descriptor41","_descriptor42","_descriptor43","_descriptor44","_descriptor45","_descriptor46","_descriptor47","_descriptor48","_descriptor49","_descriptor50","_descriptor51","_descriptor52","_descriptor53","_descriptor54","_descriptor55","_descriptor56","_descriptor57","QNAAElementOnList","selectedInfo","labelTitleText","rootQNA","rootMessage","PANEL_QNA_LIST","PANEL_QNA_INPUT","PANEL_QNA_SHOW","labelShowTitleText","labelShowQuestionText","labelShowAnswerText","labelShowPending","labelQuestionUpdate","labelAnswerUpdate","labelQNAUnread","labelMessageUnread","BADGE_QNA","editboxTitle","onTITLE_EDITBOX_DID_BEGAN","onTITLE_EDITBOX_RETURN","onTITLE_EDITBOX_TEXT_CHANGED","onTITLE_EDITBOX_DID_ENDED","editboxQuestion","onQUESTION_EDITBOX_DID_BEGAN","onQUESTION_EDITBOX_RETURN","onQUESTION_EDITBOX_TEXT_CHANGED","onQUESTION_EDITBOX_DID_ENDED","buttonWrite","onWRITE","buttonActivateTitle","onACTIVATE_TITLE","onBACK_LIST","buttonMessageBack","buttonDelete","onDELETE_QNA","buttonSend","onSEND_QNA","onSEND_CANCEL","toggleQNA","onTOGGLE_QNA","toggleMessage","onTOGGLE_MESSAGE","originQNA","onREFRESH_UNREAD","unread_answer","unread_message","ShowList","qnas","QnAsLength","layoutQnAList","svQnAs","ClearShowPanel","question","answer","answerDate","onRESET_WRITE","labelTitleCount","labelDescCount","focus","_this8","DELETE_QNA","_this9","_this10","q","affected","_this11","_this12","UiLOBBY_POPUP_RANKING","UiLOBBY_POPUP_TICKETS","tickets","maxTickets","ticket","SetTicket","_SetTicket","updateDate","transfer","UiLOBBY_POPUP_TRANSFER","remain","labelBank","labelPhone","labelBalance","labelAfterBalance","labelKorAmount","editboxTransferAmount","onAMOUNT_EDITBOX_DID_BEGAN","onAMOUNT_EDITBOX_RETURN","onAMOUNT_EDITBOX_TEXT_CHANGED","onAMOUNT_EDITBOX_DID_ENDED","editboxTransferPassword","onPASSWORD_EDITBOX_DID_BEGAN","onPASSWORD_EDITBOX_RETURN","onPASSWORD_EDITBOX_TEXT_CHANGED","onPASSWORD_EDITBOX_DID_ENDED","min_transfer","transfers","GetUserInfo","UiPlayer","UiTableList","UiLobbyPopup","UiLobbyBottom","UiLobbyLoading","cbEnd","canRefresh","onHideTimestamp","uiLobbyPopup","uiPlayer","onShowAvartProfile","uiTableList","onJoinTable","EXIT_LOBBY","uiLobbyLoading","uiLobbyBottom","onSHOW_POINT","onSHOW_RANKING","onSHOW_CHARGE","onSHOW_TRANSFER","onSHOW_QND","onSHOW_NOTICE","buttonSetting","onShowSetting","spriteBlocker","CheckEventPopup","onREGIST_SCHEDULE","OpenEventPopup","tester","CloseEventPopup","SetUnreadMessage","SetUnreadBadge","ShowTicketResult","OpenTicketsPopup","CloseTicketsPopup","ShowPointReceives","OpenPointsReceivesPopup","ClosePointsReceives","refreshPlayer","refresh","schedule","onUNREGIST_SCHEDULE","IsOpen","disable","LEAVE_DISABLE_ACCOUNT","unreads","point_receives","getTableList","refreshUiPlayer","openProfile","openSetting","seatMaxFromServer","OpenPoint","OpenRanking","OpenCharge","OpenTransfer","OpenQNA","OpenNotice","now","ts","cbPOINT","cbRANKING","cbCHARGE","cbTRANSFER","cbQNA","cbNOTICE","buttonPoint","onCLICK_POINT","buttonRanking","onCLICK_RANKING","buttonCharge","onCLICK_CHARGE","buttonTransfer","onCLICK_TRANSFER","onCLICK_QNA","onCLICK_NOTICE","rootQNABadge","labelUnreadMessage","ProgressBar","cbNext","rootFadeIn","progressBar","FadeIn","preLoadResource","loadTable","launch","preloadScene","completedCount","totalCount","UiPopupProfile","UiPopupSetting","UiPopupChangeAvatar","uiLobby","isOpen","uiPopupProfile","openChargeAvatar","uiPopupSetting","applySetting","uiPopupChangeAvatar","hideChangeAvatar","applyChangeAvatar","uiLOBBY_POPUP_POINT","ClosePoint","applyPointTransfer","uiLOBBY_POPUP_RANKING","CloseRanking","uiLOBBY_POPUP_CHARGE","CloseCharge","uiLOBBY_POPUP_TRANFER","CloseTransfer","onAPPLY_TRANSFER","uiLOBBY_POPUP_QNA","CloseQNA","uiLOBBY_POPUP_NOTICE","CloseNotice","uiLOBBY_POPUP_EVENT","uiLOBBY_POPUP_TICKETS","closeAllPopup","Open","closeProfile","closeSetting","closeChangeAvatar","UiLoginPOPUP","RegistEditboxEvent","uiLoginPOPUP","spriteEventBlocker","buttonLogin","onClickLogin","onClickJoin","exitGame","editBoxUID","onUID_EDITBOX_DID_BEGAN","onUID_EDITBOX_RETURN","onUID_EDITBOX_TEXT_CHANGED","onUID_EDITBOX_DID_ENDED","onUIDEditboxReturn","onUIDEditboxChanged","text","onUIDEditboxDidBegan","onPasswordEditboxReturn","soundButtonClick","onLogin","onPasswordEditboxChanged","onPasswordEditboxDidBegan","onLOAD_DATA","referal","OPEN_VersionMismatch","onEXIT_GAME","onDOWNLOAD_PAGE","forceExit","openURL","UiLoginPOPUP_VERSION_MISMATCH","cbDOWNLOAD","buttonDownload","onCLICK_DOWNLOAD","homepage","uiLoginPopupVersionMismatch","CLOSE_VersionMismatch","avatarType","points","cbClickAvatar","labelPoints","labelIp","spriteAvatar","chip","login_ip","ENUM_BETTING_KIND","UiPlayerAction","buttonFold","buttonCheck","buttonCall","buttonAllIn","turnBet","myBet","myChips","callValue","maxChips","buttonQuater","buttonHalf","buttonFull","buttonCallDisable","buttonQuaterDisable","buttonHalfDisable","buttonFullDisable","labelCallValue","labelQuaterValue","labelHalfValue","labelFullValue","labelMaxValue","labelCallDisableValue","labelQuaterDisableValue","labelHalfDisableValue","labelFullDisableValue","quaterValue","halfValue","fullValue","betType","cbFold","cbCall","cbCheck","cbRaise","cbAllIn","cbBetAnnounce","_this$node$getChildBy","_this$buttonFold","_this$node$getChildBy2","_this$buttonCheck","_this$node$getChildBy3","_this$buttonCall","_this$node$getChildBy4","_this$buttonAllIn","onClickFold","onClickCheck","onClickCall","onClickAllin","onClickQuater","onClickHalf","onClickFull","uiBettingControl","onCLICK_BETTING","isLast","allin","allinCall","quater","half","full","currentPot","sendValue","BET_ALLIN","BET_QUATER","BET_HALF","BET_FULL","BET_MAX","BET","RAISE","ENUM_RESERVATION_TYPE","UiPlayerActionReservation","reservationType","RESERVATION_NONE","toggleFoldReservation","toggleCheckReservation","resetCheck","isOpenReservation","showCheck","checkReservation","RESERVATION_FOLD","RESERVATION_CHECK","getReservationType","PlayerAvatarElement","setAvatar","currentId","onToggle","userInfo","gameSetting","selectId","cbApply","onClickApply","showAvatars","container","contents","ToggleContainer","allowSwitchOff","origin","onClickToggle","removeAllChildren","CARD_NAME","UiPopupGameProfile","rootInfo","rootHands","rootBalance","labelHandCount","labelMaxPots","labelWin","labelFold","labelWinPreflop","labelWinFlop","labelWinTurn","labelWinRiver","labelFoldPreflop","labelFoldFlop","labelFoldTurn","labelFoldRiver","labelHandRankDesc","lib","PokerEvaluator","InitCards","SetProfile","GetActivate","labeNickname","maxPots","win","toFixed","winPreflop","win_preflop","winFlop","win_flop","winTurn","win_turn","winRiver","win_river","foldPreflop","fold_preflop","foldFlop","fold_flop","foldTurn","fold_turn","foldRiver","fold_river","best_hands","ResetCards","evaluate","GetHandsEval","elem","ConvertCardNameToIndex","SetCards","rs","cbChangeAvatar","labelRanking","buttonChangeAvatar","onClickChangeAvatar","SetInformation","selectCard","selectTable","selectBackground","initSetting","togglesCard","toggleItems","onToggleCardsChanged","togglesTable","onToggleTablesChanged","togglesBackground","onToggleBackgroundChanged","sliderVolumn","labelVolumn","onSliderChangeVolumn","Pot","ClearCallback","UiPot","svPots","potCount","selectedPot","potInfoTimeout","pots","shown","players","SetPotCount","potUi","sidePot","showRoot","potInfo","valueLabel","rake","UpdatePotTotal","totalValue","labelMaxPot","GetPots","potCountRoot","labelPotCount","ClearPotCount","maxPotRoot","HidePotInfo","vecOriginal","vecFrom","UiProfile","nodePanel","getPlayerProfile","profile","spriteWinAnimation1","spriteWinAnimation2","spriteWinAnimation3","vecWinAnimation3","spriteEffectWin","spriteEffectDraw","spriteEffectReturn","AnimationWinEffect","AnimationDrawEffect","AnimationReturnEffect","rootLabelValue","labelEffectValue","winTweens","childedRegisted","WinTweenEffect","tw1","tw3","scale","dest","Quat","IDENTITY","tw2","fromEuler","setRotation","bezier","onFinishedResultWin","onFinishedResultDraw","onFinishedResultReturn","UiRoundPotValue","labelPotValue","layout","updateLayout","updatePotVaule","UiSeat","spriteSelected","posSymbols","setUi","setEscapee","clearUiPosSymbol","setNickname","setStatus","setUiChips","setUiPosSymbol","symbolName","getTakeButton","buttonTakeSeat","setShowEntity","setShowReserve","spriteReserve","getEntity","OpenUserProfile","UiSeats","uiSeats","buttonTakeSeats","isWaitingResult","timerId","limitTime","pauseTimer","joinPlayer","playingPlayer","unselectSeatDuringTime","maxSeat","onClickCallback","seatCount","seatsRoot9","seatsRoot6","nodeTarget","seatRootPath","children","cn","uiSeat","bg","tb","labelLimitTimer","updateSeatInfo","seats","dealer","onClickSeatButton","_i2","playing","startSeatsSelect","second","checkTimer","clearTimer","seatPos","pause","unpause","onResultFail","LoadLobby","checkTimerId","isSeatsSelectOpen","leaveRoom","buyInAmount","UiShowDownEffect","animState","totalCards","UiWinEffect","GAME_STATE","SHOWDOWN_STATE","SEAT_PLAYERS","PLAYER_CARDS","ENTITY_ELEMENTS","roundState","spritePotRoot","uiPlayerAction","nodeCardDispensingRoot","timerRoot","labelReadyMessage","objPotMoveToWinnerChips","objPotReturnChips","curPotValue","mySeat","myWaitStatus","startBetFromServer","seatMax","enableSeats","seatDealer","seatSB","seatBB","msgWINNERS","isAllIn","readyMessageHandler","countPlayers","isSitOutReservation","rootPotChips","labelSitout","labelSitback","isReserveSitout","isSitoutable","labelReservationSitout","rootCurrentPot","reserveLeave","updateClinet","room_id","cbHandInfo","onClickSeatSelect","uiBuyIn","uiGamePOPUP_MESSAGES","onREFRESH_UNREAD_MSG","uiProfile","uiGameChatting","onClickEmticonExit","uiPlayerActionReservation","uiWinEffect","uiRoundPotValue","uiShowDownEffect","uiEffectShowRiver","uiCommunityCards","registRoomEvent","onCLICK_MESSAGE","buttonEmoticon","onClickShowEmoticon","buttonAddChips","onClickAddChips","sendMsg","GetEntityFromSeat","entitiesRoot9","entitiesRoot6","entitiesRootPath","playerMe","winnerChips","sprChips","spr","removeFromParent","originalSprChipsCount","loopIdx","cloneSprArray","isValid","returnChips","originSprReturnChipsCount","buttonShowCard","onClickShowCard","buttonSitout","onClickSitout","buttonSitback","onClickSitback","nodeCardShuffleMessage","buttonSitoutCancel","onClickSitCancel","SetCurrentPot","ResetCurrentPot","no","onSHOW_SELECT_SEAT","onSELECT_SEAT_ERROR","onUPDATE_SELECT_SEAT","onNEW_ENTITY","onHANDLE_ESCAPEE","onSUSPEND_ROUND","onREADY_ROUND","onPREPARE_ROUND","onCARD_DISPENSING","onBLIND_BET","onPRE_FLOP_END","onSHOW_FLOP","onFLOP_END","onSHOW_TURN","onTURN_END","onSHOW_RIVER","onRIVER_END","onSHOWDOWN_START","onSHOWDOWN_FLOP","onSHOWDOWN_TURN","onSHOWDOWN_RIVER","onCLEAR_ROUND","onYOUR_TURN","onFOLD","onCHECK","onCALL","onBET","onRAISE","onSHOW_CARD","onPLAYER_CARDS","onWINNERS","onBUY_IN","onRES_BUY_IN","onRES_RE_BUY","onRE_BUY_IN","onRES_ADD_CHIPS_REQUEST","onRES_ADD_CHIPS","onRES_ADD_CHIPS_PEND","onSIT_OUT","onSIT_OUT_PEND","onSIT_OUT_CANCEL","onSIT_BACK","onSHOW_EMOTICON","onSHOW_PROFILE","onTOKEN_VERIFY","onSYNC_TABLE","onEXIT_TABLE","onMASTER_CALL","onFORCE_LEAVE","onMASTER_MESSAGE","onJOIN","onRE_JOIN","onPING","me","_this$room","uiPot","myEntity","sid","SetEntities","_loop3","uiDealer","uiSB","uiBB","roundBet","SetUiCommunityCards","playerCards","showdown","ShowdownOpenHands","UpdatePlayerHandRank","SetSitoutButtons","ClearEntities","ClearPot","entities","_loop4","OpenProfile","CloseProfile","setUiPot","ClearEntitiesButtons","communities","SetMyHandRank","SetPlayerHandRank","EndTurns","ClearUiEntities","clearUiEntitiesAction","CLEAR_ENTITIES_ROUND_ACTION","clearUiEntitiesBetValue","isEnableSeat","_this$room2","timerUnit","curBet","reservation","betAmount","PLAYERS","CLEAR_EFFECT","totalBet","_loop5","timeMs","lb","_loop6","_this13","potValue","_loop7","_this14","_this15","_loop8","_this16","_this17","_loop9","_this18","_this19","_loop10","_this20","ShowPlayersHand","_this21","ChipsMoveToPot","_this22","_this23","_this24","river","_this25","_loop11","_this26","_loop12","enoughChip","_self$room","_self$room2","_self$room3","_this27","_this28","_this29","_this30","_this31","_this32","_this33","SetWinners","folder","skip","_this34","_loop13","ResultSkipAnimation","ResultPotAnimation","setAniPotUiFadeOut","_ResultSkipAnimation","uiPots","winner","winAmount","ret","setTimeout","_ResultPotAnimation","returnPot","showPot","totalPotValue","_pot","_loop14","_i9","_this35","_uiEntity3","wns","_loop15","w","ev","ui","trunc","delegateYield","eval","handType","ShowWinningCards","_this36","_this37","SetDispensingAnimation","ShowMyHands","_this38","_this39","_this40","setAniPotMoveToWinner","startNode","movingChipsIdx","isPlaySound","isReturn","bezierPathNodes","moveTarget","bezierPts","pos","setTweenFadeInOutFromToMove","easeOutQuart","fromNode","setTweenMoveFromTo","onStart","tv","bezierPath","getBezierSampleValue","_this41","_this$room3","_this42","getAddChipsErrorMessage","onPing","_this$room4","reservable","TableListUiElement","cbJoinTable","_newObject$getChildBy","_newObject$getChildBy2","_newObject$getChildBy3","_newObject$getChildBy4","_newObject$getChildBy5","_newObject$getChildBy6","_newObject$getChildBy7","copyObject","newObject","labelTableName","labelTableMax","labelAnte","labelPlayers","setTable","maxPlayers","minBuyIn","onClickJoinTable","setActive","tables","elementOnList","elementPool","cbExitLobby","exitLobby","toggleHoldemTable","onToggleHoldemTable","toggleTournament","onToggleTournament","clearList","showTableList","_this$elementOnList","toPool","onClickJoinRoom","spriteWinEffectBackGround","spriteWinEffectRank","labelWinners","labelHands","spriteFrameRanks","grade","spriteFrameGrades"],"mappings":"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","file":"all.js","sourcesContent":["import { _decorator, Component, Node, AudioSource, AudioClip } from 'cc';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { VOLUMNE_MULTIPLIER } from '../HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('AudioController')\r\nexport class AudioController extends Component {\r\n    static instance: AudioController;\r\n    @property(AudioSource) audioSource: AudioSource = null;\r\n    @property(AudioSource) audioSourceTimeLimitFourSec: AudioSource = null;\r\n\r\n    private volumn: number = 0;\r\n\r\n    init() {\r\n        AudioController.instance = this;\r\n        this.ApplyVolumn();\r\n    }\r\n\r\n    public ApplyVolumn() {\r\n        let setting: any = null;\r\n        setting = NetworkManager.Instance().GetSetting();\r\n        if ( setting == null || setting == undefined ) {\r\n            this.volumn = 5;\r\n        } else {\r\n            this.volumn = setting.sound;\r\n        }\r\n        this.audioSource.volume = this.volumn / VOLUMNE_MULTIPLIER;\r\n        this.audioSourceTimeLimitFourSec.volume = this.volumn / VOLUMNE_MULTIPLIER;\r\n    }\r\n\r\n    public PlayTimeLimit() {\r\n        this.audioSourceTimeLimitFourSec.play();\r\n    }\r\n\r\n    public StopTimeLimit() {\r\n        this.audioSourceTimeLimitFourSec.stop();\r\n    }\r\n\r\n    PlaySound( name: string ) {\r\n        let source: AudioClip = null;\r\n        source = ResourceManager.Instance().getSoundSource(name);\r\n        if ( source != null ) {\r\n            this.audioSource.playOneShot(source);\r\n        }\r\n    }\r\n\r\n    ButtonClick() {\r\n        this.PlaySound('BUTTON_CLICK');\r\n    }\r\n}\r\n\r\n\r\n","import { UiTable } from \"./UiTable\";\r\n\r\nexport class Board {\r\n\t// static autoBuyIn: boolean = false;\r\n\t// static autoBuyInAmount: number = 0;\r\n\tstatic balance: number = 0;\r\n\tstatic buyin: number = 0;\r\n\tstatic small: number = 0;\r\n\tstatic big: number = 0;\r\n\tstatic passPrice : number = 0;\r\n\tstatic passTerm : number = 0;\r\n\tstatic id: number = 0;\r\n\tstatic table_id: number = 0;\r\n\tstatic room: Colyseus.Room = null;\r\n\tstatic table : UiTable = null;\r\n\tstatic minStakePrice : number = 0;\r\n\tstatic maxStakePrice : number = 0;\r\n\tstatic reserveSeat: number = -1;\r\n\tstatic isPublic: boolean = false;\r\n\tstatic info: any = null;\r\n\tstatic ante: number = 0;\r\n\tstatic ip: string = '';\r\n\r\n\tstatic setInfo( info: any ) {\r\n\t\tBoard.info = info;\r\n\t\tBoard.id = info.id;\r\n\t\tBoard.table_id = info.id;\r\n\t\tBoard.small = info.smallBlind;\r\n\t\tBoard.big = info.bigBlind;\r\n\t\tBoard.ante = info.ante;\r\n\t}\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, Vec3, Animation } from 'cc';\r\nimport { ENUM_CARD_TYPE } from '../HoldemDefines';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Card')\r\nexport class Card extends Component {\r\n    @property(Sprite) spriteCard: Sprite = null;\r\n    @property(Sprite) spriteHighlight: Sprite = null;\r\n    @property(Sprite) spriteDimmed: Sprite = null;\r\n\r\n    private vec3Original: Vec3 = null;\r\n    private anim: Animation = null;\r\n    private num: number = 0;\r\n    private type: ENUM_CARD_TYPE = ENUM_CARD_TYPE.NONE;\r\n    private flipDone: ()=>void = null;\r\n\r\n    public Init( type: ENUM_CARD_TYPE ) {\r\n        this.type = type;\r\n\r\n        this.vec3Original = new Vec3( this.node.position );\r\n        this.spriteCard.node.position = new Vec3(0, 0, 0);\r\n        this.spriteHighlight.node.position = new Vec3(0, 0, 0);\r\n        this.spriteDimmed.node.position = new Vec3(0, 0, 0);\r\n\r\n        this.num = 0;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( this.num );\r\n        this.spriteHighlight.node.active= false;\r\n        this.spriteDimmed.node.active = false;\r\n\r\n        if ( this.type != ENUM_CARD_TYPE.NONE && this.type != ENUM_CARD_TYPE.PLAYER_HIDDEN ) {\r\n            this.anim = this.node.getComponent(Animation);\r\n            if ( this.anim != null ) {\r\n                this.anim.on('finished', this.OnFlipFinished.bind(this), this);\r\n            }\r\n        }\r\n\r\n        this.spriteCard.node.active = false;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show() {\r\n        this.spriteCard.node.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public ShowFlip( num: number, delay: number, done: ()=>void = null ) {\r\n        if ( done != null ) {\r\n            this.flipDone = done;\r\n        }\r\n\r\n        this.num = num;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage(0);\r\n        this.spriteCard.node.active = true;\r\n        this.node.active = true;\r\n\r\n        this.scheduleOnce(()=>{\r\n            this.anim.play();\r\n        }, delay );\r\n    }\r\n\r\n    public ShowImmediate( num: number ) {\r\n        this.num = num;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( this.num + 1 );\r\n        this.spriteCard.node.active = true;\r\n        this.node.active = true;        \r\n    }\r\n\r\n    public Fold() {\r\n        this.spriteDimmed.node.active = true;\r\n    }\r\n\r\n    public SetWinCard( pools: number[] ) {\r\n        let c = pools.find( (e)=>{\r\n            return e == this.num;\r\n        });\r\n\r\n        if ( c != null ) {\r\n            this.spriteHighlight.node.active = true;\r\n            this.spriteDimmed.node.active = false;\r\n\r\n            this.node.position = new Vec3( this.vec3Original.x, this.vec3Original.y + 30, this.vec3Original.z);\r\n        } else {\r\n            this.spriteHighlight.node.active = false;\r\n            this.spriteDimmed.node.active = true;            \r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    public ResetPosition() {\r\n        this.node.position = new Vec3( this.vec3Original );\r\n        this.spriteCard.node.position = new Vec3(0, 0, 0);\r\n        this.spriteHighlight.node.position = new Vec3(0, 0, 0);\r\n        this.spriteDimmed.node.position = new Vec3(0, 0, 0);\r\n    }\r\n\r\n    public Reset() {\r\n        this.anim.stop();\r\n\r\n        this.num = 0;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( this.num );\r\n\r\n        this.ResetPosition();\r\n\r\n        this.spriteHighlight.node.active = false;\r\n        this.spriteDimmed.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    OnFlipFinished() {\r\n        this.anim.stop();\r\n        let card: number = this.num + 1;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( card );\r\n        \r\n        if ( this.flipDone != null ) {\r\n            this.flipDone();\r\n            \r\n            this.flipDone = null;\r\n        }\r\n    }\r\n\r\n    OnFlipCentered() {\r\n        let card: number = this.num + 1;\r\n        this.spriteCard.spriteFrame = ResourceManager.Instance().getCardImage( card );\r\n    }\r\n\r\n    public GetType(): ENUM_CARD_TYPE {\r\n        return this.type;\r\n    }\r\n}\r\n\r\n","import _cjsLoader from 'cce:/internal/ml/cjs-loader.mjs';\nlet _cjsExports;\nlet _Protocol;\nlet _ErrorCode;\nlet _OPERATION;\nlet _ArraySchema;\nlet _CollectionSchema;\nlet _Context;\nlet _MapSchema;\nlet _Reflection;\nlet _ReflectionField;\nlet _ReflectionType;\nlet _Schema;\nlet _SchemaDefinition;\nlet _SetSchema;\nlet _decode;\nlet _defineTypes;\nlet _deprecated;\nlet _dumpChanges;\nlet _encode0;\nlet _filter;\nlet _filterChildren;\nlet _hasFilter;\nlet _registerType;\nlet _type;\nlet ___esModule;\nlet _Platform;\nlet _Auth;\nlet _Client;\nlet _Room;\nlet _SchemaSerializer;\nlet _registerSerializer;\nconst __cjsMetaURL = import.meta.url;\n_cjsLoader.define(__cjsMetaURL, function (exports, require, module, __filename, __dirname) {\n// #region ORIGINAL CODE\n\n\n // colyseus.js@0.14.12 (@colyseus/schema 1.0.22)\r\n (function (global, factory) {\r\n     typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\r\n     typeof define === 'function' && define.amd ? define('colyseus.js', ['exports'], factory) :\r\n     (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.Colyseus = {}));\r\n }(this, (function (exports) { 'use strict';\r\n\r\n     //\r\n     // Polyfills for legacy environments\r\n     //\r\n     /*\r\n      * Support Android 4.4.x\r\n      */\r\n     if (!ArrayBuffer.isView) {\r\n         ArrayBuffer.isView = function (a) {\r\n             return a !== null && typeof (a) === 'object' && a.buffer instanceof ArrayBuffer;\r\n         };\r\n     }\r\n     // Define globalThis if not available.\r\n     // https://github.com/colyseus/colyseus.js/issues/86\r\n     if (typeof (globalThis) === \"undefined\" &&\r\n         typeof (window) !== \"undefined\") {\r\n         // @ts-ignore\r\n         window['globalThis'] = window;\r\n     }\r\n\r\n     /*! *****************************************************************************\r\n     Copyright (c) Microsoft Corporation.\r\n\r\n     Permission to use, copy, modify, and/or distribute this software for any\r\n     purpose with or without fee is hereby granted.\r\n\r\n     THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n     REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n     AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n     INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n     LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n     OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n     PERFORMANCE OF THIS SOFTWARE.\r\n     ***************************************************************************** */\r\n     /* global Reflect, Promise */\r\n\r\n     var extendStatics = function(d, b) {\r\n         extendStatics = Object.setPrototypeOf ||\r\n             ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n             function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n         return extendStatics(d, b);\r\n     };\r\n\r\n     function __extends(d, b) {\r\n         if (typeof b !== \"function\" && b !== null)\r\n             throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n         extendStatics(d, b);\r\n         function __() { this.constructor = d; }\r\n         d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n     }\r\n\r\n     function __awaiter(thisArg, _arguments, P, generator) {\r\n         function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n         return new (P || (P = Promise))(function (resolve, reject) {\r\n             function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n             function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n             function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n             step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n         });\r\n     }\r\n\r\n     function __generator(thisArg, body) {\r\n         var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n         return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n         function verb(n) { return function (v) { return step([n, v]); }; }\r\n         function step(op) {\r\n             if (f) throw new TypeError(\"Generator is already executing.\");\r\n             while (_) try {\r\n                 if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                 if (y = 0, t) op = [op[0] & 2, t.value];\r\n                 switch (op[0]) {\r\n                     case 0: case 1: t = op; break;\r\n                     case 4: _.label++; return { value: op[1], done: false };\r\n                     case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                     case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                     default:\r\n                         if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                         if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                         if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                         if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                         if (t[2]) _.ops.pop();\r\n                         _.trys.pop(); continue;\r\n                 }\r\n                 op = body.call(thisArg, _);\r\n             } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n             if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n         }\r\n     }\r\n\r\n     function apply(src, tar) {\r\n     \ttar.headers = src.headers || {};\r\n     \ttar.statusMessage = src.statusText;\r\n     \ttar.statusCode = src.status;\r\n     \ttar.data = src.response;\r\n     }\r\n\r\n     function send(method, uri, opts) {\r\n     \treturn new Promise(function (res, rej) {\r\n     \t\topts = opts || {};\r\n     \t\tvar req = new XMLHttpRequest;\r\n     \t\tvar k, tmp, arr, str=opts.body;\r\n     \t\tvar headers = opts.headers || {};\r\n\r\n     \t\t// IE compatible\r\n     \t\tif (opts.timeout) req.timeout = opts.timeout;\r\n     \t\treq.ontimeout = req.onerror = function (err) {\r\n     \t\t\terr.timeout = err.type == 'timeout';\r\n     \t\t\trej(err);\r\n     \t\t};\r\n\r\n     \t\treq.open(method, uri.href || uri);\r\n\r\n     \t\treq.onload = function () {\r\n     \t\t\tarr = req.getAllResponseHeaders().trim().split(/[\\r\\n]+/);\r\n     \t\t\tapply(req, req); //=> req.headers\r\n\r\n     \t\t\twhile (tmp = arr.shift()) {\r\n     \t\t\t\ttmp = tmp.split(': ');\r\n     \t\t\t\treq.headers[tmp.shift().toLowerCase()] = tmp.join(': ');\r\n     \t\t\t}\r\n\r\n     \t\t\ttmp = req.headers['content-type'];\r\n     \t\t\tif (tmp && !!~tmp.indexOf('application/json')) {\r\n     \t\t\t\ttry {\r\n     \t\t\t\t\treq.data = JSON.parse(req.data, opts.reviver);\r\n     \t\t\t\t} catch (err) {\r\n     \t\t\t\t\tapply(req, err);\r\n     \t\t\t\t\treturn rej(err);\r\n     \t\t\t\t}\r\n     \t\t\t}\r\n\r\n     \t\t\t(req.status >= 400 ? rej : res)(req);\r\n     \t\t};\r\n\r\n     \t\tif (typeof FormData < 'u' && str instanceof FormData) ; else if (str && typeof str == 'object') {\r\n     \t\t\theaders['content-type'] = 'application/json';\r\n     \t\t\tstr = JSON.stringify(str);\r\n     \t\t}\r\n\r\n     \t\treq.withCredentials = !!opts.withCredentials;\r\n\r\n     \t\tfor (k in headers) {\r\n     \t\t\treq.setRequestHeader(k, headers[k]);\r\n     \t\t}\r\n\r\n     \t\treq.send(str);\r\n     \t});\r\n     }\r\n\r\n     var get = /*#__PURE__*/ send.bind(send, 'GET');\r\n     var post = /*#__PURE__*/ send.bind(send, 'POST');\r\n     var patch = /*#__PURE__*/ send.bind(send, 'PATCH');\r\n     var del = /*#__PURE__*/ send.bind(send, 'DELETE');\r\n     var put = /*#__PURE__*/ send.bind(send, 'PUT');\r\n\r\n     var del_1 = del;\r\n     var get_1 = get;\r\n     var patch_1 = patch;\r\n     var post_1 = post;\r\n     var put_1 = put;\r\n     var send_1 = send;\r\n\r\n     var xhr = {\r\n     \tdel: del_1,\r\n     \tget: get_1,\r\n     \tpatch: patch_1,\r\n     \tpost: post_1,\r\n     \tput: put_1,\r\n     \tsend: send_1\r\n     };\r\n\r\n     var http = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.assign(/*#__PURE__*/Object.create(null), xhr, {\r\n         'default': xhr,\r\n         del: del_1,\r\n         get: get_1,\r\n         patch: patch_1,\r\n         post: post_1,\r\n         put: put_1,\r\n         send: send_1\r\n     }));\r\n\r\n     var ServerError = /** @class */ (function (_super) {\r\n         __extends(ServerError, _super);\r\n         function ServerError(code, message) {\r\n             var _this = _super.call(this, message) || this;\r\n             _this.name = \"ServerError\";\r\n             _this.code = code;\r\n             return _this;\r\n         }\r\n         return ServerError;\r\n     }(Error));\r\n\r\n     /**\r\n      * Copyright (c) 2014 Ion Drive Software Ltd.\r\n      * https://github.com/darrachequesne/notepack/\r\n      *\r\n      * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n      * of this software and associated documentation files (the \"Software\"), to deal\r\n      * in the Software without restriction, including without limitation the rights\r\n      * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n      * copies of the Software, and to permit persons to whom the Software is\r\n      * furnished to do so, subject to the following conditions:\r\n      *\r\n      * The above copyright notice and this permission notice shall be included in all\r\n      * copies or substantial portions of the Software.\r\n      *\r\n      * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n      * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n      * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n      * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n      * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n      * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n      * SOFTWARE.\r\n      */\r\n     /**\r\n      * Patch for Colyseus:\r\n      * -------------------\r\n      *\r\n      * added `offset` on Decoder constructor, for messages arriving with a code\r\n      * before actual msgpack data\r\n      */\r\n     // \r\n     // DECODER\r\n     // \r\n     function Decoder(buffer, offset) {\r\n         this._offset = offset;\r\n         if (buffer instanceof ArrayBuffer) {\r\n             this._buffer = buffer;\r\n             this._view = new DataView(this._buffer);\r\n         }\r\n         else if (ArrayBuffer.isView(buffer)) {\r\n             this._buffer = buffer.buffer;\r\n             this._view = new DataView(this._buffer, buffer.byteOffset, buffer.byteLength);\r\n         }\r\n         else {\r\n             throw new Error('Invalid argument');\r\n         }\r\n     }\r\n     function utf8Read$1(view, offset, length) {\r\n         var string = '', chr = 0;\r\n         for (var i = offset, end = offset + length; i < end; i++) {\r\n             var byte = view.getUint8(i);\r\n             if ((byte & 0x80) === 0x00) {\r\n                 string += String.fromCharCode(byte);\r\n                 continue;\r\n             }\r\n             if ((byte & 0xe0) === 0xc0) {\r\n                 string += String.fromCharCode(((byte & 0x1f) << 6) |\r\n                     (view.getUint8(++i) & 0x3f));\r\n                 continue;\r\n             }\r\n             if ((byte & 0xf0) === 0xe0) {\r\n                 string += String.fromCharCode(((byte & 0x0f) << 12) |\r\n                     ((view.getUint8(++i) & 0x3f) << 6) |\r\n                     ((view.getUint8(++i) & 0x3f) << 0));\r\n                 continue;\r\n             }\r\n             if ((byte & 0xf8) === 0xf0) {\r\n                 chr = ((byte & 0x07) << 18) |\r\n                     ((view.getUint8(++i) & 0x3f) << 12) |\r\n                     ((view.getUint8(++i) & 0x3f) << 6) |\r\n                     ((view.getUint8(++i) & 0x3f) << 0);\r\n                 if (chr >= 0x010000) { // surrogate pair\r\n                     chr -= 0x010000;\r\n                     string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\r\n                 }\r\n                 else {\r\n                     string += String.fromCharCode(chr);\r\n                 }\r\n                 continue;\r\n             }\r\n             throw new Error('Invalid byte ' + byte.toString(16));\r\n         }\r\n         return string;\r\n     }\r\n     Decoder.prototype._array = function (length) {\r\n         var value = new Array(length);\r\n         for (var i = 0; i < length; i++) {\r\n             value[i] = this._parse();\r\n         }\r\n         return value;\r\n     };\r\n     Decoder.prototype._map = function (length) {\r\n         var key = '', value = {};\r\n         for (var i = 0; i < length; i++) {\r\n             key = this._parse();\r\n             value[key] = this._parse();\r\n         }\r\n         return value;\r\n     };\r\n     Decoder.prototype._str = function (length) {\r\n         var value = utf8Read$1(this._view, this._offset, length);\r\n         this._offset += length;\r\n         return value;\r\n     };\r\n     Decoder.prototype._bin = function (length) {\r\n         var value = this._buffer.slice(this._offset, this._offset + length);\r\n         this._offset += length;\r\n         return value;\r\n     };\r\n     Decoder.prototype._parse = function () {\r\n         var prefix = this._view.getUint8(this._offset++);\r\n         var value, length = 0, type = 0, hi = 0, lo = 0;\r\n         if (prefix < 0xc0) {\r\n             // positive fixint\r\n             if (prefix < 0x80) {\r\n                 return prefix;\r\n             }\r\n             // fixmap\r\n             if (prefix < 0x90) {\r\n                 return this._map(prefix & 0x0f);\r\n             }\r\n             // fixarray\r\n             if (prefix < 0xa0) {\r\n                 return this._array(prefix & 0x0f);\r\n             }\r\n             // fixstr\r\n             return this._str(prefix & 0x1f);\r\n         }\r\n         // negative fixint\r\n         if (prefix > 0xdf) {\r\n             return (0xff - prefix + 1) * -1;\r\n         }\r\n         switch (prefix) {\r\n             // nil\r\n             case 0xc0:\r\n                 return null;\r\n             // false\r\n             case 0xc2:\r\n                 return false;\r\n             // true\r\n             case 0xc3:\r\n                 return true;\r\n             // bin\r\n             case 0xc4:\r\n                 length = this._view.getUint8(this._offset);\r\n                 this._offset += 1;\r\n                 return this._bin(length);\r\n             case 0xc5:\r\n                 length = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return this._bin(length);\r\n             case 0xc6:\r\n                 length = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return this._bin(length);\r\n             // ext\r\n             case 0xc7:\r\n                 length = this._view.getUint8(this._offset);\r\n                 type = this._view.getInt8(this._offset + 1);\r\n                 this._offset += 2;\r\n                 return [type, this._bin(length)];\r\n             case 0xc8:\r\n                 length = this._view.getUint16(this._offset);\r\n                 type = this._view.getInt8(this._offset + 2);\r\n                 this._offset += 3;\r\n                 return [type, this._bin(length)];\r\n             case 0xc9:\r\n                 length = this._view.getUint32(this._offset);\r\n                 type = this._view.getInt8(this._offset + 4);\r\n                 this._offset += 5;\r\n                 return [type, this._bin(length)];\r\n             // float\r\n             case 0xca:\r\n                 value = this._view.getFloat32(this._offset);\r\n                 this._offset += 4;\r\n                 return value;\r\n             case 0xcb:\r\n                 value = this._view.getFloat64(this._offset);\r\n                 this._offset += 8;\r\n                 return value;\r\n             // uint\r\n             case 0xcc:\r\n                 value = this._view.getUint8(this._offset);\r\n                 this._offset += 1;\r\n                 return value;\r\n             case 0xcd:\r\n                 value = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return value;\r\n             case 0xce:\r\n                 value = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return value;\r\n             case 0xcf:\r\n                 hi = this._view.getUint32(this._offset) * Math.pow(2, 32);\r\n                 lo = this._view.getUint32(this._offset + 4);\r\n                 this._offset += 8;\r\n                 return hi + lo;\r\n             // int\r\n             case 0xd0:\r\n                 value = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 return value;\r\n             case 0xd1:\r\n                 value = this._view.getInt16(this._offset);\r\n                 this._offset += 2;\r\n                 return value;\r\n             case 0xd2:\r\n                 value = this._view.getInt32(this._offset);\r\n                 this._offset += 4;\r\n                 return value;\r\n             case 0xd3:\r\n                 hi = this._view.getInt32(this._offset) * Math.pow(2, 32);\r\n                 lo = this._view.getUint32(this._offset + 4);\r\n                 this._offset += 8;\r\n                 return hi + lo;\r\n             // fixext\r\n             case 0xd4:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 if (type === 0x00) {\r\n                     this._offset += 1;\r\n                     return void 0;\r\n                 }\r\n                 return [type, this._bin(1)];\r\n             case 0xd5:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 return [type, this._bin(2)];\r\n             case 0xd6:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 return [type, this._bin(4)];\r\n             case 0xd7:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 if (type === 0x00) {\r\n                     hi = this._view.getInt32(this._offset) * Math.pow(2, 32);\r\n                     lo = this._view.getUint32(this._offset + 4);\r\n                     this._offset += 8;\r\n                     return new Date(hi + lo);\r\n                 }\r\n                 return [type, this._bin(8)];\r\n             case 0xd8:\r\n                 type = this._view.getInt8(this._offset);\r\n                 this._offset += 1;\r\n                 return [type, this._bin(16)];\r\n             // str\r\n             case 0xd9:\r\n                 length = this._view.getUint8(this._offset);\r\n                 this._offset += 1;\r\n                 return this._str(length);\r\n             case 0xda:\r\n                 length = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return this._str(length);\r\n             case 0xdb:\r\n                 length = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return this._str(length);\r\n             // array\r\n             case 0xdc:\r\n                 length = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return this._array(length);\r\n             case 0xdd:\r\n                 length = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return this._array(length);\r\n             // map\r\n             case 0xde:\r\n                 length = this._view.getUint16(this._offset);\r\n                 this._offset += 2;\r\n                 return this._map(length);\r\n             case 0xdf:\r\n                 length = this._view.getUint32(this._offset);\r\n                 this._offset += 4;\r\n                 return this._map(length);\r\n         }\r\n         throw new Error('Could not parse');\r\n     };\r\n     function decode(buffer, offset) {\r\n         if (offset === void 0) { offset = 0; }\r\n         var decoder = new Decoder(buffer, offset);\r\n         var value = decoder._parse();\r\n         if (decoder._offset !== buffer.byteLength) {\r\n             throw new Error((buffer.byteLength - decoder._offset) + ' trailing bytes');\r\n         }\r\n         return value;\r\n     }\r\n     // \r\n     // ENCODER\r\n     // \r\n     function utf8Write(view, offset, str) {\r\n         var c = 0;\r\n         for (var i = 0, l = str.length; i < l; i++) {\r\n             c = str.charCodeAt(i);\r\n             if (c < 0x80) {\r\n                 view.setUint8(offset++, c);\r\n             }\r\n             else if (c < 0x800) {\r\n                 view.setUint8(offset++, 0xc0 | (c >> 6));\r\n                 view.setUint8(offset++, 0x80 | (c & 0x3f));\r\n             }\r\n             else if (c < 0xd800 || c >= 0xe000) {\r\n                 view.setUint8(offset++, 0xe0 | (c >> 12));\r\n                 view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\r\n                 view.setUint8(offset++, 0x80 | (c & 0x3f));\r\n             }\r\n             else {\r\n                 i++;\r\n                 c = 0x10000 + (((c & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\r\n                 view.setUint8(offset++, 0xf0 | (c >> 18));\r\n                 view.setUint8(offset++, 0x80 | (c >> 12) & 0x3f);\r\n                 view.setUint8(offset++, 0x80 | (c >> 6) & 0x3f);\r\n                 view.setUint8(offset++, 0x80 | (c & 0x3f));\r\n             }\r\n         }\r\n     }\r\n     function utf8Length$1(str) {\r\n         var c = 0, length = 0;\r\n         for (var i = 0, l = str.length; i < l; i++) {\r\n             c = str.charCodeAt(i);\r\n             if (c < 0x80) {\r\n                 length += 1;\r\n             }\r\n             else if (c < 0x800) {\r\n                 length += 2;\r\n             }\r\n             else if (c < 0xd800 || c >= 0xe000) {\r\n                 length += 3;\r\n             }\r\n             else {\r\n                 i++;\r\n                 length += 4;\r\n             }\r\n         }\r\n         return length;\r\n     }\r\n     function _encode(bytes, defers, value) {\r\n         var type = typeof value, i = 0, l = 0, hi = 0, lo = 0, length = 0, size = 0;\r\n         if (type === 'string') {\r\n             length = utf8Length$1(value);\r\n             // fixstr\r\n             if (length < 0x20) {\r\n                 bytes.push(length | 0xa0);\r\n                 size = 1;\r\n             }\r\n             // str 8\r\n             else if (length < 0x100) {\r\n                 bytes.push(0xd9, length);\r\n                 size = 2;\r\n             }\r\n             // str 16\r\n             else if (length < 0x10000) {\r\n                 bytes.push(0xda, length >> 8, length);\r\n                 size = 3;\r\n             }\r\n             // str 32\r\n             else if (length < 0x100000000) {\r\n                 bytes.push(0xdb, length >> 24, length >> 16, length >> 8, length);\r\n                 size = 5;\r\n             }\r\n             else {\r\n                 throw new Error('String too long');\r\n             }\r\n             defers.push({ _str: value, _length: length, _offset: bytes.length });\r\n             return size + length;\r\n         }\r\n         if (type === 'number') {\r\n             // TODO: encode to float 32?\r\n             // float 64\r\n             if (Math.floor(value) !== value || !isFinite(value)) {\r\n                 bytes.push(0xcb);\r\n                 defers.push({ _float: value, _length: 8, _offset: bytes.length });\r\n                 return 9;\r\n             }\r\n             if (value >= 0) {\r\n                 // positive fixnum\r\n                 if (value < 0x80) {\r\n                     bytes.push(value);\r\n                     return 1;\r\n                 }\r\n                 // uint 8\r\n                 if (value < 0x100) {\r\n                     bytes.push(0xcc, value);\r\n                     return 2;\r\n                 }\r\n                 // uint 16\r\n                 if (value < 0x10000) {\r\n                     bytes.push(0xcd, value >> 8, value);\r\n                     return 3;\r\n                 }\r\n                 // uint 32\r\n                 if (value < 0x100000000) {\r\n                     bytes.push(0xce, value >> 24, value >> 16, value >> 8, value);\r\n                     return 5;\r\n                 }\r\n                 // uint 64\r\n                 hi = (value / Math.pow(2, 32)) >> 0;\r\n                 lo = value >>> 0;\r\n                 bytes.push(0xcf, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\r\n                 return 9;\r\n             }\r\n             else {\r\n                 // negative fixnum\r\n                 if (value >= -0x20) {\r\n                     bytes.push(value);\r\n                     return 1;\r\n                 }\r\n                 // int 8\r\n                 if (value >= -0x80) {\r\n                     bytes.push(0xd0, value);\r\n                     return 2;\r\n                 }\r\n                 // int 16\r\n                 if (value >= -0x8000) {\r\n                     bytes.push(0xd1, value >> 8, value);\r\n                     return 3;\r\n                 }\r\n                 // int 32\r\n                 if (value >= -0x80000000) {\r\n                     bytes.push(0xd2, value >> 24, value >> 16, value >> 8, value);\r\n                     return 5;\r\n                 }\r\n                 // int 64\r\n                 hi = Math.floor(value / Math.pow(2, 32));\r\n                 lo = value >>> 0;\r\n                 bytes.push(0xd3, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\r\n                 return 9;\r\n             }\r\n         }\r\n         if (type === 'object') {\r\n             // nil\r\n             if (value === null) {\r\n                 bytes.push(0xc0);\r\n                 return 1;\r\n             }\r\n             if (Array.isArray(value)) {\r\n                 length = value.length;\r\n                 // fixarray\r\n                 if (length < 0x10) {\r\n                     bytes.push(length | 0x90);\r\n                     size = 1;\r\n                 }\r\n                 // array 16\r\n                 else if (length < 0x10000) {\r\n                     bytes.push(0xdc, length >> 8, length);\r\n                     size = 3;\r\n                 }\r\n                 // array 32\r\n                 else if (length < 0x100000000) {\r\n                     bytes.push(0xdd, length >> 24, length >> 16, length >> 8, length);\r\n                     size = 5;\r\n                 }\r\n                 else {\r\n                     throw new Error('Array too large');\r\n                 }\r\n                 for (i = 0; i < length; i++) {\r\n                     size += _encode(bytes, defers, value[i]);\r\n                 }\r\n                 return size;\r\n             }\r\n             // fixext 8 / Date\r\n             if (value instanceof Date) {\r\n                 var time = value.getTime();\r\n                 hi = Math.floor(time / Math.pow(2, 32));\r\n                 lo = time >>> 0;\r\n                 bytes.push(0xd7, 0, hi >> 24, hi >> 16, hi >> 8, hi, lo >> 24, lo >> 16, lo >> 8, lo);\r\n                 return 10;\r\n             }\r\n             if (value instanceof ArrayBuffer) {\r\n                 length = value.byteLength;\r\n                 // bin 8\r\n                 if (length < 0x100) {\r\n                     bytes.push(0xc4, length);\r\n                     size = 2;\r\n                 }\r\n                 else \r\n                 // bin 16\r\n                 if (length < 0x10000) {\r\n                     bytes.push(0xc5, length >> 8, length);\r\n                     size = 3;\r\n                 }\r\n                 else \r\n                 // bin 32\r\n                 if (length < 0x100000000) {\r\n                     bytes.push(0xc6, length >> 24, length >> 16, length >> 8, length);\r\n                     size = 5;\r\n                 }\r\n                 else {\r\n                     throw new Error('Buffer too large');\r\n                 }\r\n                 defers.push({ _bin: value, _length: length, _offset: bytes.length });\r\n                 return size + length;\r\n             }\r\n             if (typeof value.toJSON === 'function') {\r\n                 return _encode(bytes, defers, value.toJSON());\r\n             }\r\n             var keys = [], key = '';\r\n             var allKeys = Object.keys(value);\r\n             for (i = 0, l = allKeys.length; i < l; i++) {\r\n                 key = allKeys[i];\r\n                 if (typeof value[key] !== 'function') {\r\n                     keys.push(key);\r\n                 }\r\n             }\r\n             length = keys.length;\r\n             // fixmap\r\n             if (length < 0x10) {\r\n                 bytes.push(length | 0x80);\r\n                 size = 1;\r\n             }\r\n             // map 16\r\n             else if (length < 0x10000) {\r\n                 bytes.push(0xde, length >> 8, length);\r\n                 size = 3;\r\n             }\r\n             // map 32\r\n             else if (length < 0x100000000) {\r\n                 bytes.push(0xdf, length >> 24, length >> 16, length >> 8, length);\r\n                 size = 5;\r\n             }\r\n             else {\r\n                 throw new Error('Object too large');\r\n             }\r\n             for (i = 0; i < length; i++) {\r\n                 key = keys[i];\r\n                 size += _encode(bytes, defers, key);\r\n                 size += _encode(bytes, defers, value[key]);\r\n             }\r\n             return size;\r\n         }\r\n         // false/true\r\n         if (type === 'boolean') {\r\n             bytes.push(value ? 0xc3 : 0xc2);\r\n             return 1;\r\n         }\r\n         // fixext 1 / undefined\r\n         if (type === 'undefined') {\r\n             bytes.push(0xd4, 0, 0);\r\n             return 3;\r\n         }\r\n         throw new Error('Could not encode');\r\n     }\r\n     function encode(value) {\r\n         var bytes = [];\r\n         var defers = [];\r\n         var size = _encode(bytes, defers, value);\r\n         var buf = new ArrayBuffer(size);\r\n         var view = new DataView(buf);\r\n         var deferIndex = 0;\r\n         var deferWritten = 0;\r\n         var nextOffset = -1;\r\n         if (defers.length > 0) {\r\n             nextOffset = defers[0]._offset;\r\n         }\r\n         var defer, deferLength = 0, offset = 0;\r\n         for (var i = 0, l = bytes.length; i < l; i++) {\r\n             view.setUint8(deferWritten + i, bytes[i]);\r\n             if (i + 1 !== nextOffset) {\r\n                 continue;\r\n             }\r\n             defer = defers[deferIndex];\r\n             deferLength = defer._length;\r\n             offset = deferWritten + nextOffset;\r\n             if (defer._bin) {\r\n                 var bin = new Uint8Array(defer._bin);\r\n                 for (var j = 0; j < deferLength; j++) {\r\n                     view.setUint8(offset + j, bin[j]);\r\n                 }\r\n             }\r\n             else if (defer._str) {\r\n                 utf8Write(view, offset, defer._str);\r\n             }\r\n             else if (defer._float !== undefined) {\r\n                 view.setFloat64(offset, defer._float);\r\n             }\r\n             deferIndex++;\r\n             deferWritten += deferLength;\r\n             if (defers[deferIndex]) {\r\n                 nextOffset = defers[deferIndex]._offset;\r\n             }\r\n         }\r\n         return buf;\r\n     }\r\n\r\n     var browser = function () {\r\n       throw new Error(\r\n         'ws does not work in the browser. Browser clients must use the native ' +\r\n           'WebSocket object'\r\n       );\r\n     };\r\n\r\n     var WebSocket = globalThis.WebSocket || browser;\r\n     var WebSocketTransport = /** @class */ (function () {\r\n         function WebSocketTransport(events) {\r\n             this.events = events;\r\n         }\r\n         WebSocketTransport.prototype.send = function (data) {\r\n             if (data instanceof ArrayBuffer) {\r\n                 this.ws.send(data);\r\n             }\r\n             else if (Array.isArray(data)) {\r\n                 this.ws.send((new Uint8Array(data)).buffer);\r\n             }\r\n         };\r\n         WebSocketTransport.prototype.connect = function (url) {\r\n             this.ws = new WebSocket(url, this.protocols);\r\n             this.ws.binaryType = 'arraybuffer';\r\n             this.ws.onopen = this.events.onopen;\r\n             this.ws.onmessage = this.events.onmessage;\r\n             this.ws.onclose = this.events.onclose;\r\n             this.ws.onerror = this.events.onerror;\r\n         };\r\n         WebSocketTransport.prototype.close = function (code, reason) {\r\n             this.ws.close(code, reason);\r\n         };\r\n         return WebSocketTransport;\r\n     }());\r\n\r\n     var Connection = /** @class */ (function () {\r\n         function Connection() {\r\n             this.events = {};\r\n             this.transport = new WebSocketTransport(this.events);\r\n         }\r\n         Connection.prototype.send = function (data) {\r\n             this.transport.send(data);\r\n         };\r\n         Connection.prototype.connect = function (url) {\r\n             this.transport.connect(url);\r\n         };\r\n         Connection.prototype.close = function (code, reason) {\r\n             this.transport.close(code, reason);\r\n         };\r\n         return Connection;\r\n     }());\r\n\r\n     var serializers = {};\r\n     function registerSerializer(id, serializer) {\r\n         serializers[id] = serializer;\r\n     }\r\n     function getSerializer(id) {\r\n         var serializer = serializers[id];\r\n         if (!serializer) {\r\n             throw new Error(\"missing serializer: \" + id);\r\n         }\r\n         return serializer;\r\n     }\r\n\r\n     // Use codes between 0~127 for lesser throughput (1 byte)\r\n     exports.Protocol = void 0;\r\n     (function (Protocol) {\r\n         // Room-related (10~19)\r\n         Protocol[Protocol[\"HANDSHAKE\"] = 9] = \"HANDSHAKE\";\r\n         Protocol[Protocol[\"JOIN_ROOM\"] = 10] = \"JOIN_ROOM\";\r\n         Protocol[Protocol[\"ERROR\"] = 11] = \"ERROR\";\r\n         Protocol[Protocol[\"LEAVE_ROOM\"] = 12] = \"LEAVE_ROOM\";\r\n         Protocol[Protocol[\"ROOM_DATA\"] = 13] = \"ROOM_DATA\";\r\n         Protocol[Protocol[\"ROOM_STATE\"] = 14] = \"ROOM_STATE\";\r\n         Protocol[Protocol[\"ROOM_STATE_PATCH\"] = 15] = \"ROOM_STATE_PATCH\";\r\n         Protocol[Protocol[\"ROOM_DATA_SCHEMA\"] = 16] = \"ROOM_DATA_SCHEMA\";\r\n     })(exports.Protocol || (exports.Protocol = {}));\r\n     exports.ErrorCode = void 0;\r\n     (function (ErrorCode) {\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_NO_HANDLER\"] = 4210] = \"MATCHMAKE_NO_HANDLER\";\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_INVALID_CRITERIA\"] = 4211] = \"MATCHMAKE_INVALID_CRITERIA\";\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_INVALID_ROOM_ID\"] = 4212] = \"MATCHMAKE_INVALID_ROOM_ID\";\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_UNHANDLED\"] = 4213] = \"MATCHMAKE_UNHANDLED\";\r\n         ErrorCode[ErrorCode[\"MATCHMAKE_EXPIRED\"] = 4214] = \"MATCHMAKE_EXPIRED\";\r\n         ErrorCode[ErrorCode[\"AUTH_FAILED\"] = 4215] = \"AUTH_FAILED\";\r\n         ErrorCode[ErrorCode[\"APPLICATION_ERROR\"] = 4216] = \"APPLICATION_ERROR\";\r\n     })(exports.ErrorCode || (exports.ErrorCode = {}));\r\n     function utf8Read(view, offset) {\r\n         var length = view[offset++];\r\n         var string = '', chr = 0;\r\n         for (var i = offset, end = offset + length; i < end; i++) {\r\n             var byte = view[i];\r\n             if ((byte & 0x80) === 0x00) {\r\n                 string += String.fromCharCode(byte);\r\n                 continue;\r\n             }\r\n             if ((byte & 0xe0) === 0xc0) {\r\n                 string += String.fromCharCode(((byte & 0x1f) << 6) |\r\n                     (view[++i] & 0x3f));\r\n                 continue;\r\n             }\r\n             if ((byte & 0xf0) === 0xe0) {\r\n                 string += String.fromCharCode(((byte & 0x0f) << 12) |\r\n                     ((view[++i] & 0x3f) << 6) |\r\n                     ((view[++i] & 0x3f) << 0));\r\n                 continue;\r\n             }\r\n             if ((byte & 0xf8) === 0xf0) {\r\n                 chr = ((byte & 0x07) << 18) |\r\n                     ((view[++i] & 0x3f) << 12) |\r\n                     ((view[++i] & 0x3f) << 6) |\r\n                     ((view[++i] & 0x3f) << 0);\r\n                 if (chr >= 0x010000) { // surrogate pair\r\n                     chr -= 0x010000;\r\n                     string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\r\n                 }\r\n                 else {\r\n                     string += String.fromCharCode(chr);\r\n                 }\r\n                 continue;\r\n             }\r\n             throw new Error('Invalid byte ' + byte.toString(16));\r\n         }\r\n         return string;\r\n     }\r\n     // Faster for short strings than Buffer.byteLength\r\n     function utf8Length(str) {\r\n         if (str === void 0) { str = ''; }\r\n         var c = 0;\r\n         var length = 0;\r\n         for (var i = 0, l = str.length; i < l; i++) {\r\n             c = str.charCodeAt(i);\r\n             if (c < 0x80) {\r\n                 length += 1;\r\n             }\r\n             else if (c < 0x800) {\r\n                 length += 2;\r\n             }\r\n             else if (c < 0xd800 || c >= 0xe000) {\r\n                 length += 3;\r\n             }\r\n             else {\r\n                 i++;\r\n                 length += 4;\r\n             }\r\n         }\r\n         return length + 1;\r\n     }\r\n\r\n     let createNanoEvents = () => ({\r\n       events: {},\r\n       emit (event, ...args) {\r\n     (this.events[event] || []).forEach(i => i(...args));\r\n       },\r\n       on (event, cb) {\r\n     (this.events[event] = this.events[event] || []).push(cb);\r\n         return () =>\r\n           (this.events[event] = (this.events[event] || []).filter(i => i !== cb))\r\n       }\r\n     });\r\n\r\n     var EventEmitter = /** @class */ (function () {\r\n         function EventEmitter() {\r\n             this.handlers = [];\r\n         }\r\n         EventEmitter.prototype.register = function (cb, once) {\r\n             this.handlers.push(cb);\r\n             return this;\r\n         };\r\n         EventEmitter.prototype.invoke = function () {\r\n             var _this = this;\r\n             var args = [];\r\n             for (var _i = 0; _i < arguments.length; _i++) {\r\n                 args[_i] = arguments[_i];\r\n             }\r\n             this.handlers.forEach(function (handler) { return handler.apply(_this, args); });\r\n         };\r\n         EventEmitter.prototype.invokeAsync = function () {\r\n             var _this = this;\r\n             var args = [];\r\n             for (var _i = 0; _i < arguments.length; _i++) {\r\n                 args[_i] = arguments[_i];\r\n             }\r\n             return Promise.all(this.handlers.map(function (handler) { return handler.apply(_this, args); }));\r\n         };\r\n         EventEmitter.prototype.remove = function (cb) {\r\n             var index = this.handlers.indexOf(cb);\r\n             this.handlers[index] = this.handlers[this.handlers.length - 1];\r\n             this.handlers.pop();\r\n         };\r\n         EventEmitter.prototype.clear = function () {\r\n             this.handlers = [];\r\n         };\r\n         return EventEmitter;\r\n     }());\r\n     function createSignal() {\r\n         var emitter = new EventEmitter();\r\n         function register(cb) {\r\n             return emitter.register(cb, this === null);\r\n         }\r\n         register.once = function (cb) {\r\n             var callback = function () {\r\n                 var args = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     args[_i] = arguments[_i];\r\n                 }\r\n                 cb.apply(this, args);\r\n                 emitter.remove(callback);\r\n             };\r\n             emitter.register(callback);\r\n         };\r\n         register.remove = function (cb) { return emitter.remove(cb); };\r\n         register.invoke = function () {\r\n             var args = [];\r\n             for (var _i = 0; _i < arguments.length; _i++) {\r\n                 args[_i] = arguments[_i];\r\n             }\r\n             return emitter.invoke.apply(emitter, args);\r\n         };\r\n         register.invokeAsync = function () {\r\n             var args = [];\r\n             for (var _i = 0; _i < arguments.length; _i++) {\r\n                 args[_i] = arguments[_i];\r\n             }\r\n             return emitter.invokeAsync.apply(emitter, args);\r\n         };\r\n         register.clear = function () { return emitter.clear(); };\r\n         return register;\r\n     }\r\n\r\n     var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n\r\n     function createCommonjsModule(fn) {\r\n       var module = { exports: {} };\r\n     \treturn fn(module, module.exports), module.exports;\r\n     }\r\n\r\n     var umd = createCommonjsModule(function (module, exports) {\r\n     (function (global, factory) {\r\n         factory(exports) ;\r\n     }(commonjsGlobal, (function (exports) {\r\n         /*! *****************************************************************************\r\n         Copyright (c) Microsoft Corporation.\r\n\r\n         Permission to use, copy, modify, and/or distribute this software for any\r\n         purpose with or without fee is hereby granted.\r\n\r\n         THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n         REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n         AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n         INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n         LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n         OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n         PERFORMANCE OF THIS SOFTWARE.\r\n         ***************************************************************************** */\r\n         /* global Reflect, Promise */\r\n\r\n         var extendStatics = function(d, b) {\r\n             extendStatics = Object.setPrototypeOf ||\r\n                 ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n                 function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n             return extendStatics(d, b);\r\n         };\r\n\r\n         function __extends(d, b) {\r\n             if (typeof b !== \"function\" && b !== null)\r\n                 throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n             extendStatics(d, b);\r\n             function __() { this.constructor = d; }\r\n             d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n         }\r\n\r\n         function __decorate(decorators, target, key, desc) {\r\n             var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n             if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n             else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n             return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n         }\r\n\r\n         function __spreadArray(to, from) {\r\n             for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n                 to[j] = from[i];\r\n             return to;\r\n         }\r\n\r\n         // export const SWITCH_TO_STRUCTURE = 193; (easily collides with DELETE_AND_ADD + fieldIndex = 2)\r\n         var SWITCH_TO_STRUCTURE = 255; // (decoding collides with DELETE_AND_ADD + fieldIndex = 63)\r\n         var TYPE_ID = 213;\r\n         /**\r\n          * Encoding Schema field operations.\r\n          */\r\n         exports.OPERATION = void 0;\r\n         (function (OPERATION) {\r\n             // add new structure/primitive\r\n             OPERATION[OPERATION[\"ADD\"] = 128] = \"ADD\";\r\n             // replace structure/primitive\r\n             OPERATION[OPERATION[\"REPLACE\"] = 0] = \"REPLACE\";\r\n             // delete field\r\n             OPERATION[OPERATION[\"DELETE\"] = 64] = \"DELETE\";\r\n             // DELETE field, followed by an ADD\r\n             OPERATION[OPERATION[\"DELETE_AND_ADD\"] = 192] = \"DELETE_AND_ADD\";\r\n             // TOUCH is used to determine hierarchy of nested Schema structures during serialization.\r\n             // touches are NOT encoded.\r\n             OPERATION[OPERATION[\"TOUCH\"] = 1] = \"TOUCH\";\r\n             // MapSchema Operations\r\n             OPERATION[OPERATION[\"CLEAR\"] = 10] = \"CLEAR\";\r\n         })(exports.OPERATION || (exports.OPERATION = {}));\r\n         // export enum OPERATION {\r\n         //     // add new structure/primitive\r\n         //     // (128)\r\n         //     ADD = 128, // 10000000,\r\n         //     // replace structure/primitive\r\n         //     REPLACE = 1,// 00000001\r\n         //     // delete field\r\n         //     DELETE = 192, // 11000000\r\n         //     // DELETE field, followed by an ADD\r\n         //     DELETE_AND_ADD = 224, // 11100000\r\n         //     // TOUCH is used to determine hierarchy of nested Schema structures during serialization.\r\n         //     // touches are NOT encoded.\r\n         //     TOUCH = 0, // 00000000\r\n         //     // MapSchema Operations\r\n         //     CLEAR = 10,\r\n         // }\r\n\r\n         //\r\n         // Root holds all schema references by unique id\r\n         //\r\n         var Root = /** @class */ (function () {\r\n             function Root() {\r\n                 //\r\n                 // Relation of refId => Schema structure\r\n                 // For direct access of structures during decoding time.\r\n                 //\r\n                 this.refs = new Map();\r\n                 this.refCounts = {};\r\n                 this.deletedRefs = new Set();\r\n                 this.nextUniqueId = 0;\r\n             }\r\n             Root.prototype.getNextUniqueId = function () {\r\n                 return this.nextUniqueId++;\r\n             };\r\n             // for decoding\r\n             Root.prototype.addRef = function (refId, ref, incrementCount) {\r\n                 if (incrementCount === void 0) { incrementCount = true; }\r\n                 this.refs.set(refId, ref);\r\n                 if (incrementCount) {\r\n                     this.refCounts[refId] = (this.refCounts[refId] || 0) + 1;\r\n                 }\r\n             };\r\n             // for decoding\r\n             Root.prototype.removeRef = function (refId) {\r\n                 this.refCounts[refId] = this.refCounts[refId] - 1;\r\n                 this.deletedRefs.add(refId);\r\n             };\r\n             Root.prototype.clearRefs = function () {\r\n                 this.refs.clear();\r\n                 this.deletedRefs.clear();\r\n                 this.refCounts = {};\r\n             };\r\n             // for decoding\r\n             Root.prototype.garbageCollectDeletedRefs = function () {\r\n                 var _this = this;\r\n                 this.deletedRefs.forEach(function (refId) {\r\n                     if (_this.refCounts[refId] <= 0) {\r\n                         var ref = _this.refs.get(refId);\r\n                         //\r\n                         // Ensure child schema instances have their references removed as well.\r\n                         //\r\n                         if (ref instanceof Schema) {\r\n                             for (var fieldName in ref['_definition'].schema) {\r\n                                 if (typeof (ref['_definition'].schema[fieldName]) !== \"string\" &&\r\n                                     ref[fieldName] &&\r\n                                     ref[fieldName]['$changes']) {\r\n                                     _this.removeRef(ref[fieldName]['$changes'].refId);\r\n                                 }\r\n                             }\r\n                         }\r\n                         else {\r\n                             var definition = ref['$changes'].parent._definition;\r\n                             var type = definition.schema[definition.fieldsByIndex[ref['$changes'].parentIndex]];\r\n                             if (typeof (Object.values(type)[0]) === \"function\") {\r\n                                 Array.from(ref.values())\r\n                                     .forEach(function (child) { return _this.removeRef(child['$changes'].refId); });\r\n                             }\r\n                         }\r\n                         _this.refs.delete(refId);\r\n                         delete _this.refCounts[refId];\r\n                     }\r\n                 });\r\n                 // clear deleted refs.\r\n                 this.deletedRefs.clear();\r\n             };\r\n             return Root;\r\n         }());\r\n         var ChangeTree = /** @class */ (function () {\r\n             function ChangeTree(ref, parent, root) {\r\n                 this.changed = false;\r\n                 this.changes = new Map();\r\n                 this.allChanges = new Set();\r\n                 // cached indexes for filtering\r\n                 this.caches = {};\r\n                 this.currentCustomOperation = 0;\r\n                 this.ref = ref;\r\n                 this.setParent(parent, root);\r\n             }\r\n             ChangeTree.prototype.setParent = function (parent, root, parentIndex) {\r\n                 var _this = this;\r\n                 if (!this.indexes) {\r\n                     this.indexes = (this.ref instanceof Schema)\r\n                         ? this.ref['_definition'].indexes\r\n                         : {};\r\n                 }\r\n                 this.parent = parent;\r\n                 this.parentIndex = parentIndex;\r\n                 // avoid setting parents with empty `root`\r\n                 if (!root) {\r\n                     return;\r\n                 }\r\n                 this.root = root;\r\n                 //\r\n                 // assign same parent on child structures\r\n                 //\r\n                 if (this.ref instanceof Schema) {\r\n                     var definition = this.ref['_definition'];\r\n                     for (var field in definition.schema) {\r\n                         var value = this.ref[field];\r\n                         if (value && value['$changes']) {\r\n                             var parentIndex_1 = definition.indexes[field];\r\n                             value['$changes'].setParent(this.ref, root, parentIndex_1);\r\n                         }\r\n                     }\r\n                 }\r\n                 else if (typeof (this.ref) === \"object\") {\r\n                     this.ref.forEach(function (value, key) {\r\n                         if (value instanceof Schema) {\r\n                             var changeTreee = value['$changes'];\r\n                             var parentIndex_2 = _this.ref['$changes'].indexes[key];\r\n                             changeTreee.setParent(_this.ref, _this.root, parentIndex_2);\r\n                         }\r\n                     });\r\n                 }\r\n             };\r\n             ChangeTree.prototype.operation = function (op) {\r\n                 this.changes.set(--this.currentCustomOperation, op);\r\n             };\r\n             ChangeTree.prototype.change = function (fieldName, operation) {\r\n                 if (operation === void 0) { operation = exports.OPERATION.ADD; }\r\n                 var index = (typeof (fieldName) === \"number\")\r\n                     ? fieldName\r\n                     : this.indexes[fieldName];\r\n                 this.assertValidIndex(index, fieldName);\r\n                 var previousChange = this.changes.get(index);\r\n                 if (!previousChange ||\r\n                     previousChange.op === exports.OPERATION.DELETE ||\r\n                     previousChange.op === exports.OPERATION.TOUCH // (mazmorra.io's BattleAction issue)\r\n                 ) {\r\n                     this.changes.set(index, {\r\n                         op: (!previousChange)\r\n                             ? operation\r\n                             : (previousChange.op === exports.OPERATION.DELETE)\r\n                                 ? exports.OPERATION.DELETE_AND_ADD\r\n                                 : operation,\r\n                         // : OPERATION.REPLACE,\r\n                         index: index\r\n                     });\r\n                 }\r\n                 this.allChanges.add(index);\r\n                 this.changed = true;\r\n                 this.touchParents();\r\n             };\r\n             ChangeTree.prototype.touch = function (fieldName) {\r\n                 var index = (typeof (fieldName) === \"number\")\r\n                     ? fieldName\r\n                     : this.indexes[fieldName];\r\n                 this.assertValidIndex(index, fieldName);\r\n                 if (!this.changes.has(index)) {\r\n                     this.changes.set(index, { op: exports.OPERATION.TOUCH, index: index });\r\n                 }\r\n                 this.allChanges.add(index);\r\n                 // ensure touch is placed until the $root is found.\r\n                 this.touchParents();\r\n             };\r\n             ChangeTree.prototype.touchParents = function () {\r\n                 if (this.parent) {\r\n                     this.parent['$changes'].touch(this.parentIndex);\r\n                 }\r\n             };\r\n             ChangeTree.prototype.getType = function (index) {\r\n                 if (this.ref['_definition']) {\r\n                     var definition = this.ref['_definition'];\r\n                     return definition.schema[definition.fieldsByIndex[index]];\r\n                 }\r\n                 else {\r\n                     var definition = this.parent['_definition'];\r\n                     var parentType = definition.schema[definition.fieldsByIndex[this.parentIndex]];\r\n                     //\r\n                     // Get the child type from parent structure.\r\n                     // - [\"string\"] => \"string\"\r\n                     // - { map: \"string\" } => \"string\"\r\n                     // - { set: \"string\" } => \"string\"\r\n                     //\r\n                     return Object.values(parentType)[0];\r\n                 }\r\n             };\r\n             ChangeTree.prototype.getChildrenFilter = function () {\r\n                 var childFilters = this.parent['_definition'].childFilters;\r\n                 return childFilters && childFilters[this.parentIndex];\r\n             };\r\n             //\r\n             // used during `.encode()`\r\n             //\r\n             ChangeTree.prototype.getValue = function (index) {\r\n                 return this.ref['getByIndex'](index);\r\n             };\r\n             ChangeTree.prototype.delete = function (fieldName) {\r\n                 var index = (typeof (fieldName) === \"number\")\r\n                     ? fieldName\r\n                     : this.indexes[fieldName];\r\n                 if (index === undefined) {\r\n                     console.warn(\"@colyseus/schema \" + this.ref.constructor.name + \": trying to delete non-existing index: \" + fieldName + \" (\" + index + \")\");\r\n                     return;\r\n                 }\r\n                 var previousValue = this.getValue(index);\r\n                 // console.log(\"$changes.delete =>\", { fieldName, index, previousValue });\r\n                 this.changes.set(index, { op: exports.OPERATION.DELETE, index: index });\r\n                 this.allChanges.delete(index);\r\n                 // delete cache\r\n                 delete this.caches[index];\r\n                 // remove `root` reference\r\n                 if (previousValue && previousValue['$changes']) {\r\n                     previousValue['$changes'].parent = undefined;\r\n                 }\r\n                 this.changed = true;\r\n                 this.touchParents();\r\n             };\r\n             ChangeTree.prototype.discard = function (changed, discardAll) {\r\n                 var _this = this;\r\n                 if (changed === void 0) { changed = false; }\r\n                 if (discardAll === void 0) { discardAll = false; }\r\n                 //\r\n                 // Map, Array, etc:\r\n                 // Remove cached key to ensure ADD operations is unsed instead of\r\n                 // REPLACE in case same key is used on next patches.\r\n                 //\r\n                 // TODO: refactor this. this is not relevant for Collection and Set.\r\n                 //\r\n                 if (!(this.ref instanceof Schema)) {\r\n                     this.changes.forEach(function (change) {\r\n                         if (change.op === exports.OPERATION.DELETE) {\r\n                             var index = _this.ref['getIndex'](change.index);\r\n                             delete _this.indexes[index];\r\n                         }\r\n                     });\r\n                 }\r\n                 this.changes.clear();\r\n                 this.changed = changed;\r\n                 if (discardAll) {\r\n                     this.allChanges.clear();\r\n                 }\r\n                 // re-set `currentCustomOperation`\r\n                 this.currentCustomOperation = 0;\r\n             };\r\n             /**\r\n              * Recursively discard all changes from this, and child structures.\r\n              */\r\n             ChangeTree.prototype.discardAll = function () {\r\n                 var _this = this;\r\n                 this.changes.forEach(function (change) {\r\n                     var value = _this.getValue(change.index);\r\n                     if (value && value['$changes']) {\r\n                         value['$changes'].discardAll();\r\n                     }\r\n                 });\r\n                 this.discard();\r\n             };\r\n             // cache(field: number, beginIndex: number, endIndex: number) {\r\n             ChangeTree.prototype.cache = function (field, cachedBytes) {\r\n                 this.caches[field] = cachedBytes;\r\n             };\r\n             ChangeTree.prototype.clone = function () {\r\n                 return new ChangeTree(this.ref, this.parent, this.root);\r\n             };\r\n             ChangeTree.prototype.ensureRefId = function () {\r\n                 // skip if refId is already set.\r\n                 if (this.refId !== undefined) {\r\n                     return;\r\n                 }\r\n                 this.refId = this.root.getNextUniqueId();\r\n             };\r\n             ChangeTree.prototype.assertValidIndex = function (index, fieldName) {\r\n                 if (index === undefined) {\r\n                     throw new Error(\"ChangeTree: missing index for field \\\"\" + fieldName + \"\\\"\");\r\n                 }\r\n             };\r\n             return ChangeTree;\r\n         }());\r\n\r\n         //\r\n         // Notes:\r\n         // -----\r\n         //\r\n         // - The tsconfig.json of @colyseus/schema uses ES2018.\r\n         // - ES2019 introduces `flatMap` / `flat`, which is not currently relevant, and caused other issues.\r\n         //\r\n         var DEFAULT_SORT = function (a, b) {\r\n             var A = a.toString();\r\n             var B = b.toString();\r\n             if (A < B)\r\n                 return -1;\r\n             else if (A > B)\r\n                 return 1;\r\n             else\r\n                 return 0;\r\n         };\r\n         function getArrayProxy(value) {\r\n             value['$proxy'] = true;\r\n             //\r\n             // compatibility with @colyseus/schema 0.5.x\r\n             // - allow `map[\"key\"]`\r\n             // - allow `map[\"key\"] = \"xxx\"`\r\n             // - allow `delete map[\"key\"]`\r\n             //\r\n             value = new Proxy(value, {\r\n                 get: function (obj, prop) {\r\n                     if (typeof (prop) !== \"symbol\" &&\r\n                         !isNaN(prop) // https://stackoverflow.com/a/175787/892698\r\n                     ) {\r\n                         return obj.at(prop);\r\n                     }\r\n                     else {\r\n                         return obj[prop];\r\n                     }\r\n                 },\r\n                 set: function (obj, prop, setValue) {\r\n                     if (typeof (prop) !== \"symbol\" &&\r\n                         !isNaN(prop)) {\r\n                         var indexes = Array.from(obj['$items'].keys());\r\n                         var key = parseInt(indexes[prop] || prop);\r\n                         if (setValue === undefined || setValue === null) {\r\n                             obj.deleteAt(key);\r\n                         }\r\n                         else {\r\n                             obj.setAt(key, setValue);\r\n                         }\r\n                     }\r\n                     else {\r\n                         obj[prop] = setValue;\r\n                     }\r\n                     return true;\r\n                 },\r\n                 deleteProperty: function (obj, prop) {\r\n                     if (typeof (prop) === \"number\") {\r\n                         obj.deleteAt(prop);\r\n                     }\r\n                     else {\r\n                         delete obj[prop];\r\n                     }\r\n                     return true;\r\n                 },\r\n             });\r\n             return value;\r\n         }\r\n         var ArraySchema = /** @class */ (function () {\r\n             function ArraySchema() {\r\n                 var items = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     items[_i] = arguments[_i];\r\n                 }\r\n                 this.$changes = new ChangeTree(this);\r\n                 this.$items = new Map();\r\n                 this.$indexes = new Map();\r\n                 this.$refId = 0;\r\n                 this.push.apply(this, items);\r\n             }\r\n             ArraySchema.is = function (type) {\r\n                 return Array.isArray(type);\r\n             };\r\n             Object.defineProperty(ArraySchema.prototype, \"length\", {\r\n                 get: function () {\r\n                     return this.$items.size;\r\n                 },\r\n                 set: function (value) {\r\n                     if (value === 0) {\r\n                         this.clear();\r\n                     }\r\n                     else {\r\n                         this.splice(value, this.length - value);\r\n                     }\r\n                 },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             ArraySchema.prototype.push = function () {\r\n                 var _this = this;\r\n                 var values = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     values[_i] = arguments[_i];\r\n                 }\r\n                 var lastIndex;\r\n                 values.forEach(function (value) {\r\n                     // set \"index\" for reference.\r\n                     lastIndex = _this.$refId++;\r\n                     _this.setAt(lastIndex, value);\r\n                 });\r\n                 return lastIndex;\r\n             };\r\n             /**\r\n              * Removes the last element from an array and returns it.\r\n              */\r\n             ArraySchema.prototype.pop = function () {\r\n                 var key = Array.from(this.$indexes.values()).pop();\r\n                 if (key === undefined) {\r\n                     return undefined;\r\n                 }\r\n                 this.$changes.delete(key);\r\n                 this.$indexes.delete(key);\r\n                 var value = this.$items.get(key);\r\n                 this.$items.delete(key);\r\n                 return value;\r\n             };\r\n             ArraySchema.prototype.at = function (index) {\r\n                 //\r\n                 // FIXME: this should be O(1)\r\n                 //\r\n                 var key = Array.from(this.$items.keys())[index];\r\n                 return this.$items.get(key);\r\n             };\r\n             ArraySchema.prototype.setAt = function (index, value) {\r\n                 var _a, _b;\r\n                 if (value['$changes'] !== undefined) {\r\n                     value['$changes'].setParent(this, this.$changes.root, index);\r\n                 }\r\n                 var operation = (_b = (_a = this.$changes.indexes[index]) === null || _a === void 0 ? void 0 : _a.op) !== null && _b !== void 0 ? _b : exports.OPERATION.ADD;\r\n                 this.$changes.indexes[index] = index;\r\n                 this.$indexes.set(index, index);\r\n                 this.$items.set(index, value);\r\n                 this.$changes.change(index, operation);\r\n             };\r\n             ArraySchema.prototype.deleteAt = function (index) {\r\n                 var key = Array.from(this.$items.keys())[index];\r\n                 if (key === undefined) {\r\n                     return false;\r\n                 }\r\n                 return this.$deleteAt(key);\r\n             };\r\n             ArraySchema.prototype.$deleteAt = function (index) {\r\n                 // delete at internal index\r\n                 this.$changes.delete(index);\r\n                 this.$indexes.delete(index);\r\n                 return this.$items.delete(index);\r\n             };\r\n             ArraySchema.prototype.clear = function (isDecoding) {\r\n                 var _this = this;\r\n                 // discard previous operations.\r\n                 this.$changes.discard(true, true);\r\n                 this.$changes.indexes = {};\r\n                 // clear previous indexes\r\n                 this.$indexes.clear();\r\n                 // flag child items for garbage collection.\r\n                 if (isDecoding && typeof (this.$changes.getType()) !== \"string\") {\r\n                     this.$items.forEach(function (item) {\r\n                         _this.$changes.root.removeRef(item['$changes'].refId);\r\n                     });\r\n                 }\r\n                 // clear items\r\n                 this.$items.clear();\r\n                 this.$changes.operation({ index: 0, op: exports.OPERATION.CLEAR });\r\n                 // touch all structures until reach root\r\n                 this.$changes.touchParents();\r\n             };\r\n             /**\r\n              * Combines two or more arrays.\r\n              * @param items Additional items to add to the end of array1.\r\n              */\r\n             ArraySchema.prototype.concat = function () {\r\n                 var _a;\r\n                 var items = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     items[_i] = arguments[_i];\r\n                 }\r\n                 return new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], (_a = Array.from(this.$items.values())).concat.apply(_a, items))))();\r\n             };\r\n             /**\r\n              * Adds all the elements of an array separated by the specified separator string.\r\n              * @param separator A string used to separate one element of an array from the next in the resulting String. If omitted, the array elements are separated with a comma.\r\n              */\r\n             ArraySchema.prototype.join = function (separator) {\r\n                 return Array.from(this.$items.values()).join(separator);\r\n             };\r\n             /**\r\n              * Reverses the elements in an Array.\r\n              */\r\n             ArraySchema.prototype.reverse = function () {\r\n                 var _this = this;\r\n                 var indexes = Array.from(this.$items.keys());\r\n                 var reversedItems = Array.from(this.$items.values()).reverse();\r\n                 reversedItems.forEach(function (item, i) {\r\n                     _this.setAt(indexes[i], item);\r\n                 });\r\n                 return this;\r\n             };\r\n             /**\r\n              * Removes the first element from an array and returns it.\r\n              */\r\n             ArraySchema.prototype.shift = function () {\r\n                 var indexes = Array.from(this.$items.keys());\r\n                 var shiftAt = indexes.shift();\r\n                 if (shiftAt === undefined) {\r\n                     return undefined;\r\n                 }\r\n                 var value = this.$items.get(shiftAt);\r\n                 this.$deleteAt(shiftAt);\r\n                 return value;\r\n             };\r\n             /**\r\n              * Returns a section of an array.\r\n              * @param start The beginning of the specified portion of the array.\r\n              * @param end The end of the specified portion of the array. This is exclusive of the element at the index 'end'.\r\n              */\r\n             ArraySchema.prototype.slice = function (start, end) {\r\n                 return new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], Array.from(this.$items.values()).slice(start, end))))();\r\n             };\r\n             /**\r\n              * Sorts an array.\r\n              * @param compareFn Function used to determine the order of the elements. It is expected to return\r\n              * a negative value if first argument is less than second argument, zero if they're equal and a positive\r\n              * value otherwise. If omitted, the elements are sorted in ascending, ASCII character order.\r\n              * ```ts\r\n              * [11,2,22,1].sort((a, b) => a - b)\r\n              * ```\r\n              */\r\n             ArraySchema.prototype.sort = function (compareFn) {\r\n                 var _this = this;\r\n                 if (compareFn === void 0) { compareFn = DEFAULT_SORT; }\r\n                 var indexes = Array.from(this.$items.keys());\r\n                 var sortedItems = Array.from(this.$items.values()).sort(compareFn);\r\n                 sortedItems.forEach(function (item, i) {\r\n                     _this.setAt(indexes[i], item);\r\n                 });\r\n                 return this;\r\n             };\r\n             /**\r\n              * Removes elements from an array and, if necessary, inserts new elements in their place, returning the deleted elements.\r\n              * @param start The zero-based location in the array from which to start removing elements.\r\n              * @param deleteCount The number of elements to remove.\r\n              * @param items Elements to insert into the array in place of the deleted elements.\r\n              */\r\n             ArraySchema.prototype.splice = function (start, deleteCount) {\r\n                 if (deleteCount === void 0) { deleteCount = this.length - start; }\r\n                 var items = [];\r\n                 for (var _i = 2; _i < arguments.length; _i++) {\r\n                     items[_i - 2] = arguments[_i];\r\n                 }\r\n                 var indexes = Array.from(this.$items.keys());\r\n                 var removedItems = [];\r\n                 for (var i = start; i < start + deleteCount; i++) {\r\n                     removedItems.push(this.$items.get(indexes[i]));\r\n                     this.$deleteAt(indexes[i]);\r\n                 }\r\n                 return removedItems;\r\n             };\r\n             /**\r\n              * Inserts new elements at the start of an array.\r\n              * @param items  Elements to insert at the start of the Array.\r\n              */\r\n             ArraySchema.prototype.unshift = function () {\r\n                 var _this = this;\r\n                 var items = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     items[_i] = arguments[_i];\r\n                 }\r\n                 var length = this.length;\r\n                 var addedLength = items.length;\r\n                 // const indexes = Array.from(this.$items.keys());\r\n                 var previousValues = Array.from(this.$items.values());\r\n                 items.forEach(function (item, i) {\r\n                     _this.setAt(i, item);\r\n                 });\r\n                 previousValues.forEach(function (previousValue, i) {\r\n                     _this.setAt(addedLength + i, previousValue);\r\n                 });\r\n                 return length + addedLength;\r\n             };\r\n             /**\r\n              * Returns the index of the first occurrence of a value in an array.\r\n              * @param searchElement The value to locate in the array.\r\n              * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at index 0.\r\n              */\r\n             ArraySchema.prototype.indexOf = function (searchElement, fromIndex) {\r\n                 return Array.from(this.$items.values()).indexOf(searchElement, fromIndex);\r\n             };\r\n             /**\r\n              * Returns the index of the last occurrence of a specified value in an array.\r\n              * @param searchElement The value to locate in the array.\r\n              * @param fromIndex The array index at which to begin the search. If fromIndex is omitted, the search starts at the last index in the array.\r\n              */\r\n             ArraySchema.prototype.lastIndexOf = function (searchElement, fromIndex) {\r\n                 if (fromIndex === void 0) { fromIndex = this.length - 1; }\r\n                 return Array.from(this.$items.values()).lastIndexOf(searchElement, fromIndex);\r\n             };\r\n             /**\r\n              * Determines whether all the members of an array satisfy the specified test.\r\n              * @param callbackfn A function that accepts up to three arguments. The every method calls\r\n              * the callbackfn function for each element in the array until the callbackfn returns a value\r\n              * which is coercible to the Boolean value false, or until the end of the array.\r\n              * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r\n              * If thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             ArraySchema.prototype.every = function (callbackfn, thisArg) {\r\n                 return Array.from(this.$items.values()).every(callbackfn, thisArg);\r\n             };\r\n             /**\r\n              * Determines whether the specified callback function returns true for any element of an array.\r\n              * @param callbackfn A function that accepts up to three arguments. The some method calls\r\n              * the callbackfn function for each element in the array until the callbackfn returns a value\r\n              * which is coercible to the Boolean value true, or until the end of the array.\r\n              * @param thisArg An object to which the this keyword can refer in the callbackfn function.\r\n              * If thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             ArraySchema.prototype.some = function (callbackfn, thisArg) {\r\n                 return Array.from(this.$items.values()).some(callbackfn, thisArg);\r\n             };\r\n             /**\r\n              * Performs the specified action for each element in an array.\r\n              * @param callbackfn  A function that accepts up to three arguments. forEach calls the callbackfn function one time for each element in the array.\r\n              * @param thisArg  An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             ArraySchema.prototype.forEach = function (callbackfn, thisArg) {\r\n                 Array.from(this.$items.values()).forEach(callbackfn, thisArg);\r\n             };\r\n             /**\r\n              * Calls a defined callback function on each element of an array, and returns an array that contains the results.\r\n              * @param callbackfn A function that accepts up to three arguments. The map method calls the callbackfn function one time for each element in the array.\r\n              * @param thisArg An object to which the this keyword can refer in the callbackfn function. If thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             ArraySchema.prototype.map = function (callbackfn, thisArg) {\r\n                 return Array.from(this.$items.values()).map(callbackfn, thisArg);\r\n             };\r\n             ArraySchema.prototype.filter = function (callbackfn, thisArg) {\r\n                 return Array.from(this.$items.values()).filter(callbackfn, thisArg);\r\n             };\r\n             /**\r\n              * Calls the specified callback function for all the elements in an array. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r\n              * @param callbackfn A function that accepts up to four arguments. The reduce method calls the callbackfn function one time for each element in the array.\r\n              * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r\n              */\r\n             ArraySchema.prototype.reduce = function (callbackfn, initialValue) {\r\n                 return Array.from(this.$items.values()).reduce(callbackfn, initialValue);\r\n             };\r\n             /**\r\n              * Calls the specified callback function for all the elements in an array, in descending order. The return value of the callback function is the accumulated result, and is provided as an argument in the next call to the callback function.\r\n              * @param callbackfn A function that accepts up to four arguments. The reduceRight method calls the callbackfn function one time for each element in the array.\r\n              * @param initialValue If initialValue is specified, it is used as the initial value to start the accumulation. The first call to the callbackfn function provides this value as an argument instead of an array value.\r\n              */\r\n             ArraySchema.prototype.reduceRight = function (callbackfn, initialValue) {\r\n                 return Array.from(this.$items.values()).reduceRight(callbackfn, initialValue);\r\n             };\r\n             /**\r\n              * Returns the value of the first element in the array where predicate is true, and undefined\r\n              * otherwise.\r\n              * @param predicate find calls predicate once for each element of the array, in ascending\r\n              * order, until it finds one where predicate returns true. If such an element is found, find\r\n              * immediately returns that element value. Otherwise, find returns undefined.\r\n              * @param thisArg If provided, it will be used as the this value for each invocation of\r\n              * predicate. If it is not provided, undefined is used instead.\r\n              */\r\n             ArraySchema.prototype.find = function (predicate, thisArg) {\r\n                 return Array.from(this.$items.values()).find(predicate, thisArg);\r\n             };\r\n             /**\r\n              * Returns the index of the first element in the array where predicate is true, and -1\r\n              * otherwise.\r\n              * @param predicate find calls predicate once for each element of the array, in ascending\r\n              * order, until it finds one where predicate returns true. If such an element is found,\r\n              * findIndex immediately returns that element index. Otherwise, findIndex returns -1.\r\n              * @param thisArg If provided, it will be used as the this value for each invocation of\r\n              * predicate. If it is not provided, undefined is used instead.\r\n              */\r\n             ArraySchema.prototype.findIndex = function (predicate, thisArg) {\r\n                 return Array.from(this.$items.values()).findIndex(predicate, thisArg);\r\n             };\r\n             /**\r\n              * Returns the this object after filling the section identified by start and end with value\r\n              * @param value value to fill array section with\r\n              * @param start index to start filling the array at. If start is negative, it is treated as\r\n              * length+start where length is the length of the array.\r\n              * @param end index to stop filling the array at. If end is negative, it is treated as\r\n              * length+end.\r\n              */\r\n             ArraySchema.prototype.fill = function (value, start, end) {\r\n                 //\r\n                 // TODO\r\n                 //\r\n                 throw new Error(\"ArraySchema#fill() not implemented\");\r\n             };\r\n             /**\r\n              * Returns the this object after copying a section of the array identified by start and end\r\n              * to the same array starting at position target\r\n              * @param target If target is negative, it is treated as length+target where length is the\r\n              * length of the array.\r\n              * @param start If start is negative, it is treated as length+start. If end is negative, it\r\n              * is treated as length+end.\r\n              * @param end If not specified, length of the this object is used as its default value.\r\n              */\r\n             ArraySchema.prototype.copyWithin = function (target, start, end) {\r\n                 //\r\n                 // TODO\r\n                 //\r\n                 throw new Error(\"ArraySchema#copyWithin() not implemented\");\r\n             };\r\n             /**\r\n              * Returns a string representation of an array.\r\n              */\r\n             ArraySchema.prototype.toString = function () { return this.$items.toString(); };\r\n             /**\r\n              * Returns a string representation of an array. The elements are converted to string using their toLocalString methods.\r\n              */\r\n             ArraySchema.prototype.toLocaleString = function () { return this.$items.toLocaleString(); };\r\n             /** Iterator */\r\n             ArraySchema.prototype[Symbol.iterator] = function () {\r\n                 return Array.from(this.$items.values())[Symbol.iterator]();\r\n             };\r\n             ArraySchema.prototype[Symbol.unscopables] = function () {\r\n                 return this.$items[Symbol.unscopables]();\r\n             };\r\n             /**\r\n              * Returns an iterable of key, value pairs for every entry in the array\r\n              */\r\n             ArraySchema.prototype.entries = function () { return this.$items.entries(); };\r\n             /**\r\n              * Returns an iterable of keys in the array\r\n              */\r\n             ArraySchema.prototype.keys = function () { return this.$items.keys(); };\r\n             /**\r\n              * Returns an iterable of values in the array\r\n              */\r\n             ArraySchema.prototype.values = function () { return this.$items.values(); };\r\n             /**\r\n              * Determines whether an array includes a certain element, returning true or false as appropriate.\r\n              * @param searchElement The element to search for.\r\n              * @param fromIndex The position in this array at which to begin searching for searchElement.\r\n              */\r\n             ArraySchema.prototype.includes = function (searchElement, fromIndex) {\r\n                 return Array.from(this.$items.values()).includes(searchElement, fromIndex);\r\n             };\r\n             /**\r\n              * Calls a defined callback function on each element of an array. Then, flattens the result into\r\n              * a new array.\r\n              * This is identical to a map followed by flat with depth 1.\r\n              *\r\n              * @param callback A function that accepts up to three arguments. The flatMap method calls the\r\n              * callback function one time for each element in the array.\r\n              * @param thisArg An object to which the this keyword can refer in the callback function. If\r\n              * thisArg is omitted, undefined is used as the this value.\r\n              */\r\n             // @ts-ignore\r\n             ArraySchema.prototype.flatMap = function (callback, thisArg) {\r\n                 // @ts-ignore\r\n                 throw new Error(\"ArraySchema#flatMap() is not supported.\");\r\n             };\r\n             /**\r\n              * Returns a new array with all sub-array elements concatenated into it recursively up to the\r\n              * specified depth.\r\n              *\r\n              * @param depth The maximum recursion depth\r\n              */\r\n             // @ts-ignore\r\n             ArraySchema.prototype.flat = function (depth) {\r\n                 // @ts-ignore\r\n                 throw new Error(\"ArraySchema#flat() is not supported.\");\r\n             };\r\n             // get size () {\r\n             //     return this.$items.size;\r\n             // }\r\n             ArraySchema.prototype.setIndex = function (index, key) {\r\n                 this.$indexes.set(index, key);\r\n             };\r\n             ArraySchema.prototype.getIndex = function (index) {\r\n                 return this.$indexes.get(index);\r\n             };\r\n             ArraySchema.prototype.getByIndex = function (index) {\r\n                 return this.$items.get(this.$indexes.get(index));\r\n             };\r\n             ArraySchema.prototype.deleteByIndex = function (index) {\r\n                 var key = this.$indexes.get(index);\r\n                 this.$items.delete(key);\r\n                 this.$indexes.delete(index);\r\n             };\r\n             ArraySchema.prototype.toArray = function () {\r\n                 return Array.from(this.$items.values());\r\n             };\r\n             ArraySchema.prototype.toJSON = function () {\r\n                 return this.toArray().map(function (value) {\r\n                     return (typeof (value['toJSON']) === \"function\")\r\n                         ? value['toJSON']()\r\n                         : value;\r\n                 });\r\n             };\r\n             //\r\n             // Decoding utilities\r\n             //\r\n             ArraySchema.prototype.clone = function (isDecoding) {\r\n                 var cloned;\r\n                 if (isDecoding) {\r\n                     cloned = new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], Array.from(this.$items.values()))))();\r\n                 }\r\n                 else {\r\n                     cloned = new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], this.map(function (item) { return ((item['$changes'])\r\n                         ? item.clone()\r\n                         : item); }))))();\r\n                 }\r\n                 return cloned;\r\n             };\r\n             ArraySchema.prototype.triggerAll = function () {\r\n                 Schema.prototype.triggerAll.apply(this);\r\n             };\r\n             return ArraySchema;\r\n         }());\r\n\r\n         function getMapProxy(value) {\r\n             value['$proxy'] = true;\r\n             value = new Proxy(value, {\r\n                 get: function (obj, prop) {\r\n                     if (typeof (prop) !== \"symbol\" && // accessing properties\r\n                         typeof (obj[prop]) === \"undefined\") {\r\n                         return obj.get(prop);\r\n                     }\r\n                     else {\r\n                         return obj[prop];\r\n                     }\r\n                 },\r\n                 set: function (obj, prop, setValue) {\r\n                     if (typeof (prop) !== \"symbol\" &&\r\n                         (prop.indexOf(\"$\") === -1 &&\r\n                             prop !== \"onAdd\" &&\r\n                             prop !== \"onRemove\" &&\r\n                             prop !== \"onChange\")) {\r\n                         obj.set(prop, setValue);\r\n                     }\r\n                     else {\r\n                         obj[prop] = setValue;\r\n                     }\r\n                     return true;\r\n                 },\r\n                 deleteProperty: function (obj, prop) {\r\n                     obj.delete(prop);\r\n                     return true;\r\n                 },\r\n             });\r\n             return value;\r\n         }\r\n         var MapSchema = /** @class */ (function () {\r\n             function MapSchema(initialValues) {\r\n                 var _this = this;\r\n                 this.$changes = new ChangeTree(this);\r\n                 this.$items = new Map();\r\n                 this.$indexes = new Map();\r\n                 this.$refId = 0;\r\n                 if (initialValues) {\r\n                     if (initialValues instanceof Map) {\r\n                         initialValues.forEach(function (v, k) { return _this.set(k, v); });\r\n                     }\r\n                     else {\r\n                         for (var k in initialValues) {\r\n                             this.set(k, initialValues[k]);\r\n                         }\r\n                     }\r\n                 }\r\n             }\r\n             MapSchema.is = function (type) {\r\n                 return type['map'] !== undefined;\r\n             };\r\n             /** Iterator */\r\n             MapSchema.prototype[Symbol.iterator] = function () { return this.$items[Symbol.iterator](); };\r\n             Object.defineProperty(MapSchema.prototype, Symbol.toStringTag, {\r\n                 get: function () { return this.$items[Symbol.toStringTag]; },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             MapSchema.prototype.set = function (key, value) {\r\n                 // get \"index\" for this value.\r\n                 var hasIndex = typeof (this.$changes.indexes[key]) !== \"undefined\";\r\n                 var index = (hasIndex)\r\n                     ? this.$changes.indexes[key]\r\n                     : this.$refId++;\r\n                 var operation = (hasIndex)\r\n                     ? exports.OPERATION.REPLACE\r\n                     : exports.OPERATION.ADD;\r\n                 var isRef = (value['$changes']) !== undefined;\r\n                 if (isRef) {\r\n                     value['$changes'].setParent(this, this.$changes.root, index);\r\n                 }\r\n                 //\r\n                 // (encoding)\r\n                 // set a unique id to relate directly with this key/value.\r\n                 //\r\n                 if (!hasIndex) {\r\n                     this.$changes.indexes[key] = index;\r\n                     this.$indexes.set(index, key);\r\n                 }\r\n                 else if (isRef && // if is schema, force ADD operation if value differ from previous one.\r\n                     this.$items.get(key) !== value) {\r\n                     operation = exports.OPERATION.ADD;\r\n                 }\r\n                 this.$items.set(key, value);\r\n                 this.$changes.change(key, operation);\r\n                 return this;\r\n             };\r\n             MapSchema.prototype.get = function (key) {\r\n                 return this.$items.get(key);\r\n             };\r\n             MapSchema.prototype.delete = function (key) {\r\n                 //\r\n                 // TODO: add a \"purge\" method after .encode() runs, to cleanup removed `$indexes`\r\n                 //\r\n                 // We don't remove $indexes to allow setting the same key in the same patch\r\n                 // (See \"should allow to remove and set an item in the same place\" test)\r\n                 //\r\n                 // // const index = this.$changes.indexes[key];\r\n                 // // this.$indexes.delete(index);\r\n                 this.$changes.delete(key);\r\n                 return this.$items.delete(key);\r\n             };\r\n             MapSchema.prototype.clear = function (isDecoding) {\r\n                 var _this = this;\r\n                 // discard previous operations.\r\n                 this.$changes.discard(true, true);\r\n                 this.$changes.indexes = {};\r\n                 // clear previous indexes\r\n                 this.$indexes.clear();\r\n                 // flag child items for garbage collection.\r\n                 if (isDecoding && typeof (this.$changes.getType()) !== \"string\") {\r\n                     this.$items.forEach(function (item) {\r\n                         _this.$changes.root.removeRef(item['$changes'].refId);\r\n                     });\r\n                 }\r\n                 // clear items\r\n                 this.$items.clear();\r\n                 this.$changes.operation({ index: 0, op: exports.OPERATION.CLEAR });\r\n                 // touch all structures until reach root\r\n                 this.$changes.touchParents();\r\n             };\r\n             MapSchema.prototype.has = function (key) {\r\n                 return this.$items.has(key);\r\n             };\r\n             MapSchema.prototype.forEach = function (callbackfn) {\r\n                 this.$items.forEach(callbackfn);\r\n             };\r\n             MapSchema.prototype.entries = function () {\r\n                 return this.$items.entries();\r\n             };\r\n             MapSchema.prototype.keys = function () {\r\n                 return this.$items.keys();\r\n             };\r\n             MapSchema.prototype.values = function () {\r\n                 return this.$items.values();\r\n             };\r\n             Object.defineProperty(MapSchema.prototype, \"size\", {\r\n                 get: function () {\r\n                     return this.$items.size;\r\n                 },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             MapSchema.prototype.setIndex = function (index, key) {\r\n                 this.$indexes.set(index, key);\r\n             };\r\n             MapSchema.prototype.getIndex = function (index) {\r\n                 return this.$indexes.get(index);\r\n             };\r\n             MapSchema.prototype.getByIndex = function (index) {\r\n                 return this.$items.get(this.$indexes.get(index));\r\n             };\r\n             MapSchema.prototype.deleteByIndex = function (index) {\r\n                 var key = this.$indexes.get(index);\r\n                 this.$items.delete(key);\r\n                 this.$indexes.delete(index);\r\n             };\r\n             MapSchema.prototype.toJSON = function () {\r\n                 var map = {};\r\n                 this.forEach(function (value, key) {\r\n                     map[key] = (typeof (value['toJSON']) === \"function\")\r\n                         ? value['toJSON']()\r\n                         : value;\r\n                 });\r\n                 return map;\r\n             };\r\n             //\r\n             // Decoding utilities\r\n             //\r\n             MapSchema.prototype.clone = function (isDecoding) {\r\n                 var cloned;\r\n                 if (isDecoding) {\r\n                     // client-side\r\n                     cloned = Object.assign(new MapSchema(), this);\r\n                 }\r\n                 else {\r\n                     // server-side\r\n                     cloned = new MapSchema();\r\n                     this.forEach(function (value, key) {\r\n                         if (value['$changes']) {\r\n                             cloned.set(key, value['clone']());\r\n                         }\r\n                         else {\r\n                             cloned.set(key, value);\r\n                         }\r\n                     });\r\n                 }\r\n                 return cloned;\r\n             };\r\n             MapSchema.prototype.triggerAll = function () {\r\n                 Schema.prototype.triggerAll.apply(this);\r\n             };\r\n             return MapSchema;\r\n         }());\r\n\r\n         var registeredTypes = {};\r\n         function registerType(identifier, definition) {\r\n             registeredTypes[identifier] = definition;\r\n         }\r\n         function getType(identifier) {\r\n             return registeredTypes[identifier];\r\n         }\r\n\r\n         var SchemaDefinition = /** @class */ (function () {\r\n             function SchemaDefinition() {\r\n                 //\r\n                 // TODO: use a \"field\" structure combining all these properties per-field.\r\n                 //\r\n                 this.indexes = {};\r\n                 this.fieldsByIndex = {};\r\n                 this.deprecated = {};\r\n                 this.descriptors = {};\r\n             }\r\n             SchemaDefinition.create = function (parent) {\r\n                 var definition = new SchemaDefinition();\r\n                 // support inheritance\r\n                 definition.schema = Object.assign({}, parent && parent.schema || {});\r\n                 definition.indexes = Object.assign({}, parent && parent.indexes || {});\r\n                 definition.fieldsByIndex = Object.assign({}, parent && parent.fieldsByIndex || {});\r\n                 definition.descriptors = Object.assign({}, parent && parent.descriptors || {});\r\n                 definition.deprecated = Object.assign({}, parent && parent.deprecated || {});\r\n                 return definition;\r\n             };\r\n             SchemaDefinition.prototype.addField = function (field, type) {\r\n                 var index = this.getNextFieldIndex();\r\n                 this.fieldsByIndex[index] = field;\r\n                 this.indexes[field] = index;\r\n                 this.schema[field] = (Array.isArray(type))\r\n                     ? { array: type[0] }\r\n                     : type;\r\n             };\r\n             SchemaDefinition.prototype.addFilter = function (field, cb) {\r\n                 if (!this.filters) {\r\n                     this.filters = {};\r\n                     this.indexesWithFilters = [];\r\n                 }\r\n                 this.filters[this.indexes[field]] = cb;\r\n                 this.indexesWithFilters.push(this.indexes[field]);\r\n                 return true;\r\n             };\r\n             SchemaDefinition.prototype.addChildrenFilter = function (field, cb) {\r\n                 var index = this.indexes[field];\r\n                 var type = this.schema[field];\r\n                 if (getType(Object.keys(type)[0])) {\r\n                     if (!this.childFilters) {\r\n                         this.childFilters = {};\r\n                     }\r\n                     this.childFilters[index] = cb;\r\n                     return true;\r\n                 }\r\n                 else {\r\n                     console.warn(\"@filterChildren: field '\" + field + \"' can't have children. Ignoring filter.\");\r\n                 }\r\n             };\r\n             SchemaDefinition.prototype.getChildrenFilter = function (field) {\r\n                 return this.childFilters && this.childFilters[this.indexes[field]];\r\n             };\r\n             SchemaDefinition.prototype.getNextFieldIndex = function () {\r\n                 return Object.keys(this.schema || {}).length;\r\n             };\r\n             return SchemaDefinition;\r\n         }());\r\n         function hasFilter(klass) {\r\n             return klass._context && klass._context.useFilters;\r\n         }\r\n         var Context = /** @class */ (function () {\r\n             function Context() {\r\n                 this.types = {};\r\n                 this.schemas = new Map();\r\n                 this.useFilters = false;\r\n             }\r\n             Context.prototype.has = function (schema) {\r\n                 return this.schemas.has(schema);\r\n             };\r\n             Context.prototype.get = function (typeid) {\r\n                 return this.types[typeid];\r\n             };\r\n             Context.prototype.add = function (schema, typeid) {\r\n                 if (typeid === void 0) { typeid = this.schemas.size; }\r\n                 // FIXME: move this to somewhere else?\r\n                 // support inheritance\r\n                 schema._definition = SchemaDefinition.create(schema._definition);\r\n                 schema._typeid = typeid;\r\n                 this.types[typeid] = schema;\r\n                 this.schemas.set(schema, typeid);\r\n             };\r\n             Context.create = function (context) {\r\n                 if (context === void 0) { context = new Context; }\r\n                 return function (definition) {\r\n                     return type(definition, context);\r\n                 };\r\n             };\r\n             return Context;\r\n         }());\r\n         var globalContext = new Context();\r\n         /**\r\n          * `@type()` decorator for proxies\r\n          */\r\n         function type(type, context) {\r\n             if (context === void 0) { context = globalContext; }\r\n             return function (target, field) {\r\n                 var constructor = target.constructor;\r\n                 constructor._context = context;\r\n                 /*\r\n                  * static schema\r\n                  */\r\n                 if (!context.has(constructor)) {\r\n                     context.add(constructor);\r\n                 }\r\n                 var definition = constructor._definition;\r\n                 definition.addField(field, type);\r\n                 /**\r\n                  * skip if descriptor already exists for this field (`@deprecated()`)\r\n                  */\r\n                 if (definition.descriptors[field]) {\r\n                     if (definition.deprecated[field]) {\r\n                         // do not create accessors for deprecated properties.\r\n                         return;\r\n                     }\r\n                     else {\r\n                         // trying to define same property multiple times across inheritance.\r\n                         // https://github.com/colyseus/colyseus-unity3d/issues/131#issuecomment-814308572\r\n                         try {\r\n                             throw new Error(\"@colyseus/schema: Duplicate '\" + field + \"' definition on '\" + constructor.name + \"'.\\nCheck @type() annotation\");\r\n                         }\r\n                         catch (e) {\r\n                             var definitionAtLine = e.stack.split(\"\\n\")[4].trim();\r\n                             throw new Error(e.message + \" \" + definitionAtLine);\r\n                         }\r\n                     }\r\n                 }\r\n                 var isArray = ArraySchema.is(type);\r\n                 var isMap = !isArray && MapSchema.is(type);\r\n                 // TODO: refactor me.\r\n                 // Allow abstract intermediary classes with no fields to be serialized\r\n                 // (See \"should support an inheritance with a Schema type without fields\" test)\r\n                 if (typeof (type) !== \"string\" && !Schema.is(type)) {\r\n                     var childType = Object.values(type)[0];\r\n                     if (typeof (childType) !== \"string\" && !context.has(childType)) {\r\n                         context.add(childType);\r\n                     }\r\n                 }\r\n                 var fieldCached = \"_\" + field;\r\n                 definition.descriptors[fieldCached] = {\r\n                     enumerable: false,\r\n                     configurable: false,\r\n                     writable: true,\r\n                 };\r\n                 definition.descriptors[field] = {\r\n                     get: function () {\r\n                         return this[fieldCached];\r\n                     },\r\n                     set: function (value) {\r\n                         /**\r\n                          * Create Proxy for array or map items\r\n                          */\r\n                         // skip if value is the same as cached.\r\n                         if (value === this[fieldCached]) {\r\n                             return;\r\n                         }\r\n                         if (value !== undefined &&\r\n                             value !== null) {\r\n                             // automaticallty transform Array into ArraySchema\r\n                             if (isArray && !(value instanceof ArraySchema)) {\r\n                                 value = new (ArraySchema.bind.apply(ArraySchema, __spreadArray([void 0], value)))();\r\n                             }\r\n                             // automaticallty transform Map into MapSchema\r\n                             if (isMap && !(value instanceof MapSchema)) {\r\n                                 value = new MapSchema(value);\r\n                             }\r\n                             // try to turn provided structure into a Proxy\r\n                             if (value['$proxy'] === undefined) {\r\n                                 if (isMap) {\r\n                                     value = getMapProxy(value);\r\n                                 }\r\n                                 else if (isArray) {\r\n                                     value = getArrayProxy(value);\r\n                                 }\r\n                             }\r\n                             // flag the change for encoding.\r\n                             this.$changes.change(field);\r\n                             //\r\n                             // call setParent() recursively for this and its child\r\n                             // structures.\r\n                             //\r\n                             if (value['$changes']) {\r\n                                 value['$changes'].setParent(this, this.$changes.root, this._definition.indexes[field]);\r\n                             }\r\n                         }\r\n                         else {\r\n                             //\r\n                             // Setting a field to `null` or `undefined` will delete it.\r\n                             //\r\n                             this.$changes.delete(field);\r\n                         }\r\n                         this[fieldCached] = value;\r\n                     },\r\n                     enumerable: true,\r\n                     configurable: true\r\n                 };\r\n             };\r\n         }\r\n         /**\r\n          * `@filter()` decorator for defining data filters per client\r\n          */\r\n         function filter(cb) {\r\n             return function (target, field) {\r\n                 var constructor = target.constructor;\r\n                 var definition = constructor._definition;\r\n                 if (definition.addFilter(field, cb)) {\r\n                     constructor._context.useFilters = true;\r\n                 }\r\n             };\r\n         }\r\n         function filterChildren(cb) {\r\n             return function (target, field) {\r\n                 var constructor = target.constructor;\r\n                 var definition = constructor._definition;\r\n                 if (definition.addChildrenFilter(field, cb)) {\r\n                     constructor._context.useFilters = true;\r\n                 }\r\n             };\r\n         }\r\n         /**\r\n          * `@deprecated()` flag a field as deprecated.\r\n          * The previous `@type()` annotation should remain along with this one.\r\n          */\r\n         function deprecated(throws, context) {\r\n             if (throws === void 0) { throws = true; }\r\n             return function (target, field) {\r\n                 var constructor = target.constructor;\r\n                 var definition = constructor._definition;\r\n                 definition.deprecated[field] = true;\r\n                 if (throws) {\r\n                     definition.descriptors[field] = {\r\n                         get: function () { throw new Error(field + \" is deprecated.\"); },\r\n                         set: function (value) { },\r\n                         enumerable: false,\r\n                         configurable: true\r\n                     };\r\n                 }\r\n             };\r\n         }\r\n         function defineTypes(target, fields, context) {\r\n             if (context === void 0) { context = target._context || globalContext; }\r\n             for (var field in fields) {\r\n                 type(fields[field], context)(target.prototype, field);\r\n             }\r\n             return target;\r\n         }\r\n\r\n         /**\r\n          * Copyright (c) 2018 Endel Dreyer\r\n          * Copyright (c) 2014 Ion Drive Software Ltd.\r\n          *\r\n          * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n          * of this software and associated documentation files (the \"Software\"), to deal\r\n          * in the Software without restriction, including without limitation the rights\r\n          * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n          * copies of the Software, and to permit persons to whom the Software is\r\n          * furnished to do so, subject to the following conditions:\r\n          *\r\n          * The above copyright notice and this permission notice shall be included in all\r\n          * copies or substantial portions of the Software.\r\n          *\r\n          * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n          * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n          * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n          * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n          * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n          * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n          * SOFTWARE\r\n          */\r\n         /**\r\n          * msgpack implementation highly based on notepack.io\r\n          * https://github.com/darrachequesne/notepack\r\n          */\r\n         function utf8Length(str) {\r\n             var c = 0, length = 0;\r\n             for (var i = 0, l = str.length; i < l; i++) {\r\n                 c = str.charCodeAt(i);\r\n                 if (c < 0x80) {\r\n                     length += 1;\r\n                 }\r\n                 else if (c < 0x800) {\r\n                     length += 2;\r\n                 }\r\n                 else if (c < 0xd800 || c >= 0xe000) {\r\n                     length += 3;\r\n                 }\r\n                 else {\r\n                     i++;\r\n                     length += 4;\r\n                 }\r\n             }\r\n             return length;\r\n         }\r\n         function utf8Write(view, offset, str) {\r\n             var c = 0;\r\n             for (var i = 0, l = str.length; i < l; i++) {\r\n                 c = str.charCodeAt(i);\r\n                 if (c < 0x80) {\r\n                     view[offset++] = c;\r\n                 }\r\n                 else if (c < 0x800) {\r\n                     view[offset++] = 0xc0 | (c >> 6);\r\n                     view[offset++] = 0x80 | (c & 0x3f);\r\n                 }\r\n                 else if (c < 0xd800 || c >= 0xe000) {\r\n                     view[offset++] = 0xe0 | (c >> 12);\r\n                     view[offset++] = 0x80 | (c >> 6 & 0x3f);\r\n                     view[offset++] = 0x80 | (c & 0x3f);\r\n                 }\r\n                 else {\r\n                     i++;\r\n                     c = 0x10000 + (((c & 0x3ff) << 10) | (str.charCodeAt(i) & 0x3ff));\r\n                     view[offset++] = 0xf0 | (c >> 18);\r\n                     view[offset++] = 0x80 | (c >> 12 & 0x3f);\r\n                     view[offset++] = 0x80 | (c >> 6 & 0x3f);\r\n                     view[offset++] = 0x80 | (c & 0x3f);\r\n                 }\r\n             }\r\n         }\r\n         function int8$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n         }\r\n         function uint8$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n         }\r\n         function int16$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n             bytes.push((value >> 8) & 255);\r\n         }\r\n         function uint16$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n             bytes.push((value >> 8) & 255);\r\n         }\r\n         function int32$1(bytes, value) {\r\n             bytes.push(value & 255);\r\n             bytes.push((value >> 8) & 255);\r\n             bytes.push((value >> 16) & 255);\r\n             bytes.push((value >> 24) & 255);\r\n         }\r\n         function uint32$1(bytes, value) {\r\n             var b4 = value >> 24;\r\n             var b3 = value >> 16;\r\n             var b2 = value >> 8;\r\n             var b1 = value;\r\n             bytes.push(b1 & 255);\r\n             bytes.push(b2 & 255);\r\n             bytes.push(b3 & 255);\r\n             bytes.push(b4 & 255);\r\n         }\r\n         function int64$1(bytes, value) {\r\n             var high = Math.floor(value / Math.pow(2, 32));\r\n             var low = value >>> 0;\r\n             uint32$1(bytes, low);\r\n             uint32$1(bytes, high);\r\n         }\r\n         function uint64$1(bytes, value) {\r\n             var high = (value / Math.pow(2, 32)) >> 0;\r\n             var low = value >>> 0;\r\n             uint32$1(bytes, low);\r\n             uint32$1(bytes, high);\r\n         }\r\n         function float32$1(bytes, value) {\r\n             writeFloat32(bytes, value);\r\n         }\r\n         function float64$1(bytes, value) {\r\n             writeFloat64(bytes, value);\r\n         }\r\n         var _int32$1 = new Int32Array(2);\r\n         var _float32$1 = new Float32Array(_int32$1.buffer);\r\n         var _float64$1 = new Float64Array(_int32$1.buffer);\r\n         function writeFloat32(bytes, value) {\r\n             _float32$1[0] = value;\r\n             int32$1(bytes, _int32$1[0]);\r\n         }\r\n         function writeFloat64(bytes, value) {\r\n             _float64$1[0] = value;\r\n             int32$1(bytes, _int32$1[0 ]);\r\n             int32$1(bytes, _int32$1[1 ]);\r\n         }\r\n         function boolean$1(bytes, value) {\r\n             return uint8$1(bytes, value ? 1 : 0);\r\n         }\r\n         function string$1(bytes, value) {\r\n             // encode `null` strings as empty.\r\n             if (!value) {\r\n                 value = \"\";\r\n             }\r\n             var length = utf8Length(value);\r\n             var size = 0;\r\n             // fixstr\r\n             if (length < 0x20) {\r\n                 bytes.push(length | 0xa0);\r\n                 size = 1;\r\n             }\r\n             // str 8\r\n             else if (length < 0x100) {\r\n                 bytes.push(0xd9);\r\n                 uint8$1(bytes, length);\r\n                 size = 2;\r\n             }\r\n             // str 16\r\n             else if (length < 0x10000) {\r\n                 bytes.push(0xda);\r\n                 uint16$1(bytes, length);\r\n                 size = 3;\r\n             }\r\n             // str 32\r\n             else if (length < 0x100000000) {\r\n                 bytes.push(0xdb);\r\n                 uint32$1(bytes, length);\r\n                 size = 5;\r\n             }\r\n             else {\r\n                 throw new Error('String too long');\r\n             }\r\n             utf8Write(bytes, bytes.length, value);\r\n             return size + length;\r\n         }\r\n         function number$1(bytes, value) {\r\n             if (isNaN(value)) {\r\n                 return number$1(bytes, 0);\r\n             }\r\n             else if (!isFinite(value)) {\r\n                 return number$1(bytes, (value > 0) ? Number.MAX_SAFE_INTEGER : -Number.MAX_SAFE_INTEGER);\r\n             }\r\n             else if (value !== (value | 0)) {\r\n                 bytes.push(0xcb);\r\n                 writeFloat64(bytes, value);\r\n                 return 9;\r\n                 // TODO: encode float 32?\r\n                 // is it possible to differentiate between float32 / float64 here?\r\n                 // // float 32\r\n                 // bytes.push(0xca);\r\n                 // writeFloat32(bytes, value);\r\n                 // return 5;\r\n             }\r\n             if (value >= 0) {\r\n                 // positive fixnum\r\n                 if (value < 0x80) {\r\n                     uint8$1(bytes, value);\r\n                     return 1;\r\n                 }\r\n                 // uint 8\r\n                 if (value < 0x100) {\r\n                     bytes.push(0xcc);\r\n                     uint8$1(bytes, value);\r\n                     return 2;\r\n                 }\r\n                 // uint 16\r\n                 if (value < 0x10000) {\r\n                     bytes.push(0xcd);\r\n                     uint16$1(bytes, value);\r\n                     return 3;\r\n                 }\r\n                 // uint 32\r\n                 if (value < 0x100000000) {\r\n                     bytes.push(0xce);\r\n                     uint32$1(bytes, value);\r\n                     return 5;\r\n                 }\r\n                 // uint 64\r\n                 bytes.push(0xcf);\r\n                 uint64$1(bytes, value);\r\n                 return 9;\r\n             }\r\n             else {\r\n                 // negative fixnum\r\n                 if (value >= -0x20) {\r\n                     bytes.push(0xe0 | (value + 0x20));\r\n                     return 1;\r\n                 }\r\n                 // int 8\r\n                 if (value >= -0x80) {\r\n                     bytes.push(0xd0);\r\n                     int8$1(bytes, value);\r\n                     return 2;\r\n                 }\r\n                 // int 16\r\n                 if (value >= -0x8000) {\r\n                     bytes.push(0xd1);\r\n                     int16$1(bytes, value);\r\n                     return 3;\r\n                 }\r\n                 // int 32\r\n                 if (value >= -0x80000000) {\r\n                     bytes.push(0xd2);\r\n                     int32$1(bytes, value);\r\n                     return 5;\r\n                 }\r\n                 // int 64\r\n                 bytes.push(0xd3);\r\n                 int64$1(bytes, value);\r\n                 return 9;\r\n             }\r\n         }\r\n\r\n         var encode = /*#__PURE__*/Object.freeze({\r\n             __proto__: null,\r\n             utf8Write: utf8Write,\r\n             int8: int8$1,\r\n             uint8: uint8$1,\r\n             int16: int16$1,\r\n             uint16: uint16$1,\r\n             int32: int32$1,\r\n             uint32: uint32$1,\r\n             int64: int64$1,\r\n             uint64: uint64$1,\r\n             float32: float32$1,\r\n             float64: float64$1,\r\n             writeFloat32: writeFloat32,\r\n             writeFloat64: writeFloat64,\r\n             boolean: boolean$1,\r\n             string: string$1,\r\n             number: number$1\r\n         });\r\n\r\n         /**\r\n          * Copyright (c) 2018 Endel Dreyer\r\n          * Copyright (c) 2014 Ion Drive Software Ltd.\r\n          *\r\n          * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n          * of this software and associated documentation files (the \"Software\"), to deal\r\n          * in the Software without restriction, including without limitation the rights\r\n          * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n          * copies of the Software, and to permit persons to whom the Software is\r\n          * furnished to do so, subject to the following conditions:\r\n          *\r\n          * The above copyright notice and this permission notice shall be included in all\r\n          * copies or substantial portions of the Software.\r\n          *\r\n          * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n          * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n          * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n          * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n          * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n          * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n          * SOFTWARE\r\n          */\r\n         function utf8Read(bytes, offset, length) {\r\n             var string = '', chr = 0;\r\n             for (var i = offset, end = offset + length; i < end; i++) {\r\n                 var byte = bytes[i];\r\n                 if ((byte & 0x80) === 0x00) {\r\n                     string += String.fromCharCode(byte);\r\n                     continue;\r\n                 }\r\n                 if ((byte & 0xe0) === 0xc0) {\r\n                     string += String.fromCharCode(((byte & 0x1f) << 6) |\r\n                         (bytes[++i] & 0x3f));\r\n                     continue;\r\n                 }\r\n                 if ((byte & 0xf0) === 0xe0) {\r\n                     string += String.fromCharCode(((byte & 0x0f) << 12) |\r\n                         ((bytes[++i] & 0x3f) << 6) |\r\n                         ((bytes[++i] & 0x3f) << 0));\r\n                     continue;\r\n                 }\r\n                 if ((byte & 0xf8) === 0xf0) {\r\n                     chr = ((byte & 0x07) << 18) |\r\n                         ((bytes[++i] & 0x3f) << 12) |\r\n                         ((bytes[++i] & 0x3f) << 6) |\r\n                         ((bytes[++i] & 0x3f) << 0);\r\n                     if (chr >= 0x010000) { // surrogate pair\r\n                         chr -= 0x010000;\r\n                         string += String.fromCharCode((chr >>> 10) + 0xD800, (chr & 0x3FF) + 0xDC00);\r\n                     }\r\n                     else {\r\n                         string += String.fromCharCode(chr);\r\n                     }\r\n                     continue;\r\n                 }\r\n                 console.error('Invalid byte ' + byte.toString(16));\r\n                 // (do not throw error to avoid server/client from crashing due to hack attemps)\r\n                 // throw new Error('Invalid byte ' + byte.toString(16));\r\n             }\r\n             return string;\r\n         }\r\n         function int8(bytes, it) {\r\n             return uint8(bytes, it) << 24 >> 24;\r\n         }\r\n         function uint8(bytes, it) {\r\n             return bytes[it.offset++];\r\n         }\r\n         function int16(bytes, it) {\r\n             return uint16(bytes, it) << 16 >> 16;\r\n         }\r\n         function uint16(bytes, it) {\r\n             return bytes[it.offset++] | bytes[it.offset++] << 8;\r\n         }\r\n         function int32(bytes, it) {\r\n             return bytes[it.offset++] | bytes[it.offset++] << 8 | bytes[it.offset++] << 16 | bytes[it.offset++] << 24;\r\n         }\r\n         function uint32(bytes, it) {\r\n             return int32(bytes, it) >>> 0;\r\n         }\r\n         function float32(bytes, it) {\r\n             return readFloat32(bytes, it);\r\n         }\r\n         function float64(bytes, it) {\r\n             return readFloat64(bytes, it);\r\n         }\r\n         function int64(bytes, it) {\r\n             var low = uint32(bytes, it);\r\n             var high = int32(bytes, it) * Math.pow(2, 32);\r\n             return high + low;\r\n         }\r\n         function uint64(bytes, it) {\r\n             var low = uint32(bytes, it);\r\n             var high = uint32(bytes, it) * Math.pow(2, 32);\r\n             return high + low;\r\n         }\r\n         var _int32 = new Int32Array(2);\r\n         var _float32 = new Float32Array(_int32.buffer);\r\n         var _float64 = new Float64Array(_int32.buffer);\r\n         function readFloat32(bytes, it) {\r\n             _int32[0] = int32(bytes, it);\r\n             return _float32[0];\r\n         }\r\n         function readFloat64(bytes, it) {\r\n             _int32[0 ] = int32(bytes, it);\r\n             _int32[1 ] = int32(bytes, it);\r\n             return _float64[0];\r\n         }\r\n         function boolean(bytes, it) {\r\n             return uint8(bytes, it) > 0;\r\n         }\r\n         function string(bytes, it) {\r\n             var prefix = bytes[it.offset++];\r\n             var length;\r\n             if (prefix < 0xc0) {\r\n                 // fixstr\r\n                 length = prefix & 0x1f;\r\n             }\r\n             else if (prefix === 0xd9) {\r\n                 length = uint8(bytes, it);\r\n             }\r\n             else if (prefix === 0xda) {\r\n                 length = uint16(bytes, it);\r\n             }\r\n             else if (prefix === 0xdb) {\r\n                 length = uint32(bytes, it);\r\n             }\r\n             var value = utf8Read(bytes, it.offset, length);\r\n             it.offset += length;\r\n             return value;\r\n         }\r\n         function stringCheck(bytes, it) {\r\n             var prefix = bytes[it.offset];\r\n             return (\r\n             // fixstr\r\n             (prefix < 0xc0 && prefix > 0xa0) ||\r\n                 // str 8\r\n                 prefix === 0xd9 ||\r\n                 // str 16\r\n                 prefix === 0xda ||\r\n                 // str 32\r\n                 prefix === 0xdb);\r\n         }\r\n         function number(bytes, it) {\r\n             var prefix = bytes[it.offset++];\r\n             if (prefix < 0x80) {\r\n                 // positive fixint\r\n                 return prefix;\r\n             }\r\n             else if (prefix === 0xca) {\r\n                 // float 32\r\n                 return readFloat32(bytes, it);\r\n             }\r\n             else if (prefix === 0xcb) {\r\n                 // float 64\r\n                 return readFloat64(bytes, it);\r\n             }\r\n             else if (prefix === 0xcc) {\r\n                 // uint 8\r\n                 return uint8(bytes, it);\r\n             }\r\n             else if (prefix === 0xcd) {\r\n                 // uint 16\r\n                 return uint16(bytes, it);\r\n             }\r\n             else if (prefix === 0xce) {\r\n                 // uint 32\r\n                 return uint32(bytes, it);\r\n             }\r\n             else if (prefix === 0xcf) {\r\n                 // uint 64\r\n                 return uint64(bytes, it);\r\n             }\r\n             else if (prefix === 0xd0) {\r\n                 // int 8\r\n                 return int8(bytes, it);\r\n             }\r\n             else if (prefix === 0xd1) {\r\n                 // int 16\r\n                 return int16(bytes, it);\r\n             }\r\n             else if (prefix === 0xd2) {\r\n                 // int 32\r\n                 return int32(bytes, it);\r\n             }\r\n             else if (prefix === 0xd3) {\r\n                 // int 64\r\n                 return int64(bytes, it);\r\n             }\r\n             else if (prefix > 0xdf) {\r\n                 // negative fixint\r\n                 return (0xff - prefix + 1) * -1;\r\n             }\r\n         }\r\n         function numberCheck(bytes, it) {\r\n             var prefix = bytes[it.offset];\r\n             // positive fixint - 0x00 - 0x7f\r\n             // float 32        - 0xca\r\n             // float 64        - 0xcb\r\n             // uint 8          - 0xcc\r\n             // uint 16         - 0xcd\r\n             // uint 32         - 0xce\r\n             // uint 64         - 0xcf\r\n             // int 8           - 0xd0\r\n             // int 16          - 0xd1\r\n             // int 32          - 0xd2\r\n             // int 64          - 0xd3\r\n             return (prefix < 0x80 ||\r\n                 (prefix >= 0xca && prefix <= 0xd3));\r\n         }\r\n         function arrayCheck(bytes, it) {\r\n             return bytes[it.offset] < 0xa0;\r\n             // const prefix = bytes[it.offset] ;\r\n             // if (prefix < 0xa0) {\r\n             //   return prefix;\r\n             // // array\r\n             // } else if (prefix === 0xdc) {\r\n             //   it.offset += 2;\r\n             // } else if (0xdd) {\r\n             //   it.offset += 4;\r\n             // }\r\n             // return prefix;\r\n         }\r\n         function switchStructureCheck(bytes, it) {\r\n             return (\r\n             // previous byte should be `SWITCH_TO_STRUCTURE`\r\n             bytes[it.offset - 1] === SWITCH_TO_STRUCTURE &&\r\n                 // next byte should be a number\r\n                 (bytes[it.offset] < 0x80 || (bytes[it.offset] >= 0xca && bytes[it.offset] <= 0xd3)));\r\n         }\r\n\r\n         var decode = /*#__PURE__*/Object.freeze({\r\n             __proto__: null,\r\n             int8: int8,\r\n             uint8: uint8,\r\n             int16: int16,\r\n             uint16: uint16,\r\n             int32: int32,\r\n             uint32: uint32,\r\n             float32: float32,\r\n             float64: float64,\r\n             int64: int64,\r\n             uint64: uint64,\r\n             readFloat32: readFloat32,\r\n             readFloat64: readFloat64,\r\n             boolean: boolean,\r\n             string: string,\r\n             stringCheck: stringCheck,\r\n             number: number,\r\n             numberCheck: numberCheck,\r\n             arrayCheck: arrayCheck,\r\n             switchStructureCheck: switchStructureCheck\r\n         });\r\n\r\n         var CollectionSchema = /** @class */ (function () {\r\n             function CollectionSchema(initialValues) {\r\n                 var _this = this;\r\n                 this.$changes = new ChangeTree(this);\r\n                 this.$items = new Map();\r\n                 this.$indexes = new Map();\r\n                 this.$refId = 0;\r\n                 if (initialValues) {\r\n                     initialValues.forEach(function (v) { return _this.add(v); });\r\n                 }\r\n             }\r\n             CollectionSchema.is = function (type) {\r\n                 return type['collection'] !== undefined;\r\n             };\r\n             CollectionSchema.prototype.add = function (value) {\r\n                 // set \"index\" for reference.\r\n                 var index = this.$refId++;\r\n                 var isRef = (value['$changes']) !== undefined;\r\n                 if (isRef) {\r\n                     value['$changes'].setParent(this, this.$changes.root, index);\r\n                 }\r\n                 this.$changes.indexes[index] = index;\r\n                 this.$indexes.set(index, index);\r\n                 this.$items.set(index, value);\r\n                 this.$changes.change(index);\r\n                 return index;\r\n             };\r\n             CollectionSchema.prototype.at = function (index) {\r\n                 var key = Array.from(this.$items.keys())[index];\r\n                 return this.$items.get(key);\r\n             };\r\n             CollectionSchema.prototype.entries = function () {\r\n                 return this.$items.entries();\r\n             };\r\n             CollectionSchema.prototype.delete = function (item) {\r\n                 var entries = this.$items.entries();\r\n                 var index;\r\n                 var entry;\r\n                 while (entry = entries.next()) {\r\n                     if (entry.done) {\r\n                         break;\r\n                     }\r\n                     if (item === entry.value[1]) {\r\n                         index = entry.value[0];\r\n                         break;\r\n                     }\r\n                 }\r\n                 if (index === undefined) {\r\n                     return false;\r\n                 }\r\n                 this.$changes.delete(index);\r\n                 this.$indexes.delete(index);\r\n                 return this.$items.delete(index);\r\n             };\r\n             CollectionSchema.prototype.clear = function (isDecoding) {\r\n                 var _this = this;\r\n                 // discard previous operations.\r\n                 this.$changes.discard(true, true);\r\n                 this.$changes.indexes = {};\r\n                 // clear previous indexes\r\n                 this.$indexes.clear();\r\n                 // flag child items for garbage collection.\r\n                 if (isDecoding && typeof (this.$changes.getType()) !== \"string\") {\r\n                     this.$items.forEach(function (item) {\r\n                         _this.$changes.root.removeRef(item['$changes'].refId);\r\n                     });\r\n                 }\r\n                 // clear items\r\n                 this.$items.clear();\r\n                 this.$changes.operation({ index: 0, op: exports.OPERATION.CLEAR });\r\n                 // touch all structures until reach root\r\n                 this.$changes.touchParents();\r\n             };\r\n             CollectionSchema.prototype.has = function (value) {\r\n                 return Array.from(this.$items.values()).some(function (v) { return v === value; });\r\n             };\r\n             CollectionSchema.prototype.forEach = function (callbackfn) {\r\n                 var _this = this;\r\n                 this.$items.forEach(function (value, key, _) { return callbackfn(value, key, _this); });\r\n             };\r\n             CollectionSchema.prototype.values = function () {\r\n                 return this.$items.values();\r\n             };\r\n             Object.defineProperty(CollectionSchema.prototype, \"size\", {\r\n                 get: function () {\r\n                     return this.$items.size;\r\n                 },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             CollectionSchema.prototype.setIndex = function (index, key) {\r\n                 this.$indexes.set(index, key);\r\n             };\r\n             CollectionSchema.prototype.getIndex = function (index) {\r\n                 return this.$indexes.get(index);\r\n             };\r\n             CollectionSchema.prototype.getByIndex = function (index) {\r\n                 return this.$items.get(this.$indexes.get(index));\r\n             };\r\n             CollectionSchema.prototype.deleteByIndex = function (index) {\r\n                 var key = this.$indexes.get(index);\r\n                 this.$items.delete(key);\r\n                 this.$indexes.delete(index);\r\n             };\r\n             CollectionSchema.prototype.toArray = function () {\r\n                 return Array.from(this.$items.values());\r\n             };\r\n             CollectionSchema.prototype.toJSON = function () {\r\n                 var values = [];\r\n                 this.forEach(function (value, key) {\r\n                     values.push((typeof (value['toJSON']) === \"function\")\r\n                         ? value['toJSON']()\r\n                         : value);\r\n                 });\r\n                 return values;\r\n             };\r\n             //\r\n             // Decoding utilities\r\n             //\r\n             CollectionSchema.prototype.clone = function (isDecoding) {\r\n                 var cloned;\r\n                 if (isDecoding) {\r\n                     // client-side\r\n                     cloned = Object.assign(new CollectionSchema(), this);\r\n                 }\r\n                 else {\r\n                     // server-side\r\n                     cloned = new CollectionSchema();\r\n                     this.forEach(function (value) {\r\n                         if (value['$changes']) {\r\n                             cloned.add(value['clone']());\r\n                         }\r\n                         else {\r\n                             cloned.add(value);\r\n                         }\r\n                     });\r\n                 }\r\n                 return cloned;\r\n             };\r\n             CollectionSchema.prototype.triggerAll = function () {\r\n                 Schema.prototype.triggerAll.apply(this);\r\n             };\r\n             return CollectionSchema;\r\n         }());\r\n\r\n         var SetSchema = /** @class */ (function () {\r\n             function SetSchema(initialValues) {\r\n                 var _this = this;\r\n                 this.$changes = new ChangeTree(this);\r\n                 this.$items = new Map();\r\n                 this.$indexes = new Map();\r\n                 this.$refId = 0;\r\n                 if (initialValues) {\r\n                     initialValues.forEach(function (v) { return _this.add(v); });\r\n                 }\r\n             }\r\n             SetSchema.is = function (type) {\r\n                 return type['set'] !== undefined;\r\n             };\r\n             SetSchema.prototype.add = function (value) {\r\n                 var _a, _b;\r\n                 // immediatelly return false if value already added.\r\n                 if (this.has(value)) {\r\n                     return false;\r\n                 }\r\n                 // set \"index\" for reference.\r\n                 var index = this.$refId++;\r\n                 if ((value['$changes']) !== undefined) {\r\n                     value['$changes'].setParent(this, this.$changes.root, index);\r\n                 }\r\n                 var operation = (_b = (_a = this.$changes.indexes[index]) === null || _a === void 0 ? void 0 : _a.op) !== null && _b !== void 0 ? _b : exports.OPERATION.ADD;\r\n                 this.$changes.indexes[index] = index;\r\n                 this.$indexes.set(index, index);\r\n                 this.$items.set(index, value);\r\n                 this.$changes.change(index, operation);\r\n                 return index;\r\n             };\r\n             SetSchema.prototype.entries = function () {\r\n                 return this.$items.entries();\r\n             };\r\n             SetSchema.prototype.delete = function (item) {\r\n                 var entries = this.$items.entries();\r\n                 var index;\r\n                 var entry;\r\n                 while (entry = entries.next()) {\r\n                     if (entry.done) {\r\n                         break;\r\n                     }\r\n                     if (item === entry.value[1]) {\r\n                         index = entry.value[0];\r\n                         break;\r\n                     }\r\n                 }\r\n                 if (index === undefined) {\r\n                     return false;\r\n                 }\r\n                 this.$changes.delete(index);\r\n                 this.$indexes.delete(index);\r\n                 return this.$items.delete(index);\r\n             };\r\n             SetSchema.prototype.clear = function (isDecoding) {\r\n                 var _this = this;\r\n                 // discard previous operations.\r\n                 this.$changes.discard(true, true);\r\n                 this.$changes.indexes = {};\r\n                 // clear previous indexes\r\n                 this.$indexes.clear();\r\n                 // flag child items for garbage collection.\r\n                 if (isDecoding && typeof (this.$changes.getType()) !== \"string\") {\r\n                     this.$items.forEach(function (item) {\r\n                         _this.$changes.root.removeRef(item['$changes'].refId);\r\n                     });\r\n                 }\r\n                 // clear items\r\n                 this.$items.clear();\r\n                 this.$changes.operation({ index: 0, op: exports.OPERATION.CLEAR });\r\n                 // touch all structures until reach root\r\n                 this.$changes.touchParents();\r\n             };\r\n             SetSchema.prototype.has = function (value) {\r\n                 var values = this.$items.values();\r\n                 var has = false;\r\n                 var entry;\r\n                 while (entry = values.next()) {\r\n                     if (entry.done) {\r\n                         break;\r\n                     }\r\n                     if (value === entry.value) {\r\n                         has = true;\r\n                         break;\r\n                     }\r\n                 }\r\n                 return has;\r\n             };\r\n             SetSchema.prototype.forEach = function (callbackfn) {\r\n                 var _this = this;\r\n                 this.$items.forEach(function (value, key, _) { return callbackfn(value, key, _this); });\r\n             };\r\n             SetSchema.prototype.values = function () {\r\n                 return this.$items.values();\r\n             };\r\n             Object.defineProperty(SetSchema.prototype, \"size\", {\r\n                 get: function () {\r\n                     return this.$items.size;\r\n                 },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             SetSchema.prototype.setIndex = function (index, key) {\r\n                 this.$indexes.set(index, key);\r\n             };\r\n             SetSchema.prototype.getIndex = function (index) {\r\n                 return this.$indexes.get(index);\r\n             };\r\n             SetSchema.prototype.getByIndex = function (index) {\r\n                 return this.$items.get(this.$indexes.get(index));\r\n             };\r\n             SetSchema.prototype.deleteByIndex = function (index) {\r\n                 var key = this.$indexes.get(index);\r\n                 this.$items.delete(key);\r\n                 this.$indexes.delete(index);\r\n             };\r\n             SetSchema.prototype.toArray = function () {\r\n                 return Array.from(this.$items.values());\r\n             };\r\n             SetSchema.prototype.toJSON = function () {\r\n                 var values = [];\r\n                 this.forEach(function (value, key) {\r\n                     values.push((typeof (value['toJSON']) === \"function\")\r\n                         ? value['toJSON']()\r\n                         : value);\r\n                 });\r\n                 return values;\r\n             };\r\n             //\r\n             // Decoding utilities\r\n             //\r\n             SetSchema.prototype.clone = function (isDecoding) {\r\n                 var cloned;\r\n                 if (isDecoding) {\r\n                     // client-side\r\n                     cloned = Object.assign(new SetSchema(), this);\r\n                 }\r\n                 else {\r\n                     // server-side\r\n                     cloned = new SetSchema();\r\n                     this.forEach(function (value) {\r\n                         if (value['$changes']) {\r\n                             cloned.add(value['clone']());\r\n                         }\r\n                         else {\r\n                             cloned.add(value);\r\n                         }\r\n                     });\r\n                 }\r\n                 return cloned;\r\n             };\r\n             SetSchema.prototype.triggerAll = function () {\r\n                 Schema.prototype.triggerAll.apply(this);\r\n             };\r\n             return SetSchema;\r\n         }());\r\n\r\n         /**\r\n          * Extracted from https://www.npmjs.com/package/strong-events\r\n          */\r\n         var EventEmitter_ = /** @class */ (function () {\r\n             function EventEmitter_() {\r\n                 this.handlers = [];\r\n             }\r\n             EventEmitter_.prototype.register = function (cb, once) {\r\n                 this.handlers.push(cb);\r\n                 return this;\r\n             };\r\n             EventEmitter_.prototype.invoke = function () {\r\n                 var args = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     args[_i] = arguments[_i];\r\n                 }\r\n                 this.handlers.forEach(function (handler) { return handler.apply(void 0, args); });\r\n             };\r\n             EventEmitter_.prototype.invokeAsync = function () {\r\n                 var args = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     args[_i] = arguments[_i];\r\n                 }\r\n                 return Promise.all(this.handlers.map(function (handler) { return handler.apply(void 0, args); }));\r\n             };\r\n             EventEmitter_.prototype.remove = function (cb) {\r\n                 var index = this.handlers.indexOf(cb);\r\n                 this.handlers[index] = this.handlers[this.handlers.length - 1];\r\n                 this.handlers.pop();\r\n             };\r\n             EventEmitter_.prototype.clear = function () {\r\n                 this.handlers = [];\r\n             };\r\n             return EventEmitter_;\r\n         }());\r\n\r\n         var ClientState = /** @class */ (function () {\r\n             function ClientState() {\r\n                 this.refIds = new WeakSet();\r\n                 this.containerIndexes = new WeakMap();\r\n             }\r\n             // containerIndexes = new Map<ChangeTree, Set<number>>();\r\n             ClientState.prototype.addRefId = function (changeTree) {\r\n                 if (!this.refIds.has(changeTree)) {\r\n                     this.refIds.add(changeTree);\r\n                     this.containerIndexes.set(changeTree, new Set());\r\n                 }\r\n             };\r\n             ClientState.get = function (client) {\r\n                 if (client.$filterState === undefined) {\r\n                     client.$filterState = new ClientState();\r\n                 }\r\n                 return client.$filterState;\r\n             };\r\n             return ClientState;\r\n         }());\r\n\r\n         var EncodeSchemaError = /** @class */ (function (_super) {\r\n             __extends(EncodeSchemaError, _super);\r\n             function EncodeSchemaError() {\r\n                 return _super !== null && _super.apply(this, arguments) || this;\r\n             }\r\n             return EncodeSchemaError;\r\n         }(Error));\r\n         function assertType(value, type, klass, field) {\r\n             var typeofTarget;\r\n             var allowNull = false;\r\n             switch (type) {\r\n                 case \"number\":\r\n                 case \"int8\":\r\n                 case \"uint8\":\r\n                 case \"int16\":\r\n                 case \"uint16\":\r\n                 case \"int32\":\r\n                 case \"uint32\":\r\n                 case \"int64\":\r\n                 case \"uint64\":\r\n                 case \"float32\":\r\n                 case \"float64\":\r\n                     typeofTarget = \"number\";\r\n                     if (isNaN(value)) {\r\n                         console.log(\"trying to encode \\\"NaN\\\" in \" + klass.constructor.name + \"#\" + field);\r\n                     }\r\n                     break;\r\n                 case \"string\":\r\n                     typeofTarget = \"string\";\r\n                     allowNull = true;\r\n                     break;\r\n                 case \"boolean\":\r\n                     // boolean is always encoded as true/false based on truthiness\r\n                     return;\r\n             }\r\n             if (typeof (value) !== typeofTarget && (!allowNull || (allowNull && value !== null))) {\r\n                 var foundValue = \"'\" + JSON.stringify(value) + \"'\" + ((value && value.constructor && \" (\" + value.constructor.name + \")\") || '');\r\n                 throw new EncodeSchemaError(\"a '\" + typeofTarget + \"' was expected, but \" + foundValue + \" was provided in \" + klass.constructor.name + \"#\" + field);\r\n             }\r\n         }\r\n         function assertInstanceType(value, type, klass, field) {\r\n             if (!(value instanceof type)) {\r\n                 throw new EncodeSchemaError(\"a '\" + type.name + \"' was expected, but '\" + value.constructor.name + \"' was provided in \" + klass.constructor.name + \"#\" + field);\r\n             }\r\n         }\r\n         function encodePrimitiveType(type, bytes, value, klass, field) {\r\n             assertType(value, type, klass, field);\r\n             var encodeFunc = encode[type];\r\n             if (encodeFunc) {\r\n                 encodeFunc(bytes, value);\r\n             }\r\n             else {\r\n                 throw new EncodeSchemaError(\"a '\" + type + \"' was expected, but \" + value + \" was provided in \" + klass.constructor.name + \"#\" + field);\r\n             }\r\n         }\r\n         function decodePrimitiveType(type, bytes, it) {\r\n             return decode[type](bytes, it);\r\n         }\r\n         /**\r\n          * Schema encoder / decoder\r\n          */\r\n         var Schema = /** @class */ (function () {\r\n             // allow inherited classes to have a constructor\r\n             function Schema() {\r\n                 var args = [];\r\n                 for (var _i = 0; _i < arguments.length; _i++) {\r\n                     args[_i] = arguments[_i];\r\n                 }\r\n                 // fix enumerability of fields for end-user\r\n                 Object.defineProperties(this, {\r\n                     $changes: {\r\n                         value: new ChangeTree(this, undefined, new Root()),\r\n                         enumerable: false,\r\n                         writable: true\r\n                     },\r\n                     $listeners: {\r\n                         value: {},\r\n                         enumerable: false,\r\n                         writable: true\r\n                     },\r\n                 });\r\n                 var descriptors = this._definition.descriptors;\r\n                 if (descriptors) {\r\n                     Object.defineProperties(this, descriptors);\r\n                 }\r\n                 //\r\n                 // Assign initial values\r\n                 //\r\n                 if (args[0]) {\r\n                     this.assign(args[0]);\r\n                 }\r\n             }\r\n             Schema.onError = function (e) {\r\n                 console.error(e);\r\n             };\r\n             Schema.is = function (type) {\r\n                 return (type['_definition'] &&\r\n                     type['_definition'].schema !== undefined);\r\n             };\r\n             Schema.prototype.assign = function (props) {\r\n                 Object.assign(this, props);\r\n                 return this;\r\n             };\r\n             Object.defineProperty(Schema.prototype, \"_definition\", {\r\n                 get: function () { return this.constructor._definition; },\r\n                 enumerable: false,\r\n                 configurable: true\r\n             });\r\n             Schema.prototype.listen = function (attr, callback) {\r\n                 var _this = this;\r\n                 if (!this.$listeners[attr]) {\r\n                     this.$listeners[attr] = new EventEmitter_();\r\n                 }\r\n                 this.$listeners[attr].register(callback);\r\n                 // return un-register callback.\r\n                 return function () {\r\n                     return _this.$listeners[attr].remove(callback);\r\n                 };\r\n             };\r\n             Schema.prototype.decode = function (bytes, it, ref, allChanges) {\r\n                 if (it === void 0) { it = { offset: 0 }; }\r\n                 if (ref === void 0) { ref = this; }\r\n                 if (allChanges === void 0) { allChanges = new Map(); }\r\n                 var $root = this.$changes.root;\r\n                 var totalBytes = bytes.length;\r\n                 var refId = 0;\r\n                 var changes = [];\r\n                 $root.refs.set(refId, this);\r\n                 allChanges.set(refId, changes);\r\n                 while (it.offset < totalBytes) {\r\n                     var byte = bytes[it.offset++];\r\n                     if (byte == SWITCH_TO_STRUCTURE) {\r\n                         refId = number(bytes, it);\r\n                         var nextRef = $root.refs.get(refId);\r\n                         //\r\n                         // Trying to access a reference that haven't been decoded yet.\r\n                         //\r\n                         if (!nextRef) {\r\n                             throw new Error(\"\\\"refId\\\" not found: \" + refId);\r\n                         }\r\n                         ref = nextRef;\r\n                         // create empty list of changes for this refId.\r\n                         changes = [];\r\n                         allChanges.set(refId, changes);\r\n                         continue;\r\n                     }\r\n                     var changeTree = ref['$changes'];\r\n                     var isSchema = (ref['_definition'] !== undefined);\r\n                     var operation = (isSchema)\r\n                         ? (byte >> 6) << 6 // \"compressed\" index + operation\r\n                         : byte; // \"uncompressed\" index + operation (array/map items)\r\n                     if (operation === exports.OPERATION.CLEAR) {\r\n                         //\r\n                         // TODO: refactor me!\r\n                         // The `.clear()` method is calling `$root.removeRef(refId)` for\r\n                         // each item inside this collection\r\n                         //\r\n                         ref.clear(true);\r\n                         continue;\r\n                     }\r\n                     var fieldIndex = (isSchema)\r\n                         ? byte % (operation || 255) // if \"REPLACE\" operation (0), use 255\r\n                         : number(bytes, it);\r\n                     var fieldName = (isSchema)\r\n                         ? (ref['_definition'].fieldsByIndex[fieldIndex])\r\n                         : \"\";\r\n                     var type = changeTree.getType(fieldIndex);\r\n                     var value = void 0;\r\n                     var previousValue = void 0;\r\n                     var dynamicIndex = void 0;\r\n                     if (!isSchema) {\r\n                         previousValue = ref['getByIndex'](fieldIndex);\r\n                         if ((operation & exports.OPERATION.ADD) === exports.OPERATION.ADD) { // ADD or DELETE_AND_ADD\r\n                             dynamicIndex = (ref instanceof MapSchema)\r\n                                 ? string(bytes, it)\r\n                                 : fieldIndex;\r\n                             ref['setIndex'](fieldIndex, dynamicIndex);\r\n                         }\r\n                         else {\r\n                             // here\r\n                             dynamicIndex = ref['getIndex'](fieldIndex);\r\n                         }\r\n                     }\r\n                     else {\r\n                         previousValue = ref[\"_\" + fieldName];\r\n                     }\r\n                     //\r\n                     // Delete operations\r\n                     //\r\n                     if ((operation & exports.OPERATION.DELETE) === exports.OPERATION.DELETE) {\r\n                         if (operation !== exports.OPERATION.DELETE_AND_ADD) {\r\n                             ref['deleteByIndex'](fieldIndex);\r\n                         }\r\n                         // Flag `refId` for garbage collection.\r\n                         if (previousValue && previousValue['$changes']) {\r\n                             $root.removeRef(previousValue['$changes'].refId);\r\n                         }\r\n                         value = null;\r\n                     }\r\n                     if (fieldName === undefined) {\r\n                         console.warn(\"@colyseus/schema: definition mismatch\");\r\n                         //\r\n                         // keep skipping next bytes until reaches a known structure\r\n                         // by local decoder.\r\n                         //\r\n                         var nextIterator = { offset: it.offset };\r\n                         while (it.offset < totalBytes) {\r\n                             if (switchStructureCheck(bytes, it)) {\r\n                                 nextIterator.offset = it.offset + 1;\r\n                                 if ($root.refs.has(number(bytes, nextIterator))) {\r\n                                     break;\r\n                                 }\r\n                             }\r\n                             it.offset++;\r\n                         }\r\n                         continue;\r\n                     }\r\n                     else if (operation === exports.OPERATION.DELETE) ;\r\n                     else if (Schema.is(type)) {\r\n                         var refId_1 = number(bytes, it);\r\n                         value = $root.refs.get(refId_1);\r\n                         if (operation !== exports.OPERATION.REPLACE) {\r\n                             var childType = this.getSchemaType(bytes, it, type);\r\n                             if (!value) {\r\n                                 value = this.createTypeInstance(childType);\r\n                                 value.$changes.refId = refId_1;\r\n                                 if (previousValue) {\r\n                                     value.onChange = previousValue.onChange;\r\n                                     value.onRemove = previousValue.onRemove;\r\n                                     value.$listeners = previousValue.$listeners;\r\n                                     if (previousValue['$changes'].refId &&\r\n                                         refId_1 !== previousValue['$changes'].refId) {\r\n                                         $root.removeRef(previousValue['$changes'].refId);\r\n                                     }\r\n                                 }\r\n                             }\r\n                             $root.addRef(refId_1, value, (value !== previousValue));\r\n                         }\r\n                     }\r\n                     else if (typeof (type) === \"string\") {\r\n                         //\r\n                         // primitive value (number, string, boolean, etc)\r\n                         //\r\n                         value = decodePrimitiveType(type, bytes, it);\r\n                     }\r\n                     else {\r\n                         var typeDef = getType(Object.keys(type)[0]);\r\n                         var refId_2 = number(bytes, it);\r\n                         var valueRef = ($root.refs.has(refId_2))\r\n                             ? previousValue || $root.refs.get(refId_2)\r\n                             : new typeDef.constructor();\r\n                         value = valueRef.clone(true);\r\n                         value.$changes.refId = refId_2;\r\n                         // preserve schema callbacks\r\n                         if (previousValue) {\r\n                             value.onAdd = previousValue.onAdd;\r\n                             value.onRemove = previousValue.onRemove;\r\n                             value.onChange = previousValue.onChange;\r\n                             if (previousValue['$changes'].refId &&\r\n                                 refId_2 !== previousValue['$changes'].refId) {\r\n                                 $root.removeRef(previousValue['$changes'].refId);\r\n                                 //\r\n                                 // Trigger onRemove if structure has been replaced.\r\n                                 //\r\n                                 var deletes = [];\r\n                                 var entries = previousValue.entries();\r\n                                 var iter = void 0;\r\n                                 while ((iter = entries.next()) && !iter.done) {\r\n                                     var _a = iter.value, key = _a[0], value_1 = _a[1];\r\n                                     deletes.push({\r\n                                         op: exports.OPERATION.DELETE,\r\n                                         field: key,\r\n                                         value: undefined,\r\n                                         previousValue: value_1,\r\n                                     });\r\n                                 }\r\n                                 allChanges.set(previousValue['$changes'].refId, deletes);\r\n                             }\r\n                         }\r\n                         $root.addRef(refId_2, value, (valueRef !== previousValue));\r\n                         //\r\n                         // TODO: deprecate proxies on next version.\r\n                         // get proxy to target value.\r\n                         //\r\n                         if (typeDef.getProxy) {\r\n                             value = typeDef.getProxy(value);\r\n                         }\r\n                     }\r\n                     var hasChange = (previousValue !== value);\r\n                     if (value !== null &&\r\n                         value !== undefined) {\r\n                         if (value['$changes']) {\r\n                             value['$changes'].setParent(changeTree.ref, changeTree.root, fieldIndex);\r\n                         }\r\n                         if (ref instanceof Schema) {\r\n                             ref[fieldName] = value;\r\n                             //\r\n                             // FIXME: use `_field` instead of `field`.\r\n                             //\r\n                             // `field` is going to use the setter of the PropertyDescriptor\r\n                             // and create a proxy for array/map. This is only useful for\r\n                             // backwards-compatibility with @colyseus/schema@0.5.x\r\n                             //\r\n                             // // ref[_field] = value;\r\n                         }\r\n                         else if (ref instanceof MapSchema) {\r\n                             // const key = ref['$indexes'].get(field);\r\n                             var key = dynamicIndex;\r\n                             // ref.set(key, value);\r\n                             ref['$items'].set(key, value);\r\n                         }\r\n                         else if (ref instanceof ArraySchema) {\r\n                             // const key = ref['$indexes'][field];\r\n                             // console.log(\"SETTING FOR ArraySchema =>\", { field, key, value });\r\n                             // ref[key] = value;\r\n                             ref.setAt(fieldIndex, value);\r\n                         }\r\n                         else if (ref instanceof CollectionSchema) {\r\n                             var index = ref.add(value);\r\n                             ref['setIndex'](fieldIndex, index);\r\n                         }\r\n                         else if (ref instanceof SetSchema) {\r\n                             var index = ref.add(value);\r\n                             if (index !== false) {\r\n                                 ref['setIndex'](fieldIndex, index);\r\n                             }\r\n                         }\r\n                     }\r\n                     if (hasChange\r\n                     // &&\r\n                     // (\r\n                     //     this.onChange || ref.$listeners[field]\r\n                     // )\r\n                     ) {\r\n                         changes.push({\r\n                             op: operation,\r\n                             field: fieldName,\r\n                             dynamicIndex: dynamicIndex,\r\n                             value: value,\r\n                             previousValue: previousValue,\r\n                         });\r\n                     }\r\n                 }\r\n                 this._triggerChanges(allChanges);\r\n                 // drop references of unused schemas\r\n                 $root.garbageCollectDeletedRefs();\r\n                 return allChanges;\r\n             };\r\n             Schema.prototype.encode = function (encodeAll, bytes, useFilters) {\r\n                 if (encodeAll === void 0) { encodeAll = false; }\r\n                 if (bytes === void 0) { bytes = []; }\r\n                 if (useFilters === void 0) { useFilters = false; }\r\n                 var rootChangeTree = this.$changes;\r\n                 var refIdsVisited = new WeakSet();\r\n                 var changeTrees = [rootChangeTree];\r\n                 var numChangeTrees = 1;\r\n                 for (var i = 0; i < numChangeTrees; i++) {\r\n                     var changeTree = changeTrees[i];\r\n                     var ref = changeTree.ref;\r\n                     var isSchema = (ref instanceof Schema);\r\n                     // Generate unique refId for the ChangeTree.\r\n                     changeTree.ensureRefId();\r\n                     // mark this ChangeTree as visited.\r\n                     refIdsVisited.add(changeTree);\r\n                     // root `refId` is skipped.\r\n                     if (changeTree !== rootChangeTree &&\r\n                         (changeTree.changed || encodeAll)) {\r\n                         uint8$1(bytes, SWITCH_TO_STRUCTURE);\r\n                         number$1(bytes, changeTree.refId);\r\n                     }\r\n                     var changes = (encodeAll)\r\n                         ? Array.from(changeTree.allChanges)\r\n                         : Array.from(changeTree.changes.values());\r\n                     for (var j = 0, cl = changes.length; j < cl; j++) {\r\n                         var operation = (encodeAll)\r\n                             ? { op: exports.OPERATION.ADD, index: changes[j] }\r\n                             : changes[j];\r\n                         var fieldIndex = operation.index;\r\n                         var field = (isSchema)\r\n                             ? ref['_definition'].fieldsByIndex && ref['_definition'].fieldsByIndex[fieldIndex]\r\n                             : fieldIndex;\r\n                         // cache begin index if `useFilters`\r\n                         var beginIndex = bytes.length;\r\n                         // encode field index + operation\r\n                         if (operation.op !== exports.OPERATION.TOUCH) {\r\n                             if (isSchema) {\r\n                                 //\r\n                                 // Compress `fieldIndex` + `operation` into a single byte.\r\n                                 // This adds a limitaion of 64 fields per Schema structure\r\n                                 //\r\n                                 uint8$1(bytes, (fieldIndex | operation.op));\r\n                             }\r\n                             else {\r\n                                 uint8$1(bytes, operation.op);\r\n                                 // custom operations\r\n                                 if (operation.op === exports.OPERATION.CLEAR) {\r\n                                     continue;\r\n                                 }\r\n                                 // indexed operations\r\n                                 number$1(bytes, fieldIndex);\r\n                             }\r\n                         }\r\n                         //\r\n                         // encode \"alias\" for dynamic fields (maps)\r\n                         //\r\n                         if (!isSchema &&\r\n                             (operation.op & exports.OPERATION.ADD) == exports.OPERATION.ADD // ADD or DELETE_AND_ADD\r\n                         ) {\r\n                             if (ref instanceof MapSchema) {\r\n                                 //\r\n                                 // MapSchema dynamic key\r\n                                 //\r\n                                 var dynamicIndex = changeTree.ref['$indexes'].get(fieldIndex);\r\n                                 string$1(bytes, dynamicIndex);\r\n                             }\r\n                         }\r\n                         if (operation.op === exports.OPERATION.DELETE) {\r\n                             //\r\n                             // TODO: delete from filter cache data.\r\n                             //\r\n                             // if (useFilters) {\r\n                             //     delete changeTree.caches[fieldIndex];\r\n                             // }\r\n                             continue;\r\n                         }\r\n                         // const type = changeTree.childType || ref._schema[field];\r\n                         var type = changeTree.getType(fieldIndex);\r\n                         // const type = changeTree.getType(fieldIndex);\r\n                         var value = changeTree.getValue(fieldIndex);\r\n                         // Enqueue ChangeTree to be visited\r\n                         if (value &&\r\n                             value['$changes'] &&\r\n                             !refIdsVisited.has(value['$changes'])) {\r\n                             changeTrees.push(value['$changes']);\r\n                             value['$changes'].ensureRefId();\r\n                             numChangeTrees++;\r\n                         }\r\n                         if (operation.op === exports.OPERATION.TOUCH) {\r\n                             continue;\r\n                         }\r\n                         if (Schema.is(type)) {\r\n                             assertInstanceType(value, type, ref, field);\r\n                             //\r\n                             // Encode refId for this instance.\r\n                             // The actual instance is going to be encoded on next `changeTree` iteration.\r\n                             //\r\n                             number$1(bytes, value.$changes.refId);\r\n                             // Try to encode inherited TYPE_ID if it's an ADD operation.\r\n                             if ((operation.op & exports.OPERATION.ADD) === exports.OPERATION.ADD) {\r\n                                 this.tryEncodeTypeId(bytes, type, value.constructor);\r\n                             }\r\n                         }\r\n                         else if (typeof (type) === \"string\") {\r\n                             //\r\n                             // Primitive values\r\n                             //\r\n                             encodePrimitiveType(type, bytes, value, ref, field);\r\n                         }\r\n                         else {\r\n                             //\r\n                             // Custom type (MapSchema, ArraySchema, etc)\r\n                             //\r\n                             var definition = getType(Object.keys(type)[0]);\r\n                             //\r\n                             // ensure a ArraySchema has been provided\r\n                             //\r\n                             assertInstanceType(ref[\"_\" + field], definition.constructor, ref, field);\r\n                             //\r\n                             // Encode refId for this instance.\r\n                             // The actual instance is going to be encoded on next `changeTree` iteration.\r\n                             //\r\n                             number$1(bytes, value.$changes.refId);\r\n                         }\r\n                         if (useFilters) {\r\n                             // cache begin / end index\r\n                             changeTree.cache(fieldIndex, bytes.slice(beginIndex));\r\n                         }\r\n                     }\r\n                     if (!encodeAll && !useFilters) {\r\n                         changeTree.discard();\r\n                     }\r\n                 }\r\n                 return bytes;\r\n             };\r\n             Schema.prototype.encodeAll = function (useFilters) {\r\n                 return this.encode(true, [], useFilters);\r\n             };\r\n             Schema.prototype.applyFilters = function (client, encodeAll) {\r\n                 if (encodeAll === void 0) { encodeAll = false; }\r\n                 var root = this;\r\n                 var refIdsDissallowed = new Set();\r\n                 var $filterState = ClientState.get(client);\r\n                 var changeTrees = [this.$changes];\r\n                 var numChangeTrees = 1;\r\n                 var filteredBytes = [];\r\n                 var _loop_1 = function (i) {\r\n                     var changeTree = changeTrees[i];\r\n                     if (refIdsDissallowed.has(changeTree.refId)) {\r\n                         return \"continue\";\r\n                     }\r\n                     var ref = changeTree.ref;\r\n                     var isSchema = ref instanceof Schema;\r\n                     uint8$1(filteredBytes, SWITCH_TO_STRUCTURE);\r\n                     number$1(filteredBytes, changeTree.refId);\r\n                     var clientHasRefId = $filterState.refIds.has(changeTree);\r\n                     var isEncodeAll = (encodeAll || !clientHasRefId);\r\n                     // console.log(\"REF:\", ref.constructor.name);\r\n                     // console.log(\"Encode all?\", isEncodeAll);\r\n                     //\r\n                     // include `changeTree` on list of known refIds by this client.\r\n                     //\r\n                     $filterState.addRefId(changeTree);\r\n                     var containerIndexes = $filterState.containerIndexes.get(changeTree);\r\n                     var changes = (isEncodeAll)\r\n                         ? Array.from(changeTree.allChanges)\r\n                         : Array.from(changeTree.changes.values());\r\n                     //\r\n                     // WORKAROUND: tries to re-evaluate previously not included @filter() attributes\r\n                     // - see \"DELETE a field of Schema\" test case.\r\n                     //\r\n                     if (!encodeAll &&\r\n                         isSchema &&\r\n                         ref._definition.indexesWithFilters) {\r\n                         var indexesWithFilters = ref._definition.indexesWithFilters;\r\n                         indexesWithFilters.forEach(function (indexWithFilter) {\r\n                             if (!containerIndexes.has(indexWithFilter) &&\r\n                                 changeTree.allChanges.has(indexWithFilter)) {\r\n                                 if (isEncodeAll) {\r\n                                     changes.push(indexWithFilter);\r\n                                 }\r\n                                 else {\r\n                                     changes.push({ op: exports.OPERATION.ADD, index: indexWithFilter, });\r\n                                 }\r\n                             }\r\n                         });\r\n                     }\r\n                     for (var j = 0, cl = changes.length; j < cl; j++) {\r\n                         var change = (isEncodeAll)\r\n                             ? { op: exports.OPERATION.ADD, index: changes[j] }\r\n                             : changes[j];\r\n                         // custom operations\r\n                         if (change.op === exports.OPERATION.CLEAR) {\r\n                             uint8$1(filteredBytes, change.op);\r\n                             continue;\r\n                         }\r\n                         var fieldIndex = change.index;\r\n                         //\r\n                         // Deleting fields: encode the operation + field index\r\n                         //\r\n                         if (change.op === exports.OPERATION.DELETE) {\r\n                             //\r\n                             // DELETE operations also need to go through filtering.\r\n                             //\r\n                             // TODO: cache the previous value so we can access the value (primitive or `refId`)\r\n                             // (check against `$filterState.refIds`)\r\n                             //\r\n                             if (isSchema) {\r\n                                 uint8$1(filteredBytes, change.op | fieldIndex);\r\n                             }\r\n                             else {\r\n                                 uint8$1(filteredBytes, change.op);\r\n                                 number$1(filteredBytes, fieldIndex);\r\n                             }\r\n                             continue;\r\n                         }\r\n                         // indexed operation\r\n                         var value = changeTree.getValue(fieldIndex);\r\n                         var type = changeTree.getType(fieldIndex);\r\n                         if (isSchema) {\r\n                             // Is a Schema!\r\n                             var filter = (ref._definition.filters &&\r\n                                 ref._definition.filters[fieldIndex]);\r\n                             if (filter && !filter.call(ref, client, value, root)) {\r\n                                 if (value && value['$changes']) {\r\n                                     refIdsDissallowed.add(value['$changes'].refId);\r\n                                 }\r\n                                 continue;\r\n                             }\r\n                         }\r\n                         else {\r\n                             // Is a collection! (map, array, etc.)\r\n                             var parent = changeTree.parent;\r\n                             var filter = changeTree.getChildrenFilter();\r\n                             if (filter && !filter.call(parent, client, ref['$indexes'].get(fieldIndex), value, root)) {\r\n                                 if (value && value['$changes']) {\r\n                                     refIdsDissallowed.add(value['$changes'].refId);\r\n                                 }\r\n                                 continue;\r\n                             }\r\n                         }\r\n                         // visit child ChangeTree on further iteration.\r\n                         if (value['$changes']) {\r\n                             changeTrees.push(value['$changes']);\r\n                             numChangeTrees++;\r\n                         }\r\n                         //\r\n                         // Copy cached bytes\r\n                         //\r\n                         if (change.op !== exports.OPERATION.TOUCH) {\r\n                             //\r\n                             // TODO: refactor me!\r\n                             //\r\n                             if (change.op === exports.OPERATION.ADD || isSchema) {\r\n                                 //\r\n                                 // use cached bytes directly if is from Schema type.\r\n                                 //\r\n                                 filteredBytes = filteredBytes.concat(changeTree.caches[fieldIndex]);\r\n                                 containerIndexes.add(fieldIndex);\r\n                             }\r\n                             else {\r\n                                 if (containerIndexes.has(fieldIndex)) {\r\n                                     //\r\n                                     // use cached bytes if already has the field\r\n                                     //\r\n                                     filteredBytes = filteredBytes.concat(changeTree.caches[fieldIndex]);\r\n                                 }\r\n                                 else {\r\n                                     //\r\n                                     // force ADD operation if field is not known by this client.\r\n                                     //\r\n                                     containerIndexes.add(fieldIndex);\r\n                                     uint8$1(filteredBytes, exports.OPERATION.ADD);\r\n                                     number$1(filteredBytes, fieldIndex);\r\n                                     if (ref instanceof MapSchema) {\r\n                                         //\r\n                                         // MapSchema dynamic key\r\n                                         //\r\n                                         var dynamicIndex = changeTree.ref['$indexes'].get(fieldIndex);\r\n                                         string$1(filteredBytes, dynamicIndex);\r\n                                     }\r\n                                     if (value['$changes']) {\r\n                                         number$1(filteredBytes, value['$changes'].refId);\r\n                                     }\r\n                                     else {\r\n                                         // \"encodePrimitiveType\" without type checking.\r\n                                         // the type checking has been done on the first .encode() call.\r\n                                         encode[type](filteredBytes, value);\r\n                                     }\r\n                                 }\r\n                             }\r\n                         }\r\n                         else if (value['$changes'] && !isSchema) {\r\n                             //\r\n                             // TODO:\r\n                             // - track ADD/REPLACE/DELETE instances on `$filterState`\r\n                             // - do NOT always encode dynamicIndex for MapSchema.\r\n                             //   (If client already has that key, only the first index is necessary.)\r\n                             //\r\n                             uint8$1(filteredBytes, exports.OPERATION.ADD);\r\n                             number$1(filteredBytes, fieldIndex);\r\n                             if (ref instanceof MapSchema) {\r\n                                 //\r\n                                 // MapSchema dynamic key\r\n                                 //\r\n                                 var dynamicIndex = changeTree.ref['$indexes'].get(fieldIndex);\r\n                                 string$1(filteredBytes, dynamicIndex);\r\n                             }\r\n                             number$1(filteredBytes, value['$changes'].refId);\r\n                         }\r\n                     }\r\n                 };\r\n                 for (var i = 0; i < numChangeTrees; i++) {\r\n                     _loop_1(i);\r\n                 }\r\n                 return filteredBytes;\r\n             };\r\n             Schema.prototype.clone = function () {\r\n                 var cloned = new (this.constructor);\r\n                 var schema = this._definition.schema;\r\n                 for (var field in schema) {\r\n                     if (typeof (this[field]) === \"object\" &&\r\n                         typeof (this[field].clone) === \"function\") {\r\n                         // deep clone\r\n                         cloned[field] = this[field].clone();\r\n                     }\r\n                     else {\r\n                         // primitive values\r\n                         cloned[field] = this[field];\r\n                     }\r\n                 }\r\n                 return cloned;\r\n             };\r\n             Schema.prototype.triggerAll = function () {\r\n                 // skip if haven't received any remote refs yet.\r\n                 if (this.$changes.root.refs.size === 0) {\r\n                     return;\r\n                 }\r\n                 var allChanges = new Map();\r\n                 Schema.prototype._triggerAllFillChanges.call(this, this, allChanges);\r\n                 try {\r\n                     Schema.prototype._triggerChanges.call(this, allChanges);\r\n                 }\r\n                 catch (e) {\r\n                     Schema.onError(e);\r\n                 }\r\n             };\r\n             Schema.prototype.toJSON = function () {\r\n                 var schema = this._definition.schema;\r\n                 var deprecated = this._definition.deprecated;\r\n                 var obj = {};\r\n                 for (var field in schema) {\r\n                     if (!deprecated[field] && this[field] !== null && typeof (this[field]) !== \"undefined\") {\r\n                         obj[field] = (typeof (this[field]['toJSON']) === \"function\")\r\n                             ? this[field]['toJSON']()\r\n                             : this[\"_\" + field];\r\n                     }\r\n                 }\r\n                 return obj;\r\n             };\r\n             Schema.prototype.discardAllChanges = function () {\r\n                 this.$changes.discardAll();\r\n             };\r\n             Schema.prototype.getByIndex = function (index) {\r\n                 return this[this._definition.fieldsByIndex[index]];\r\n             };\r\n             Schema.prototype.deleteByIndex = function (index) {\r\n                 this[this._definition.fieldsByIndex[index]] = undefined;\r\n             };\r\n             Schema.prototype.tryEncodeTypeId = function (bytes, type, targetType) {\r\n                 if (type._typeid !== targetType._typeid) {\r\n                     uint8$1(bytes, TYPE_ID);\r\n                     number$1(bytes, targetType._typeid);\r\n                 }\r\n             };\r\n             Schema.prototype.getSchemaType = function (bytes, it, defaultType) {\r\n                 var type;\r\n                 if (bytes[it.offset] === TYPE_ID) {\r\n                     it.offset++;\r\n                     type = this.constructor._context.get(number(bytes, it));\r\n                 }\r\n                 return type || defaultType;\r\n             };\r\n             Schema.prototype.createTypeInstance = function (type) {\r\n                 var instance = new type();\r\n                 // assign root on $changes\r\n                 instance.$changes.root = this.$changes.root;\r\n                 return instance;\r\n             };\r\n             Schema.prototype._triggerAllFillChanges = function (ref, allChanges) {\r\n                 if (allChanges.has(ref['$changes'].refId)) {\r\n                     return;\r\n                 }\r\n                 var changes = [];\r\n                 allChanges.set(ref['$changes'].refId || 0, changes);\r\n                 if (ref instanceof Schema) {\r\n                     var schema = ref._definition.schema;\r\n                     for (var fieldName in schema) {\r\n                         var _field = \"_\" + fieldName;\r\n                         var value = ref[_field];\r\n                         if (value !== undefined) {\r\n                             changes.push({\r\n                                 op: exports.OPERATION.ADD,\r\n                                 field: fieldName,\r\n                                 value: value,\r\n                                 previousValue: undefined\r\n                             });\r\n                             if (value['$changes'] !== undefined) {\r\n                                 Schema.prototype._triggerAllFillChanges.call(this, value, allChanges);\r\n                             }\r\n                         }\r\n                     }\r\n                 }\r\n                 else {\r\n                     var entries = ref.entries();\r\n                     var iter = void 0;\r\n                     while ((iter = entries.next()) && !iter.done) {\r\n                         var _a = iter.value, key = _a[0], value = _a[1];\r\n                         changes.push({\r\n                             op: exports.OPERATION.ADD,\r\n                             field: key,\r\n                             dynamicIndex: key,\r\n                             value: value,\r\n                             previousValue: undefined,\r\n                         });\r\n                         if (value['$changes'] !== undefined) {\r\n                             Schema.prototype._triggerAllFillChanges.call(this, value, allChanges);\r\n                         }\r\n                     }\r\n                 }\r\n             };\r\n             Schema.prototype._triggerChanges = function (allChanges) {\r\n                 var _this = this;\r\n                 allChanges.forEach(function (changes, refId) {\r\n                     var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\r\n                     if (changes.length > 0) {\r\n                         var ref = _this.$changes.root.refs.get(refId);\r\n                         var isSchema = ref instanceof Schema;\r\n                         for (var i = 0; i < changes.length; i++) {\r\n                             var change = changes[i];\r\n                             var listener = ref['$listeners'] && ref['$listeners'][change.field];\r\n                             if (!isSchema) {\r\n                                 if (change.op === exports.OPERATION.ADD && change.previousValue === undefined) {\r\n                                     (_b = (_a = ref).onAdd) === null || _b === void 0 ? void 0 : _b.call(_a, change.value, (_c = change.dynamicIndex) !== null && _c !== void 0 ? _c : change.field);\r\n                                 }\r\n                                 else if (change.op === exports.OPERATION.DELETE) {\r\n                                     //\r\n                                     // FIXME: `previousValue` should always be avaiiable.\r\n                                     // ADD + DELETE operations are still encoding DELETE operation.\r\n                                     //\r\n                                     if (change.previousValue !== undefined) {\r\n                                         (_e = (_d = ref).onRemove) === null || _e === void 0 ? void 0 : _e.call(_d, change.previousValue, (_f = change.dynamicIndex) !== null && _f !== void 0 ? _f : change.field);\r\n                                     }\r\n                                 }\r\n                                 else if (change.op === exports.OPERATION.DELETE_AND_ADD) {\r\n                                     if (change.previousValue !== undefined) {\r\n                                         (_h = (_g = ref).onRemove) === null || _h === void 0 ? void 0 : _h.call(_g, change.previousValue, change.dynamicIndex);\r\n                                     }\r\n                                     (_k = (_j = ref).onAdd) === null || _k === void 0 ? void 0 : _k.call(_j, change.value, change.dynamicIndex);\r\n                                 }\r\n                                 else if (change.op === exports.OPERATION.REPLACE ||\r\n                                     change.value !== change.previousValue) {\r\n                                     (_m = (_l = ref).onChange) === null || _m === void 0 ? void 0 : _m.call(_l, change.value, change.dynamicIndex);\r\n                                 }\r\n                             }\r\n                             //\r\n                             // trigger onRemove on child structure.\r\n                             //\r\n                             if ((change.op & exports.OPERATION.DELETE) === exports.OPERATION.DELETE &&\r\n                                 change.previousValue instanceof Schema &&\r\n                                 change.previousValue.onRemove) {\r\n                                 change.previousValue.onRemove();\r\n                             }\r\n                             if (listener) {\r\n                                 try {\r\n                                     listener.invoke(change.value, change.previousValue);\r\n                                 }\r\n                                 catch (e) {\r\n                                     Schema.onError(e);\r\n                                 }\r\n                             }\r\n                         }\r\n                         if (isSchema) {\r\n                             if (ref.onChange) {\r\n                                 try {\r\n                                     ref.onChange(changes);\r\n                                 }\r\n                                 catch (e) {\r\n                                     Schema.onError(e);\r\n                                 }\r\n                             }\r\n                         }\r\n                     }\r\n                 });\r\n             };\r\n             Schema._definition = SchemaDefinition.create();\r\n             return Schema;\r\n         }());\r\n\r\n         function dumpChanges(schema) {\r\n             var changeTrees = [schema['$changes']];\r\n             var numChangeTrees = 1;\r\n             var dump = {};\r\n             var currentStructure = dump;\r\n             var _loop_1 = function (i) {\r\n                 var changeTree = changeTrees[i];\r\n                 changeTree.changes.forEach(function (change) {\r\n                     var ref = changeTree.ref;\r\n                     var fieldIndex = change.index;\r\n                     var field = (ref['_definition'])\r\n                         ? ref['_definition'].fieldsByIndex[fieldIndex]\r\n                         : ref['$indexes'].get(fieldIndex);\r\n                     currentStructure[field] = changeTree.getValue(fieldIndex);\r\n                 });\r\n             };\r\n             for (var i = 0; i < numChangeTrees; i++) {\r\n                 _loop_1(i);\r\n             }\r\n             return dump;\r\n         }\r\n\r\n         var reflectionContext = new Context();\r\n         /**\r\n          * Reflection\r\n          */\r\n         var ReflectionField = /** @class */ (function (_super) {\r\n             __extends(ReflectionField, _super);\r\n             function ReflectionField() {\r\n                 return _super !== null && _super.apply(this, arguments) || this;\r\n             }\r\n             __decorate([\r\n                 type(\"string\", reflectionContext)\r\n             ], ReflectionField.prototype, \"name\", void 0);\r\n             __decorate([\r\n                 type(\"string\", reflectionContext)\r\n             ], ReflectionField.prototype, \"type\", void 0);\r\n             __decorate([\r\n                 type(\"number\", reflectionContext)\r\n             ], ReflectionField.prototype, \"referencedType\", void 0);\r\n             return ReflectionField;\r\n         }(Schema));\r\n         var ReflectionType = /** @class */ (function (_super) {\r\n             __extends(ReflectionType, _super);\r\n             function ReflectionType() {\r\n                 var _this = _super !== null && _super.apply(this, arguments) || this;\r\n                 _this.fields = new ArraySchema();\r\n                 return _this;\r\n             }\r\n             __decorate([\r\n                 type(\"number\", reflectionContext)\r\n             ], ReflectionType.prototype, \"id\", void 0);\r\n             __decorate([\r\n                 type([ReflectionField], reflectionContext)\r\n             ], ReflectionType.prototype, \"fields\", void 0);\r\n             return ReflectionType;\r\n         }(Schema));\r\n         var Reflection = /** @class */ (function (_super) {\r\n             __extends(Reflection, _super);\r\n             function Reflection() {\r\n                 var _this = _super !== null && _super.apply(this, arguments) || this;\r\n                 _this.types = new ArraySchema();\r\n                 return _this;\r\n             }\r\n             Reflection.encode = function (instance) {\r\n                 var rootSchemaType = instance.constructor;\r\n                 var reflection = new Reflection();\r\n                 reflection.rootType = rootSchemaType._typeid;\r\n                 var buildType = function (currentType, schema) {\r\n                     for (var fieldName in schema) {\r\n                         var field = new ReflectionField();\r\n                         field.name = fieldName;\r\n                         var fieldType = void 0;\r\n                         if (typeof (schema[fieldName]) === \"string\") {\r\n                             fieldType = schema[fieldName];\r\n                         }\r\n                         else {\r\n                             var type_1 = schema[fieldName];\r\n                             var childTypeSchema = void 0;\r\n                             //\r\n                             // TODO: refactor below.\r\n                             //\r\n                             if (Schema.is(type_1)) {\r\n                                 fieldType = \"ref\";\r\n                                 childTypeSchema = schema[fieldName];\r\n                             }\r\n                             else {\r\n                                 fieldType = Object.keys(type_1)[0];\r\n                                 if (typeof (type_1[fieldType]) === \"string\") {\r\n                                     fieldType += \":\" + type_1[fieldType]; // array:string\r\n                                 }\r\n                                 else {\r\n                                     childTypeSchema = type_1[fieldType];\r\n                                 }\r\n                             }\r\n                             field.referencedType = (childTypeSchema)\r\n                                 ? childTypeSchema._typeid\r\n                                 : -1;\r\n                         }\r\n                         field.type = fieldType;\r\n                         currentType.fields.push(field);\r\n                     }\r\n                     reflection.types.push(currentType);\r\n                 };\r\n                 var types = rootSchemaType._context.types;\r\n                 for (var typeid in types) {\r\n                     var type_2 = new ReflectionType();\r\n                     type_2.id = Number(typeid);\r\n                     buildType(type_2, types[typeid]._definition.schema);\r\n                 }\r\n                 return reflection.encodeAll();\r\n             };\r\n             Reflection.decode = function (bytes, it) {\r\n                 var context = new Context();\r\n                 var reflection = new Reflection();\r\n                 reflection.decode(bytes, it);\r\n                 var schemaTypes = reflection.types.reduce(function (types, reflectionType) {\r\n                     var schema = /** @class */ (function (_super) {\r\n                         __extends(_, _super);\r\n                         function _() {\r\n                             return _super !== null && _super.apply(this, arguments) || this;\r\n                         }\r\n                         return _;\r\n                     }(Schema));\r\n                     var typeid = reflectionType.id;\r\n                     types[typeid] = schema;\r\n                     context.add(schema, typeid);\r\n                     return types;\r\n                 }, {});\r\n                 reflection.types.forEach(function (reflectionType) {\r\n                     var schemaType = schemaTypes[reflectionType.id];\r\n                     reflectionType.fields.forEach(function (field) {\r\n                         var _a;\r\n                         if (field.referencedType !== undefined) {\r\n                             var fieldType = field.type;\r\n                             var refType = schemaTypes[field.referencedType];\r\n                             // map or array of primitive type (-1)\r\n                             if (!refType) {\r\n                                 var typeInfo = field.type.split(\":\");\r\n                                 fieldType = typeInfo[0];\r\n                                 refType = typeInfo[1];\r\n                             }\r\n                             if (fieldType === \"ref\") {\r\n                                 type(refType, context)(schemaType.prototype, field.name);\r\n                             }\r\n                             else {\r\n                                 type((_a = {}, _a[fieldType] = refType, _a), context)(schemaType.prototype, field.name);\r\n                             }\r\n                         }\r\n                         else {\r\n                             type(field.type, context)(schemaType.prototype, field.name);\r\n                         }\r\n                     });\r\n                 });\r\n                 var rootType = schemaTypes[reflection.rootType];\r\n                 var rootInstance = new rootType();\r\n                 /**\r\n                  * auto-initialize referenced types on root type\r\n                  * to allow registering listeners immediatelly on client-side\r\n                  */\r\n                 for (var fieldName in rootType._definition.schema) {\r\n                     var fieldType = rootType._definition.schema[fieldName];\r\n                     if (typeof (fieldType) !== \"string\") {\r\n                         rootInstance[fieldName] = (typeof (fieldType) === \"function\")\r\n                             ? new fieldType() // is a schema reference\r\n                             : new (getType(Object.keys(fieldType)[0])).constructor(); // is a \"collection\"\r\n                     }\r\n                 }\r\n                 return rootInstance;\r\n             };\r\n             __decorate([\r\n                 type([ReflectionType], reflectionContext)\r\n             ], Reflection.prototype, \"types\", void 0);\r\n             __decorate([\r\n                 type(\"number\", reflectionContext)\r\n             ], Reflection.prototype, \"rootType\", void 0);\r\n             return Reflection;\r\n         }(Schema));\r\n\r\n         registerType(\"map\", { constructor: MapSchema, getProxy: getMapProxy });\r\n         registerType(\"array\", { constructor: ArraySchema, getProxy: getArrayProxy });\r\n         registerType(\"set\", { constructor: SetSchema });\r\n         registerType(\"collection\", { constructor: CollectionSchema, });\r\n\r\n         exports.ArraySchema = ArraySchema;\r\n         exports.CollectionSchema = CollectionSchema;\r\n         exports.Context = Context;\r\n         exports.MapSchema = MapSchema;\r\n         exports.Reflection = Reflection;\r\n         exports.ReflectionField = ReflectionField;\r\n         exports.ReflectionType = ReflectionType;\r\n         exports.Schema = Schema;\r\n         exports.SchemaDefinition = SchemaDefinition;\r\n         exports.SetSchema = SetSchema;\r\n         exports.decode = decode;\r\n         exports.defineTypes = defineTypes;\r\n         exports.deprecated = deprecated;\r\n         exports.dumpChanges = dumpChanges;\r\n         exports.encode = encode;\r\n         exports.filter = filter;\r\n         exports.filterChildren = filterChildren;\r\n         exports.hasFilter = hasFilter;\r\n         exports.registerType = registerType;\r\n         exports.type = type;\r\n\r\n         Object.defineProperty(exports, '__esModule', { value: true });\r\n\r\n     })));\r\n     });\r\n\r\n     var Room = /** @class */ (function () {\r\n         function Room(name, rootSchema) {\r\n             var _this = this;\r\n             // Public signals\r\n             this.onStateChange = createSignal();\r\n             this.onError = createSignal();\r\n             this.onLeave = createSignal();\r\n             this.onJoin = createSignal();\r\n             this.hasJoined = false;\r\n             this.onMessageHandlers = createNanoEvents();\r\n             this.id = null;\r\n             this.name = name;\r\n             if (rootSchema) {\r\n                 this.serializer = new (getSerializer(\"schema\"));\r\n                 this.rootSchema = rootSchema;\r\n                 this.serializer.state = new rootSchema();\r\n             }\r\n             this.onError(function (code, message) { return console.warn(\"colyseus.js - onError => (\" + code + \") \" + message); });\r\n             this.onLeave(function () { return _this.removeAllListeners(); });\r\n         }\r\n         Room.prototype.connect = function (endpoint) {\r\n             var _this = this;\r\n             this.connection = new Connection();\r\n             this.connection.events.onmessage = this.onMessageCallback.bind(this);\r\n             this.connection.events.onclose = function (e) {\r\n                 if (!_this.hasJoined) {\r\n                     console.warn(\"Room connection was closed unexpectedly (\" + e.code + \"): \" + e.reason);\r\n                     _this.onError.invoke(e.code, e.reason);\r\n                     return;\r\n                 }\r\n                 _this.onLeave.invoke(e.code);\r\n                 _this.destroy();\r\n             };\r\n             this.connection.events.onerror = function (e) {\r\n                 console.warn(\"Room, onError (\" + e.code + \"): \" + e.reason);\r\n                 _this.onError.invoke(e.code, e.reason);\r\n             };\r\n             this.connection.connect(endpoint);\r\n         };\r\n         Room.prototype.leave = function (consented) {\r\n             if (consented === void 0) { consented = true; }\r\n             if (this.connection) {\r\n                 if (consented) {\r\n                     this.connection.send([exports.Protocol.LEAVE_ROOM]);\r\n                 }\r\n                 else {\r\n                     this.connection.close();\r\n                 }\r\n             }\r\n             else {\r\n                 this.onLeave.invoke(4000); // \"consented\" code\r\n             }\r\n         };\r\n         Room.prototype.onMessage = function (type, callback) {\r\n             return this.onMessageHandlers.on(this.getMessageHandlerKey(type), callback);\r\n         };\r\n         Room.prototype.send = function (type, message) {\r\n             var initialBytes = [exports.Protocol.ROOM_DATA];\r\n             if (typeof (type) === \"string\") {\r\n                 umd.encode.string(initialBytes, type);\r\n             }\r\n             else {\r\n                 umd.encode.number(initialBytes, type);\r\n             }\r\n             var arr;\r\n             if (message !== undefined) {\r\n                 var encoded = encode(message);\r\n                 arr = new Uint8Array(initialBytes.length + encoded.byteLength);\r\n                 arr.set(new Uint8Array(initialBytes), 0);\r\n                 arr.set(new Uint8Array(encoded), initialBytes.length);\r\n             }\r\n             else {\r\n                 arr = new Uint8Array(initialBytes);\r\n             }\r\n             this.connection.send(arr.buffer);\r\n         };\r\n         Object.defineProperty(Room.prototype, \"state\", {\r\n             get: function () {\r\n                 return this.serializer.getState();\r\n             },\r\n             enumerable: false,\r\n             configurable: true\r\n         });\r\n         Room.prototype.removeAllListeners = function () {\r\n             this.onJoin.clear();\r\n             this.onStateChange.clear();\r\n             this.onError.clear();\r\n             this.onLeave.clear();\r\n             this.onMessageHandlers.events = {};\r\n         };\r\n         Room.prototype.onMessageCallback = function (event) {\r\n             var bytes = Array.from(new Uint8Array(event.data));\r\n             var code = bytes[0];\r\n             if (code === exports.Protocol.JOIN_ROOM) {\r\n                 var offset = 1;\r\n                 this.serializerId = utf8Read(bytes, offset);\r\n                 offset += utf8Length(this.serializerId);\r\n                 // Instantiate serializer if not locally available.\r\n                 if (!this.serializer) {\r\n                     var serializer = getSerializer(this.serializerId);\r\n                     this.serializer = new serializer();\r\n                 }\r\n                 if (bytes.length > offset && this.serializer.handshake) {\r\n                     this.serializer.handshake(bytes, { offset: offset });\r\n                 }\r\n                 this.hasJoined = true;\r\n                 this.onJoin.invoke();\r\n                 // acknowledge successfull JOIN_ROOM\r\n                 this.connection.send([exports.Protocol.JOIN_ROOM]);\r\n             }\r\n             else if (code === exports.Protocol.ERROR) {\r\n                 var it_1 = { offset: 1 };\r\n                 var code_1 = umd.decode.number(bytes, it_1);\r\n                 var message = umd.decode.string(bytes, it_1);\r\n                 this.onError.invoke(code_1, message);\r\n             }\r\n             else if (code === exports.Protocol.LEAVE_ROOM) {\r\n                 this.leave();\r\n             }\r\n             else if (code === exports.Protocol.ROOM_DATA_SCHEMA) {\r\n                 var it_2 = { offset: 1 };\r\n                 var context_1 = this.serializer.getState().constructor._context;\r\n                 var type = context_1.get(umd.decode.number(bytes, it_2));\r\n                 var message = new type();\r\n                 message.decode(bytes, it_2);\r\n                 this.dispatchMessage(type, message);\r\n             }\r\n             else if (code === exports.Protocol.ROOM_STATE) {\r\n                 bytes.shift(); // drop `code` byte\r\n                 this.setState(bytes);\r\n             }\r\n             else if (code === exports.Protocol.ROOM_STATE_PATCH) {\r\n                 bytes.shift(); // drop `code` byte\r\n                 this.patch(bytes);\r\n             }\r\n             else if (code === exports.Protocol.ROOM_DATA) {\r\n                 var it_3 = { offset: 1 };\r\n                 var type = (umd.decode.stringCheck(bytes, it_3))\r\n                     ? umd.decode.string(bytes, it_3)\r\n                     : umd.decode.number(bytes, it_3);\r\n                 var message = (bytes.length > it_3.offset)\r\n                     ? decode(event.data, it_3.offset)\r\n                     : undefined;\r\n                 this.dispatchMessage(type, message);\r\n             }\r\n         };\r\n         Room.prototype.setState = function (encodedState) {\r\n             this.serializer.setState(encodedState);\r\n             this.onStateChange.invoke(this.serializer.getState());\r\n         };\r\n         Room.prototype.patch = function (binaryPatch) {\r\n             this.serializer.patch(binaryPatch);\r\n             this.onStateChange.invoke(this.serializer.getState());\r\n         };\r\n         Room.prototype.dispatchMessage = function (type, message) {\r\n             var messageType = this.getMessageHandlerKey(type);\r\n             if (this.onMessageHandlers.events[messageType]) {\r\n                 this.onMessageHandlers.emit(messageType, message);\r\n             }\r\n             else if (this.onMessageHandlers.events['*']) {\r\n                 this.onMessageHandlers.emit('*', type, message);\r\n             }\r\n             else {\r\n                 console.warn(\"onMessage not registered for type '\" + type + \"'.\");\r\n             }\r\n         };\r\n         Room.prototype.destroy = function () {\r\n             if (this.serializer) {\r\n                 this.serializer.teardown();\r\n             }\r\n         };\r\n         Room.prototype.getMessageHandlerKey = function (type) {\r\n             switch (typeof (type)) {\r\n                 // typeof Schema\r\n                 case \"function\": return \"$\" + type._typeid;\r\n                 // string\r\n                 case \"string\": return type;\r\n                 // number\r\n                 case \"number\": return \"i\" + type;\r\n                 default: throw new Error(\"invalid message type.\");\r\n             }\r\n         };\r\n         return Room;\r\n     }());\r\n\r\n     /// <reference path=\"../typings/cocos-creator.d.ts\" />\r\n     /**\r\n      * We do not assign 'storage' to window.localStorage immediatelly for React\r\n      * Native compatibility. window.localStorage is not present when this module is\r\n      * loaded.\r\n      */\r\n     var storage;\r\n     function getStorage() {\r\n         if (!storage) {\r\n             storage = (typeof (cc) !== 'undefined' && cc.sys && cc.sys.localStorage)\r\n                 ? cc.sys.localStorage // compatibility with cocos creator\r\n                 : typeof (window) !== \"undefined\" && window.localStorage //RN does have window object at this point, but localStorage is not defined\r\n                     ? window.localStorage // regular browser environment\r\n                     : {\r\n                         cache: {},\r\n                         setItem: function (key, value) { this.cache[key] = value; },\r\n                         getItem: function (key) { this.cache[key]; },\r\n                         removeItem: function (key) { delete this.cache[key]; },\r\n                     };\r\n         }\r\n         return storage;\r\n     }\r\n     function setItem(key, value) {\r\n         getStorage().setItem(key, value);\r\n     }\r\n     function removeItem(key) {\r\n         getStorage().removeItem(key);\r\n     }\r\n     function getItem(key, callback) {\r\n         var value = getStorage().getItem(key);\r\n         if (typeof (Promise) === 'undefined' || // old browsers\r\n             !(value instanceof Promise)) {\r\n             // browser has synchronous return\r\n             callback(value);\r\n         }\r\n         else {\r\n             // react-native is asynchronous\r\n             value.then(function (id) { return callback(id); });\r\n         }\r\n     }\r\n\r\n     var TOKEN_STORAGE = \"colyseus-auth-token\";\r\n     exports.Platform = void 0;\r\n     (function (Platform) {\r\n         Platform[\"ios\"] = \"ios\";\r\n         Platform[\"android\"] = \"android\";\r\n     })(exports.Platform || (exports.Platform = {}));\r\n     var Auth = /** @class */ (function () {\r\n         function Auth(endpoint) {\r\n             var _this = this;\r\n             this._id = undefined;\r\n             this.username = undefined;\r\n             this.displayName = undefined;\r\n             this.avatarUrl = undefined;\r\n             this.isAnonymous = undefined;\r\n             this.email = undefined;\r\n             this.lang = undefined;\r\n             this.location = undefined;\r\n             this.timezone = undefined;\r\n             this.metadata = undefined;\r\n             this.devices = undefined;\r\n             this.facebookId = undefined;\r\n             this.twitterId = undefined;\r\n             this.googleId = undefined;\r\n             this.gameCenterId = undefined;\r\n             this.steamId = undefined;\r\n             this.friendIds = undefined;\r\n             this.blockedUserIds = undefined;\r\n             this.createdAt = undefined;\r\n             this.updatedAt = undefined;\r\n             // auth token\r\n             this.token = undefined;\r\n             this.endpoint = endpoint.replace(\"ws\", \"http\");\r\n             getItem(TOKEN_STORAGE, function (token) { return _this.token = token; });\r\n         }\r\n         Object.defineProperty(Auth.prototype, \"hasToken\", {\r\n             get: function () {\r\n                 return !!this.token;\r\n             },\r\n             enumerable: false,\r\n             configurable: true\r\n         });\r\n         Auth.prototype.login = function (options) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var queryParams, data, attr;\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0:\r\n                             queryParams = Object.assign({}, options);\r\n                             if (this.hasToken) {\r\n                                 queryParams.token = this.token;\r\n                             }\r\n                             return [4 /*yield*/, this.request('post', '/auth', queryParams)];\r\n                         case 1:\r\n                             data = _a.sent();\r\n                             // set & cache token\r\n                             this.token = data.token;\r\n                             setItem(TOKEN_STORAGE, this.token);\r\n                             for (attr in data) {\r\n                                 if (this.hasOwnProperty(attr)) {\r\n                                     this[attr] = data[attr];\r\n                                 }\r\n                             }\r\n                             this.registerPingService();\r\n                             return [2 /*return*/, this];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.save = function () {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('put', '/auth', {}, {\r\n                                 username: this.username,\r\n                                 displayName: this.displayName,\r\n                                 avatarUrl: this.avatarUrl,\r\n                                 lang: this.lang,\r\n                                 location: this.location,\r\n                                 timezone: this.timezone,\r\n                             })];\r\n                         case 1:\r\n                             _a.sent();\r\n                             return [2 /*return*/, this];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.getFriends = function () {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('get', '/friends/all')];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.getOnlineFriends = function () {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('get', '/friends/online')];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.getFriendRequests = function () {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('get', '/friends/requests')];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.sendFriendRequest = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('post', '/friends/requests', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.acceptFriendRequest = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('put', '/friends/requests', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.declineFriendRequest = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('del', '/friends/requests', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.blockUser = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('post', '/friends/block', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.unblockUser = function (friendId) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.request('put', '/friends/block', { userId: friendId })];\r\n                         case 1: return [2 /*return*/, (_a.sent())];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.request = function (method, segments, query, body, headers) {\r\n             if (query === void 0) { query = {}; }\r\n             if (headers === void 0) { headers = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var queryParams, name_1, queryString, opts;\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0:\r\n                             headers['Accept'] = 'application/json';\r\n                             if (this.hasToken) {\r\n                                 headers['Authorization'] = 'Bearer ' + this.token;\r\n                             }\r\n                             queryParams = [];\r\n                             for (name_1 in query) {\r\n                                 queryParams.push(name_1 + \"=\" + query[name_1]);\r\n                             }\r\n                             queryString = (queryParams.length > 0)\r\n                                 ? \"?\" + queryParams.join(\"&\")\r\n                                 : '';\r\n                             opts = { headers: headers };\r\n                             if (body) {\r\n                                 opts.body = body;\r\n                             }\r\n                             return [4 /*yield*/, http[method](\"\" + this.endpoint + segments + queryString, opts)];\r\n                         case 1: return [2 /*return*/, (_a.sent()).data];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Auth.prototype.logout = function () {\r\n             this.token = undefined;\r\n             removeItem(TOKEN_STORAGE);\r\n             this.unregisterPingService();\r\n         };\r\n         Auth.prototype.registerPingService = function (timeout) {\r\n             var _this = this;\r\n             if (timeout === void 0) { timeout = 15000; }\r\n             this.unregisterPingService();\r\n             this.keepOnlineInterval = setInterval(function () { return _this.request('get', '/auth'); }, timeout);\r\n         };\r\n         Auth.prototype.unregisterPingService = function () {\r\n             clearInterval(this.keepOnlineInterval);\r\n         };\r\n         return Auth;\r\n     }());\r\n\r\n     var _a;\r\n     var MatchMakeError = /** @class */ (function (_super) {\r\n         __extends(MatchMakeError, _super);\r\n         function MatchMakeError(message, code) {\r\n             var _this = _super.call(this, message) || this;\r\n             _this.code = code;\r\n             Object.setPrototypeOf(_this, MatchMakeError.prototype);\r\n             return _this;\r\n         }\r\n         return MatchMakeError;\r\n     }(Error));\r\n     // - React Native does not provide `window.location`\r\n     // - Cocos Creator (Native) does not provide `window.location.hostname` \r\n     var DEFAULT_ENDPOINT = (typeof (window) !== \"undefined\" && typeof ((_a = window === null || window === void 0 ? void 0 : window.location) === null || _a === void 0 ? void 0 : _a.hostname) !== \"undefined\")\r\n         ? window.location.protocol.replace(\"http\", \"ws\") + \"//\" + window.location.hostname + (window.location.port && \":\" + window.location.port)\r\n         : \"ws://127.0.0.1:2567\";\r\n     var Client = /** @class */ (function () {\r\n         function Client(endpoint) {\r\n             if (endpoint === void 0) { endpoint = DEFAULT_ENDPOINT; }\r\n             this.endpoint = endpoint;\r\n         }\r\n         Object.defineProperty(Client.prototype, \"auth\", {\r\n             get: function () {\r\n                 if (!this._auth) {\r\n                     this._auth = new Auth(this.endpoint);\r\n                 }\r\n                 return this._auth;\r\n             },\r\n             enumerable: false,\r\n             configurable: true\r\n         });\r\n         Client.prototype.joinOrCreate = function (roomName, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinOrCreate', roomName, options, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.create = function (roomName, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('create', roomName, options, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.join = function (roomName, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('join', roomName, options, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.joinById = function (roomId, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinById', roomId, options, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.reconnect = function (roomId, sessionId, rootSchema) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0: return [4 /*yield*/, this.createMatchMakeRequest('joinById', roomId, { sessionId: sessionId }, rootSchema)];\r\n                         case 1: return [2 /*return*/, _a.sent()];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.getAvailableRooms = function (roomName) {\r\n             if (roomName === void 0) { roomName = \"\"; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var url;\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0:\r\n                             url = this.endpoint.replace(\"ws\", \"http\") + \"/matchmake/\" + roomName;\r\n                             return [4 /*yield*/, get_1(url, { headers: { 'Accept': 'application/json' } })];\r\n                         case 1: return [2 /*return*/, (_a.sent()).data];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.consumeSeatReservation = function (response, rootSchema) {\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var room;\r\n                 return __generator(this, function (_a) {\r\n                     room = this.createRoom(response.room.name, rootSchema);\r\n                     room.id = response.room.roomId;\r\n                     room.sessionId = response.sessionId;\r\n                     room.connect(this.buildEndpoint(response.room, { sessionId: room.sessionId }));\r\n                     return [2 /*return*/, new Promise(function (resolve, reject) {\r\n                             var onError = function (code, message) { return reject(new ServerError(code, message)); };\r\n                             room.onError.once(onError);\r\n                             room['onJoin'].once(function () {\r\n                                 room.onError.remove(onError);\r\n                                 resolve(room);\r\n                             });\r\n                         })];\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.createMatchMakeRequest = function (method, roomName, options, rootSchema) {\r\n             if (options === void 0) { options = {}; }\r\n             return __awaiter(this, void 0, void 0, function () {\r\n                 var url, response;\r\n                 return __generator(this, function (_a) {\r\n                     switch (_a.label) {\r\n                         case 0:\r\n                             url = this.endpoint.replace(\"ws\", \"http\") + \"/matchmake/\" + method + \"/\" + roomName;\r\n                             // automatically forward auth token, if present\r\n                             if (this._auth && this._auth.hasToken) {\r\n                                 options.token = this._auth.token;\r\n                             }\r\n                             return [4 /*yield*/, post_1(url, {\r\n                                     headers: {\r\n                                         'Accept': 'application/json',\r\n                                         'Content-Type': 'application/json'\r\n                                     },\r\n                                     body: JSON.stringify(options)\r\n                                 })];\r\n                         case 1:\r\n                             response = (_a.sent()).data;\r\n                             if (response.error) {\r\n                                 throw new MatchMakeError(response.error, response.code);\r\n                             }\r\n                             return [2 /*return*/, this.consumeSeatReservation(response, rootSchema)];\r\n                     }\r\n                 });\r\n             });\r\n         };\r\n         Client.prototype.createRoom = function (roomName, rootSchema) {\r\n             return new Room(roomName, rootSchema);\r\n         };\r\n         Client.prototype.buildEndpoint = function (room, options) {\r\n             if (options === void 0) { options = {}; }\r\n             var params = [];\r\n             for (var name_1 in options) {\r\n                 if (!options.hasOwnProperty(name_1)) {\r\n                     continue;\r\n                 }\r\n                 params.push(name_1 + \"=\" + options[name_1]);\r\n             }\r\n             return this.endpoint + \"/\" + room.processId + \"/\" + room.roomId + \"?\" + params.join('&');\r\n         };\r\n         return Client;\r\n     }());\r\n\r\n     var SchemaSerializer = /** @class */ (function () {\r\n         function SchemaSerializer() {\r\n         }\r\n         SchemaSerializer.prototype.setState = function (rawState) {\r\n             this.state.decode(rawState);\r\n         };\r\n         SchemaSerializer.prototype.getState = function () {\r\n             return this.state;\r\n         };\r\n         SchemaSerializer.prototype.patch = function (patches) {\r\n             this.state.decode(patches);\r\n         };\r\n         SchemaSerializer.prototype.teardown = function () {\r\n             var _a, _b;\r\n             (_b = (_a = this.state) === null || _a === void 0 ? void 0 : _a['$changes']) === null || _b === void 0 ? void 0 : _b.root.clearRefs();\r\n         };\r\n         SchemaSerializer.prototype.handshake = function (bytes, it) {\r\n             if (this.state) {\r\n                 // validate client/server definitinos\r\n                 var reflection = new umd.Reflection();\r\n                 reflection.decode(bytes, it);\r\n             }\r\n             else {\r\n                 // initialize reflected state from server\r\n                 this.state = umd.Reflection.decode(bytes, it);\r\n             }\r\n         };\r\n         return SchemaSerializer;\r\n     }());\r\n\r\n     var NoneSerializer = /** @class */ (function () {\r\n         function NoneSerializer() {\r\n         }\r\n         NoneSerializer.prototype.setState = function (rawState) { };\r\n         NoneSerializer.prototype.getState = function () { return null; };\r\n         NoneSerializer.prototype.patch = function (patches) { };\r\n         NoneSerializer.prototype.teardown = function () { };\r\n         NoneSerializer.prototype.handshake = function (bytes) { };\r\n         return NoneSerializer;\r\n     }());\r\n\r\n     registerSerializer('schema', SchemaSerializer);\r\n     registerSerializer('none', NoneSerializer);\r\n\r\n     exports.Auth = Auth;\r\n     exports.Client = Client;\r\n     exports.Room = Room;\r\n     exports.SchemaSerializer = SchemaSerializer;\r\n     exports.registerSerializer = registerSerializer;\r\n\r\n     Object.defineProperty(exports, '__esModule', { value: true });\r\n\r\n })));\r\n //# sourceMappingURL=colyseus.js.map\r\n\n\n// #endregion ORIGINAL CODE\n\n_cjsExports = module.exports;\n_Protocol = module.exports.Protocol;\n_ErrorCode = module.exports.ErrorCode;\n_OPERATION = module.exports.OPERATION;\n_ArraySchema = module.exports.ArraySchema;\n_CollectionSchema = module.exports.CollectionSchema;\n_Context = module.exports.Context;\n_MapSchema = module.exports.MapSchema;\n_Reflection = module.exports.Reflection;\n_ReflectionField = module.exports.ReflectionField;\n_ReflectionType = module.exports.ReflectionType;\n_Schema = module.exports.Schema;\n_SchemaDefinition = module.exports.SchemaDefinition;\n_SetSchema = module.exports.SetSchema;\n_decode = module.exports.decode;\n_defineTypes = module.exports.defineTypes;\n_deprecated = module.exports.deprecated;\n_dumpChanges = module.exports.dumpChanges;\n_encode0 = module.exports.encode;\n_filter = module.exports.filter;\n_filterChildren = module.exports.filterChildren;\n_hasFilter = module.exports.hasFilter;\n_registerType = module.exports.registerType;\n_type = module.exports.type;\n___esModule = module.exports.__esModule;\n_Platform = module.exports.Platform;\n_Auth = module.exports.Auth;\n_Client = module.exports.Client;\n_Room = module.exports.Room;\n_SchemaSerializer = module.exports.SchemaSerializer;\n_registerSerializer = module.exports.registerSerializer;\n\n}, {});\nexport { _cjsExports as default };\nexport { __cjsMetaURL }\n","import { _decorator, Component, resources, SpriteFrame, Sprite } from 'cc';\r\nimport { ResourceManager } from './ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CommonUtil')\r\nexport class CommonUtil {\r\n\r\n    static setting: any = null;\r\n\r\n    static getNumberStringWithComma( num: number, showCurrency: boolean = false ): string {\r\n        if ( num == null || num <= 0 ) {\r\n            return '0';\r\n        }\r\n\r\n        let currency: string;\r\n        currency = \"₩\";\r\n        let result = num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\r\n        if (showCurrency == true) {\r\n            return currency + result;\r\n\r\n        } else {\r\n            return result;\r\n        }\r\n    }\r\n\r\n    static getKoreanNumber(num: number): string {\r\n        if ( num == null || num <= 0 ) {\r\n            return '0';\r\n        }\r\n\r\n        return CommonUtil.getNumberStringWithComma( num );\r\n                \r\n        // const koreanUnits = ['', '만', '억', '조'];\r\n        // let answer = '';\r\n        // let unit = 10000;\r\n        // let index = 0;\r\n        // let division = Math.pow(unit, index);\r\n      \r\n        // while (Math.floor( num / division) > 0) {\r\n        //   const mod = Math.floor(num % (division * unit) / division);\r\n        //   if(mod) {\r\n        //     const modToString = mod.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n        //     answer = `${modToString}${koreanUnits[index]} `+ answer;\r\n        //   }\r\n        //   division = Math.pow(unit, ++index);\r\n        // }\r\n\r\n        // if ( answer.length == 0) {\r\n        //     answer = '0';\r\n        // }\r\n\r\n        // return answer;\r\n      }\r\n\r\n    static setAvatarSprite( type: number, sf: Sprite, cb: ()=>void = null ) {\r\n\r\n        let url = `Avatar/avata_${type.toString()}/spriteFrame`;\r\n\r\n        resources.load<SpriteFrame>( url, ( err, res ) => {\r\n            sf.spriteFrame = res;\r\n            //sf.sizeMode = \r\n            \r\n            if (cb != null) {\r\n                cb();\r\n            }\r\n        });\r\n    }\r\n\r\n    static setCardSprite( type: number, number:number, sf: Sprite, cb: ()=>void = null ) {\r\n        let url = 'Cards/' + 'type' + type.toString() + '/'+number.toString() + '/spriteFrame'\r\n\r\n        resources.load<SpriteFrame>( url, ( err, res ) => {\r\n            sf.spriteFrame = res;\r\n            //sf.sizeMode = \r\n            \r\n            if (cb != null) {\r\n                cb();\r\n            }\r\n        });\r\n    }    \r\n\r\n    static setEmoticonSprite( type: number, sf: Sprite, cb: ()=>void = null ) {\r\n        let url = `Emoticon/emoji_${type.toString()}/spriteFrame`;\r\n\r\n        resources.load<SpriteFrame>( url, ( err, res ) => {\r\n            sf.spriteFrame = res;\r\n            if (cb != null) {\r\n                cb();\r\n            }\r\n        });\r\n    }    \r\n\r\n    static TruncateString( str: string, num: number ): string {\r\n        if ( str.length <= num ) {\r\n            return str;\r\n        }\r\n        return str.slice(0, num) + '...';\r\n    }\r\n\r\n    static setGameSetting( setting: any ) {\r\n        CommonUtil.setting = {\r\n            avatars: setting.avatars,\r\n        }\r\n    }\r\n\r\n    static getGameSetting(): any {\r\n        return CommonUtil.setting;\r\n    }\r\n}\r\n\r\n\r\n","import { Color, Canvas, UITransform, instantiate, math, Toggle, TextureCube, _decorator, Component, Button, labelAssembler, game, director, Node, Scene, renderer, CameraComponent, Label, ForwardPipeline, RichText } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('internal.DebugViewRuntimeControl')\r\nexport class DebugViewRuntimeControl extends Component {\r\n    @property(Node)\r\n    compositeModeToggle: Node | null = null;\r\n    @property(Node)\r\n    singleModeToggle: Node | null = null;\r\n    @property(Node)\r\n    EnableAllCompositeModeButton: Node | null = null;\r\n\t_single: number = 0;\r\n\r\n    private strSingle: string[] = [\r\n        'No Single Debug',\r\n        'Vertex Color',\r\n        'Vertex Normal',\r\n        'Vertex Tangent',\r\n        'World Position',\r\n        'Vertex Mirror',\r\n        'Face Side',\r\n        'UV0',\r\n        'UV1',\r\n        'UV Lightmap',\r\n        'Project Depth',\r\n        'Linear Depth',\r\n\r\n        'Fragment Normal',\r\n        'Fragment Tangent',\r\n        'Fragment Binormal',\r\n        'Base Color',\r\n        'Diffuse Color',\r\n        'Specular Color',\r\n        'Transparency',\r\n        'Metallic',\r\n        'Roughness',\r\n        'Specular Intensity',\r\n        'IOR',\r\n\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Direct All',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Env All',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Fresnel',\r\n        'Direct Transmit Diffuse',\r\n        'Direct Transmit Specular',\r\n        'Env Transmit Diffuse',\r\n        'Env Transmit Specular',\r\n        'Transmit All',\r\n        'Direct Internal Specular',\r\n        'Env Internal Specular',\r\n        'Internal All',\r\n\r\n        'Fog',\r\n    ];\r\n    private strComposite: string[] = [\r\n        'Direct Diffuse',\r\n        'Direct Specular',\r\n        'Env Diffuse',\r\n        'Env Specular',\r\n        'Emissive',\r\n        'Light Map',\r\n        'Shadow',\r\n        'AO',\r\n\r\n        'Normal Map',\r\n        'Fog',\r\n\r\n        'Tone Mapping',\r\n        'Gamma Correction',\r\n\r\n        'Fresnel',\r\n        'Transmit Diffuse',\r\n        'Transmit Specular',\r\n        'Internal Specular',\r\n        'TT',\r\n    ];\r\n    private strMisc: string[] = [\r\n        'CSM Layer Coloration',\r\n        'Lighting With Albedo',\r\n    ];\r\n\r\n    private compositeModeToggleList: Node[] = [];\r\n    private singleModeToggleList: Node[] = [];\r\n    private miscModeToggleList: Node[] = [];\r\n    private textComponentList: RichText[] = [];\r\n    private labelComponentList: Label[] = [];\r\n    private textContentList: string[] = [];\r\n    private hideButtonLabel: Label;\r\n    start() {\r\n        // get canvas resolution\r\n        const canvas = this.node.parent.getComponent(Canvas);\r\n        if (!canvas) {\r\n            console.error('debug-view-runtime-control should be child of Canvas');\r\n            return;\r\n        }\r\n\r\n        const uiTransform = this.node.parent.getComponent(UITransform);\r\n        const halfScreenWidth = uiTransform.width * 0.5;\r\n        const halfScreenHeight = uiTransform.height * 0.5;\r\n\r\n        let x = -halfScreenWidth + halfScreenWidth * 0.1, y = halfScreenHeight - halfScreenHeight * 0.1;\r\n        const width = 200, height = 20;\r\n\r\n        // new nodes\r\n        const miscNode = this.node.getChildByName('MiscMode');\r\n        const buttonNode = instantiate(miscNode);\r\n        buttonNode.parent = this.node;\r\n        buttonNode.name = 'Buttons';\r\n        const titleNode = instantiate(miscNode);\r\n        titleNode.parent = this.node;\r\n        titleNode.name = 'Titles';\r\n\r\n        // title\r\n        for (let i = 0; i < 2; i++) {\r\n            const newLabel = instantiate(this.EnableAllCompositeModeButton.getChildByName('Label'));\r\n            newLabel.setPosition(x + (i > 0 ? 50 + width * 2 : 150), y, 0.0);\r\n            newLabel.setScale(0.75, 0.75, 0.75);\r\n            newLabel.parent = titleNode;\r\n            const labelComponent = newLabel.getComponent(Label);\r\n            labelComponent.string = i ? '----------Composite Mode----------' : '----------Single Mode----------';\r\n            labelComponent.color = Color.WHITE;\r\n            labelComponent.overflow = 0;\r\n            this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        }\r\n\r\n        y -= height;\r\n        // single\r\n        let currentRow = 0;\r\n        for (let i = 0; i < this.strSingle.length; i++, currentRow++) {\r\n            if (i === this.strSingle.length >> 1) {\r\n                x += width;\r\n                currentRow = 0;\r\n            }\r\n            const newNode = i ? instantiate(this.singleModeToggle) : this.singleModeToggle;\r\n            newNode.setPosition(x, y - height * currentRow, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.singleModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strSingle[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleSingleMode, this);\r\n\r\n            this.singleModeToggleList[i] = newNode;\r\n        }\r\n\r\n        x += width;\r\n        // buttons\r\n        this.EnableAllCompositeModeButton.setPosition(x + 15, y, 0.0);\r\n        this.EnableAllCompositeModeButton.setScale(0.5, 0.5, 0.5);\r\n        this.EnableAllCompositeModeButton.on(Button.EventType.CLICK, this.enableAllCompositeMode, this);\r\n        this.EnableAllCompositeModeButton.parent = buttonNode;\r\n        let labelComponent = this.EnableAllCompositeModeButton.getComponentInChildren(Label);\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const changeColorButton = instantiate(this.EnableAllCompositeModeButton);\r\n        changeColorButton.setPosition(x + 90, y, 0.0);\r\n        changeColorButton.setScale(0.5, 0.5, 0.5);\r\n        changeColorButton.on(Button.EventType.CLICK, this.changeTextColor, this);\r\n        changeColorButton.parent = buttonNode;\r\n        labelComponent = changeColorButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'TextColor';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n\r\n        const HideButton = instantiate(this.EnableAllCompositeModeButton);\r\n        HideButton.setPosition(x + 200, y, 0.0);\r\n        HideButton.setScale(0.5, 0.5, 0.5);\r\n        HideButton.on(Button.EventType.CLICK, this.hideUI, this);\r\n        HideButton.parent = this.node.parent;\r\n        labelComponent = HideButton.getComponentInChildren(Label);\r\n        labelComponent.string = 'Hide UI';\r\n        this.labelComponentList[this.labelComponentList.length] = labelComponent;\r\n        this.hideButtonLabel = labelComponent;\r\n\r\n        // misc\r\n        y -= 40;\r\n        for (let i = 0; i < this.strMisc.length; i++) {\r\n            const newNode = instantiate(this.compositeModeToggle);\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = miscNode;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strMisc[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            const toggleComponent = newNode.getComponent(Toggle);\r\n            toggleComponent.isChecked = i ? true : false;\r\n            newNode.on(Toggle.EventType.TOGGLE, i ? this.toggleLightingWithAlbedo : this.toggleCSMColoration, this);\r\n            this.miscModeToggleList[i] = newNode;\r\n        }\r\n\r\n        // composite\r\n        y -= 150;\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            const newNode = i ? instantiate(this.compositeModeToggle) : this.compositeModeToggle;\r\n            newNode.setPosition(x, y - height * i, 0.0);\r\n            newNode.setScale(0.5, 0.5, 0.5);\r\n            newNode.parent = this.compositeModeToggle.parent;\r\n\r\n            const textComponent = newNode.getComponentInChildren(RichText);\r\n            textComponent.string = this.strComposite[i];\r\n            this.textComponentList[this.textComponentList.length] = textComponent;\r\n            this.textContentList[this.textContentList.length] = textComponent.string;\r\n\r\n            newNode.on(Toggle.EventType.TOGGLE, this.toggleCompositeMode, this);\r\n\r\n            this.compositeModeToggleList[i] = newNode;\r\n        }\r\n    }\r\n\r\n    isTextMatched(textUI, textDescription) : boolean {\r\n        let tempText = new String(textUI);\r\n        const findIndex = tempText.search('>');\r\n        if (findIndex === -1) {\r\n            return textUI === textDescription;\r\n        } else {\r\n            tempText = tempText.substr(findIndex + 1);\r\n            tempText = tempText.substr(0, tempText.search('<'));\r\n            return tempText === textDescription;\r\n        }\r\n    }\r\n    toggleSingleMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strSingle.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strSingle[i])) {\r\n                debugView.singleMode = i;\r\n            }\r\n        }\r\n    }\r\n    toggleCompositeMode(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        const textComponent = toggle.getComponentInChildren(RichText);\r\n        for (let i = 0; i < this.strComposite.length; i++) {\r\n            if (this.isTextMatched(textComponent.string, this.strComposite[i])) {\r\n                debugView.enableCompositeMode(i, toggle.isChecked);\r\n            }\r\n        }\r\n    }\r\n    toggleLightingWithAlbedo(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.lightingWithAlbedo = toggle.isChecked;\r\n    }\r\n    toggleCSMColoration(toggle: Toggle) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.csmLayerColoration = toggle.isChecked;\r\n    }\r\n    enableAllCompositeMode(button: Button) {\r\n        const debugView = director.root!.debugView;\r\n        debugView.enableAllCompositeMode(true);\r\n        for (let i = 0; i < this.compositeModeToggleList.length; i++) {\r\n            const toggleComponent = this.compositeModeToggleList[i].getComponent(Toggle);\r\n            toggleComponent.isChecked = true;\r\n        }\r\n\r\n        let toggleComponent = this.miscModeToggleList[0].getComponent(Toggle);\r\n        toggleComponent.isChecked = false;\r\n        debugView.csmLayerColoration = false;\r\n        toggleComponent = this.miscModeToggleList[1].getComponent(Toggle);\r\n        toggleComponent.isChecked = true;\r\n        debugView.lightingWithAlbedo = true;\r\n    }\r\n    hideUI(button: Button) {\r\n        const titleNode = this.node.getChildByName('Titles');\r\n        const activeValue = !titleNode.active;\r\n        this.singleModeToggleList[0].parent.active = activeValue;\r\n        this.miscModeToggleList[0].parent.active = activeValue;\r\n        this.compositeModeToggleList[0].parent.active = activeValue;\r\n        this.EnableAllCompositeModeButton.parent.active = activeValue;\r\n        titleNode.active = activeValue;\r\n        this.hideButtonLabel.string = activeValue ? 'Hide UI' : 'Show UI';\r\n    }\r\n\r\n    private _currentColorIndex = 0;\r\n    private strColor: string[] = [\r\n        '<color=#ffffff>',\r\n        '<color=#000000>',\r\n        '<color=#ff0000>',\r\n        '<color=#00ff00>',\r\n        '<color=#0000ff>',\r\n    ];\r\n    private color: Color[] = [\r\n        Color.WHITE,\r\n        Color.BLACK,\r\n        Color.RED,\r\n        Color.GREEN,\r\n        Color.BLUE,\r\n    ];\r\n    changeTextColor(button: Button) {\r\n        this._currentColorIndex++;\r\n        if (this._currentColorIndex >= this.strColor.length) {\r\n            this._currentColorIndex = 0;\r\n        }\r\n        for (let i = 0; i < this.textComponentList.length; i++) {\r\n            this.textComponentList[i].string = this.strColor[this._currentColorIndex] + this.textContentList[i] + '</color>';\r\n        }\r\n        for (let i = 0; i < this.labelComponentList.length; i++) {\r\n            this.labelComponentList[i].color = this.color[this._currentColorIndex];\r\n        }\r\n    }\r\n\r\n    onLoad() {\r\n    }\r\n    update(deltaTime: number) {\r\n    }\r\n}\r\n","import { _decorator, Component, Node, game, Game, Label, Sprite } from 'cc';\r\nimport {UiGameSystemPopup} from \"./UiGameSystemPopup\";\r\nimport { UiControls } from './UiControls';\r\nimport { AudioController } from './AudioController';\r\nimport { UiTable } from '../UiTable';\r\nimport { Board } from '../Board';\r\nimport { GameManager } from '../GameManager';\r\nimport { ENUM_CURRENT_SCENE, ENUM_DEVICE_TYPE } from '../HoldemDefines';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameEntry')\r\nexport class GameEntry extends Component {\r\n    @property(AudioController) audioController: AudioController = null;\r\n\r\n    @property(Node) rootPortrait: Node = null;\r\n    @property(Node) rootLandscape: Node = null;\r\n\r\n    private _root: Node = null;\r\n    private _popup: UiGameSystemPopup = null;\r\n    private _controls: UiControls = null;\r\n    private _isChildrenRegisted: boolean = false;\r\n    private _table: UiTable = null;\r\n    private _rootInformation: Node = null;\r\n    private _labelID: Label = null;    \r\n    private _labelAnte: Label = null;    \r\n    private _labelSB: Label = null;\r\n    private _labelBB: Label = null;\r\n    private _labelIP: Label = null;\r\n    private _labelHandInfo: Label = null;\r\n\r\n    onLoad() {\r\n\t\tthis.rootPortrait.active = false;\r\n\t\tthis.rootLandscape.active = false;\r\n\r\n\t\tlet Info: any = GameManager.Instance().GetInfo();\r\n\t\tswitch ( Info.device ) {\r\n\t\t\tcase ENUM_DEVICE_TYPE.MOBILE_PORTRAIT:\r\n\t\t\t\tthis._root = this.rootPortrait;\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase ENUM_DEVICE_TYPE.PC_LANDSCAPE:\r\n\t\t\t\tthis._root = this.rootLandscape;\r\n\t\t\tbreak;\t\t\t\t\r\n\t\t}\r\n\r\n\t\tthis.RegisterChildren();\r\n\t\tthis.Init();\r\n\r\n\t\tthis._root.active = true;\r\n    }\r\n\r\n    private Init() {\r\n        this._popup.init();\r\n        this._controls.init();\r\n        this.audioController.init();\r\n\r\n        GameManager.Instance().SetCurrentScene( ENUM_CURRENT_SCENE.GAME_SCENE );\r\n\r\n        this._table.init(this.SetHandInfo.bind(this));\r\n        this._table.show();\r\n\r\n        if ( this._rootInformation != null ) {\r\n            if ( this._labelID != null ) {\r\n                this._labelID.string = (Board.id).toString();\r\n                this._labelID.node.active = false;\r\n            }\r\n\r\n            if ( this._labelSB != null ) {\r\n                this._labelSB.string = (Board.small).toString();\r\n                this._labelSB.node.active = true;\r\n            }\r\n\r\n            if ( this._labelBB != null ) {\r\n                this._labelBB.string = ( Board.big ).toString();\r\n                this._labelBB.node.active = true;\r\n            }\r\n\r\n            if ( this._labelIP != null ) {\r\n                this._labelIP.string = '( ' + Board.ip + ' )';\r\n                this._labelIP.node.active = false;\r\n            }            \r\n\r\n            if ( this._labelAnte != null ) {\r\n                this._labelAnte.string = ( Board.ante).toString();\r\n                this._labelAnte.node.active = true;\r\n            }\r\n\r\n            if ( this._labelHandInfo != null ) {\r\n                this._labelHandInfo.string = '';\r\n                this._labelHandInfo.node.active = false;\r\n            }\r\n\r\n            this._rootInformation.active = true;\r\n        }\r\n\r\n        game.on( Game.EVENT_SHOW, this.onEVENT_SHOW.bind(this), this );\r\n        game.on( Game.EVENT_HIDE, this.onEVENT_HIDE.bind(this), this );\r\n    }\r\n\r\n    private RegisterChildren() {\r\n\t\tif ( this._root == null || this._isChildrenRegisted == true ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n        this._popup = this._root.getChildByPath('GAME_SYSTEM_POPUP').getComponent(UiGameSystemPopup);\r\n        if ( this._popup != null ) {\r\n            this._popup.node.active = false;\r\n        }\r\n\r\n        this._controls = this._root.getChildByPath('GLOBAL_BUTTONS').getComponent(UiControls);\r\n        if ( this._controls != null ) {\r\n            this._controls.node.active = false;\r\n        }\r\n\r\n        this._table = this._root.getChildByPath('UI_TABLE').getComponent(UiTable);\r\n        if ( this._table != null ) {\r\n            this._table.node.active = false;\r\n        }\r\n\r\n        this._rootInformation = this._root.getChildByPath('INFO');\r\n        if ( this._rootInformation != null ) {\r\n            this._table.node.active = false;\r\n\r\n            this._labelID = this._rootInformation.getChildByPath('LABEL_ID').getComponent(Label);\r\n            if ( this._labelID != null ) {\r\n                this._labelID.node.active = false;\r\n                this._labelID.string = '0';\r\n            }\r\n\r\n            this._labelAnte = this._rootInformation.getChildByPath('LABEL_ANTE').getComponent(Label);\r\n            if ( this._labelAnte != null ) {\r\n                this._labelAnte.node.active = false;\r\n                this._labelAnte.string = '0';\r\n            }\r\n            \r\n            this._labelSB = this._rootInformation.getChildByPath('LABEL_SB').getComponent(Label);\r\n            if ( this._labelSB != null ) {\r\n                this._labelSB.node.active = false;\r\n                this._labelSB.string = '0';\r\n            }\r\n\r\n            this._labelBB = this._rootInformation.getChildByPath('LABEL_BB').getComponent(Label);\r\n            if ( this._labelBB != null ) {\r\n                this._labelBB.node.active = false;\r\n                this._labelBB.string = '0';\r\n            }\r\n\r\n            this._labelIP = this._rootInformation.getChildByPath('LABEL_IP').getComponent(Label);\r\n            if ( this._labelIP != null ) {\r\n                this._labelIP.string = '';                \r\n                this._labelIP.node.active = false;\r\n            }\r\n\r\n            this._labelHandInfo = this._rootInformation.getChildByPath('LABEL_HAND_INFO').getComponent(Label);\r\n            if ( this._labelHandInfo != null ) {\r\n                this._labelHandInfo.string = '';                \r\n                this._labelHandInfo.node.active = false;\r\n            }\r\n        }\r\n\r\n        this._isChildrenRegisted = true;\r\n    }\r\n\r\n    private onEVENT_SHOW() {\r\n        if ( this._table != null ) {\r\n            this._table.onEVENT_FOREGROUND();\r\n        }\r\n    }\r\n\r\n    private onEVENT_HIDE() {\r\n        if ( this._table != null ) {\r\n            this._table.onEVENT_BACKGROUND();\r\n        }\r\n    }\r\n\r\n    protected onDestroy(): void {\r\n        game.off( Game.EVENT_SHOW );\r\n        game.off( Game.EVENT_HIDE );\r\n    }\r\n\r\n    private SetHandInfo( hands: any ) {\r\n        if ( this._labelHandInfo != null && hands != null ) {\r\n            this._labelHandInfo.string = '핸드: ' + (Board.table_id).toString() + '-' + hands.toString();\r\n            this._labelHandInfo.node.active = true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","// @ts-ignore\r\nimport * as cc from \"cc\";\r\nimport { _decorator, Component, Node, director, Scene } from 'cc';\r\nimport { ENUM_CURRENT_SCENE, ENUM_DEVICE_TYPE, ENUM_LEAVE_REASON } from \"./HoldemDefines\";\r\nimport { NetworkManager } from \"./NetworkManager\";\r\nconst { ccclass } = cc._decorator;\r\n\r\nconst CLIENT_VERSION: string = '4';\r\n\r\n@ccclass('GameManager')\r\nexport class GameManager extends cc.Component {\r\n    private version: string = '';\r\n    private deviceType: ENUM_DEVICE_TYPE = ENUM_DEVICE_TYPE.MOBILE_PORTRAIT;\r\n    private static _instance : GameManager = null;\r\n    private leaveReason: ENUM_LEAVE_REASON = ENUM_LEAVE_REASON.LEAVE_UNKNOWN;\r\n    private currentScene: ENUM_CURRENT_SCENE = ENUM_CURRENT_SCENE.LOGIN_SCENE;\r\n    private showEventPopup: boolean = false;\r\n\r\n    public static Instance() : GameManager\r\n\t{\r\n\t\tif(null == this._instance){\r\n\t\t\tthis._instance = new GameManager();\r\n\t\t}\r\n\t\t\r\n\t\treturn this._instance;\r\n\t}\r\n\r\n    public Init() {\r\n        this.showEventPopup = true;\r\n\r\n        this.version = CLIENT_VERSION;\r\n        this.deviceType = ENUM_DEVICE_TYPE.MOBILE_PORTRAIT;\r\n        // this.deviceType = ENUM_DEVICE_TYPE.PC_LANDSCAPE;        \r\n    }\r\n\r\n    public GetInfo(): any {\r\n        return {\r\n            device: this.deviceType,\r\n            version: this.version,\r\n        };\r\n    }\r\n\r\n    public GetVersion() : string {\r\n        return this.version;\r\n    }\r\n\r\n    public SetVersion( version: string ) {\r\n        this.version = version;\r\n    }\r\n\r\n    public SetDeviceType( type: ENUM_DEVICE_TYPE) {\r\n        this.deviceType = type;\r\n    }    \r\n\r\n    public SetCurrentScene( scene: ENUM_CURRENT_SCENE ) {\r\n        this.currentScene = scene;\r\n    }\r\n\r\n    public GetShowEventPopup() {\r\n        return this.showEventPopup;\r\n    }\r\n\r\n    public SetShowEventPopup( show: boolean ) {\r\n        this.showEventPopup = show;\r\n    }\r\n\r\n    public ForceExit( leaveReason: ENUM_LEAVE_REASON ) {\r\n        this.leaveReason = leaveReason;\r\n\r\n        switch ( this.leaveReason ) {\r\n            case ENUM_LEAVE_REASON.LEAVE_NONE:\r\n                break;\r\n            case ENUM_LEAVE_REASON.LEAVE_VERSION_MISMATCH:\r\n            case ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE:\r\n            case ENUM_LEAVE_REASON.LEAVE_LONG_AFK:                \r\n                director.loadScene(\"LoginScene\", (error: null | Error, scene?: Scene)=>{\r\n                    NetworkManager.Instance().logout();\r\n                });\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n\r\n    public ResetLeaveReason() {\r\n        this.leaveReason = ENUM_LEAVE_REASON.LEAVE_NONE;\r\n    }\r\n\r\n    public GetLeaveReason() {\r\n        return this.leaveReason;\r\n    }\r\n}\r\n\r\n\r\n","\r\nexport const GAME_STATE_SUSPEND: number = 0;\r\nexport const GAME_STATE_READY: number = 1;\r\nexport const GAME_STATE_PREPARE: number = 2;\r\n\r\nexport const GAME_STATE_PREFLOP: number = 3;\r\nexport const GAME_STATE_BET: number = 4;\r\nexport const GAME_STATE_FLOP: number = 5;\r\nexport const GAME_STATE_TURN: number = 6;\r\nexport const GAME_STATE_RIVER: number = 7;\r\n\r\nexport const GAME_STATE_RESULT: number = 8;\r\nexport const GAME_STATE_SHOWDOWN: number = 9;\r\nexport const GAME_STATE_CLEAR: number = 10;\r\n\r\nexport const VOLUMNE_MULTIPLIER:number = 10.0;\r\n\r\nexport enum ENUM_COMMUNTY_CARD_STATE {\r\n\tPREPARE = 0,\r\n\tPRE_FLOP = 1,\r\n\tFLOP = 2,\r\n\tTURN = 3,\r\n\tRIVER = 4,\r\n\tSHOWDOWN = 5\r\n}\r\n\r\nexport enum ENUM_CARD_TYPE {\r\n    NONE = 0,\r\n\tPLAYER_HIDDEN = 1,\r\n\tPLAYER_HAND = 2,\r\n\tCOMMUNITY_FLOP = 3,\r\n\tCOMMUNITY_TURN = 4,\r\n\tCOMMUNITY_RIVER = 5,\r\n}\r\n\r\nexport enum ENUM_BET_SOUND {\r\n\tBET_FOLD,\r\n\tBET_CHECK,\r\n\tBET_CALL,\r\n\tBET,\r\n\tRAISE,\r\n\tBET_QUATER,\r\n\tBET_HALF,\r\n\tBET_FULL,\r\n\tBET_MAX,\r\n\tBET_ALLIN,\r\n}\r\n\r\nexport enum ENUM_LEAVE_REASON {\r\n    LEAVE_NONE = -1,    \r\n    LEAVE_UNKNOWN = 0,\r\n    LEAVE_TOKEN_EXPIRE = 1,\r\n    LEAVE_VERSION_MISMATCH = 2,\r\n\tLEAVE_LONG_AFK = 3,\r\n\tLEAVE_DISABLE_ACCOUNT = 4,\r\n}\r\n\r\nexport enum ENUM_DEVICE_TYPE {\r\n    MOBILE_PORTRAIT = 0,\r\n    PC_LANDSCAPE = 1,\r\n}\r\n\r\nexport enum ENUM_CURRENT_SCENE {\r\n    LOGIN_SCENE = 0,\r\n    LOBBY_SCENE = 1,\r\n    GAME_SCENE = 2,\r\n}","import { _decorator, Component, Node, AudioSource, AudioClip } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { VOLUMNE_MULTIPLIER } from '../HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('LobbyAudioContoller')\r\nexport class LobbyAudioContoller extends Component {\r\n    static instance: LobbyAudioContoller = null ;\r\n    @property(AudioClip) clipButtonClick: AudioClip = null;\r\n\r\n    @property(AudioSource) audioSource: AudioSource = null;\r\n\r\n    private volumn: number = 0;\r\n\r\n    init() {\r\n        LobbyAudioContoller.instance = this;\r\n\r\n        this.volumn = NetworkManager.Instance().GetSetting().sound;\r\n        this.audioSource.volume = this.volumn / VOLUMNE_MULTIPLIER;\r\n    }\r\n\r\n    ApplyVolumn() {\r\n        this.volumn = NetworkManager.Instance().GetSetting().sound;\r\n        this.audioSource.volume = this.volumn / VOLUMNE_MULTIPLIER;\r\n    }\r\n\r\n    PlayButtonClick() {\r\n        this.audioSource.playOneShot( this.clipButtonClick );        \r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, game, Game } from 'cc';\r\nimport { LobbyAudioContoller } from './Lobby/LobbyAudioContoller';\r\nimport { LobbySystemPopup } from './LobbySystemPopup';\r\nimport { UiLobby } from './UiLobby';\r\nimport { NetworkManager } from './NetworkManager';\r\nimport { ENUM_CURRENT_SCENE, ENUM_DEVICE_TYPE } from './HoldemDefines';\r\nimport { GameManager } from './GameManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('LobbyEntry')\r\nexport class LobbyEntry extends Component {\r\n    @property(Node) rootPortrait: Node = null;\r\n    @property(Node) rootLandscape: Node = null;\r\n    @property(LobbyAudioContoller) AudioContoller: LobbyAudioContoller = null;\r\n\r\n    private _lobby: UiLobby = null;\r\n    private _popup: LobbySystemPopup = null;\r\n\r\n    private _root: Node = null;\r\n\tprivate _isChildrenRegisted: boolean = false;    \r\n\r\n    protected onLoad(): void {\r\n\r\n        this.rootPortrait.active = false;\r\n        this.rootLandscape.active = false;\r\n\r\n        let Info: any = GameManager.Instance().GetInfo();\r\n\t\tswitch ( Info.device ) {\r\n\t\t\tcase ENUM_DEVICE_TYPE.MOBILE_PORTRAIT:\r\n\t\t\t\tthis._root = this.rootPortrait;\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase ENUM_DEVICE_TYPE.PC_LANDSCAPE:\r\n\t\t\t\tthis._root = this.rootLandscape;\r\n\t\t\tbreak;\t\t\t\t\r\n\t\t}\r\n\r\n        this.RegisterChildren();\r\n\t\tthis.Init();\r\n\r\n\t\tthis._root.active = true;\r\n    }\r\n\r\n    private Init() {\r\n        this.AudioContoller.init();        \r\n        if ( this._lobby != null ) {\r\n            this._lobby.init();\r\n        }\r\n\r\n        if ( this._popup != null ) {\r\n            this._popup.initialize();\r\n        }\r\n\r\n        this._lobby.show( ()=>{\r\n            this.end();\r\n        });\r\n\r\n        GameManager.Instance().SetCurrentScene( ENUM_CURRENT_SCENE.LOBBY_SCENE);\r\n\r\n        game.off( Game.EVENT_SHOW);\r\n        game.off( Game.EVENT_HIDE);\r\n\r\n        game.on( Game.EVENT_SHOW, this.onEVENT_SHOW.bind(this), this);\r\n        game.on( Game.EVENT_HIDE, this.onEVENT_HIDE.bind(this), this);\r\n\t}\r\n\r\n\tprivate RegisterChildren() {\r\n\t\tif ( this._root == null || this._isChildrenRegisted == true ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n        this._lobby = this._root.getChildByPath('LOBBY').getComponent(UiLobby);\r\n        if ( this._lobby != null ) {\r\n            this._lobby.node.active = false;\r\n        }\r\n\r\n        this._popup = this._root.getChildByPath('SYSTEM_POPUP').getComponent(LobbySystemPopup);\r\n        if ( this._popup != null ) {\r\n            this._popup.node.active = false;\r\n        }\r\n\r\n\t\tthis._isChildrenRegisted = true;\r\n\t}\r\n\r\n    private onEVENT_SHOW() {\r\n        this._lobby.onEVENT_SHOW();\r\n    }\r\n\r\n    private onEVENT_HIDE() {\r\n        this._lobby.onEVENT_HIDE();\r\n    }\r\n\r\n    public end() {\r\n        game.off( Game.EVENT_SHOW);\r\n        game.off( Game.EVENT_HIDE);\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Button } from 'cc';\r\nimport { LobbyAudioContoller } from './Lobby/LobbyAudioContoller';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ePopupType{\r\n    None,\r\n    Ok,\r\n    YesOrNo\r\n}\r\n\r\n@ccclass('PopUpElement')\r\nexport class PopUpElement {\r\n\r\n    @property(Node) private root : Node = null;\r\n    @property(Node) private popUpOk : Node = null;\r\n    @property(Node) private popUpYesOrNo : Node = null;\r\n\r\n    @property(Button) private btnOk : Button = null;\r\n    @property(Button) private btnYes : Button = null;\r\n    @property(Button) private btnNo : Button = null;\r\n\r\n    @property(Label) private lbTitle : Label = null;\r\n    @property(Label) private lbTitleShadow : Label = null;\r\n    @property(Label) private lbContents : Label = null;\r\n    @property(Label) private lbContentsShadow : Label = null;\r\n\r\n    private onClose : () => void = null;\r\n    private onYes : () => void = null;\r\n    private onNo : () => void = null;\r\n\r\n    public init(){\r\n        this.btnOk.node.off(\"click\");\r\n        this.btnOk.node.on(\"click\", this.onClickOk.bind(this), this);\r\n\r\n        this.btnYes.node.off(\"click\");\r\n        this.btnYes.node.on(\"click\", this.onClickYes.bind(this), this);\r\n\r\n        this.btnNo.node.off(\"click\");\r\n        this.btnNo.node.on(\"click\", this.onClickNo.bind(this), this);\r\n    }\r\n\r\n    private onClickOk(){\r\n        this.hide();\r\n\r\n        if(null != this.onClose){\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n            this.onClose();\r\n        }\r\n    }\r\n\r\n    private onClickYes(){\r\n        this.hide();\r\n\r\n        if(null != this.onYes){\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n            this.onYes();\r\n        }\r\n    }\r\n\r\n    private onClickNo(){\r\n        this.hide();\r\n\r\n        if(null != this.onNo){\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n            this.onNo();\r\n        }\r\n    }\r\n\r\n    public show( type: ePopupType, title : string, content : string, closeCallback : () => void, yesCallback : () => void, noCallback : () => void){\r\n\r\n        this.clear();\r\n\r\n        this.lbTitle.string = title;\r\n        this.lbTitleShadow.string = this.lbTitle.string;\r\n\r\n        this.lbContents.string = content;\r\n        this.lbContentsShadow.string = this.lbContents.string;\r\n\r\n        this.onClose = closeCallback;\r\n        this.onYes = yesCallback;\r\n        this.onNo = noCallback;\r\n\r\n        this.popUpOk.active = false;\r\n        this.popUpYesOrNo.active = false;\r\n\r\n        switch ( type ) {\r\n            case ePopupType.None:\r\n                this.popUpOk.active = true;\r\n                break;\r\n            case ePopupType.Ok:\r\n                this.popUpOk.active = true;\r\n                break;\r\n            case ePopupType.YesOrNo:\r\n                this.popUpYesOrNo.active = true;\r\n                break;\r\n        }\r\n\r\n        this.root.active = true;\r\n    }\r\n\r\n    public hide(){\r\n        this.root.active = false;\r\n    }\r\n\r\n    public clear(){\r\n        this.lbTitle.string = \"\";\r\n        this.lbTitleShadow.string = \"\";\r\n        this.lbContents.string = \"\";\r\n        this.lbContents.string = \"\";\r\n        this.onClose = null;\r\n        this.onYes = null;\r\n        this.onNo = null;\r\n    }\r\n}\r\n\r\n@ccclass('LobbySystemPopup')\r\nexport class LobbySystemPopup extends Component {\r\n    public static instance : LobbySystemPopup = null;\r\n\r\n    @property(PopUpElement)\r\n    private uiPopUp : PopUpElement = new PopUpElement();\r\n\r\n    private popupQueue : any[] = [];\r\n    private isPopupShow : boolean = false;\r\n\r\n    public initialize() {\r\n        this.uiPopUp.init();\r\n        this.uiPopUp.hide();\r\n        this.isPopupShow = false;\r\n\r\n        LobbySystemPopup.instance = this;        \r\n    }\r\n\r\n    public showPopUpOk( title : string, content : string, closeCallback? : () => void){\r\n        this.popupQueue.push( {type : ePopupType.Ok, title : title, content : content, closeCallback : closeCallback, yesCallback : null, noCallback : null});\r\n        this.isPopupShow = true;\r\n        this.showPopup();\r\n    }\r\n\r\n    public showPopUpYesOrNo(title : string, content : string, yesCallback? : () => void, noCallback? : () => void){\r\n        this.popupQueue.push( {type : ePopupType.YesOrNo, title : title, content : content, closeCallback : null, yesCallback : yesCallback, noCallback : noCallback});\r\n        this.isPopupShow = true;        \r\n        this.showPopup();\r\n    }\r\n\r\n    private showPopup(){\r\n        this.uiPopUp.hide();\r\n\r\n        if(this.popupQueue.length < 1){\r\n            this.isPopupShow = false;\r\n            return;\r\n        }\r\n\r\n        let showInfo : any = this.popupQueue[this.popupQueue.length - 1];\r\n\r\n        if(null == showInfo){\r\n            this.isPopupShow = false;\r\n            return;\r\n        }\r\n\r\n        switch (showInfo.type)\r\n        {\r\n            case ePopupType.None:\r\n            {\r\n            }\r\n                break;\r\n            case ePopupType.Ok:\r\n            {\r\n                this.uiPopUp.show( ePopupType.Ok, showInfo.title, showInfo.content,  (()=> {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.closeCallback){\r\n                        showInfo.closeCallback();\r\n                    }\r\n                }).bind(this), null, null);\r\n            }\r\n                break;\r\n            case ePopupType.YesOrNo:\r\n            {\r\n                this.uiPopUp.show( ePopupType.YesOrNo, showInfo.title, showInfo.content, null, (() => {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.yesCallback){\r\n                        showInfo.yesCallback();\r\n                    }\r\n                }), (() => {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.noCallback){\r\n                        showInfo.noCallback();\r\n                    }\r\n                }))\r\n            }\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    private clear() {\r\n        // this.labelTitle.string = '';\r\n        // this.labelDescription.string = '';\r\n\r\n        // this.nodeOkPopup.active = false;\r\n        // this.nodeYesNoPopup.active = false;\r\n\r\n        // this.cbOk = null;\r\n        // this.cbYes = null;\r\n        // this.cbNo = null;\r\n    }\r\n\r\n    public IsPOPUP_SHOW(): boolean {\r\n        return this.isPopupShow;\r\n    }\r\n\r\n    public closePopup() {\r\n        this.clear();\r\n        this.isPopupShow = false;\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum LoginPopupType{\r\n    None,\r\n    Ok,\r\n    YesOrNo\r\n}\r\n\r\n@ccclass('LoginPopUpElement')\r\nexport class LoginPopUpElement {\r\n\r\n    @property(Node) private root : Node = null;\r\n    @property(Node) private popUpOk : Node = null;\r\n    @property(Node) private popUpYesOrNo : Node = null;\r\n\r\n    @property(Button) private btnOk : Button = null;\r\n    @property(Button) private btnYes : Button = null;\r\n    @property(Button) private btnNo : Button = null;\r\n\r\n    @property(Label) private lbTitle : Label = null;\r\n    @property(Label) private lbContents : Label = null;\r\n\r\n    private onClose : () => void = null;\r\n    private onYes : () => void = null;\r\n    private onNo : () => void = null;\r\n\r\n    public init(){\r\n        this.btnOk.node.on(\"click\", this.onClickOk.bind(this), this);\r\n        this.btnYes.node.on(\"click\", this.onClickYes.bind(this), this);\r\n        this.btnNo.node.on(\"click\", this.onClickNo.bind(this), this);\r\n    }\r\n\r\n    private onClickOk(){\r\n        this.hide();\r\n\r\n        if(null != this.onClose){\r\n            // LobbyAudioContoller.instance.playButtonClick();\r\n            this.onClose();\r\n        }\r\n    }\r\n\r\n    private onClickYes(){\r\n        this.hide();\r\n\r\n        if(null != this.onYes){\r\n            // LobbyAudioContoller.instance.playButtonClick();\r\n            this.onYes();\r\n        }\r\n    }\r\n\r\n    private onClickNo(){\r\n        this.hide();\r\n\r\n        if(null != this.onNo){\r\n            // LobbyAudioContoller.instance.playButtonClick();\r\n            this.onNo();\r\n        }\r\n    }\r\n\r\n    public show( type: LoginPopupType, title : string, content : string, closeCallback : () => void, yesCallback : () => void, noCallback : () => void){\r\n\r\n        this.clear();\r\n\r\n        this.lbTitle.string = title;\r\n\r\n        this.lbContents.string = content;\r\n\r\n        this.onClose = closeCallback;\r\n        this.onYes = yesCallback;\r\n        this.onNo = noCallback;\r\n\r\n        this.popUpOk.active = false;\r\n        this.popUpYesOrNo.active = false;\r\n\r\n        switch ( type ) {\r\n            case LoginPopupType.None:\r\n                this.popUpOk.active = true;\r\n                break;\r\n            case LoginPopupType.Ok:\r\n                this.popUpOk.active = true;\r\n                break;\r\n            case LoginPopupType.YesOrNo:\r\n                this.popUpYesOrNo.active = true;\r\n                break;\r\n        }\r\n\r\n        this.root.active = true;\r\n    }\r\n\r\n    public hide(){\r\n        this.root.active = false;\r\n    }\r\n\r\n    public clear(){\r\n        this.lbTitle.string = \"\";\r\n        this.lbContents.string = \"\";\r\n\r\n        this.onClose = null;\r\n        this.onYes = null;\r\n        this.onNo = null;\r\n    }\r\n}\r\n\r\n@ccclass('LoginSystemPopup')\r\nexport class LoginSystemPopup extends Component {\r\n    public static instance : LoginSystemPopup = null;\r\n\r\n    @property(LoginPopUpElement)\r\n    private uiPopUp : LoginPopUpElement = new LoginPopUpElement();\r\n\r\n    private popupQueue : any[] = [];\r\n    private isPopupShow : boolean = false;\r\n\r\n    public initialize() {\r\n        LoginSystemPopup.instance = this;\r\n\r\n        this.uiPopUp.init();\r\n        this.uiPopUp.hide();\r\n        this.closePopup();\r\n    }\r\n\r\n    public showPopUpOk( title : string, content : string, closeCallback? : () => void){\r\n        this.popupQueue.push( {type : LoginPopupType.Ok, title : title, content : content, closeCallback : closeCallback, yesCallback : null, noCallback : null});\r\n        this.showPopup();\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    public showPopUpYesOrNo(title : string, content : string, yesCallback? : () => void, noCallback? : () => void){\r\n        this.popupQueue.push( {type : LoginPopupType.YesOrNo, title : title, content : content, closeCallback : null, yesCallback : yesCallback, noCallback : noCallback});\r\n        this.showPopup();\r\n\r\n        this.node.active = true;        \r\n    }\r\n\r\n    private showPopup(){\r\n        this.uiPopUp.hide();\r\n\r\n        if(this.popupQueue.length < 1){\r\n            this.isPopupShow = false;\r\n            return;\r\n        }\r\n\r\n        let showInfo : any = this.popupQueue[this.popupQueue.length - 1];\r\n\r\n        if(null == showInfo){\r\n            this.isPopupShow = false;\r\n            return;\r\n        }\r\n\r\n        switch (showInfo.type)\r\n        {\r\n            case LoginPopupType.None:\r\n            {\r\n            }\r\n                break;\r\n            case LoginPopupType.Ok:\r\n            {\r\n                this.uiPopUp.show( LoginPopupType.Ok, showInfo.title, showInfo.content,  (()=> {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.closeCallback){\r\n                        showInfo.closeCallback();\r\n                    }\r\n                }).bind(this), null, null);\r\n            }\r\n                break;\r\n            case LoginPopupType.YesOrNo:\r\n            {\r\n                this.uiPopUp.show( LoginPopupType.YesOrNo, showInfo.title, showInfo.content, null, (() => {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.yesCallback){\r\n                        showInfo.yesCallback();\r\n                    }\r\n                }), (() => {\r\n                    this.popupQueue.pop();\r\n                    this.showPopup();\r\n\r\n                    if(null != showInfo.noCallback){\r\n                        showInfo.noCallback();\r\n                    }\r\n                }))\r\n            }\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    private clear() {\r\n        // this.labelTitle.string = '';\r\n        // this.labelDescription.string = '';\r\n\r\n        // this.nodeOkPopup.active = false;\r\n        // this.nodeYesNoPopup.active = false;\r\n\r\n        // this.cbOk = null;\r\n        // this.cbYes = null;\r\n        // this.cbNo = null;\r\n    }\r\n\r\n    public closePopup() {\r\n        this.clear();\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Input, resources, SpriteFrame, Label, Canvas } from 'cc';\r\nimport { UiJoinPlayer } from './Lobby/UiJoinPlayer';\r\nimport { LoginSystemPopup } from './Login/LoginSystemPopup';\r\nimport { UiLogin } from './UiLogin';\r\nimport { NetworkManager } from './NetworkManager';\r\nimport { GameManager } from './GameManager';\r\nimport { ENUM_CURRENT_SCENE, ENUM_DEVICE_TYPE } from './HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('Main')\r\nexport class Main extends Component {\r\n\t@property(Node) rootPortrait: Node = null;\r\n\t@property(Node) rootLandscape: Node = null;\t\r\n\t@property(Canvas) canvasLogin: Node = null;\t\r\n\r\n\t@property version: string = '1';\r\n\r\n\tprivate _root: Node = null;\r\n\r\n\tprivate _login: UiLogin = null;\r\n\tprivate _join: UiJoinPlayer = null;\r\n\tprivate _loginPopup: LoginSystemPopup = null;\r\n\tprivate _lableVersion: Label = null;\r\n\r\n\tprivate _isChildrenRegisted: boolean = false;\r\n\r\n\tprotected onLoad(): void {\r\n\t\tGameManager.Instance().Init();\r\n\t\tGameManager.Instance().SetVersion( this.version );\r\n\t\tGameManager.Instance().SetDeviceType( ENUM_DEVICE_TYPE.MOBILE_PORTRAIT );\r\n\r\n\t\tthis.rootPortrait.active = false;\r\n\t\tthis.rootLandscape.active = false;\r\n\r\n\t\tlet Info: any = GameManager.Instance().GetInfo();\r\n\t\tswitch ( Info.device ) {\r\n\t\t\tcase ENUM_DEVICE_TYPE.MOBILE_PORTRAIT:\r\n\t\t\t\tthis._root = this.rootPortrait;\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase ENUM_DEVICE_TYPE.PC_LANDSCAPE:\r\n\t\t\t\tthis._root = this.rootLandscape;\r\n\t\t\tbreak;\t\t\t\t\r\n\t\t}\r\n\r\n\t\tthis.RegisterChildren();\r\n\t\tthis.Init();\r\n\r\n\t\tthis._root.active = true;\r\n\t}\r\n\r\n\tprivate Init() {\r\n\t\tif ( this._login != null ) {\r\n\t\t\tthis._login.init( this );\r\n\t\t}\r\n\r\n\t\tif ( this._join != null ) {\r\n\t\t\tthis._join.init( this );\r\n\t\t}\r\n\r\n\t\tif ( this._loginPopup != null ) {\r\n\t\t\tthis._loginPopup.initialize();\r\n\t\t}\r\n\r\n\t\tif ( this._lableVersion != null ) {\r\n\t\t\tthis._lableVersion.string = 'VERSION: ' + GameManager.Instance().GetVersion();\t\t\t\r\n\t\t\tthis._lableVersion.node.active = true;\r\n\t\t}\r\n\r\n\t\tGameManager.Instance().SetCurrentScene( ENUM_CURRENT_SCENE.LOGIN_SCENE );\r\n\t\tthis._login.show();\r\n\r\n\t\tNetworkManager.Instance().Initialize();\r\n\t}\r\n\r\n\tpublic onShowJoinMember() {\r\n\t\tthis._login.hide();\r\n\t\tthis._join.show();\r\n\t}\r\n\r\n\tpublic onShowLogin() {\r\n\t\tthis._join.hide();\r\n\t\tthis._login.show();\r\n\t}\r\n\r\n\tprivate RegisterChildren() {\r\n\t\tif ( this._root == null || this._isChildrenRegisted == true ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis._login = this._root.getChildByPath('LOGIN').getComponent(UiLogin);\r\n\t\tif ( this._login != null ) {\r\n\t\t\tthis._login.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis._join = this._root.getChildByPath('JOIN').getComponent(UiJoinPlayer);\r\n\t\tif ( this._join != null ) {\r\n\t\t\tthis._join.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis._loginPopup = this._root.getChildByPath('SYSTEM_POPUP').getComponent(LoginSystemPopup);\r\n\t\tif ( this._loginPopup != null ) {\r\n\t\t\tthis._loginPopup.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis._lableVersion = this._root.getChildByPath('LABEL_VERSION').getComponent(Label);\r\n\t\tif ( this._lableVersion != null ) {\r\n\t\t\tthis._lableVersion.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis._isChildrenRegisted = true;\r\n\t}\r\n}\r\n\r\n\r\n","// @ts-ignore\r\nimport ColySeus from \"db://colyseus-sdk/colyseus.js\"\r\nimport * as cc from \"cc\";\r\nimport { _decorator } from 'cc';\r\nimport { GameManager } from \"./GameManager\";\r\nimport { ENUM_LEAVE_REASON } from \"./HoldemDefines\";\r\n\r\nconst { ccclass } = cc._decorator;\r\n\r\nexport enum ENUM_RESULT_CODE {\r\n\tDISCONNECT_SERVER = -2,\r\n\tUNKNOWN_FAIL = -1,\r\n    SUCCESS = 0,\r\n    EXPIRED_SESSION = 1,\r\n}\r\n\r\nexport enum HOLDEM_SERVER_TYPE {\r\n\tAPI_SERVER = 0,\r\n\tAPI_SERVER_SUB = 1,\t\r\n\tGAME_SERVER = 2,\r\n\tGAME_SERVER_SUB = 3,\r\n}\r\n\r\n// const apiHost: string = '127.0.0.1';\r\n// const gameHost: string = '127.0.0.1';\r\n\r\n// const apiHost: string = '43.207.193.204';\t//for MAIN SERVER\r\n// const gameHost: string = '43.207.193.204';\t//for MAIN SERVER\r\n\r\nconst apiHost: string = '18.183.95.34';\t//for TEST SERVER\r\nconst gameHost: string = '18.183.95.34'; //for TEST SERVER\r\n\r\nconst apiPort: number = 7500;\r\nconst apiPort_sub: number = 7510;\r\n\r\nconst gamePort: number = 7600;\r\nconst gamePort_sub: number = 7610;\r\n\r\n// const apiHost: string = 'hw-123.com';\r\n// const apiPort: number = 7500;\r\n\r\n// const gameHost: string = 'hw-123.com';\r\n// const gamePort: number = 7510;\r\n\r\n// const apiHost: string = '43.207.193.204';\r\n// const apiPort: number = 7500;\r\n\r\n// const gameHost: string = '43.207.193.204';\r\n// const gamePort: number = 7510;\r\n\r\n// const apiHost: string = '18.183.95.34';\r\n// const apiPort: number = 2600;\r\n\r\n// const gameHost: string = '18.183.95.34';\r\n// const gamePort: number = 2568;\r\n\r\n@ccclass('NetworkManager')\r\nexport class NetworkManager extends cc.Component {\r\n    private static _instance : NetworkManager = null;\r\n\r\n    useSSL = false;\r\n\tclient!: Colyseus.Client;\r\n\troom!: Colyseus.Room;\r\n\r\n\tpublic leaveReason : number = -1;\r\n\r\n\tprivate user : any = null;\r\n\tprivate setting: any = null;\r\n\tprivate statics: any = null;\r\n\tprivate config: any = null;\r\n\tprivate store: any = null;\t\r\n\tprivate token: string = null;\r\n\tprivate API_SERVER: HOLDEM_SERVER_TYPE = HOLDEM_SERVER_TYPE.API_SERVER;\r\n\tprivate GAME_SERVER: HOLDEM_SERVER_TYPE = HOLDEM_SERVER_TYPE.GAME_SERVER;\r\n\tprivate api_port: number = apiPort;\r\n\tprivate game_port: number = gamePort;\r\n\tprivate user_id: number = null;\r\n\r\n    public static Instance() : NetworkManager\r\n\t{\r\n\t\tif(null == this._instance){\r\n\t\t\tthis._instance = new NetworkManager();\r\n\t\t}\r\n\t\t\r\n\t\treturn this._instance;\r\n\t}\r\n\r\n\tpublic Initialize() {\r\n\t\tthis.token = '';\t\t\r\n\t}\r\n\r\n\tpublic async Init( version: string, onSuccess: ( res: any )=>void, onFail: (msg: any )=> void ) {\r\n\t\tlet result_api: string = null;\r\n\t\tlet error: string = null;\r\n\t\tthis.token = '';\r\n\r\n\t\tawait this.Post( HOLDEM_SERVER_TYPE.API_SERVER, '/check', {\r\n\t\t\tversion: version,\r\n\t\t} )\r\n\t\t.then( (res: string)=> {\r\n\t\t\tresult_api = res;\r\n\t\t})\r\n\t\t.catch( (err: any)=>{\r\n\t\t\terror = err;\r\n\t\t});\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\terror = null;\r\n\t\t\tawait this.Post( HOLDEM_SERVER_TYPE.API_SERVER_SUB, '/check', {\r\n\t\t\t\tversion: version,\r\n\t\t\t} )\r\n\t\t\t.then( (res: string)=> {\r\n\t\t\t\tresult_api = res;\r\n\t\t\t})\r\n\t\t\t.catch( (err: any)=>{\r\n\t\t\t\terror = err;\r\n\t\t\t});\r\n\r\n\t\t\tif ( error != null ) {\r\n\t\t\t\tonFail({\r\n\t\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\t\tmsg: 'DISCONNECT_SERVER',\r\n\t\t\t\t});\t\t\t\r\n\t\t\t\treturn;\t\r\n\t\t\t}\r\n\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER_SUB;\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result_api );\r\n\t\tif( obj == null ){\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'JSON_PARSE_ERROR',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.code != ENUM_RESULT_CODE.SUCCESS ) {\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'VERSION_MISMATCH',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess( {\r\n\t\t\tcode: ENUM_RESULT_CODE.SUCCESS,\r\n\t\t\tobj: obj,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic logout() {\r\n\t\tthis.user = null;\r\n\t\tthis.setting = null;\r\n\t\tthis.config = null;\r\n\t\tthis.store = null;\r\n\t\tthis.user_id = -1;\r\n\t\tthis.token = '';\r\n\t}\r\n\r\n\tpublic async reqTOKEN_VERIFY( onSUCCESS:(res: any)=>void , onFAIL:(msg: any)=>void) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet token = this.token;\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\t\tawait this.Post( this.API_SERVER, '/token/verify', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: token,\r\n\t\t} )\r\n\t\t.then( (res: string)=> {\r\n\t\t\tresult = res;\r\n\t\t})\r\n\t\t.catch( (err: any)=>{\r\n\t\t\tlet parsedError = JSON.parse ( err );\r\n\t\t\tif ( parsedError != null ) {\r\n\t\t\t\terror = parsedError.msg;\r\n\t\t\t} \r\n\t\t});\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFAIL( 'RESULT_NULL' );\t\t\t\r\n\t\t}\r\n\r\n\t\tlet obj: any = JSON.parse( result );\r\n\t\tif ( obj == null ) {\r\n\t\t\treturn onFAIL( 'RES_PARSED_ERROR' );\t\t\t\t\t\t\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\r\n\t\tif (obj.statics != null ) {\r\n\t\t\tthis.statics = obj.static;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(obj);\r\n\t}\t\r\n\r\n\tpublic async reqCHECK_VERSION( version: number, onSuccess:(res: any)=>void , onFail:(msg: any)=>void) {\r\n\t\tawait this.Post( this.API_SERVER, '/check', {\r\n\t\t\tversion: version,\r\n\t\t} )\r\n\t\t.then( (res: string)=> {\r\n\r\n\t\t})\r\n\t\t.catch( (err: any)=>{\r\n\r\n\t\t});\r\n\t}\r\n\r\n\tpublic async reqCHECK_TICKETS( ticket_id: any, onSUCCESS : (res : any) => void, onFAIL : (err : any) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/store/ticket/check', {\r\n\t\t\tticket_id: ticket_id,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFAIL( 'RESULT_NULL' );\t\t\t\r\n\t\t}\r\n\r\n\t\tlet obj: any = JSON.parse( result );\r\n\t\tif ( obj == null ) {\r\n\t\t\treturn onFAIL( 'RES_PARSED_ERROR' );\t\t\t\t\t\t\r\n\t\t}\r\n\r\n\t\tonSUCCESS( {\r\n\t\t\tcode: obj.code,\r\n\t\t\tmsg: obj.msg,\r\n\t\t});\r\n\t}\r\n\r\n    public async reqLOGIN_HOLDEM( login_id: string, password: string, onSuccess : (res : any) => void, onFail : (err : any) => void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\t\tlet isConnect: boolean = true;\r\n\t\tlet version: string = GameManager.Instance().GetVersion();\r\n\t\tlet platform: string = cc.sys.platform;\r\n\t\tlet os: string = cc.sys.os;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/login', {\r\n\t\t\tlogin_id: login_id,\r\n\t\t\tpassword: password,\r\n\t\t\tversion: version,\r\n\t\t\tplatform: platform,\r\n\t\t\tos: os,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif ( !isConnect ) {\r\n\t\t\tif ( this.API_SERVER == HOLDEM_SERVER_TYPE.API_SERVER ) {\r\n\t\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER_SUB;\r\n\t\t\t} else {\r\n\t\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER;\r\n\t\t\t}\r\n\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif( error != null ) {\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: error,\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif( result == null || result == undefined ) {\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'NO_USER',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\t\tif(null == obj){\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'JSON_PARSE_ERROR',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.token != null ) {\r\n\t\t\tthis.token = obj.token;\r\n\t\t}\r\n\r\n\t\tif ( obj.user != null && obj.user.table_id != -1 ) {\r\n\r\n\t\t\tawait this.Post( this.GAME_SERVER, '/tables/check/table_id', {\r\n\t\t\t\tuser_id: obj.user.id,\r\n\t\t\t\ttable_id: obj.user.table_id,\r\n\t\t\t} ).then(( res: string ) => {\r\n\r\n\t\t\t} ).catch( function( err: any ) {\r\n\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tthis.user_id = obj.id;\r\n\t\tonSuccess( {\r\n\t\t\tcode: obj.code,\r\n\t\t\tmsg: obj.msg,\r\n\t\t\tobj: obj,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic async reqJOIN_REQUEST( onSuccess : (res : any) => void, onFail : (err : any) => void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\t\tlet isConnect: boolean = true;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/join_request', {\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = res;\r\n\t\t}).catch( function( err: any ) {\r\n\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tif ( !isConnect ) {\r\n\t\t\tif ( this.API_SERVER == HOLDEM_SERVER_TYPE.API_SERVER ) {\r\n\t\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER_SUB;\r\n\t\t\t} else {\r\n\t\t\t\tthis.API_SERVER = HOLDEM_SERVER_TYPE.API_SERVER;\r\n\t\t\t}\r\n\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/join_request', {\r\n\t\t\t} ).then(( res: string ) => {\r\n\t\t\t\tisConnect = true;\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( function( err: any ) {\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\tisConnect = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tif ( !isConnect ) {\r\n\t\t\tonFail(ENUM_RESULT_CODE.DISCONNECT_SERVER);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif( error != null ) {\r\n\t\t\tonFail(ENUM_RESULT_CODE.UNKNOWN_FAIL);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(ENUM_RESULT_CODE.SUCCESS);\r\n\t}\r\n\r\n    async getDATA( user_id: number, onSuccess : (res : any) => void, onFail : (msg : string) => void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/getData\", {\r\n\t\t\tuser_id: user_id,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== error ) {\r\n\t\t\treturn onFail( error );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail(\"USER_DATA_IS_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_ERROR\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (obj.user != null ) {\r\n\t\t\tthis.user = obj.user;\r\n\t\t}\r\n\r\n\t\tif (obj.setting != null ) {\r\n\t\t\tthis.setting = obj.setting;\r\n\t\t}\r\n\r\n\t\tif (obj.conf != null ) {\r\n\t\t\tthis.config = obj.conf;\r\n\t\t}\r\n\r\n\t\tonSuccess( obj );\r\n\t}\r\n\r\n\tasync getPOPUPS( onSUCCESS : (res : any) => void, onFAIL : (msg : string) => void) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet store_id = this.user.store_id;\r\n\t\tlet token = this.token;\r\n\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/store/popups/get\", {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tstore_id: store_id,\r\n\t\t\ttoken: token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== error ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFAIL(\"USER_DATA_IS_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFAIL(\"JSON_PARSE_ERROR\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS( obj );\r\n\t}\r\n\t\r\n    async getSTATICS( user_id: number, onSuccess : (res : any) => void, onFail : (msg : string) => void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/statics/get\", {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== error ) {\r\n\t\t\treturn onFail( error );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail(\"USER_DATA_IS_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_ERROR\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\r\n\t\tif (obj.statics != null ) {\r\n\t\t\tthis.statics = obj.static;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async reqREFRESH( onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/refresh\", {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.user != null ) {\r\n\t\t\tthis.user = result.user;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\r\n\r\n\tpublic async reqGET_UNREAD_MESSAGE( onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/message/unread\", {\r\n\t\t\tuser_id: user_id,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\r\n\t\r\n\tpublic async reqREAD_QNA( id: any, onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/qna/read\", {\r\n\t\t\tid: id,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\r\n\r\n\tpublic async reqREAD_MESSAGE( id: any, onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/message/read\", {\r\n\t\t\tid: id,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\r\n\r\n\tpublic async reqNOTICES( onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/store/notices/get\", {\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\r\n\t\r\n\tpublic async reqDELETE_QNA( id: any, onSUCCESS: (res: any)=>void, onFAIL: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\r\n\t\tawait this.Post( this.API_SERVER, \"/users/qna/delete\", {\r\n\t\t\tid: id,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif ( isConnect == false) {\r\n\t\t\tonFAIL({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSUCCESS(result);\r\n\t}\t\t\r\n\t\r\n\r\n\tpublic async getTABLE_LIST( onSuccess: (tables: any)=>void, onFail: (msg: any)=>void ) {\r\n\t\tlet result: any = null;\r\n\t\tlet isConnect = false;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet version = GameManager.Instance().GetVersion();\r\n\r\n\t\tawait this.Post( this.GAME_SERVER, \"/tables/get\", {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t\tversion: version,\r\n\r\n\t\t}).then((res: string)=>{\r\n\t\t\tisConnect = true;\r\n\t\t\tresult = JSON.parse(res);\r\n\r\n\t\t}).catch((err: any)=> {\r\n\t\t\tif (err.length == 0) {\r\n\t\t\t\tisConnect = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif ( isConnect == false) {\r\n\t\t\t\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.DISCONNECT_SERVER,\r\n\t\t\t\tmsg: 'NETWORK_REFUSE',\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'VERSION_MISMATCH') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_VERSION_MISMATCH );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(result);\r\n\t}\r\n\r\n\tpublic async reqENTER_TABLE( table_id: number, onSuccess : ( room: ColySeus.Room, res: any ) => void, onFail : ( err ) => void){\r\n\t\t\r\n\t\tlet result: any = null;\r\n\t\tlet reservation: string = null;\r\n\t\tlet error: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet version = GameManager.Instance().GetVersion();\r\n\r\n\t\tawait this.Post( this.GAME_SERVER, \"/tables/enter\", {\r\n\t\t\ttable_id: table_id,\r\n\t\t\tuser_id: this.user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t\tversion: version,\r\n\r\n\t\t}).then((res: string) => {\r\n\t\t\tresult = res;\r\n\t\t\t\r\n\t\t}).catch(function (err: any) {\r\n\t\t\tif (0 === err.length) {\r\n\t\t\t\treturn error = \"NETWORK ERROR\";\r\n\t\t\t}\r\n\r\n\t\t\terr = JSON.parse(err);\r\n\t\t\terror = err.msg;\r\n\t\t});\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'UNKNOWN_ERROR'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'RESERVATION_DATA_IS_INVALID'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tresult = JSON.parse(result);\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'JSON_PARSE_ERROR'\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'DISABLE_ACCOUNT') {\r\n\t\t\tonFail({\r\n\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\tmsg: 'DISABLE_ACCOUNT',\r\n\t\t\t});\t\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'VERSION_MISMATCH') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_VERSION_MISMATCH );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.msg != null && result.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( result.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n\t\t\tthis.client = new ColySeus.Client(`${this.useSSL ? \"wss\" : \"ws\"}://${gameHost}${([443, 80].includes( this.game_port ) || this.useSSL) ? \"\" : `:${ this.game_port }`}`);\r\n\t\t\tthis.client.consumeSeatReservation( result[\"seatReservation\"]).then( (room) => {\r\n\t\t\t\tthis.room = room;\r\n\t\t\t\tonSuccess( this.room, result );\r\n\t\t\t}).catch(e => {\r\n\t\t\t\tonFail({\r\n\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\terrorCode: e.code,\r\n\t\t\t\t\tmsg: e.msg,\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tswitch ( result.msg ) {\r\n\t\t\t\tcase 'NOT_ENOUGHT_BALANCE':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'NOT_ENOUGHT_BALANCE',\t\t\t\t\t\t\r\n\t\t\t\t\t\tbalance: result.balance,\r\n\t\t\t\t\t\tbuyin: result.buyin,\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase 'DUPLICATE_LOGIN':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'DUPLICATE_LOGIN',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TABLE_DUPLICATE_IP':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'TABLE_DUPLICATE_IP',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tcase 'INCORRECT_TABLE_INFO':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'INCORRECT_TABLE_INFO',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'TABLE_IS_FULL':\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'TABLE_IS_FULL',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tbreak;\t\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tonFail({\r\n\t\t\t\t\t\tcode: ENUM_RESULT_CODE.UNKNOWN_FAIL,\r\n\t\t\t\t\t\tmsg: 'UNKNOWN_FAIL',\t\t\t\t\r\n\t\t\t\t\t});\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync reqCOMPANY( onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\r\n\t\tawait this.Post(this.API_SERVER, '/store/company', {\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORK_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.store != null ) {\r\n\t\t\tthis.store = obj.store;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\t\r\n\t\r\n\tasync getSTORE( onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet store_id = this.user.store_id;\r\n\r\n\t\tawait this.Post(this.API_SERVER, '/store/get', {\r\n\t\t\tstore_id: store_id,\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORK_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.store != null ) {\r\n\t\t\tthis.store = obj.store;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\t\r\n\tasync getCHARGE_REQUESTS( onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/store/chargeRequest/get', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\t\r\n\tasync getTRANSFER_REQUESTS( onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post(this.API_SERVER, '/store/transferRequest/get', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\t\t\t\r\n\r\n\tasync reqCHARGE_REQUEST( data: any, onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet amount = data.amount;\r\n\t\tlet holder = data.holder;\r\n\t\tlet user_id = this.user.id;\r\n\t\t\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/store/charge/req', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tamount: amount,\r\n\t\t\tholder: holder,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif ( obj != null && obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\t\r\n\tasync reqTRANSFER_REQUEST( data: any, onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/store/transfer/req', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tvalue: data.value,\r\n\t\t\tpassword: data.password,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\t\tif ( obj != null && obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.user != null ) {\r\n\t\t\tthis.user = obj.user;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\t\t\t\r\n\r\n\tasync getSETTING( user_id: any, onSuccess : ( res : any) => void, onFail : (err : string) => void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/setting/get', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.setting != null ) {\r\n\t\t\tthis.setting = obj.setting;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async reqJOIN_MEMBER( user: any, onSUCCESS:(user: any)=>void, onFAIL:(err: any)=>void) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\t\tlet isConnect = false;\r\n\t\tlet platform: string = cc.sys.platform;\r\n\t\tlet os: string = cc.sys.os;\t\t\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, \"/users/join\", {\r\n\t\t\t\tuser: user,\r\n\t\t\t\tplatform: platform,\r\n\t\t\t\tos: os,\r\n\t\t\t}).then(( res: string ) => {\r\n\t\t\t\tisConnect = true;\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( function( err: any ) {\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\tisConnect = false;\t\t\t\t\t\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR'\r\n\t\t\t\t}\t\r\n\t\t\t\terr = JSON.parse( err );\r\n\t\t\t\terror = err.msg;\r\n\t\t\t});\r\n\t\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\tif ( error != null ) {\r\n\t\t\t\treturn onFAIL(error);\r\n\t\t\t}\r\n\t\t\treturn onFAIL(error);\t\t\t\t\t\t\r\n\t\t}\r\n\r\n\t\tif ( error !== null ) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( result == null ) {\r\n\t\t\treturn onFAIL('CREATE_USER_ERROR');\r\n\t\t}\r\n\r\n\t\tlet obj: any = JSON.parse( result );\r\n\t\tif ( obj == null ) {\r\n\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t}\r\n\r\n\t\tonSUCCESS(obj);\r\n\t}\r\n\r\n\tpublic async reqCHECK_LOGIN_ID( login_id: string, onSUCCESS:( res: any )=>void, onFAIL:( err: any )=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/check/login_id', { login_id: login_id }\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async reqCHECK_NICKNAME( nickname: string, onSUCCESS:( res: any )=>void, onFAIL:( err: any )=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/check/nickname', { nickname: nickname }\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\t\r\n\r\n\tpublic async reqPOINT_TRANSFER( data: any, onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = data.user_id;\r\n\t\tlet value = data.value;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/point/transfer', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\tvalue: value,\r\n\t\t\t\ttoken: this.token, \r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( obj.user != null ) {\r\n\t\t\t\t\tthis.user = obj.user;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async getPOINT_TRANSFERS( onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/point/transferLog', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\ttoken: this.token,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async reqUNREAD( onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/unread', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic async reqGET_QNA( onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet token = this.token;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/qna/get', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\ttoken: token,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async reqMESSAGE( onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/message/get', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async reqSEND_QNA( data: any, onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void ) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\r\n\t\tlet token = this.token;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post(this.API_SERVER, '/users/qna/send', {\r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\ttoken: token,\r\n\t\t\t\tdata: data,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\t\t\t\r\n\t\r\n\r\n\tpublic async getPOINT_RECEIVES(onSUCCESS: (res: any)=>void, onFAIL:(err: any)=>void) {\r\n\t\tlet result: string = null;\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet error: string = null;\r\n\r\n\t\ttry {\r\n\t\t\tawait this.Post( this.API_SERVER, '/users/point/receiveLog', { \r\n\t\t\t\tuser_id: user_id,\r\n\t\t\t\ttoken: this.token,\r\n\t\t\t}\r\n\t\t\t).then( ( res: string )=>{\r\n\t\t\t\tresult = res;\r\n\t\t\t}).catch( ( err: any )=>{\r\n\t\t\t\tif ( err.length == 0 ) {\r\n\t\t\t\t\treturn error = 'NETWORK_ERROR';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( err != null ) {\r\n\t\t\t\t\terror = JSON.parse( err.msg );\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t} catch (error) {\r\n\t\t\treturn onFAIL(error);\r\n\t\t}\r\n\r\n\t\tif ( error != null ) {\r\n\t\t\treturn onFAIL( error );\r\n\t\t}\r\n\r\n\t\tif ( result != null ) {\r\n\t\t\tlet obj: any = JSON.parse( result );\r\n\t\t\tif ( obj != null ) {\r\n\t\t\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tonSUCCESS(obj);\r\n\t\t\t} else {\r\n\t\t\t\treturn onFAIL('JSON_PARSE_ERROR');\r\n\t\t\t}\r\n\t\r\n\t\t} else {\r\n\t\t\treturn onFAIL('CHECK_USER_ERROR');\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n    getQueryStringParams = function() {\r\n\t\tlet a = window.location.search.substr( 1 ).split( \"&\" );\r\n\t\tif( a.length === 0 ) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t\tlet b = {};\r\n\t\tfor( let i = 0; i < a.length; ++i ) {\r\n\t\t\tlet p = a[ i ].split( \"=\", 2 );\r\n\t\t\tif( p.length == 1 ) {\r\n\t\t\t\tb[ p[ 0 ] ] = \"\";\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tb[ p[ 0 ] ] = decodeURIComponent( p[ 1 ].replace( /\\+/g, \" \" ) );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn b;\r\n\t};\r\n\r\n    public GetUser() : any{\r\n\t\treturn this.user;\r\n\t}\r\n\r\n\tpublic GetSetting() : any {\r\n\t\treturn this.setting;\r\n\t}\r\n\r\n\tpublic GetConfig(): any {\r\n\t\treturn this.config;\r\n\t}\r\n\r\n\tpublic async updateUSER_AVATAR( avatar: number, onSuccess: (res)=> void , onFail: (err)=> void ) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet result: string = null;\r\n\t\tlet errMessage: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/updateAvatar', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tavatar: avatar,\r\n\t\t\ttoken: this.token,\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.user != null ) {\r\n\t\t\tthis.user = obj.user;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async updateUSER_SETTING( selected: any, onSuccess: (res)=> void, onFail: (err)=> void ) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet result: string = '';\r\n\t\tlet setting: any = selected;\r\n\t\tlet errMessage: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/setting/update', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\tsetting: setting,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn errMessage = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terrMessage = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== errMessage ) {\r\n\t\t\treturn onFail( errMessage );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.setting != null ) {\r\n\t\t\tthis.setting = obj.setting;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async getUSER_FromDB( onSuccess: (res)=> void, onFail: (err)=> void ) {\r\n\t\tlet user_id = this.user.id;\r\n\t\tlet result: string = '';\r\n\t\tlet error: string = null;\r\n\r\n\t\tawait this.Post( this.API_SERVER, '/users/get', {\r\n\t\t\tuser_id: user_id,\r\n\t\t\ttoken: this.token,\r\n\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tresult = res;\r\n\t\t}\r\n\t\t).catch( function( err: any ) {\r\n\t\t\tif( 0 === err.length ) {\r\n\t\t\t\treturn error = \"NETWORD_ERROR\";\r\n\t\t\t}\r\n\t\t\terr = JSON.parse( err );\r\n\t\t\terror = err.msg;\r\n\t\t} );\r\n\r\n\t\tif( null !== error ) {\r\n\t\t\treturn onFail( error );\r\n\t\t}\r\n\r\n\t\tif( null === result ) {\r\n\t\t\treturn onFail( \"SETTING_DATA_INVALID\" );\r\n\t\t}\r\n\r\n\t\tlet obj : any = JSON.parse( result );\r\n\r\n\t\tif(null == obj){\r\n\t\t\tonFail(\"JSON_PARSE_FAIL\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.msg != null && obj.msg == 'INVALID_TOKEN') {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( obj.user != null ) {\r\n\t\t\tthis.user = obj.user;\r\n\t\t}\r\n\r\n\t\tonSuccess(obj);\r\n\t}\r\n\r\n\tpublic async reconnect(roomid: string, session_id: string ) {\r\n\t\tthis.client.reconnect( roomid, session_id );\r\n\t}\r\n\r\n\tpublic async reqCHECK_GAME_SERVER( onSuccess: (res)=> void, onFail: (err)=> void ) {\r\n\t\tlet game_servers: any[] = [];\r\n\r\n\t\tawait this.Post( HOLDEM_SERVER_TYPE.GAME_SERVER, '/check', {\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tgame_servers.push({\r\n\t\t\t\tserver: HOLDEM_SERVER_TYPE.GAME_SERVER,\r\n\t\t\t\tport: gamePort,\r\n\t\t\t});\r\n\t\t}).catch( function( err: any ) {\r\n\t\t} );\r\n\r\n\t\tawait this.Post( HOLDEM_SERVER_TYPE.GAME_SERVER_SUB, '/check', {\r\n\t\t} ).then(( res: string ) => {\r\n\t\t\tgame_servers.push({\r\n\t\t\t\tserver: HOLDEM_SERVER_TYPE.GAME_SERVER_SUB,\r\n\t\t\t\tport: gamePort_sub,\r\n\t\t\t});\t\t\t\r\n\t\t}).catch( function( err: any ) {\r\n\t\t} );\r\n\r\n\t\tif ( game_servers.length > 0 ) {\r\n\t\t\tthis.GAME_SERVER = game_servers[0].server;\r\n\t\t\tthis.game_port = game_servers[0].port;\r\n\t\t} else {\r\n\t\t\tthis.GAME_SERVER = HOLDEM_SERVER_TYPE.GAME_SERVER;\r\n\t\t\tthis.game_port = gamePort;\r\n\t\t}\r\n\t\tonSuccess( this.GAME_SERVER );\r\n\t}\r\n\r\n\tprivate Post( type:HOLDEM_SERVER_TYPE , url, params ) {\r\n\t\treturn new Promise( ( resolve, reject ) => {\r\n\t\t\tlet xhr = new XMLHttpRequest();\r\n\r\n\t\t\txhr.onreadystatechange = function() {\r\n\r\n\t\t\t\tif( xhr.readyState === 4 && ( xhr.status >= 200 && xhr.status < 300 ) ) {\r\n\t\t\t\t\tlet respone: string = xhr.responseText;\r\n\t\t\t\t\tresolve( respone );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif( xhr.readyState === 4 && ( xhr.status != 200 ) ) {\r\n\t\t\t\t\tlet respone: string = xhr.responseText;\r\n\t\t\t\t\treject( respone );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\txhr.onerror = function() {\r\n\t\t\t\tif ( xhr.readyState != 4 ) {\r\n\t\t\t\t\treject( 'NETWORK_REQUEST_FAILED' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet fullUrl: string = '';\r\n\t\t\tswitch ( type ) {\r\n\t\t\t\tcase HOLDEM_SERVER_TYPE.API_SERVER:\r\n\t\t\t\t\tfullUrl = `http://${ apiHost }:${ apiPort }`;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase HOLDEM_SERVER_TYPE.API_SERVER_SUB:\r\n\t\t\t\t\tfullUrl = `http://${ apiHost }:${ apiPort_sub }`;\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t\tcase HOLDEM_SERVER_TYPE.GAME_SERVER\t:\r\n\t\t\t\t\tfullUrl = `http://${ gameHost }:${ gamePort }`;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase HOLDEM_SERVER_TYPE.GAME_SERVER_SUB\t:\r\n\t\t\t\t\tfullUrl = `http://${ gameHost }:${ gamePort_sub }`;\r\n\t\t\t\tbreak;\t\t\t\t\r\n\t\t\t}\r\n\t\t\tfullUrl += url;\r\n\r\n\t\t\txhr.open( \"POST\", fullUrl, true );\r\n\t\t\txhr.timeout = 10000;\r\n\t\t\txhr.setRequestHeader( \"Content-Type\", \"application/json\" );\r\n\t\t\txhr.send( JSON.stringify( params ) );\r\n\t\t} );\r\n\t}\r\n}\r\n\r\n\r\n","import { _decorator, Component, Label, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('PlayerActionInformation')\nexport class PlayerActionInformation extends Component {\n    @property(Label) labelMinBet: Label = null;    \n    @property(Label) labelCurBet: Label = null;    \n    @property(Label) labelPlayerChips: Label = null;\n    @property(Label) labelMaxChips: Label = null;\n    @property(Label) labelMaxBet: Label = null;\n    @property(Label) labelMinRaise: Label = null;\n    @property(Label) labelCurrentPot: Label = null;\n    @property(Label) labelCurrentBet: Label = null;\n\n    public Init() {\n        this.labelMinBet.string = 'minBet: ';\n        this.labelCurBet.string = 'currBet: ';    \n        this.labelPlayerChips.string = 'chips: ';\n        this.labelMaxChips.string = 'maxChips: ';\n        this.labelMaxBet.string = 'maxBet: ' ;\n        this.labelMinRaise.string = 'minRaise: ';\n        this.labelCurrentPot.string = 'currentPot: ';\n        this.labelCurrentBet.string = 'currentBet: ';\n\n        this.node.active = false;\n    }\n\n    public Set(minBet: number, info: any ) {\n\n        this.labelMinBet.string = 'minBet: ' + minBet.toString() + ', ';\n        this.labelCurBet.string = 'currBet: ' + info.currBet.toString() + ', ';\n        this.labelPlayerChips.string = 'chips: ' + info.chips.toString() + ', ';\n        this.labelMaxBet.string = 'maxBet: ' + info.maxBet.toString() + ', ';\n        this.labelMaxChips.string = 'maxChip: ' + info.maxChip.toString() + ', ';\n        this.labelMinRaise.string = 'minRaise: ' + info.minRaise.toString() + ', ';\n    }\n\n\n    public Show() {\n        this.node.active = true;\n\n    }\n\n    public Hide() {\n        this.node.active = false;\n    }\n}\n\n","/**\r\n * pokersolver v2.1.2\r\n * Copyright (c) 2016, James Simpson of GoldFire Studios\r\n * http://goldfirestudios.com\r\n */\r\n\r\n\r\n// NOTE: The 'joker' will be denoted with a value of 'O' and any suit.\r\nvar values = ['1', '2', '3', '4', '5', '6', '7', '8', '9', 'T', 'J', 'Q', 'K', 'A'];\r\n\r\n/**\r\n * Base Card class that defines a single card.\r\n */\r\nclass Card {\r\n  value;\r\n  suit;\r\n  rank;\r\n  wildValue;\r\n\r\n  constructor(str) {\r\n    this.value = str.substr(0, 1);\r\n    this.suit = str.substr(1, 1).toLowerCase();\r\n    this.rank = values.indexOf(this.value);\r\n    this.wildValue = str.substr(0, 1);\r\n  }\r\n\r\n  toString() {\r\n    return this.wildValue.replace('T', '10') + this.suit;\r\n  }\r\n\r\n  static sort(a, b) {\r\n    if (a.rank > b.rank) {\r\n      return -1;\r\n    } else if (a.rank < b.rank) {\r\n      return 1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Base Hand class that handles comparisons of full hands.\r\n */\r\nclass Hand {\r\n  cardPool = [];\r\n  cards = [];\r\n  suits = {};\r\n  values = [];\r\n  wilds = [];\r\n  name = null;\r\n  game = null;\r\n  sfLength = 0;\r\n  alwaysQualifies = true;\r\n  rank = null;\r\n  isPossible = false;\r\n  descr = '';\r\n  sfQualify = 0;\r\n\r\n  constructor(cards, name, game, canDisqualify) {\r\n    this.cardPool = [];\r\n    this.cards = [];\r\n    this.suits = {};\r\n    this.values = [];\r\n    this.wilds = [];\r\n    this.name = name;\r\n    this.game = game;\r\n    this.sfLength = 0;\r\n    this.alwaysQualifies = true;\r\n\r\n    // Qualification rules apply for dealer's hand.\r\n    // Also applies for single player games, like video poker.\r\n    if (canDisqualify && this.game.lowestQualified) {\r\n      this.alwaysQualifies = false;\r\n    }\r\n\r\n    // Ensure no duplicate cards in standard game.\r\n    var myCards = new Set(cards);\r\n    if (game.descr === 'standard' && myCards.size !== cards.length) {\r\n      throw new Error('Duplicate cards');\r\n    }\r\n\r\n    // Get rank based on game.\r\n    var handRank = this.game.handValues.length;\r\n    for (var i = 0; i < this.game.handValues.length; i++) {\r\n      if (this.game.handValues[i] === this.constructor) {\r\n        break;\r\n      }\r\n    }\r\n    this.rank = handRank - i;\r\n\r\n    // Set up the pool of cards.\r\n    this.cardPool = cards.map(function (c) {\r\n      return (typeof c === 'string') ? new Card(c) : c;\r\n    });\r\n\r\n    // Fix the card ranks for wild cards, and sort.\r\n    for (var i = 0; i < this.cardPool.length; i++) {\r\n      card = this.cardPool[i];\r\n      if (card.value === this.game.wildValue) {\r\n        card.rank = -1;\r\n      }\r\n    }\r\n    this.cardPool = this.cardPool.sort(Card.sort);\r\n\r\n    // Create the arrays of suits and values.\r\n    var obj, obj1, key, key1, card;\r\n    for (var i = 0; i < this.cardPool.length; i++) {\r\n      // Make sure this value already exists in the object.\r\n      card = this.cardPool[i];\r\n\r\n      // We do something special if this is a wild card.\r\n      if (card.rank === -1) {\r\n        this.wilds.push(card);\r\n      } else {\r\n        (obj = this.suits)[key = card.suit] || (obj[key] = []);\r\n        (obj1 = this.values)[key1 = card.rank] || (obj1[key1] = []);\r\n\r\n        // Add the value to the array for that type in the object.\r\n        this.suits[card.suit].push(card);\r\n        this.values[card.rank].push(card);\r\n      }\r\n    }\r\n\r\n    this.values.reverse();\r\n    this.isPossible = this.solve();\r\n  }\r\n\r\n  /**\r\n   * Compare current hand with another to determine which is the winner.\r\n   * @param  {Hand} a Hand to compare to.\r\n   * @return {Number}\r\n   */\r\n  compare(a) {\r\n    if (this.rank < a.rank) {\r\n      return 1;\r\n    } else if (this.rank > a.rank) {\r\n      return -1;\r\n    }\r\n\r\n    var result = 0;\r\n    for (var i = 0; i <= 4; i++) {\r\n      if (this.cards[i] && a.cards[i] && this.cards[i].rank < a.cards[i].rank) {\r\n        result = 1;\r\n        break;\r\n      } else if (this.cards[i] && a.cards[i] && this.cards[i].rank > a.cards[i].rank) {\r\n        result = -1;\r\n        break;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Determine whether a hand loses to another.\r\n   * @param  {Hand} hand Hand to compare to.\r\n   * @return {Boolean}\r\n   */\r\n  loseTo(hand) {\r\n    return (this.compare(hand) > 0);\r\n  }\r\n\r\n  /**\r\n   * Determine the number of cards in a hand of a rank.\r\n   * @param  {Number} val Index of this.values.\r\n   * @return {Number} Number of cards having the rank, including wild cards.\r\n   */\r\n  getNumCardsByRank(val) {\r\n    var cards = this.values[val];\r\n    var checkCardsLength = (cards) ? cards.length : 0;\r\n\r\n    for (var i = 0; i < this.wilds.length; i++) {\r\n      if (this.wilds[i].rank > -1) {\r\n        continue;\r\n      } else if (cards) {\r\n        if (this.game.wildStatus === 1 || cards[0].rank === values.length - 1) {\r\n          checkCardsLength += 1;\r\n        }\r\n      } else if (this.game.wildStatus === 1 || val === values.length - 1) {\r\n        checkCardsLength += 1;\r\n      }\r\n    }\r\n\r\n    return checkCardsLength;\r\n  }\r\n\r\n  /**\r\n   * Determine the cards in a suit for a flush.\r\n   * @param  {String} suit Key for this.suits.\r\n   * @param  {Boolean} setRanks Whether to set the ranks for the wild cards.\r\n   * @return {Array} Cards having the suit, including wild cards.\r\n   */\r\n  getCardsForFlush(suit, setRanks) {\r\n    var cards = (this.suits[suit] || []).sort(Card.sort);\r\n\r\n    for (var i = 0; i < this.wilds.length; i++) {\r\n      var wild = this.wilds[i];\r\n\r\n      if (setRanks) {\r\n        var j = 0;\r\n        while (j < values.length && j < cards.length) {\r\n          if (cards[j].rank === values.length - 1 - j) {\r\n            j += 1;\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n        wild.rank = values.length - 1 - j;\r\n        wild.wildValue = values[wild.rank];\r\n      }\r\n\r\n      cards.push(wild);\r\n      cards = cards.sort(Card.sort);\r\n    }\r\n\r\n    return cards;\r\n  }\r\n\r\n  /**\r\n   * Resets the rank and wild values of the wild cards.\r\n   */\r\n  resetWildCards() {\r\n    for (var i = 0; i < this.wilds.length; i++) {\r\n      this.wilds[i].rank = -1;\r\n      this.wilds[i].wildValue = this.wilds[i].value;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Highest card comparison.\r\n   * @return {Array} Highest cards\r\n   */\r\n  nextHighest() {\r\n    var picks;\r\n    var excluding = [];\r\n    excluding = excluding.concat(this.cards);\r\n\r\n    picks = this.cardPool.filter(function (card) {\r\n      if (excluding.indexOf(card) < 0) {\r\n        return true;\r\n      }\r\n    });\r\n\r\n    // Account for remaining wild card when it must be ace.\r\n    if (this.game.wildStatus === 0) {\r\n      for (var i = 0; i < picks.length; i++) {\r\n        var card = picks[i];\r\n        if (card.rank === -1) {\r\n          card.wildValue = 'A';\r\n          card.rank = values.length - 1;\r\n        }\r\n      }\r\n      picks = picks.sort(Card.sort);\r\n    }\r\n\r\n    return picks;\r\n  }\r\n\r\n  /**\r\n   * Return list of contained cards in human readable format.\r\n   * @return {String}\r\n   */\r\n  toString() {\r\n    var cards = this.cards.map(function (c) {\r\n      return c.toString();\r\n    });\r\n\r\n    return cards.join(', ');\r\n  }\r\n\r\n  /**\r\n   * Return array of contained cards.\r\n   * @return {Array}\r\n   */\r\n  toArray() {\r\n    var cards = this.cards.map(function (c) {\r\n      return c.toString();\r\n    });\r\n\r\n    return cards;\r\n  }\r\n\r\n  /**\r\n   * Determine if qualifying hand.\r\n   * @return {Boolean}\r\n   */\r\n  qualifiesHigh() {\r\n    if (!this.game.lowestQualified || this.alwaysQualifies) {\r\n      return true;\r\n    }\r\n\r\n    return (this.compare(Hand.solve(this.game.lowestQualified, this.game, null)) <= 0);\r\n  }\r\n\r\n  /**\r\n   * Find highest ranked hands and remove any that don't qualify or lose to another hand.\r\n   * @param  {Array} hands Hands to evaluate.\r\n   * @return {Array}       Winning hands.\r\n   */\r\n  static winners(hands) {\r\n    hands = hands.filter(function (h) {\r\n      return h.qualifiesHigh();\r\n    });\r\n\r\n    var highestRank = Math.max.apply(Math, hands.map(function (h) {\r\n      return h.rank;\r\n    }));\r\n\r\n    hands = hands.filter(function (h) {\r\n      return h.rank === highestRank;\r\n    });\r\n\r\n    hands = hands.filter(function (h) {\r\n      var lose = false;\r\n      for (var i = 0; i < hands.length; i++) {\r\n        lose = h.loseTo(hands[i]);\r\n        if (lose) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      return !lose;\r\n    });\r\n\r\n    return hands;\r\n  }\r\n\r\n  /**\r\n   * Build and return the best hand.\r\n   * @param  {Array} cards Array of cards (['Ad', '3c', 'Th', ...]).\r\n   * @param  {String} game Game being played.\r\n   * @param  {Boolean} canDisqualify Check for a qualified hand.\r\n   * @return {Hand}       Best hand.\r\n   */\r\n  static solve(cards, game, canDisqualify) {\r\n    game = game || 'standard';\r\n    game = (typeof game === 'string') ? new Game(game) : game;\r\n    cards = cards || [''];\r\n\r\n    var hands = game.handValues;\r\n    var result = null;\r\n\r\n    for (var i = 0; i < hands.length; i++) {\r\n      result = new hands[i](cards, game, canDisqualify);\r\n      if (result.isPossible) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  solve(): boolean {\r\n      return false;\r\n  }\r\n\r\n  /**\r\n   * Separate cards based on if they are wild cards.\r\n   * @param  {Array} cards Array of cards (['Ad', '3c', 'Th', ...]).\r\n   * @param  {Game} game Game being played.\r\n   * @return {Array} [wilds, nonWilds] Wild and non-Wild Cards.\r\n   */\r\n  static stripWilds(cards, game) {\r\n    var card, wilds, nonWilds;\r\n    cards = cards || [''];\r\n    wilds = [];\r\n    nonWilds = [];\r\n\r\n    for (var i = 0; i < cards.length; i++) {\r\n      card = cards[i];\r\n      if (card.rank === -1) {\r\n        wilds.push(cards[i]);\r\n      } else {\r\n        nonWilds.push(cards[i]);\r\n      }\r\n    }\r\n\r\n    return [wilds, nonWilds];\r\n  }\r\n}\r\n\r\nclass StraightFlush extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'STRAIGHT_FLUSH', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var cards;\r\n    this.resetWildCards();\r\n    var possibleStraight = null;\r\n    var nonCards = [];\r\n\r\n    for (var suit in this.suits) {\r\n      cards = this.getCardsForFlush(suit, false);\r\n      if (cards && cards.length >= this.game.sfQualify) {\r\n        possibleStraight = cards;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (possibleStraight) {\r\n      if (this.game.descr !== 'standard') {\r\n        for (var suit in this.suits) {\r\n          if (possibleStraight[0].suit !== suit) {\r\n            nonCards = nonCards.concat(this.suits[suit] || []);\r\n            nonCards = Hand.stripWilds(nonCards, this.game)[1];\r\n          }\r\n        }\r\n      }\r\n      var straight = new Straight(possibleStraight, this.game, null);\r\n      if (straight.isPossible) {\r\n        this.cards = straight.cards;\r\n        this.cards = this.cards.concat(nonCards);\r\n        this.sfLength = straight.sfLength;\r\n      }\r\n    }\r\n\r\n    if (this.cards[0] && this.cards[0].rank === 13) {\r\n      this.descr = '로열 스트레이트 플러시';\r\n    } else if (this.cards.length >= this.game.sfQualify) {\r\n      this.descr = '스트레이트 플러시' + ' [' + this.cards[0].toString().slice(0, -1) + suit + ']';\r\n    }\r\n\r\n    return this.cards.length >= this.game.sfQualify;\r\n  }\r\n}\r\n\r\nclass RoyalFlush extends StraightFlush {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n    var result = super.solve();\r\n    return result && this.descr === '로얄 스트레이트 플러시';\r\n  }\r\n}\r\n\r\nclass NaturalRoyalFlush extends RoyalFlush {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var i = 0;\r\n    this.resetWildCards();\r\n    var result = super.solve();\r\n    if (result && this.cards) {\r\n      for (i = 0; i < this.game.sfQualify && i < this.cards.length; i++) {\r\n        if (this.cards[i].value === this.game.wildValue) {\r\n          result = false;\r\n          this.descr = '와일드 로얄 플러시';\r\n          break;\r\n        }\r\n      }\r\n      if (i === this.game.sfQualify) {\r\n        this.descr = '로얄 플러시';\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n}\r\n\r\nclass WildRoyalFlush extends RoyalFlush {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var i = 0;\r\n    this.resetWildCards();\r\n    var result = super.solve();\r\n    if (result && this.cards) {\r\n      for (i = 0; i < this.game.sfQualify && i < this.cards.length; i++) {\r\n        if (this.cards[i].value === this.game.wildValue) {\r\n          this.descr = '와일드 로얄 플러시';\r\n          break;\r\n        }\r\n      }\r\n      if (i === this.game.sfQualify) {\r\n        result = false;\r\n        this.descr = '로얄 플러시';\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n}\r\n\r\nclass FiveOfAKind extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'FIVE_CARD', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 5) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 5; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 5));\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 5) {\r\n      this.descr = this.name + ', ' + this.cards[0].toString().slice(0, -1) + '\\'s';\r\n    }\r\n\r\n    return this.cards.length >= 5;\r\n  }\r\n}\r\n\r\nclass FourOfAKindPairPlus extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'Four of a Kind with Pair or Better', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var cards;\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 4) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 4; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length === 4) {\r\n      for (i = 0; i < this.values.length; i++) {\r\n        cards = this.values[i];\r\n        if (cards && this.cards[0].wildValue === cards[0].wildValue) {\r\n          continue;\r\n        }\r\n        if (this.getNumCardsByRank(i) >= 2) {\r\n          this.cards = this.cards.concat(cards || []);\r\n          for (var j = 0; j < this.wilds.length; j++) {\r\n            var wild = this.wilds[j];\r\n            if (wild.rank !== -1) {\r\n              continue;\r\n            }\r\n            if (cards) {\r\n              wild.rank = cards[0].rank;\r\n            } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n              wild.rank = values.length - 2;\r\n            } else {\r\n              wild.rank = values.length - 1;\r\n            }\r\n            wild.wildValue = values[wild.rank];\r\n            this.cards.push(wild);\r\n          }\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 6));\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 6) {\r\n      var type = this.cards[0].toString().slice(0, -1) + '\\'s over ' + this.cards[4].toString().slice(0, -1) + '\\'s';\r\n      this.descr = this.name + ', ' + type;\r\n    }\r\n\r\n    return this.cards.length >= 6;\r\n  }\r\n}\r\n\r\nclass FourOfAKind extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'FOUR_CARD', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 4) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 4; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 4));\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 4) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 4;\r\n      }\r\n\r\n      this.descr = '[ ' + this.cards[0].toString().slice(0, -1) + ' ] 포카드';\r\n    }\r\n\r\n    return this.cards.length >= 4;\r\n  }\r\n}\r\n\r\nclass FourWilds extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'Four Wild Cards', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    if (this.wilds.length === 4) {\r\n      this.cards = this.wilds;\r\n      this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 4));\r\n    }\r\n\r\n    if (this.cards.length >= 4) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 4;\r\n      }\r\n\r\n      this.descr = '포카드';\r\n    }\r\n\r\n    return this.cards.length >= 4;\r\n  }\r\n}\r\n\r\nclass ThreeOfAKindTwoPair extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'Three of a Kind with Two Pair', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var cards;\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 3; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length === 3) {\r\n      for (var i = 0; i < this.values.length; i++) {\r\n        var cards = this.values[i];\r\n        if (cards && this.cards[0].wildValue === cards[0].wildValue) {\r\n          continue;\r\n        }\r\n        if (this.cards.length > 5 && this.getNumCardsByRank(i) === 2) {\r\n          this.cards = this.cards.concat(cards || []);\r\n          for (var j = 0; j < this.wilds.length; j++) {\r\n            var wild = this.wilds[j];\r\n            if (wild.rank !== -1) {\r\n              continue;\r\n            }\r\n            if (cards) {\r\n              wild.rank = cards[0].rank;\r\n            } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n              wild.rank = values.length - 2;\r\n            } else {\r\n              wild.rank = values.length - 1;\r\n            }\r\n            wild.wildValue = values[wild.rank];\r\n            this.cards.push(wild);\r\n          }\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 4));\r\n          break;\r\n        } else if (this.getNumCardsByRank(i) === 2) {\r\n          this.cards = this.cards.concat(cards);\r\n          for (var j = 0; j < this.wilds.length; j++) {\r\n            var wild = this.wilds[j];\r\n            if (wild.rank !== -1) {\r\n              continue;\r\n            }\r\n            if (cards) {\r\n              wild.rank = cards[0].rank;\r\n            } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n              wild.rank = values.length - 2;\r\n            } else {\r\n              wild.rank = values.length - 1;\r\n            }\r\n            wild.wildValue = values[wild.rank];\r\n            this.cards.push(wild);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 7) {\r\n      var type = this.cards[0].toString().slice(0, -1) + '\\'s over ' + this.cards[3].toString().slice(0, -1) + '\\'s & ' + this.cards[5].value + '\\'s';\r\n      this.descr = this.name + ', ' + type;\r\n    }\r\n\r\n    return this.cards.length >= 7;\r\n  }\r\n}\r\n\r\nclass FullHouse extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'FULL_HOUSE', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var cards;\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 3; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length === 3) {\r\n      for (i = 0; i < this.values.length; i++) {\r\n        cards = this.values[i];\r\n        if (cards && this.cards[0].wildValue === cards[0].wildValue) {\r\n          continue;\r\n        }\r\n        if (this.getNumCardsByRank(i) >= 2) {\r\n          this.cards = this.cards.concat(cards || []);\r\n          for (var j = 0; j < this.wilds.length; j++) {\r\n            var wild = this.wilds[j];\r\n            if (wild.rank !== -1) {\r\n              continue;\r\n            }\r\n            if (cards) {\r\n              wild.rank = cards[0].rank;\r\n            } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n              wild.rank = values.length - 2;\r\n            } else {\r\n              wild.rank = values.length - 1;\r\n            }\r\n            wild.wildValue = values[wild.rank];\r\n            this.cards.push(wild);\r\n          }\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 5));\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 5) {\r\n      var type = this.cards[0].toString().slice(0, -1) + ', ' + this.cards[3].toString().slice(0, -1);\r\n      this.descr = '[ ' + type + ' ] 풀 하우스';\r\n    }\r\n\r\n    return this.cards.length >= 5;\r\n  }\r\n}\r\n\r\nclass Flush extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'FLUSH', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.sfLength = 0;\r\n    this.resetWildCards();\r\n\r\n    for (var suit in this.suits) {\r\n      var cards = this.getCardsForFlush(suit, true);\r\n      if (cards.length >= this.game.sfQualify) {\r\n        this.cards = cards;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= this.game.sfQualify) {\r\n      this.descr = '플러시' + ' [' + this.cards[0].toString().slice(0, -1) + suit + ']';\r\n      this.sfLength = this.cards.length;\r\n      if (this.cards.length < this.game.cardsInHand) {\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - this.cards.length));\r\n      }\r\n    }\r\n\r\n    return this.cards.length >= this.game.sfQualify;\r\n  }\r\n}\r\n\r\nclass Straight extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'STRAIGHT', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    var card, checkCards;\r\n    this.resetWildCards();\r\n\r\n    // There are still some games that count the wheel as second highest.\r\n    // These games do not have enough cards/wilds to make AKQJT and 5432A both possible.\r\n    if (this.game.wheelStatus === 1) {\r\n      this.cards = this.getWheel();\r\n      if (this.cards.length) {\r\n        var wildCount = 0;\r\n        for (var i = 0; i < this.cards.length; i++) {\r\n          card = this.cards[i];\r\n          if (card.value === this.game.wildValue) {\r\n            wildCount += 1;\r\n          }\r\n          if (card.rank === 0) {\r\n            card.rank = values.indexOf('A');\r\n            card.wildValue = 'A';\r\n            if (card.value === '1') {\r\n              card.value = 'A';\r\n            }\r\n          }\r\n        }\r\n        this.cards = this.cards.sort(Card.sort);\r\n        for (; wildCount < this.wilds.length && this.cards.length < this.game.cardsInHand; wildCount++) {\r\n          card = this.wilds[wildCount];\r\n          card.rank = values.indexOf('A');\r\n          card.wildValue = 'A';\r\n          this.cards.push(card);\r\n        }\r\n        this.descr = '스트레이트' + ', Wheel';\r\n        this.sfLength = this.sfQualify;\r\n        if (this.cards[0].value === 'A') {\r\n          this.cards = this.cards.concat(this.nextHighest().slice(1, this.game.cardsInHand - this.cards.length + 1));\r\n        } else {\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - this.cards.length));\r\n        }\r\n        return true;\r\n      }\r\n      this.resetWildCards();\r\n    }\r\n\r\n    this.cards = this.getGaps( null );\r\n\r\n    // Now add the wild cards, if any, and set the appropriate ranks\r\n    for (var i = 0; i < this.wilds.length; i++) {\r\n      card = this.wilds[i];\r\n      checkCards = this.getGaps(this.cards.length);\r\n      if (this.cards.length === checkCards.length) {\r\n        // This is an \"open-ended\" straight, the high rank is the highest possible rank.\r\n        if (this.cards[0].rank < (values.length - 1)) {\r\n          card.rank = this.cards[0].rank + 1;\r\n          card.wildValue = values[card.rank];\r\n          this.cards.push(card);\r\n        } else {\r\n          card.rank = this.cards[this.cards.length - 1].rank - 1;\r\n          card.wildValue = values[card.rank];\r\n          this.cards.push(card);\r\n        }\r\n      } else {\r\n        // This is an \"inside\" straight, the high card doesn't change.\r\n        for (var j = 1; j < this.cards.length; j++) {\r\n          if (this.cards[j - 1].rank - this.cards[j].rank > 1) {\r\n            card.rank = this.cards[j - 1].rank - 1;\r\n            card.wildValue = values[card.rank];\r\n            this.cards.push(card);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      this.cards = this.cards.sort(Card.sort);\r\n    }\r\n    if (this.cards.length >= this.game.sfQualify) {\r\n      this.descr = '스트레이트' + ' [' + this.cards[0].toString().slice(0, -1) + ']';\r\n      this.cards = this.cards.slice(0, this.game.cardsInHand);\r\n      this.sfLength = this.cards.length;\r\n      if (this.cards.length < this.game.cardsInHand) {\r\n        if (this.cards[this.sfLength - 1].rank === 0) {\r\n          this.cards = this.cards.concat(this.nextHighest().slice(1, this.game.cardsInHand - this.cards.length + 1));\r\n        } else {\r\n          this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - this.cards.length));\r\n        }\r\n      }\r\n    }\r\n\r\n    return this.cards.length >= this.game.sfQualify;\r\n  }\r\n\r\n  /**\r\n   * Get the number of gaps in the straight.\r\n   * @return {Array} Highest potential straight with fewest number of gaps.\r\n   */\r\n  getGaps(checkHandLength) {\r\n    var wildCards, cardsToCheck, i, card, gapCards, cardsList, gapCount, prevCard, diff;\r\n\r\n    var stripReturn = Hand.stripWilds(this.cardPool, this.game);\r\n    wildCards = stripReturn[0];\r\n    cardsToCheck = stripReturn[1];\r\n\r\n    for (i = 0; i < cardsToCheck.length; i++) {\r\n      card = cardsToCheck[i];\r\n      if (card.wildValue === 'A') {\r\n        cardsToCheck.push(new Card('1' + card.suit));\r\n      }\r\n    }\r\n    cardsToCheck = cardsToCheck.sort(Card.sort);\r\n\r\n    if (checkHandLength) {\r\n      i = cardsToCheck[0].rank + 1;\r\n    } else {\r\n      checkHandLength = this.game.sfQualify;\r\n      i = values.length;\r\n    }\r\n\r\n    gapCards = [];\r\n    for (; i > 0; i--) {\r\n      cardsList = [];\r\n      gapCount = 0;\r\n      for (var j = 0; j < cardsToCheck.length; j++) {\r\n        card = cardsToCheck[j];\r\n        if (card.rank > i) {\r\n          continue;\r\n        }\r\n        prevCard = cardsList[cardsList.length - 1];\r\n        diff = (prevCard) ? prevCard.rank - card.rank : i - card.rank;\r\n\r\n        if (diff === null) {\r\n          cardsList.push(card);\r\n        } else if (checkHandLength < (gapCount + diff + cardsList.length)) {\r\n          break;\r\n        } else if (diff > 0) {\r\n          cardsList.push(card);\r\n          gapCount += (diff - 1);\r\n        }\r\n      }\r\n      if (cardsList.length > gapCards.length) {\r\n        gapCards = cardsList.slice();\r\n      }\r\n      if (this.game.sfQualify - gapCards.length <= wildCards.length) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return gapCards;\r\n  }\r\n\r\n  getWheel() {\r\n    var wildCards, cardsToCheck, i, card, wheelCards, wildCount, cardFound;\r\n\r\n    var stripReturn = Hand.stripWilds(this.cardPool, this.game);\r\n    wildCards = stripReturn[0];\r\n    cardsToCheck = stripReturn[1];\r\n\r\n    for (i = 0; i < cardsToCheck.length; i++) {\r\n      card = cardsToCheck[i];\r\n      if (card.wildValue === 'A') {\r\n        cardsToCheck.push(new Card('1' + card.suit));\r\n      }\r\n    }\r\n    cardsToCheck = cardsToCheck.sort(Card.sort);\r\n\r\n    wheelCards = [];\r\n    wildCount = 0;\r\n    for (i = this.game.sfQualify - 1; i >= 0; i--) {\r\n      cardFound = false;\r\n      for (var j = 0; j < cardsToCheck.length; j++) {\r\n        card = cardsToCheck[j];\r\n        if (card.rank > i) {\r\n          continue;\r\n        }\r\n        if (card.rank < i) {\r\n          break;\r\n        }\r\n        wheelCards.push(card);\r\n        cardFound = true;\r\n        break;\r\n      }\r\n      if (!cardFound) {\r\n        if (wildCount < wildCards.length) {\r\n          wildCards[wildCount].rank = i;\r\n          wildCards[wildCount].wildValue = values[i];\r\n          wheelCards.push(wildCards[wildCount]);\r\n          wildCount += 1;\r\n        } else {\r\n          return [];\r\n        }\r\n      }\r\n    }\r\n\r\n    return wheelCards;\r\n  }\r\n}\r\n\r\nclass TwoThreeOfAKind extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'Two Three Of a Kind', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      var cards = this.values[i];\r\n      if (this.cards.length > 0 && this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.cards.concat(cards || []);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 6));\r\n        break;\r\n      } else if (this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.cards.concat(cards);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 6) {\r\n      var type = this.cards[0].toString().slice(0, -1) + '\\'s & ' + this.cards[3].toString().slice(0, -1) + '\\'s';\r\n      this.descr = this.name + ', ' + type;\r\n    }\r\n\r\n    return this.cards.length >= 6;\r\n  }\r\n}\r\n\r\nclass ThreeOfAKind extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'TRIPLE', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 3) {\r\n        this.cards = this.values[i] || [];\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 3; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 3));\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 3) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 3;\r\n      }\r\n\r\n      this.descr = '트리플' + ' [ ' + this.cards[0].toString().slice(0, -1) + ' ]';\r\n    }\r\n\r\n    return this.cards.length >= 3;\r\n  }\r\n}\r\n\r\nclass ThreePair extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'THREE_PAIR', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      var cards = this.values[i];\r\n      if (this.cards.length > 2 && this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards || []);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 6));\r\n        break;\r\n      } else if (this.cards.length > 0 && this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards || []);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n      } else if (this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 6) {\r\n      var type = this.cards[0].toString().slice(0, -1) + ', ' + this.cards[2].toString().slice(0, -1) + ', ' + this.cards[4].toString().slice(0, -1);\r\n      this.descr = '트리플' + ' [ ' + type + ' ]';\r\n    }\r\n\r\n    return this.cards.length >= 6;\r\n  }\r\n}\r\n\r\nclass TwoPair extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'TWO_PAIR', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      var cards = this.values[i];\r\n      if (this.cards.length > 0 && this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards || []);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 4));\r\n        break;\r\n      } else if (this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(cards);\r\n        for (var j = 0; j < this.wilds.length; j++) {\r\n          var wild = this.wilds[j];\r\n          if (wild.rank !== -1) {\r\n            continue;\r\n          }\r\n          if (cards) {\r\n            wild.rank = cards[0].rank;\r\n          } else if (this.cards[0].rank === values.length - 1 && this.game.wildStatus === 1) {\r\n            wild.rank = values.length - 2;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 4) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 4;\r\n      }\r\n\r\n      var type = this.cards[0].toString().slice(0, -1) + ', ' + this.cards[2].toString().slice(0, -1);\r\n      this.descr = '투페어' + '[ ' + type + ' ]';\r\n    }\r\n\r\n    return this.cards.length >= 4;\r\n  }\r\n}\r\n\r\nclass OnePair extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'ONE_PAIR', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.resetWildCards();\r\n\r\n    for (var i = 0; i < this.values.length; i++) {\r\n      if (this.getNumCardsByRank(i) === 2) {\r\n        this.cards = this.cards.concat(this.values[i] || []);\r\n        for (var j = 0; j < this.wilds.length && this.cards.length < 2; j++) {\r\n          var wild = this.wilds[j];\r\n          if (this.cards) {\r\n            wild.rank = this.cards[0].rank;\r\n          } else {\r\n            wild.rank = values.length - 1;\r\n          }\r\n          wild.wildValue = values[wild.rank];\r\n          this.cards.push(wild);\r\n        }\r\n        this.cards = this.cards.concat(this.nextHighest().slice(0, this.game.cardsInHand - 2));\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (this.cards.length >= 2) {\r\n      if (this.game.noKickers) {\r\n        this.cards.length = 2;\r\n      }\r\n\r\n      this.descr = '원페어' + ' [ ' + this.cards[0].toString().slice(0, -1) + ' ]';\r\n    }\r\n\r\n    return this.cards.length >= 2;\r\n  }\r\n}\r\n\r\nclass HighCard extends Hand {\r\n  constructor(cards, game, canDisqualify) {\r\n    super(cards, 'HIGH_CARD', game, canDisqualify);\r\n  }\r\n\r\n  solve() {\r\n    this.cards = this.cardPool.slice(0, this.game.cardsInHand);\r\n\r\n    for (var i = 0; i < this.cards.length; i++) {\r\n      var card = this.cards[i];\r\n      if (this.cards[i].value === this.game.wildValue) {\r\n        this.cards[i].wildValue = 'A';\r\n        this.cards[i].rank = values.indexOf('A');\r\n      }\r\n    }\r\n\r\n    if (this.game.noKickers) {\r\n      this.cards.length = 1;\r\n    }\r\n\r\n    this.cards = this.cards.sort(Card.sort);\r\n    this.descr = '탑 [' + this.cards[0].toString().slice(0, -1) + ']';\r\n\r\n    return true;\r\n  }\r\n}\r\n\r\n/*\r\n * Base class for handling Pai Gow Poker hands.\r\n * House Way is in accordance with the MGM Grand Casino, Las Vegas NV.\r\n * http://wizardofodds.com/games/pai-gow-poker/house-way/mgm/\r\n * EXCEPTION: With Four of a Kind and S/F, preserve the S/F, just like Three of a Kind.\r\n */\r\nclass PaiGowPokerHelper {\r\n  /*\r\n   * Constructor class.\r\n   * @param {Hand} hand Solved hand against Game 'paigowpokerfull'.\r\n   */\r\n\r\n  baseHand = null;\r\n  hiHand = null;\r\n  loHand = null;\r\n  game = null;\r\n  loGame = new Game('paigowpokerlo');\r\n  hiGame = new Game('paigowpokerhi');\r\n\r\n  constructor(hand) {\r\n    this.baseHand = null;\r\n    this.hiHand = null;\r\n    this.loHand = null;\r\n    this.game = null;\r\n    this.loGame = new Game('paigowpokerlo');\r\n    this.hiGame = new Game('paigowpokerhi');\r\n\r\n    if (Array.isArray(hand)) {\r\n      this.baseHand = Hand.solve(hand, new Game('paigowpokerfull'), null );\r\n    } else {\r\n      this.baseHand = hand;\r\n    }\r\n\r\n    this.game = this.baseHand.game;\r\n  }\r\n\r\n  /*\r\n   * Set a full hand into high and low hands, according to House Way.\r\n   */\r\n  splitHouseWay() {\r\n    var hiCards, loCards;\r\n    var rank = this.game.handValues.length - this.baseHand.rank;\r\n    var handValue = this.game.handValues[rank];\r\n\r\n    if (handValue === FiveOfAKind) {\r\n      if (this.baseHand.cards[5].value === 'K' && this.baseHand.cards[6].value === 'K') {\r\n        loCards = this.baseHand.cards.slice(5, 7);\r\n        hiCards = this.baseHand.cards.slice(0, 5);\r\n      } else {\r\n        loCards = this.baseHand.cards.slice(0, 2);\r\n        hiCards = this.baseHand.cards.slice(2, 7);\r\n      }\r\n    } else if (handValue === FourOfAKindPairPlus) {\r\n      if (this.baseHand.cards[0].wildValue === 'A' && this.baseHand.cards[4].value !== 'K') {\r\n        hiCards = this.baseHand.cards.slice(0, 2);\r\n        loCards = this.baseHand.cards.slice(2, 4);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      }\r\n    } else if (handValue === StraightFlush || handValue === Flush || handValue === Straight) {\r\n      var sfReturn;\r\n      var altGame = new Game('paigowpokeralt');\r\n      var altHand = Hand.solve(this.baseHand.cards, altGame, null);\r\n      var altRank = altGame.handValues.length - altHand.rank;\r\n      if (altGame.handValues[altRank] === FourOfAKind) {\r\n        sfReturn = this.getSFData(altHand.cards);\r\n        hiCards = sfReturn[0];\r\n        loCards = sfReturn[1];\r\n      } else if (altGame.handValues[altRank] === FullHouse) {\r\n        hiCards = altHand.cards.slice(0, 3);\r\n        loCards = altHand.cards.slice(3, 5);\r\n        hiCards = hiCards.concat(altHand.cards.slice(5, 7));\r\n      } else if (altGame.handValues[altRank] === ThreeOfAKind) {\r\n        sfReturn = this.getSFData(altHand.cards);\r\n        hiCards = sfReturn[0];\r\n        loCards = sfReturn[1];\r\n      } else if (altGame.handValues[altRank] === ThreePair) {\r\n        loCards = altHand.cards.slice(0, 2);\r\n        hiCards = altHand.cards.slice(2, 7);\r\n      } else if (altGame.handValues[altRank] === TwoPair) {\r\n        if (altHand.cards[0].rank < 6) {\r\n          if (altHand.cards[4].wildValue === 'A') {\r\n            hiCards = altHand.cards.slice(0, 4);\r\n            loCards = altHand.cards.slice(4, 6);\r\n            hiCards.push(altHand.cards[6]);\r\n          } else {\r\n            sfReturn = this.getSFData(altHand.cards);\r\n            hiCards = sfReturn[0];\r\n            loCards = sfReturn[1];\r\n          }\r\n        } else if (altHand.cards[0].rank < 10) {\r\n          if (altHand.cards[4].wildValue === 'A') {\r\n            hiCards = altHand.cards.slice(0, 4);\r\n            loCards = altHand.cards.slice(4, 6);\r\n            hiCards.push(altHand.cards[6]);\r\n          } else {\r\n            hiCards = altHand.cards.slice(0, 2);\r\n            loCards = altHand.cards.slice(2, 4);\r\n            hiCards = hiCards.concat(altHand.cards.slice(4, 7));\r\n          }\r\n        } else if (altHand.cards[0].wildValue !== 'A' && altHand.cards[2].rank < 6 && altHand.cards[4].wildValue === 'A') {\r\n          hiCards = altHand.cards.slice(0, 4);\r\n          loCards = altHand.cards.slice(4, 6);\r\n          hiCards.push(altHand.cards[6]);\r\n        } else {\r\n          hiCards = altHand.cards.slice(0, 2);\r\n          loCards = altHand.cards.slice(2, 4);\r\n          hiCards = hiCards.concat(altHand.cards.slice(4, 7));\r\n        }\r\n      } else if (altGame.handValues[altRank] === OnePair) {\r\n        if (altHand.cards[0].rank >= values.indexOf('T') && altHand.cards[0].rank <= values.indexOf('K') && altHand.cards[2].wildValue === 'A') {\r\n          var possibleSF = altHand.cards.slice(0, 2);\r\n          possibleSF = possibleSF.concat(altHand.cards.slice(3, 7));\r\n          sfReturn = this.getSFData(possibleSF);\r\n          if (sfReturn[0]) {\r\n            hiCards = sfReturn[0];\r\n            loCards = sfReturn[1];\r\n            loCards.push(altHand.cards[2]);\r\n          } else {\r\n            hiCards = altHand.cards.slice(0, 2);\r\n            loCards = altHand.cards.slice(2, 4);\r\n            hiCards = hiCards.concat(altHand.cards.slice(4, 7));\r\n          }\r\n        } else {\r\n          sfReturn = this.getSFData(altHand.cards.slice(2, 7));\r\n          if (sfReturn[0]) {\r\n            hiCards = sfReturn[0];\r\n            loCards = altHand.cards.slice(0, 2);\r\n          } else {\r\n            sfReturn = this.getSFData(altHand.cards);\r\n            hiCards = sfReturn[0];\r\n            loCards = sfReturn[1];\r\n          }\r\n        }\r\n      } else {\r\n        sfReturn = this.getSFData(altHand.cards);\r\n        hiCards = sfReturn[0];\r\n        loCards = sfReturn[1];\r\n      }\r\n    } else if (handValue === FourOfAKind) {\r\n      if (this.baseHand.cards[0].rank < 6) {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      } else if (this.baseHand.cards[0].rank < 10 && this.baseHand.cards[4].wildValue === 'A') {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 2);\r\n        loCards = this.baseHand.cards.slice(2, 4);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n      }\r\n    } else if (handValue === TwoThreeOfAKind) {\r\n      loCards = this.baseHand.cards.slice(0, 2);\r\n      hiCards = this.baseHand.cards.slice(3, 6);\r\n      hiCards.push(this.baseHand.cards[2]);\r\n      hiCards.push(this.baseHand.cards[6]);\r\n    } else if (handValue === ThreeOfAKindTwoPair) {\r\n      hiCards = this.baseHand.cards.slice(0, 3);\r\n      loCards = this.baseHand.cards.slice(3, 5);\r\n      hiCards = hiCards.concat(this.baseHand.cards.slice(5, 7));\r\n    } else if (handValue === FullHouse) {\r\n      if (this.baseHand.cards[3].wildValue === '2' && this.baseHand.cards[5].wildValue === 'A' && this.baseHand.cards[6].wildValue === 'K') {\r\n        hiCards = this.baseHand.cards.slice(0, 5);\r\n        loCards = this.baseHand.cards.slice(5, 7);\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 3);\r\n        loCards = this.baseHand.cards.slice(3, 5);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(5, 7));\r\n      }\r\n    } else if (handValue === ThreeOfAKind) {\r\n      if (this.baseHand.cards[0].wildValue === 'A') {\r\n        hiCards = this.baseHand.cards.slice(0, 2);\r\n        loCards = this.baseHand.cards.slice(2, 4);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 3);\r\n        loCards = this.baseHand.cards.slice(3, 5);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(5, 7));\r\n      }\r\n    } else if (handValue === ThreePair) {\r\n      loCards = this.baseHand.cards.slice(0, 2);\r\n      hiCards = this.baseHand.cards.slice(2, 7);\r\n    } else if (handValue === TwoPair) {\r\n      if (this.baseHand.cards[0].rank < 6) {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      } else if (this.baseHand.cards[0].rank < 10) {\r\n        if (this.baseHand.cards[4].wildValue === 'A') {\r\n          hiCards = this.baseHand.cards.slice(0, 4);\r\n          loCards = this.baseHand.cards.slice(4, 6);\r\n          hiCards.push(this.baseHand.cards[6]);\r\n        } else {\r\n          hiCards = this.baseHand.cards.slice(0, 2);\r\n          loCards = this.baseHand.cards.slice(2, 4);\r\n          hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n        }\r\n      } else if (this.baseHand.cards[0].wildValue !== 'A' && this.baseHand.cards[2].rank < 6 && this.baseHand.cards[4].wildValue === 'A') {\r\n        hiCards = this.baseHand.cards.slice(0, 4);\r\n        loCards = this.baseHand.cards.slice(4, 6);\r\n        hiCards.push(this.baseHand.cards[6]);\r\n      } else {\r\n        hiCards = this.baseHand.cards.slice(0, 2);\r\n        loCards = this.baseHand.cards.slice(2, 4);\r\n        hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n      }\r\n    } else if (handValue === OnePair) {\r\n      hiCards = this.baseHand.cards.slice(0, 2);\r\n      loCards = this.baseHand.cards.slice(2, 4);\r\n      hiCards = hiCards.concat(this.baseHand.cards.slice(4, 7));\r\n    } else {\r\n      hiCards = [this.baseHand.cards[0]];\r\n      loCards = this.baseHand.cards.slice(1, 3);\r\n      hiCards = hiCards.concat(this.baseHand.cards.slice(3, 7));\r\n    }\r\n\r\n    this.hiHand = Hand.solve(hiCards, this.hiGame, null);\r\n    this.loHand = Hand.solve(loCards, this.loGame, null);\r\n  }\r\n\r\n  /*\r\n   * Determine the best possible Straight and/or Flush.\r\n   * @param  {Array} cards 5-7 Card objects to check.\r\n   * @return {Array} [hiCards, loCards] High and Low components, if any.\r\n   */\r\n  getSFData(cards) {\r\n    var hiCards, possibleLoCards, bestLoCards, bestHand;\r\n    var handsToCheck = [\r\n      new StraightFlush(cards, new Game('paigowpokersf7'), null),\r\n      new StraightFlush(cards, new Game('paigowpokersf6'), null),\r\n      new StraightFlush(cards, this.game, null),\r\n      new Flush(cards, new Game('paigowpokersf7'), null),\r\n      new Flush(cards, new Game('paigowpokersf6'), null),\r\n      new Flush(cards, this.game, null),\r\n      new Straight(cards, new Game('paigowpokersf7'), null),\r\n      new Straight(cards, new Game('paigowpokersf6'), null),\r\n      new Straight(cards, this.game, null)\r\n    ];\r\n\r\n    for (var i = 0; i < handsToCheck.length; i++) {\r\n      var hand = handsToCheck[i];\r\n      if (hand.isPossible) {\r\n        if (hand.sfLength === 7) {\r\n          possibleLoCards = [hand.cards[0], hand.cards[1]];\r\n        } else if (hand.sfLength === 6) {\r\n          possibleLoCards = [hand.cards[0]];\r\n          if (cards.length > 6) {\r\n            possibleLoCards.push(hand.cards[6]);\r\n          }\r\n        } else if (cards.length > 5) {\r\n          possibleLoCards = [hand.cards[5]];\r\n          if (cards.length > 6) {\r\n            possibleLoCards.push(hand.cards[6]);\r\n          }\r\n        }\r\n        if (possibleLoCards) {\r\n          possibleLoCards = possibleLoCards.sort(Card.sort);\r\n          if (!bestLoCards || bestLoCards[0].rank < possibleLoCards[0].rank || (bestLoCards.length > 1 && bestLoCards[0].rank === possibleLoCards[0].rank && bestLoCards[1].rank < possibleLoCards[1].rank)) {\r\n            bestLoCards = possibleLoCards;\r\n            bestHand = hand;\r\n          }\r\n        } else if (!bestHand) {\r\n          bestHand = hand;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (bestHand) {\r\n      if (bestHand.sfLength === 7) {\r\n        hiCards = bestHand.cards.slice(2, 7);\r\n      } else if (bestHand.sfLength === 6) {\r\n        hiCards = bestHand.cards.slice(1, 6);\r\n      } else {\r\n        hiCards = bestHand.cards.slice(0, 5);\r\n      }\r\n    }\r\n\r\n    return [hiCards, bestLoCards];\r\n  }\r\n\r\n  /*\r\n   * Determine if the setting of the hands is valid. Hi must be higher than lo.\r\n   * @return {Boolean}\r\n   */\r\n  qualifiesValid() {\r\n    var compareHands = Hand.winners([this.hiHand, this.loHand]);\r\n\r\n    return !(compareHands.length === 1 && compareHands[0] === this.loHand);\r\n  }\r\n\r\n  /**\r\n   * Find which of two split hands is best, according to rules.\r\n   * @param  {PaiGowPokerHelper} player Player hand to evaluate. Must be set.\r\n   * @param  {PaiGowPokerHelper} banker Banker hand to evaluate. Must be set.\r\n   * @param  {int}               winner Winning party, if any.\r\n   *                                    Player = 1, Banker = -1, Push = 0\r\n   */\r\n  static winners(player, banker) {\r\n    if (!player.qualifiesValid()) {\r\n      if (banker.qualifiesValid()) {\r\n        return -1;\r\n      }\r\n      // Probably shouldn't get here because the dealer must set house way.\r\n      // However, we'll still have it as a sanity check, just in case.\r\n      return 0;\r\n    }\r\n\r\n    if (!banker.qualifiesValid()) {\r\n      return 1;\r\n    }\r\n\r\n    var hiWinner = Hand.winners([player.hiHand, banker.hiHand]);\r\n    var loWinner = Hand.winners([player.loHand, banker.loHand]);\r\n\r\n    // In Pai Gow Poker, Banker takes any equal valued hands.\r\n    if (hiWinner.length === 1 && hiWinner[0] === player.hiHand) {\r\n      if (loWinner.length === 1 && loWinner[0] === player.loHand) {\r\n        // Player wins both; player wins\r\n        return 1;\r\n      }\r\n      // Player wins hi, Banker wins lo; push\r\n      return 0;\r\n    }\r\n\r\n    if (loWinner.length === 1 && loWinner[0] === player.loHand) {\r\n      // Banker wins hi, Player wins lo; push\r\n      return 0;\r\n    }\r\n\r\n    // Banker wins both; banker wins\r\n    return -1;\r\n  }\r\n\r\n  /*\r\n   * Set a full hand into high and low hands, according to manual input.\r\n   * @param  {Array} hiHand       High hand to specify.\r\n   *                              Can also be {Hand} with game of 'paigowpokerhi'.\r\n   * @param  {Array} loHand       Low hand to specify.\r\n   *                              Can also be {Hand} with game of 'paigowpokerlo'.\r\n   * @return {PaiGowPokerHelper}  Object with split hands.\r\n   */\r\n  static setHands(hiHand, loHand) {\r\n    var fullHand = [];\r\n\r\n    if (Array.isArray(hiHand)) {\r\n      hiHand = Hand.solve(hiHand, new Game('paigowpokerhi'), null);\r\n    }\r\n    fullHand = fullHand.concat(hiHand.cardPool);\r\n    if (Array.isArray(loHand)) {\r\n      loHand = Hand.solve(loHand, new Game('paigowpokerlo'), null);\r\n    }\r\n    fullHand = fullHand.concat(loHand.cardPool);\r\n\r\n    var result = new PaiGowPokerHelper(fullHand);\r\n    result.hiHand = hiHand;\r\n    result.loHand = loHand;\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Build and return PaiGowPokerHelper object with hands split House Way.\r\n   * @param  {Array} fullHand    Array of cards (['Ad', '3c', 'Th', ...]).\r\n   *                             Can also be {Hand} with game of 'paigowpokerfull'.\r\n   * @return {PaiGowPokerHelper} Object with split hands.\r\n   */\r\n  static solve(fullHand) {\r\n    var result = new PaiGowPokerHelper(fullHand = fullHand || ['']);\r\n    result.splitHouseWay();\r\n\r\n    return result;\r\n  }\r\n}\r\n\r\nvar gameRules = {\r\n  'standard': {\r\n    'cardsInHand': 5,\r\n    'handValues': [StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, TwoPair, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null,\r\n    \"noKickers\": false\r\n  },\r\n  'jacksbetter': {\r\n    'cardsInHand': 5,\r\n    'handValues': [StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, TwoPair, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 5,\r\n    'lowestQualified': ['Jc', 'Jd', '4h', '3s', '2c'],\r\n    \"noKickers\": true\r\n  },\r\n  'joker': {\r\n    'cardsInHand': 5,\r\n    'handValues': [NaturalRoyalFlush, FiveOfAKind, WildRoyalFlush, StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, TwoPair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 5,\r\n    'lowestQualified': ['4c', '3d', '3h', '2s', '2c'],\r\n    \"noKickers\": true\r\n  },\r\n  'deuceswild': {\r\n    'cardsInHand': 5,\r\n    'handValues': [NaturalRoyalFlush, FourWilds, WildRoyalFlush, FiveOfAKind, StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, HighCard],\r\n    'wildValue': '2',\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 5,\r\n    'lowestQualified': ['5c', '4d', '3h', '3s', '3c'],\r\n    \"noKickers\": true\r\n  },\r\n  'threecard': {\r\n    'cardsInHand': 3,\r\n    'handValues': [StraightFlush, ThreeOfAKind, Straight, Flush, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 3,\r\n    'lowestQualified': ['Qh', '3s', '2c'],\r\n    \"noKickers\": false\r\n  },\r\n  'fourcard': {\r\n    'cardsInHand': 4,\r\n    'handValues': [FourOfAKind, StraightFlush, ThreeOfAKind, Flush, Straight, TwoPair, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 4,\r\n    'lowestQualified': null,\r\n    \"noKickers\": true\r\n  },\r\n  'fourcardbonus': {\r\n    'cardsInHand': 4,\r\n    'handValues': [FourOfAKind, StraightFlush, ThreeOfAKind, Flush, Straight, TwoPair, OnePair, HighCard],\r\n    'wildValue': null,\r\n    'wildStatus': 1,\r\n    'wheelStatus': 0,\r\n    'sfQualify': 4,\r\n    'lowestQualified': ['Ac', 'Ad', '3h', '2s'],\r\n    \"noKickers\": true\r\n  },\r\n  'paigowpokerfull': {\r\n    'cardsInHand': 7,\r\n    'handValues': [FiveOfAKind, FourOfAKindPairPlus, StraightFlush, Flush, Straight, FourOfAKind, TwoThreeOfAKind, ThreeOfAKindTwoPair, FullHouse, ThreeOfAKind, ThreePair, TwoPair, OnePair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokeralt': {\r\n    'cardsInHand': 7,\r\n    'handValues': [FourOfAKind, FullHouse, ThreeOfAKind, ThreePair, TwoPair, OnePair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokersf6': {\r\n    'cardsInHand': 7,\r\n    'handValues': [StraightFlush, Flush, Straight],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 6,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokersf7': {\r\n    'cardsInHand': 7,\r\n    'handValues': [StraightFlush, Flush, Straight],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 7,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokerhi': {\r\n    'cardsInHand': 5,\r\n    'handValues': [FiveOfAKind, StraightFlush, FourOfAKind, FullHouse, Flush, Straight, ThreeOfAKind, TwoPair, OnePair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null\r\n  },\r\n  'paigowpokerlo': {\r\n    'cardsInHand': 2,\r\n    'handValues': [OnePair, HighCard],\r\n    'wildValue': 'O',\r\n    'wildStatus': 0,\r\n    'wheelStatus': 1,\r\n    'sfQualify': 5,\r\n    'lowestQualified': null\r\n  }\r\n};\r\n\r\n/**\r\n * Base Game class that defines the rules of the game.\r\n */\r\nexport class Game {\r\n\r\n  descr = '';\r\n  cardsInHand = 0;\r\n  handValues = [];\r\n  wildValue = null;\r\n  wildStatus = 0;\r\n  wheelStatus = 0;\r\n  sfQualify = 5;\r\n  lowestQualified = null;\r\n  noKickers = null;\r\n\r\n  constructor(descr) {\r\n    this.descr = descr;\r\n    this.cardsInHand = 0;\r\n    this.handValues = [];\r\n    this.wildValue = null;\r\n    this.wildStatus = 0;\r\n    this.wheelStatus = 0;\r\n    this.sfQualify = 5;\r\n    this.lowestQualified = null;\r\n    this.noKickers = null;\r\n\r\n    // Set values based on the game rules.\r\n    if (!this.descr || !gameRules[this.descr]) {\r\n      this.descr = 'standard';\r\n    }\r\n    this.cardsInHand = gameRules[this.descr]['cardsInHand'];\r\n    this.handValues = gameRules[this.descr]['handValues'];\r\n    this.wildValue = gameRules[this.descr]['wildValue'];\r\n    this.wildStatus = gameRules[this.descr]['wildStatus'];\r\n    this.wheelStatus = gameRules[this.descr]['wheelStatus'];\r\n    this.sfQualify = gameRules[this.descr]['sfQualify'];\r\n    this.lowestQualified = gameRules[this.descr]['lowestQualified'];\r\n    this.noKickers = gameRules[this.descr]['noKickers'];\r\n  }\r\n}\r\n\r\nexport function exportToGlobal(obj) {\r\n  obj.Card = Card;\r\n  obj.Hand = Hand;\r\n  obj.Game = Game;\r\n  obj.RoyalFlush = RoyalFlush;\r\n  obj.NaturalRoyalFlush = NaturalRoyalFlush;\r\n  obj.WildRoyalFlush = WildRoyalFlush;\r\n  obj.FiveOfAKind = FiveOfAKind;\r\n  obj.StraightFlush = StraightFlush;\r\n  obj.FourOfAKindPairPlus = FourOfAKindPairPlus;\r\n  obj.FourOfAKind = FourOfAKind;\r\n  obj.FourWilds = FourWilds;\r\n  obj.TwoThreeOfAKind = TwoThreeOfAKind;\r\n  obj.ThreeOfAKindTwoPair = ThreeOfAKindTwoPair;\r\n  obj.FullHouse = FullHouse;\r\n  obj.Flush = Flush;\r\n  obj.Straight = Straight;\r\n  obj.ThreeOfAKind = ThreeOfAKind;\r\n  obj.ThreePair = ThreePair;\r\n  obj.TwoPair = TwoPair;\r\n  obj.OnePair = OnePair;\r\n  obj.HighCard = HighCard;\r\n  obj.PaiGowPokerHelper = PaiGowPokerHelper;\r\n}","import { _decorator, AudioClip, Color, Component, Node, resources, Sprite, SpriteFrame, url } from 'cc';\r\nimport { NetworkManager } from './NetworkManager';\r\nimport { GameManager } from './GameManager';\r\nimport { ENUM_DEVICE_TYPE } from './HoldemDefines';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst CARDS_NAME: string[] = [\r\n\t\"Ac\", \"Kc\", \"Qc\", \"Jc\", \"Tc\", \"9c\", \"8c\", \"7c\", \"6c\", \"5c\", \r\n\t\"4c\", \"3c\", \"2c\", \"Ad\", \"Kd\", \"Qd\", \"Jd\", \"Td\", \"9d\", \"8d\", \r\n\t\"7d\", \"6d\", \"5d\", \"4d\", \"3d\", \"2d\",\t\"Ah\", \"Kh\", \"Qh\", \"Jh\", \r\n\t\"Th\", \"9h\", \"8h\", \"7h\", \"6h\", \"5h\", \"4h\", \"3h\", \"2h\", \"As\", \r\n\t\"Ks\", \"Qs\", \"Js\", \"Ts\", \"9s\", \"8s\", \"7s\", \"6s\", \"5s\", \"4s\",\r\n\t\"3s\", \"2s\" ];\r\n\r\nconst SOUNDS_NAME: any = [\r\n\t{ name: 'BUTTON_CLICK',\t\t\t\turl: 'fx_click' },\r\n\t{ name: 'TURN_LIMIT',\t\t\t\turl: 'fx_timer' },\r\n\t{ name: 'BET_CHIPS',\t\t\t\turl: 'fx_bet' },\r\n\t{ name: 'MY_TURN',\t\t\t\t\turl: 'fx_my_turn' },\r\n\t{ name: 'CARD_SHUFFLE',\t\t\t\turl: 'fx_shuffle_card' },\r\n\t{ name: 'CARD_DEALING',\t\t\t\turl: 'fx_dealing' },\r\n\t{ name: 'CHIP_START',\t\t\t\turl: 'fx_chip_start' },\r\n\t{ name: 'CHIP_END',\t\t\t\t\turl: 'fx_chip_end' },\r\n\t{ name: 'CARD_PUT',\t\t\t\t\turl: 'fx_card_put' },\r\n\t{ name: 'CARD_FLIP',\t\t\t\turl: 'fx_card_flip' },\r\n\t{ name: 'CARD_SHOW',\t\t\t\turl: 'fx_card_show' },\r\n\t{ name: 'WIN',\t\t\t\t\t\turl: 'fx_win' },\r\n\t{ name: 'SHOWDOWN',\t\t\t\t\turl: 'fx_showdown' },\t\r\n\r\n\t{ name: 'VOICE_GOOD_LUCK',\t\t\turl: 'voice_goodluck' },\r\n\t{ name: 'VOICE_WELCOME',\t\t\turl: 'voice_welcome' },\t\r\n\t{ name: 'VOICE_START', \t\t\t\turl: 'voice_start' },\r\n\r\n\t{ name: 'VOICE_ACTION_ALLIN', \t\turl: 'voice_action_allin' },\r\n\t{ name: 'VOICE_ACTION_CALL',\t\turl: 'voice_action_call' },\r\n\t{ name: 'VOICE_ACTION_CHECK',\t\turl: 'voice_action_check' },\t\r\n\t{ name: 'VOICE_ACTION_DIE',\t\t\turl: 'voice_action_die'\t},\r\n\t{ name: 'VOICE_ACTION_BET',\t\t\turl: 'voice_action_bet'\t},\r\n\t{ name: 'VOICE_ACTION_RAISE',\t\turl: 'voice_action_raise' },\r\n\r\n\t{ name: 'VOICE_BETTING_FULL',\t\turl: 'voice_betting_full' },\t\r\n\t{ name: 'VOICE_BETTING_HALF',\t\turl: 'voice_betting_half' },\t\r\n\t{ name: 'VOICE_BETTING_QUATER',\t\turl: 'voice_betting_quater' },\r\n\r\n\t{ name: 'VOICE_RANK_TOP',\t\t\turl: 'voice_rank_top' },\t\r\n\t{ name: 'VOICE_RANK_ONEPAIR',\t\turl: 'voice_rank_onepair' },\t\r\n\t{ name: 'VOICE_RANK_TWOPAIR',\t\turl: 'voice_rank_twopair' },\r\n\t{ name: 'VOICE_RANK_TRIPLE',\t\turl: 'voice_rank_triple' },\t\r\n\t{ name: 'VOICE_RANK_STRAIGHT',\t\turl: 'voice_rank_straight' },\t\r\n\t{ name: 'VOICE_RANK_FLUSH',\t\t\turl: 'voice_rank_flush' },\r\n\t{ name: 'VOICE_RANK_FULL_HOUSE',\turl: 'voice_rank_fullhouse' },\t\r\n\t{ name: 'VOICE_RANK_STRAIGHT_FLUSH',url: 'voice_rank_straightflush' },\t\r\n\t{ name: 'VOICE_RANK_FOURCARD',\t\turl: 'voice_rank_fourcard' },\r\n\t{ name: 'VOICE_RANK_RSFLUSH',\t\turl: 'voice_rank_rsflush' },\r\n];\r\n\r\n@ccclass('ResourceManager')\r\nexport class ResourceManager extends Component {\r\n    private static _instance: ResourceManager = null;\r\n\r\n    private preloadCardsResource: {} = {};\r\n    private preloadChipsResource: {} = {};\r\n    private preloadSoundsResource: {} = {};\t\r\n    private preloadAvatarResource: {} = {};\r\n\r\n\tprivate preloadTableResource: any = null;\r\n\tprivate preloadBackgroundResource: any = null;\r\n\r\n\tprivate currentCardType: number = 0;\r\n\tprivate currentTableType: number = 0;\r\n\tprivate currentBgType: number = 0;\r\n\r\n    public static Instance(): ResourceManager {\r\n        if ( this._instance == null ) {\r\n            this._instance = new ResourceManager();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    public loadAvatars( count: number, cbProgress:( progress: number )=>void, cbDone: ()=>void ) {\r\n\t\tlet cnt: number = 0;\r\n\t\tlet l: number = count;\r\n\t\tthis.preloadAvatarResource = {};\r\n\t\tfor( let i = 0; i < l; i++ ) {\r\n\t\t\tconst url = `Avatars/${ i }/spriteFrame`;\r\n\r\n\t\t\tresources.load<SpriteFrame>( url, ( finished, total, item )=>{\r\n\t\t\t\tif ( item.ext == '.png' ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tlet p: number = cnt / l;\r\n\t\t\t\t\tcbProgress(p);\r\n\t\t\t\t}\r\n\t\t\t}, ( err, res ) => {\r\n\r\n\t\t\t\tif( null != err ) {\r\n                    console.log( err );\r\n\t\t\t\t}\r\n\r\n                this.preloadAvatarResource[ res.name ] = res;\r\n\r\n\t\t\t\tif( count == Object.keys( this.preloadAvatarResource ).length ) {\r\n\t\t\t\t\tconsole.log('preloadAvatarResource is done');\r\n\t\t\t\t\tcbDone();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n    }\t\r\n\r\n    public loadChips( cbProgress:( progress: number )=>void, cbDone: ()=>void ) {\r\n\t\tlet cnt: number = 0;\r\n\t\tlet l: number = 12;\r\n\t\tthis.preloadChipsResource = {};\r\n\t\tfor( let i = 0; i < l; i++ ) {\r\n\t\t\tconst url = `BettingChips/${ i }/spriteFrame`;\r\n\r\n\t\t\tresources.load<SpriteFrame>( url, ( finished, total, item )=>{\r\n\t\t\t\tif ( item.ext == '.png' ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tlet p: number = cnt / CARDS_NAME.length;\r\n\t\t\t\t\tcbProgress(p);\r\n\t\t\t\t}\r\n\t\t\t}, ( err, res ) => {\r\n\r\n\t\t\t\tif( null != err ) {\r\n                    console.log('err');\r\n\t\t\t\t}\r\n\r\n                this.preloadChipsResource[ res.name ] = res;\r\n\t\t\t\tif( l == Object.keys( this.preloadChipsResource ).length ) {\r\n\t\t\t\t\tconsole.log('preloadChipsResource is done');\r\n\t\t\t\t\tcbDone();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n    }\r\n\r\n    public loadCards( cbProgress:( progress: number )=>void, cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\t\tthis.preloadCardsResource = {};\r\n\r\n\t\tlet setting = NetworkManager.Instance().GetSetting();\r\n\t\tif ( setting == null || setting == undefined ) {\r\n\t\t\tthis.currentCardType = 0;\r\n\t\t} else {\r\n\t\t\tthis.currentCardType = setting.card;\r\n\t\t}\r\n\r\n\t\tlet cards = CARDS_NAME.length + 1;\r\n\r\n\t\tfor( let i = 0; i < cards ; i++ ) {\r\n\t\t\tconst url = 'Cards/'+'type' + this.currentCardType.toString() + '/' + i.toString() + '/spriteFrame';\r\n\r\n\t\t\tresources.load<SpriteFrame>( url, (finished, total, item )=>{\r\n\t\t\t\tif ( item.ext == '.png' ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tlet p: number = cnt / CARDS_NAME.length;\r\n\t\t\t\t\tcbProgress(p);\r\n\t\t\t\t}\r\n\t\t\t}, ( err, res ) => {\r\n\r\n\t\t\t\tif( null != err ) {\r\n\t\t\t\t}\r\n\r\n                this.preloadCardsResource[ res.name ] = res;\r\n\t\t\t\tif( Object.keys( this.preloadCardsResource ).length == cards) {\r\n\t\t\t\t\tconsole.log('preloadCardsResource is done');\r\n                    cbDone();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n    }\r\n\r\n    public loadSounds( cbProgress:( progress: number )=>void, cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\t\tthis.preloadSoundsResource = {};\r\n\r\n\t\tlet keys = Object.keys( SOUNDS_NAME );\r\n\t\tlet values = Object.values ( SOUNDS_NAME );\r\n\r\n\t\tfor ( let i: number = 0 ; i < SOUNDS_NAME.length; i++ ) {\r\n\t\t\tlet item = values[i];\r\n\t\t\tconst url = `Sounds/${ item['url'] }`;\r\n\t\t\tresources.load<AudioClip> ( url, ( err, res )=>{\r\n\t\t\t\tif ( null != err ) {\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcnt++;\r\n\t\t\t\tlet p: number = cnt / SOUNDS_NAME.length;\r\n\t\t\t\tcbProgress(p);\r\n\t\t\t\tthis.preloadSoundsResource[ item['name'] ] = res;\r\n\r\n\t\t\t\tif ( Object.keys( this.preloadSoundsResource ).length >= SOUNDS_NAME.length ) {\r\n\t\t\t\t\tconsole.log('preloadSoundsResource is done');\t\t\t\t\t\r\n\t\t\t\t\tcbDone();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n    }\r\n\r\n\tpublic loadTables ( cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\t\tthis.preloadTableResource = null;\r\n\r\n\t\tlet url: string = '';\r\n\t\tlet info = GameManager.Instance().GetInfo();\r\n\t\tlet setting = NetworkManager.Instance().GetSetting();\r\n\t\tif ( setting == null || setting == undefined ) {\r\n\t\t\tthis.currentTableType = 0;\r\n\t\t} else {\r\n\t\t\tthis.currentTableType = setting.board;\t\t\t\r\n\t\t}\r\n\r\n\t\tif ( info.device == ENUM_DEVICE_TYPE.MOBILE_PORTRAIT ) {\r\n\t\t\turl = 'Tables/'+'portrait/'+ this.currentTableType.toString() + '/spriteFrame';\r\n\r\n\t\t} else {\r\n\t\t\turl = 'Tables/'+'landscape/'+ this.currentTableType.toString() + '/spriteFrame';\r\n\t\t}\r\n\r\n\t\tresources.load<SpriteFrame> (url, (err, res )=>{\r\n\t\t\tif ( null != err ) {\r\n\r\n\t\t\t}\r\n\t\t\tthis.preloadTableResource = res;\r\n\t\t\tconsole.log('preloadTableResource is done');\r\n\t\t\tcbDone();\r\n\t\t});\r\n    }\r\n\r\n\tpublic loadBackground ( cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\t\tthis.preloadBackgroundResource = null;\r\n\r\n\t\tlet setting = NetworkManager.Instance().GetSetting();\r\n\t\tif ( setting == null || setting == undefined ) {\r\n\t\t\tthis.currentBgType = 0;\r\n\r\n\t\t} else {\r\n\t\t\tthis.currentBgType = setting.background;\r\n\t\t}\r\n\r\n\t\tlet url: string = 'Backgrounds/' + this.currentBgType.toString() + '/spriteFrame';\r\n\t\t\tresources.load<SpriteFrame> (url, (err, res )=>{\r\n\r\n\t\t\tif ( null != err ) {\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis.preloadBackgroundResource = res;\r\n\t\t\tconsole.log('preloadBackgroundResource is done');\r\n\t\t\tcbDone();\r\n\t\t});\r\n    }\r\n\r\n    public getCardImage( num: number ): SpriteFrame {\r\n\t\treturn this.preloadCardsResource[ num ];\r\n\t}    \r\n\r\n    public getChipImage( num: number ): SpriteFrame {\r\n\t\treturn this.preloadChipsResource[ num ];\r\n\t}\r\n\r\n\tpublic getAvatarImage( num: number ): SpriteFrame {\r\n\t\treturn this.preloadAvatarResource[ num ];\r\n\t}\r\n\r\n\tpublic getTableImage() {\r\n\t\treturn this.preloadTableResource;\r\n\t}\r\n\r\n\tpublic getBackgroundImage() {\r\n\t\treturn this.preloadBackgroundResource;\r\n\t}\r\n\r\n\tpublic setBackgroundImage( s:Sprite ) {\r\n\t\ts.spriteFrame = this.preloadBackgroundResource;\r\n\t\tlet type = this.currentBgType;\r\n\r\n\t\tswitch ( type ) {\r\n\t\t\tcase 0:\r\n\t\t\t\ts.color = new Color(30, 30, 30, 255);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\ts.color = new Color(100, 100, 100, 255);\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\ts.color = new Color(150, 150, 150, 255);\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\ts.color = new Color(70, 70, 70, 255);\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\ts.color = new Color(100, 100, 100, 255);\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setTableImage( s:Sprite ) {\r\n\t\ts.spriteFrame = this.preloadTableResource;\r\n\t}\r\n\r\n\tpublic getCardPreloadState(): boolean {\t\t\r\n\t\tif ( Object.keys( this.preloadCardsResource ).length >= 53 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic getChipPreloadState(): boolean {\r\n\t\tif ( Object.keys( this.preloadChipsResource ).length >= 11 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic getSoundsPreloadState(): boolean {\r\n\t\tif ( Object.keys( this.preloadSoundsResource ).length >= SOUNDS_NAME.length ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic getTablePreloadState(): boolean {\r\n\t\treturn false;\r\n\r\n\t\t// if ( this.preloadTableResource != null ) {\r\n\t\t// \treturn true;\r\n\t\t// }\r\n\t\t// return false;\r\n\t}\r\n\r\n\tpublic getBackgroundPreloadState(): boolean {\r\n\t\treturn false;\r\n\r\n\t\t// if ( this.preloadBackgroundResource != null ) {\r\n\t\t// \treturn true;\r\n\t\t// }\r\n\t\t// return false;\r\n\t}\r\n\r\n\tpublic getSoundSource( name: string ): AudioClip {\r\n\t\tlet values = Object.values ( SOUNDS_NAME );\r\n\t\tlet clipName = values.find((e)=>{\r\n\t\t\treturn e['name'] == name;\r\n\t\t})['name'];\r\n\r\n\t\tif ( clipName != null && clipName.length > 0 ) {\r\n\t\t\treturn this.preloadSoundsResource[ clipName ];\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic resetCardsPreload() {\r\n\t\tthis.preloadCardsResource = {};\r\n\t}\r\n\r\n\tpublic resetChipsPreload() {\r\n\t\tthis.preloadChipsResource = {};\r\n\t}\r\n}\r\n\r\n","import { _decorator, Component, Node, SpriteFrame, Sprite, Color, Tween, tween, easing, UIOpacity, Vec3, UITransform, Label } from 'cc';\r\nimport { Board } from '../Board';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport { UiTable } from '../UiTable';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiBettingChips')\r\nexport class UiBettingChips extends Component {\r\n    @property(Node) digits: Node[] = [];\r\n    @property(Node) targets: Node[] = [];\r\n    @property(Node) rootBettingValue: Node = null;\r\n    @property(Label) labelBettingValue: Label = null;\r\n\r\n    private sprites: any[] = [];\r\n    private value: number = 0;\r\n    private positions: Vec3[] = [];\r\n    private numbers: any[] = [];\r\n\r\n    private cb: ()=>void = null;\r\n\r\n    public init() {\r\n\r\n        for ( let i: number = 0; i < this.digits.length; i ++ ) {\r\n            let ss: Sprite[] = [];\r\n            for ( let j: number = 0 ; j < 9 ; j++ ) {\r\n                let s: Sprite = this.digits[i].getChildByPath( (j+1).toString() ).getComponent(Sprite);\r\n                if ( s != null ) {\r\n                    ss.push( s );\r\n                }\r\n            }\r\n\r\n            this.sprites.push( ss );\r\n            this.positions.push( new Vec3(this.digits[i].position) );\r\n            this.digits[i].active = false;\r\n        }\r\n\r\n        if ( this.rootBettingValue != null ) {\r\n            this.rootBettingValue.active = false;\r\n        }\r\n\r\n        if ( this.labelBettingValue != null ) {\r\n            this.labelBettingValue.string = '';\r\n        }\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show( num: number, cb: ()=>void ) {\r\n        this.value = num;\r\n        if ( cb != null ) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        this.setNumbers();\r\n        this.setDigits();\r\n        this.reset();\r\n\r\n        for ( let i: number = 0 ; i < this.digits.length ; i++ ) {\r\n            this.move( i, this.digits[i], this.targets[i], i * 0.1 );\r\n        }\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    public moveChipsToPot( to: Node, cb:()=>void ) {\r\n        let idx: number = 0;\r\n        for ( let i: number = 0 ; i < this.digits.length; i++ ) {\r\n            if ( this.digits[i] != null ) {\r\n                idx++;\r\n                this.moveToPot(i, this.digits[i], to, 0.5 + idx * 0.1, ()=>{\r\n                    this.reset();\r\n                    cb();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    private setNumbers() {\r\n        this.numbers = [];\r\n        let s: string = this.value.toString();\r\n        let cnt: number = 0;\r\n        for ( let i = 0 ; i < s.length; i ++ ) {\r\n            let n: number = parseInt( s[i] );\r\n            this.numbers.push( {\r\n                number: n,\r\n                digit: s.length - i,\r\n            } );\r\n            cnt++;\r\n            if ( cnt >= this.digits.length ) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private setDigits() {\r\n        for ( let i: number = 0 ; i < this.digits.length; i ++ ) {\r\n\r\n            let s: any = this.sprites[i];\r\n            for ( let j: number = 0 ; j < 9; j++ ) {\r\n                let sf: SpriteFrame = ResourceManager.Instance().getChipImage( this.numbers[i].digit );\r\n                s[j].spriteFrame = sf;\r\n                if ( j < this.numbers[i].number ) {\r\n                    s[j].node.active = true;\r\n                } else {\r\n                    s[j].node.active = false;\r\n                }\r\n            }\r\n\r\n            this.digits[i].active = true;\r\n        }\r\n    }\r\n\r\n    private reset() {\r\n        for ( let i: number = 0 ; i < this.digits.length; i ++ ) {\r\n            this.digits[i].setPosition( new Vec3 ( this.positions[i]) );\r\n            this.digits[i].active = false;\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        this.reset();\r\n\r\n        this.rootBettingValue.active = false;\r\n        this.labelBettingValue.string = '';\r\n        this.labelBettingValue.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private move( index: number, from: Node, to: Node, delay: number ) {\r\n        if ( from == null || to == null ) {\r\n            return;\r\n        }\r\n\r\n        let op: UIOpacity = from.getComponent(UIOpacity);\r\n        if ( op != null ) {\r\n            op.opacity = 0;\r\n        }\r\n        \r\n        from.active = true;\r\n\r\n        let duration = 0.2;\r\n        let tw = tween( from )\r\n        .delay(delay)\r\n        .set ({\r\n            position: from.position,\r\n\r\n        }).to ( duration, {\r\n            position: to.position,\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate: ( target: Node, ratio: number )=> {\r\n                let o = 255 * ratio;\r\n                op.opacity = o;\r\n            },\r\n        });\r\n\r\n        tw.call( ()=>{\r\n            if ( (index + 1) == this.numbers.length ) {\r\n                if ( this.cb != null ) {\r\n\r\n                    this.rootBettingValue.active = ( this.value > 0);\r\n                    this.labelBettingValue.string = CommonUtil.getKoreanNumber( this.value );\r\n                    this.labelBettingValue.node.active = ( this.value > 0);\r\n\r\n                    this.cb();\r\n                }\r\n            }\r\n        } );\r\n        tw.start();\r\n    }\r\n\r\n    private moveToPot( index: number, from: Node, to: Node, delay: number, cb:()=>void ) {\r\n\r\n        let vecTo = to.parent.getComponent(UITransform).convertToWorldSpaceAR(to.position);\r\n        vecTo = from.parent.getComponent(UITransform).convertToNodeSpaceAR( vecTo );\r\n\r\n        let duration = 0.2;\r\n        let tw = tween( from )\r\n        .delay(delay)\r\n        .set ({\r\n            position: from.position,\r\n\r\n        }).to ( duration, {\r\n            position: vecTo,\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate: ( target: Node, ratio: number )=> {\r\n                // let o = 255 * ratio;\r\n                // op.opacity = o;\r\n            },\r\n        });\r\n\r\n        tw.call( ()=>{\r\n            if ( (index + 1) == this.numbers.length ) {\r\n                if ( cb != null ) {\r\n                    cb();\r\n                }\r\n            }\r\n        } );\r\n\r\n        tw.start();\r\n    }\r\n\r\n    easeOutBack(x: number ): number {\r\n        const c1 = 1.70158;\r\n        const c3 = c1 + 1;\r\n        \r\n        return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);\r\n    }\r\n\r\n    easeOutQuad( x: number ): number {\r\n        return 1 - (1 - x) * (1 - x);\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, Slider, Label, EventHandler, math, MATH_FLOAT_ARRAY } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ENUM_BETTING_TYPE {\r\n    None,\r\n    call,\r\n    Bet,\r\n    Raise,\r\n}\r\n\r\n@ccclass('UiBettingControl')\r\nexport class UiBettingControl extends Component {\r\n    @property(Button) buttonMinus: Button = null;\r\n    @property(Button) buttonPlus: Button = null;\r\n    @property(Button) buttonBet: Button = null;\r\n    @property(Button) buttonRaise: Button = null;\r\n\r\n    @property(Slider) sliderBetting: Slider = null;\r\n    @property(Label) labelDisplayValue: Label = null;\r\n\r\n    @property(Button) buttonMinusDisable: Button = null;\r\n    @property(Button) buttonPlusDisable: Button = null;\r\n    @property(Button) buttonBetDisable: Button = null;\r\n    @property(Button) buttonRaiseDisable: Button = null;\r\n    @property(Node) sliderBettingDisable: Node = null;\r\n\r\n    private betStart: number = 0;\r\n    private betRange: number = 0;\r\n    private value: number = 0;\r\n    private betMin: number = 0;\r\n    private sb: number = 0;\r\n\r\n    private type: ENUM_BETTING_TYPE = ENUM_BETTING_TYPE.None;\r\n    private cbBet: ( result: any )=>void;\r\n\r\n    init( sb: number, bb: number, cbBet: (resutlt: any)=>void ) {\r\n        if ( cbBet != null ) {\r\n            this.cbBet = cbBet;\r\n        }\r\n        this.sb = sb;\r\n\r\n        this.labelDisplayValue.string = '-';\r\n\r\n\t\tconst sliderEventHandler = new EventHandler();\r\n\t\tsliderEventHandler.target = this.node;\r\n\t\tsliderEventHandler.component = \"UiBettingControl\";\r\n\t\tsliderEventHandler.handler = \"onSLIDE_CHANGE\";\r\n\t\tsliderEventHandler.customEventData = \"???\";\r\n\t\tthis.sliderBetting?.slideEvents.push( sliderEventHandler );\r\n\r\n        this.buttonMinus.node.off('click');\r\n        this.buttonMinus.node.on('click', this.onCLICK_MINUS.bind( this ));\r\n        \r\n        this.buttonPlus.node.off('click');\r\n        this.buttonPlus.node.on('click', this.onCLICK_PLUS.bind( this ));\r\n\r\n        this.buttonBet.node.off('click');\r\n        this.buttonBet.node.on('click', this.onCLICK_BET.bind( this ));\r\n        this.buttonBet.node.active = false;\r\n\r\n        this.buttonRaise.node.off('click');\r\n        this.buttonRaise.node.on('click', this.onCLICK_RAISE.bind( this ));\r\n        this.buttonRaise.node.active = false;\r\n\r\n        this.sliderBetting.progress = 0.0;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public Set( isBet: boolean, betMin: number, betStart: number, betRange: number, hasAction: boolean, enable: boolean ) {\r\n        this.betMin = betMin;\r\n\r\n        if ( enable == true ) {\r\n            this.onENABLE();\r\n\r\n            this.sliderBetting.progress = 0.0;\r\n            this.SetValue( this.sliderBetting.progress );\r\n\r\n            if ( isBet == true ) {\r\n                this.type = ENUM_BETTING_TYPE.Bet;\r\n                this.buttonBet.node.active = true;\r\n                this.buttonRaise.node.active = false;\r\n    \r\n                this.betStart = betStart;\r\n                this.betRange = betRange;\r\n                this.value = this.betStart;\r\n            } else {\r\n                this.type = ENUM_BETTING_TYPE.Raise;\r\n                this.buttonBet.node.active = false;            \r\n                this.buttonRaise.node.active = true;\r\n    \r\n                this.betStart = betStart;\r\n                this.betRange = betRange;\r\n                this.value = this.betStart;\r\n            }\r\n\r\n            this.buttonMinus.node.active = false;\r\n            this.buttonMinusDisable.node.active = true;\r\n            this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.value );\r\n\r\n        } else {\r\n            this.onDISABLE();\r\n            if ( isBet == true ) {\r\n                this.type = ENUM_BETTING_TYPE.Bet;\r\n                this.buttonBetDisable.node.active = true;\r\n                this.buttonRaiseDisable.node.active = false;\r\n    \r\n                this.betStart = betStart;\r\n                this.betRange = betRange;\r\n\r\n                this.value = Math.min(this.betStart, this.betRange );\r\n    \r\n                this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.value );\r\n            } else {\r\n                this.type = ENUM_BETTING_TYPE.Raise;\r\n                this.buttonBetDisable.node.active = false;            \r\n                this.buttonRaiseDisable.node.active = true;\r\n    \r\n                this.betStart = betStart;\r\n                this.betRange = betRange;\r\n                this.value = this.betStart;\r\n                \r\n                this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.value );\r\n            }    \r\n        }\r\n    }\r\n\r\n    private onENABLE() {\r\n        this.buttonMinusDisable.node.active = false;\r\n        this.buttonPlusDisable.node.active = false;\r\n        this.buttonBetDisable.node.active = false;\r\n        this.buttonRaiseDisable.node.active = false;\r\n        \r\n        this.sliderBettingDisable.active = false;\r\n\r\n        this.buttonMinus.node.active = true;\r\n        this.buttonPlus.node.active = true;\r\n        this.buttonBet.node.active = true;\r\n        this.buttonRaise.node.active = true;\r\n\r\n        this.sliderBetting.node.active = true;\r\n    }\r\n\r\n    private onDISABLE() {\r\n        this.buttonMinus.node.active = false;\r\n        this.buttonPlus.node.active = false;\r\n        this.buttonBet.node.active = false;\r\n        this.buttonRaise.node.active = false;\r\n\r\n        this.sliderBetting.node.active = false;\r\n\r\n        this.buttonMinusDisable.node.active = true;\r\n        this.buttonPlusDisable.node.active = true;\r\n        this.buttonBetDisable.node.active = true;\r\n        this.buttonRaiseDisable.node.active = true;\r\n        \r\n        this.sliderBettingDisable.active = true;\r\n    }\r\n\r\n    private SetValue( ratio: number ) {\r\n        let result = 0;\r\n        if ( ratio <= 0 ) {\r\n            this.sliderBetting.progress = 0.0;\r\n            this.value = this.betStart;\r\n\r\n            this.buttonMinus.node.active = false;\r\n            this.buttonMinusDisable.node.active = true;\r\n\r\n        } else if ( ratio >= 1.0 ) {\r\n            this.sliderBetting.progress = 1.0;\r\n            this.value = this.betRange;\r\n\r\n            this.buttonPlus.node.active = false;\r\n            this.buttonPlusDisable.node.active = true;\r\n\r\n        } else {\r\n\r\n            result = this.betStart + Math.floor( ratio * (this.betRange - this.betStart) );\r\n            let remain = result % this.sb;\r\n            result -= remain;\r\n            result = Math.max( result, this.betStart );\r\n\r\n            this.value = result;\r\n        }\r\n\r\n        this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.value );\r\n        this.SetSlide( this.value );\r\n\r\n        if ( this.value > this.betStart ) {\r\n            this.buttonMinus.node.active = true;\r\n            this.buttonMinusDisable.node.active = false;\r\n        }\r\n\r\n        if ( this.value < this.betRange ) {\r\n            this.buttonPlus.node.active = true;\r\n            this.buttonPlusDisable.node.active = false;\r\n        }\r\n    }\r\n\r\n    private onSLIDE_CHANGE( slider: Slider ) {\r\n        this.SetValue( slider.progress );\r\n\t}\r\n\r\n    private SetSlide( value: number ) {\r\n        if ( this.betRange - this.betStart <= 0 ) {\r\n            return;\r\n        }\r\n\r\n        if ( value - this.betStart <= 0 ) {\r\n            this.sliderBetting.progress = 0.0;\r\n        }\r\n        else {\r\n            this.sliderBetting.progress = ( value - this.betStart ) / ( this.betRange - this.betStart );            \r\n        }\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onCLICK_PLUS( button: Button ) {\r\n        this.value += this.betMin;\r\n\r\n        if ( this.value >= this.betRange ) {\r\n            this.value = this.betRange;\r\n            this.buttonPlus.node.active = false;\r\n            this.buttonPlusDisable.node.active = true;\r\n        }\r\n\r\n        if ( this.value > this.betStart ) {\r\n            this.buttonMinus.node.active = true;\r\n            this.buttonMinusDisable.node.active = false;\r\n        }\r\n\r\n        this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.value );\r\n        this.SetSlide( this.value );\r\n    }\r\n\r\n    private onCLICK_MINUS( button: Button ) {\r\n        this.value -= this.betMin;\r\n\r\n        if ( this.value <= this.betStart ) {\r\n            this.value = this.betStart;\r\n            this.buttonMinus.node.active = false;\r\n            this.buttonMinusDisable.node.active = true;\r\n        }\r\n\r\n        if ( this.value < this.betRange ) {\r\n            this.buttonPlus.node.active = true;\r\n            this.buttonPlusDisable.node.active = false;\r\n        }\r\n\r\n        this.labelDisplayValue.string = CommonUtil.getKoreanNumber( this.value );\r\n\r\n        this.SetSlide( this.value );\r\n    }\r\n\r\n    private onCLICK_BET( button: Button ) {\r\n        if ( this.cbBet != null ) {\r\n            this.cbBet({\r\n                type: this.type,\r\n                value: this.value\r\n            });\r\n        }\r\n    }\r\n\r\n    private onCLICK_RAISE( button: Button ) {\r\n        if ( this.cbBet != null ) {\r\n            this.cbBet({\r\n                type: this.type,\r\n                value: this.value\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Button, Slider, EventHandler } from 'cc';\r\nimport {CommonUtil} from \"../CommonUtil\";\r\nimport {Board} from \"../Board\";\r\nimport {UiGameInput} from \"./UiGameInput\";\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst limitTime: number = 60;\r\n\r\n@ccclass('UiBuyIn')\r\nexport class UiBuyIn extends Component {\r\n    @property( Label ) labelTitle: Label = null;    \r\n    @property( Label ) labelUserChips: Label = null;\r\n    @property( Label ) labelBlind: Label = null;\r\n    @property( Button ) buttonExit: Button = null;\r\n    @property( Button ) buttonBuyIn: Button = null;\r\n    @property(Label) labelMinStakePrice: Label = null;\r\n    @property(Label) labelMaxStakePrice: Label = null;\r\n    @property(Label) labelBuyIn: Label = null;\r\n\r\n    @property(Button) buttonMin: Button = null;\r\n    @property(Button) buttonMax: Button = null;\r\n    @property(Button) buttonInput: Button = null;\r\n\r\n    @property(Slider) sliderBuyIn: Slider = null;\r\n\r\n    private minStakePrice: number = -1;\r\n    private maxStakePrice: number = -1;\r\n    private buyInRange: number = -1;\r\n    private buyInResult: number;\r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbBuyIn: (res: number)=>void = null;\r\n\r\n    private initialized: boolean = false;\r\n\r\n    init() {\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n        this.buttonBuyIn.node.on('click', this.onClickBuyIn.bind(this));\r\n        this.buttonMin.node.on('click', this.onClickMin.bind(this));\r\n        this.buttonMax.node.on('click', this.onClickMax.bind(this));\r\n        this.buttonInput.node.on('click', this.onClickInput.bind(this));\r\n\r\n        const sliderEventHandler = new EventHandler();\r\n        sliderEventHandler.target = this.node;\r\n        sliderEventHandler.component = \"UiBuyIn\";\r\n        sliderEventHandler.handler = \"onSliderChangeValue\";\r\n        sliderEventHandler.customEventData = \"???\";\r\n        this.sliderBuyIn?.slideEvents.push( sliderEventHandler );\r\n\r\n        this.initialized = true;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public buyIn(cbBuyIn: (res: number)=>void, cbExit: ()=>void) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n\r\n        this.labelBuyIn.string = '바이인';\r\n\r\n        this.clear();\r\n\r\n        if ( cbBuyIn != null ) {\r\n            this.cbBuyIn = cbBuyIn;\r\n        }\r\n\r\n        if (cbExit != null) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        this.labelUserChips.string = CommonUtil.getKoreanNumber( Board.balance );\r\n        this.labelBlind.string = CommonUtil.getKoreanNumber( Board.small ) + ' / ' +\r\n            CommonUtil.getKoreanNumber( Board.big );\r\n\r\n        this.minStakePrice = Number( Board.minStakePrice );\r\n\r\n        let b: number = Number ( Board.balance );\r\n        let m: number = Number ( Board.maxStakePrice );\r\n        this.maxStakePrice = Math.min(b, m);\r\n\r\n        this.labelMinStakePrice.string = CommonUtil.getKoreanNumber( this.minStakePrice );\r\n        this.labelMaxStakePrice.string = CommonUtil.getKoreanNumber( this.maxStakePrice );\r\n\r\n        this.buyInRange = this.maxStakePrice - this.minStakePrice;\r\n\r\n        this.setBuyInRatio( 0 );        \r\n        this.node.active = true;\r\n    }\r\n\r\n    private onSliderChangeValue( slider: Slider ) {\r\n        this.setBuyInRatio( slider.progress );\r\n    }\r\n\r\n    public addChips( balance: number, amount: number, cbBuyIn: (res: number)=>void ) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n        this.labelTitle.string = '칩 추가';\r\n\r\n        if ( cbBuyIn != null ) {\r\n            this.cbBuyIn = cbBuyIn;\r\n        }\r\n\r\n        this.labelUserChips.string = CommonUtil.getKoreanNumber( Board.balance );\r\n        this.labelBlind.string = CommonUtil.getKoreanNumber( Board.small ) + ' / ' +\r\n            CommonUtil.getKoreanNumber( Board.big );\r\n\r\n        this.minStakePrice = 0;\r\n\r\n        let b: number = balance;\r\n        let m: number = amount;\r\n\r\n        this.maxStakePrice = Math.min(b, m);\r\n\r\n        this.labelMinStakePrice.string = CommonUtil.getKoreanNumber( this.minStakePrice );\r\n        this.labelMaxStakePrice.string = CommonUtil.getKoreanNumber( this.maxStakePrice );\r\n\r\n        this.buyInRange = this.maxStakePrice - this.minStakePrice;\r\n\r\n        this.setBuyInRatio( 0 );\r\n        this.node.active = true;\r\n    }\r\n\r\n    public reBuyIn( balance: number, chips: number, cbBuyIn: (res: number)=>void, cbExit: ()=>void ) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n        this.labelTitle.string = '리바이인';\r\n\r\n        if ( cbBuyIn != null ) {\r\n            this.cbBuyIn = cbBuyIn;\r\n        }\r\n\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        this.labelUserChips.string = CommonUtil.getKoreanNumber( Board.balance );\r\n        this.labelBlind.string = CommonUtil.getKoreanNumber( Board.small ) + ' / ' +\r\n            CommonUtil.getKoreanNumber( Board.big );\r\n\r\n        let minValue = Board.minStakePrice - chips;\r\n        this.minStakePrice = minValue;\r\n\r\n        let b: number = balance;\r\n        let m: number = Board.maxStakePrice - chips;\r\n\r\n        this.maxStakePrice = Math.min(b, m);\r\n\r\n        this.labelMinStakePrice.string = CommonUtil.getKoreanNumber( this.minStakePrice );\r\n        this.labelMaxStakePrice.string = CommonUtil.getKoreanNumber( this.maxStakePrice );\r\n\r\n        this.buyInRange = this.maxStakePrice - this.minStakePrice;\r\n\r\n        this.setBuyInRatio( 0 );\r\n        this.node.active = true;\r\n    }\r\n\r\n    buyInDone() {\r\n\r\n    }\r\n\r\n    private setBuyInRatio( ratio: number ) {\r\n        let buyInRemain: number = 0;\r\n\r\n        if ( ratio >= 1) {\r\n            ratio = 1;\r\n            this.buyInResult = this.maxStakePrice;\r\n\r\n        } else {\r\n            this.buyInResult = this.minStakePrice + Math.floor( ratio * this.buyInRange );\r\n            buyInRemain = this.buyInResult % 100;\r\n            this.buyInResult = this.buyInResult - buyInRemain;\r\n        }\r\n\r\n        this.sliderBuyIn.progress = ratio;\r\n        this.labelBuyIn.string = CommonUtil.getKoreanNumber(this.buyInResult);\r\n    }\r\n\r\n    private  onClickExit( button: Button ) {\r\n        if ( this.cbExit != null ) {\r\n            this.cbExit();\r\n        }\r\n\r\n        AudioController.instance.ButtonClick();\r\n        this.cbExit = null;\r\n        this.node.active = false;\r\n    }\r\n\r\n    private  onClickBuyIn( button: Button ) {\r\n        if ( this.cbBuyIn != null ) {\r\n            this.cbBuyIn( this.buyInResult );\r\n        }\r\n\r\n        AudioController.instance.ButtonClick();\r\n        this.node.active = false;\r\n    }\r\n\r\n    public closePopup() {\r\n        this.clear();\r\n        this.node.active = false;\r\n    }\r\n\r\n    private clear() {\r\n        this.cbExit = null;\r\n        this.cbBuyIn = null;\r\n    }\r\n\r\n    private  onClickMin( button: Button ) {\r\n        AudioController.instance.ButtonClick();        \r\n        this.setBuyInRatio(0);\r\n    }\r\n\r\n    private  onClickMax( button: Button ) {\r\n        AudioController.instance.ButtonClick();\r\n        this.setBuyInRatio(1);\r\n    }\r\n\r\n    private  onClickInput( button: Button ) {\r\n        // UiGameInput.instance.show();\r\n    }\r\n\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Animation, AnimationClip, animation, Sprite, SpriteFrame, UITransform, Vec3 } from 'cc';\nimport { ResourceManager } from '../ResourceManager';\nimport { AudioController } from './AudioController';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiCard')\nexport class UiCard extends Component {\n    @property(AnimationClip) clip: AnimationClip = null;\n    @property(Sprite) spriteWin: Sprite = null;\n\n    private anim: Animation = null;\n    private sprite: Sprite = null;\n    private card: number = -1;\n    private cb: ()=> void;\n    private originalPos: Vec3 = null;\n\n    init() {\n        this.anim = this.node.getComponent(Animation);\n        if ( this.anim == null) {\n            return;\n        }\n\n        this.sprite = this.node.getComponent(Sprite);\n        this.anim.on('finished', this.onCardFlipFinished.bind(this), this);\n        this.originalPos = new Vec3( this.node.position.x, this.node.position.y, this.node.position.z );\n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        }\n\n        this.node.active = false;\n    }\n\n    show( card: number, cb:()=>void,  delay: number = 0.0 ) {\n        if ( cb != null ) {\n            this.cb = cb;\n        }\n\n        this.anim.stop();\n\n        this.card = card;\n        this.sprite.spriteFrame = ResourceManager.Instance().getCardImage(0);\n        this.sprite.node.active = true;\n        this.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n\n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        }\n\n        this.node.active = true;\n\n        this.scheduleOnce(()=>{\n            this.anim.play();\n        }, delay );\n    }\n\n    ShowImmediate( card: number ) {\n        this.card = card;\n        this.sprite.spriteFrame = ResourceManager.Instance().getCardImage(this.card + 1);\n        this.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n\n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        }\n\n        this.node.active = true;\n    }\n    \n    SetWinCard( pools: any ) {\n        this.Reset();\n\n        let c = pools.find( ( e )=>{\n            return this.card == e;\n        });\n\n        if ( c != null ) {\n            this.spriteWin.node.active = true;\n\n            // let pos = new Vec3(this.node.position.x, this.node.position.y, this.node.position.z);\n            this.node.position = new Vec3( this.originalPos.x, this.originalPos.y + 30, this.originalPos.z );\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y + 30, this.originalPos.z );\n        }\n    }\n\n    private Reset() {\n        this.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        \n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n            this.spriteWin.node.position = new Vec3( this.originalPos.x, this.originalPos.y, this.originalPos.z );\n        }\n    }\n\n    onCardFlipFinished() {\n        if ( this.cb != null ) {\n            this.cb();\n        }\n    }\n\n    onCardFlippCenter() {\n        let sf: SpriteFrame = ResourceManager.Instance().getCardImage(this.card + 1);\n\n        if ( sf != null ) {\n            this.sprite.spriteFrame = sf;\n        }\n    }\n\n    hide() {\n        if ( this.cb != null ) {\n            this.cb = null;\n        }\n\n        this.sprite.spriteFrame = ResourceManager.Instance().getCardImage(0);\n\n        if ( this.spriteWin != null ) {\n            this.spriteWin.node.active = false;\n        }\n\n        this.node.active = false;\n    }\n}\n\n","import { _decorator, Component, Node, Vec3 } from 'cc';\r\nimport { ENUM_CARD_TYPE } from '../HoldemDefines';\r\nimport { Card } from './Card';\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\n@ccclass('UiCommunityCards')\r\nexport class UiCommunityCards extends Component {\r\n    @property(Card) cards: Card[] = [];\r\n\r\n    private numbers: number[] = [];\r\n    private isRegistedChildren: boolean = false;\r\n\r\n    public Init() {\r\n        this.isRegistedChildren = false;\r\n\r\n        this.RegistedChildren();\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    public Ready() {\r\n        this.numbers = [];\r\n    }\r\n\r\n    public SetCommunityCards( cards: number[] ) {\r\n        let cnt: number = 0;\r\n        for ( let i: number = 0 ; i < cards.length; i++ ) {\r\n            if ( cards[i] > 0 ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[i];\r\n                });\r\n\r\n                if ( d != null || this.numbers.length > 5 ) {\r\n                    continue;\r\n                }\r\n\r\n                cnt++;\r\n                this.numbers.push( cards[i] );\r\n\r\n                let delay: number = 0.2 + ( cnt * 0.1 );\r\n                this.cards[i].ShowFlip( cards[i], delay, ()=>{\r\n                    AudioController.instance.PlaySound('CARD_FLIP');\r\n                } );\r\n            }\r\n        }\r\n        this.Show();\r\n    }\r\n\r\n    public ShowFlopCards( cards: number[], cbDone: ()=>void = null ) {\r\n        if ( cards.length != 3 ) {\r\n            return;\r\n        }\r\n\r\n        this.Reset();\r\n\r\n        let cnt: number = 0;\r\n        let done: number = 0;\r\n        this.Show();\r\n\r\n        for ( let i: number = 0 ; i < cards.length; i++ ) {\r\n            if ( cards[i] >= 0 ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[i];\r\n                });\r\n\r\n                if ( d != null || this.numbers.length > 5 ) {\r\n                    continue;\r\n                }\r\n\r\n                cnt++;\r\n                this.numbers.push( cards[i] );\r\n\r\n                let delay: number = 0.2 + ( cnt * 0.1 );\r\n                this.cards[i].ShowFlip( cards[i], delay, ()=>{\r\n                    done++;\r\n                    if ( done >= 3 ) {\r\n                        AudioController.instance.PlaySound('CARD_FLIP');\r\n                        if ( cbDone != null ) {\r\n                            cbDone();\r\n                        }\r\n                    }\r\n                } );\r\n            }\r\n        }\r\n    }\r\n\r\n    public ShowTurnCard( cards: number[], cbDone: ()=>void = null ) {\r\n        if ( cards.length != 1 ) {\r\n            return;\r\n        }\r\n\r\n        this.cards.forEach( (e)=>{\r\n            if ( e.GetType() == ENUM_CARD_TYPE.COMMUNITY_TURN ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[0];\r\n                });\r\n\r\n                if ( d == null ) {\r\n                    this.numbers.push( cards[0] );                \r\n                    let delay = 0.2;\r\n    \r\n                    e.ShowFlip( cards[0] , delay, ()=>{\r\n                        AudioController.instance.PlaySound('CARD_FLIP');\r\n                        if ( cbDone != null ) {\r\n                            cbDone();\r\n                        }\r\n                    } );    \r\n                }\r\n            }\r\n        } );\r\n    }\r\n\r\n    public ShowRiverCard( cards: number[], cbDone: ()=>void = null ) {\r\n        if ( cards.length != 1 ) {\r\n            return;\r\n        }\r\n\r\n        this.cards.forEach( (e)=>{\r\n            if ( e.GetType() == ENUM_CARD_TYPE.COMMUNITY_RIVER ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[0];\r\n                });\r\n\r\n                if ( d == null ) {\r\n                    this.numbers.push( cards[0] );\r\n\r\n                    let delay = 0.2;\r\n                    e.ShowFlip( cards[0] , delay, ()=>{\r\n                        AudioController.instance.PlaySound('CARD_FLIP');\r\n                        if ( cbDone != null ) {\r\n                            cbDone();\r\n                        }                    \r\n                    } );    \r\n                }\r\n                else {\r\n                    if ( cbDone != null ) {\r\n                        cbDone();\r\n                    }\r\n                }\r\n            }\r\n        } );\r\n    }\r\n\r\n    public ShowRiverCardImmediate( cards: number[] ) {\r\n        if ( cards.length != 1 ) {\r\n            return;\r\n        }\r\n\r\n        this.cards.forEach( (e)=>{\r\n            if ( e.GetType() == ENUM_CARD_TYPE.COMMUNITY_RIVER ) {\r\n                let d = this.numbers.find( ( e )=>{\r\n                    return e == cards[0];\r\n                });\r\n\r\n                if ( d == null ) {\r\n                    this.numbers.push( cards[0] );\r\n                    e.ShowImmediate( cards[0] );\r\n                    AudioController.instance.PlaySound('CARD_FLIP');\r\n                }\r\n            }\r\n        } );\r\n    }\r\n\r\n    public SetWinCards( pools: number[] ) {\r\n        this.cards.forEach( (e)=> {\r\n            e.SetWinCard( pools );\r\n        });\r\n    }\r\n\r\n    public GetCommunityCards(): number[] {\r\n        return this.numbers;\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Reset() {\r\n        this.cards.forEach( (e)=>{\r\n            e.Reset();\r\n        } );\r\n\r\n        this.numbers = [];\r\n        this.node.active = false;\r\n    }\r\n\r\n    private RegistedChildren() {\r\n        if ( this.isRegistedChildren == true ) {\r\n            return;\r\n        }\r\n\r\n        this.cards[0].Init( ENUM_CARD_TYPE.COMMUNITY_FLOP );\r\n        this.cards[1].Init( ENUM_CARD_TYPE.COMMUNITY_FLOP );\r\n        this.cards[2].Init( ENUM_CARD_TYPE.COMMUNITY_FLOP );\r\n        this.cards[3].Init( ENUM_CARD_TYPE.COMMUNITY_TURN );\r\n        this.cards[4].Init( ENUM_CARD_TYPE.COMMUNITY_RIVER );\r\n\r\n        this.isRegistedChildren = true;\r\n    }\r\n}\r\n","import { _decorator, Component, Node, Button, Label } from 'cc';\r\nimport { AudioController } from './AudioController';\r\nimport { NetworkManager } from '../NetworkManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiControls')\r\nexport class UiControls extends Component {\r\n    public static instance: UiControls = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonMessage: Button = null;\r\n\r\n    @property(Node) BADGE_MESSAGE:Node = null;\r\n    @property(Label) labelUnread: Label = null;\r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbMessage: ()=>void = null;    \r\n\r\n    init() {\r\n        UiControls.instance = this;        \r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n        this.buttonMessage.node.on('click', this.onClickMessage.bind(this));\r\n        \r\n        this.labelUnread.string = '0';\r\n        this.labelUnread.node.active = true;\r\n        this.BADGE_MESSAGE.active = false;\r\n    }\r\n\r\n    show() {\r\n        this.onREFRESH_UNREAD_BADGE();\r\n        this.node.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    public SetUnreadCount( count: number ) {\r\n        if ( count != null && count > 0 ) {\r\n            this.labelUnread.string = count.toString();\r\n            this.BADGE_MESSAGE.active = true;\r\n        } else {\r\n            this.BADGE_MESSAGE.active = false;\r\n        }\r\n    }\r\n\r\n    public setExitCallback( cbExit: ()=>void ) {\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n    }\r\n\r\n    public onREFRESH_UNREAD_BADGE() {\r\n        NetworkManager.Instance().reqGET_UNREAD_MESSAGE(( res: any )=>{\r\n            if ( res != null && res.unread_messages != null && res.unread_messages > 0 ) {\r\n                this.SetUnreadCount( res.unread_messages );\r\n            } else {\r\n                this.SetUnreadCount( 0 );\r\n            }\r\n        }, ( err: any )=>{\r\n            this.SetUnreadCount( 0 );\r\n        });\r\n    }\r\n\r\n    public SetCallback( cbMessage:()=> void, cbExit: ()=>void ) {\r\n        if ( cbMessage != null ) {\r\n            this.cbMessage = cbMessage;\r\n        }\r\n\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n    }\r\n\r\n    private onClickExit(button: Button) {\r\n        if ( this.cbExit != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cbExit();\r\n\r\n        }\r\n    }\r\n\r\n    private onClickMessage(button: Button) {\r\n        if ( this.cbMessage != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cbMessage();\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, SpriteFrame, Animation } from 'cc';\nimport { ResourceManager } from '../ResourceManager';\nimport { AudioController } from './AudioController';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiEffectShowRiver')\nexport class UiEffectShowRiver extends Component {\n\n    private sprite: Sprite = null;\n    private animation: Animation = null;\n    private value: number = -1;\n\n    private done: ()=>void = null;\n\n    public Init() {\n        this.sprite = this.node.getChildByPath('CARD').getComponent(Sprite);\n        if ( this.sprite != null ) {\n            this.sprite.node.active = false;\n        }\n\n        this.animation = this.node.getComponent(Animation);\n        if ( this.animation != null ) {\n            this.animation.on('finished', this.onFinished.bind(this), this);\n        }\n\n        this.node.active = false;\n    }\n\n    public Show(value: number, done:()=>void ) {\n        if ( done != null ) {\n            this.done = done;\n        }\n\n        let sf: SpriteFrame = ResourceManager.Instance().getCardImage( 0 );\n        if ( sf != null ) {\n            this.sprite.spriteFrame = sf;\n        }\n\n        this.value = value;\n        this.scheduleOnce(()=>{\n            this.animation.node.active = true;\n            this.sprite.node.active = true;\n    \n            this.node.active = true;            \n            this.animation.play();\n        }, 0.5);\n    }\n\n    public Hide() {\n        if ( this.done != null ) {\n            this.done = null;\n        }\n        this.unscheduleAllCallbacks();\n        this.node.active = false;\n    }\n\n    onChangeCard() {\n        let sf: SpriteFrame = ResourceManager.Instance().getCardImage( this.value + 1 );\n        if ( sf != null ) {\n            this.sprite.spriteFrame = sf;\n        }\n    }\n\n    onFinished() {\n        this.scheduleOnce(()=>{\n            if ( this.done != null ) {\n                this.done();\n            }\n    \n            this.Hide();\n        }, 0.5);\n    }\n}\n\n","import { _decorator, Component, Node, Sprite, Label, Vec3, Color, Tween, SpriteFrame, UITransform, \r\n    resources, tween, Quat, bezier, Animation, Button, animation, UIOpacity, color } from 'cc';\r\nimport { Board } from './Board';\r\n\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { AudioController } from './Game/AudioController';\r\nimport { UiBettingChips } from './Game/UiBettingChips';\r\nimport { UiCard } from './Game/UiCard';\r\nimport { ENUM_STATUS_TYPE, UiEntityAvatar } from './Game/UiEntityAvatar';\r\nimport { EMOTICON_CHAT_MESSAGE, EMOTICON_TYPE } from './Game/UiGameChatting';\r\nimport { UiResultEffect } from './Game/UiResultEffect';\r\nimport { NetworkManager } from './NetworkManager';\r\nimport { ResourceManager } from './ResourceManager';\r\nimport { UiPotChips } from './Game/UiPotChips';\r\nimport { Card } from './Game/Card';\r\nimport { ENUM_CARD_TYPE } from './HoldemDefines';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiEntity')\r\nexport class UiEntity extends Component {\r\n    private uiEntityAvatar: UiEntityAvatar = null;\r\n\r\n    private isChildRegistered: boolean = false;\r\n\r\n    private rootCards: Node = null;\r\n    private rootButtons: Node = null;\r\n\r\n    private timerDeltaTime: number = 0;\r\n    private turnDuration: number = 20;\r\n    private playTimeLimitSound: boolean = false;\r\n\r\n    private buttons: {} = {};\r\n    // private posSymbols: {} = {};\r\n\r\n    private rootHandRank: Node = null;\r\n    private labelHandRank: Label = null;\r\n\r\n    public isFold: boolean = false;\r\n    public isWait: boolean = false;\r\n    public isMe: boolean = false;\r\n    public isSitout: boolean = false;\r\n\r\n    public bezierPoints: Node[] = [];\r\n\r\n    private nodeEmoticon: Node = null;\r\n    private spriteEmoticon: Sprite = null;\r\n    private nodeChatting: Node = null;\r\n    private animationEmoticon: Animation = null;\r\n    private animationChatting: Animation = null;\r\n\r\n    private labelChatting: Label = null;\r\n    private buttonAvatar: Button = null;\r\n    private id:number = -1;\r\n\r\n    private uiBettingChips: UiBettingChips = null;\r\n    private uiResultEffect: UiResultEffect = null;\r\n    \r\n    private timeOutId = -1;\r\n    private uiPotChips: UiPotChips = null;\r\n\r\n    private cbProfileOpen: (id: number, seat: number) => void = null;\r\n    private cbProfileClose: (seat: number) => void = null;\r\n\r\n    public isPlaying: boolean = false;\r\n\r\n    private rootHandCards: Node = null;\r\n    private handCards: Card[] = [ null, null ];\r\n\r\n    private rootHiddenCards: Node = null;\r\n    private hiddenCards: Card[] = [ null, null ];\r\n    private rootCardDispensing: Node = null;\r\n    private seat: number = -1;\r\n    private rootReserveExit: Node = null;\r\n    private betTimerUnit: number = 10;\r\n    \r\n\r\n    childRegistered() {\r\n        if( true == this.isChildRegistered){\r\n            return;\r\n        }\r\n\r\n        this.isChildRegistered = true;\r\n        this.uiEntityAvatar = this.node.getChildByPath('AVATAR').getComponent(UiEntityAvatar);\r\n        if ( this.uiEntityAvatar != null ) {\r\n            this.uiEntityAvatar.init();\r\n        }\r\n\r\n        let n = this.node.getChildByPath('BETTING_CHIPS');\r\n        if ( n != null ) {\r\n            this.uiBettingChips = n.getComponent(UiBettingChips);\r\n            if ( this.uiBettingChips != null ) {\r\n                this.uiBettingChips.init();\r\n            }\r\n        }\r\n\r\n        let r = this.node.getChildByPath('RESULT_EFFECT');\r\n        if ( r != null ) {\r\n            this.uiResultEffect = r.getComponent(UiResultEffect);\r\n            if ( this.uiResultEffect != null ) {\r\n                this.uiResultEffect.Init();\r\n            }\r\n        }\r\n\r\n        this.rootCards = this.node.getChildByPath('CARDS');\r\n        if ( this.rootCards != null ) {\r\n            this.rootHandCards = this.rootCards.getChildByPath('HAND_CARDS');\r\n            if ( this.rootHandCards != null ) {\r\n                for ( let i: number = 0 ; i < 2; i ++ ) {\r\n                    this.handCards[i] = this.rootHandCards.getChildByPath( i.toString() ).getComponent(Card);\r\n                    this.handCards[i].Init( ENUM_CARD_TYPE.PLAYER_HAND );\r\n                }\r\n                this.rootHandCards.active = false;\r\n            }\r\n    \r\n            this.rootHiddenCards = this.rootCards.getChildByPath('HIDDEN_CARDS');\r\n            if ( this.rootHiddenCards != null ) {\r\n                for ( let i: number = 0 ; i < 2; i ++ ) {\r\n                    this.hiddenCards[i] = this.rootHiddenCards.getChildByPath( i.toString() ).getComponent(Card);\r\n                    this.hiddenCards[i].Init( ENUM_CARD_TYPE.PLAYER_HIDDEN );\r\n                }\r\n    \r\n                this.rootCardDispensing = this.rootHiddenCards.getChildByPath('DISPENSING_ROOT');\r\n                this.rootCardDispensing.active = true;\r\n    \r\n                this.rootHiddenCards.active = false;\r\n            }\r\n\r\n            this.rootCards.active = false;\r\n        }\r\n\r\n        this.rootHandRank = this.node.getChildByPath('HAND_RANK');\r\n        if ( this.rootHandRank != null ) {\r\n            this.labelHandRank = this.rootHandRank.getChildByPath('LABEL_HAND_RANK').getComponent(Label);\r\n            if ( this.labelHandRank != null ) {\r\n                this.labelHandRank.node.on( Node.EventType.SIZE_CHANGED, ()=>{\r\n                    let uiTransLB = this.labelHandRank.node.getComponent(UITransform);\r\n                    let uiTransSpr = this.rootHandRank.getComponent(UITransform);\r\n                    uiTransSpr.setContentSize(uiTransLB.contentSize.width + 40, uiTransSpr.height);        \r\n                }, this);\r\n                this.labelHandRank.node.active = false;\r\n            }\r\n            this.rootHandRank.active = false;\r\n        }\r\n\r\n        this.rootButtons = this.node.getChildByPath('BUTTONS');\r\n        if ( this.rootButtons != null ) {\r\n\r\n            this.buttons['DEALER'] = this.rootButtons.getChildByPath('DEALER').getComponent(Sprite);\r\n            if ( this.buttons['DEALER'] != null) {\r\n                this.buttons['DEALER'].node.active = false;\r\n            }\r\n\r\n            this.buttons['SB'] = this.rootButtons.getChildByPath('SB').getComponent(Sprite);\r\n            if ( this.buttons['SB'] != null ) {\r\n                this.buttons['SB'].node.active = false;\r\n            }\r\n\r\n            this.buttons['BB'] = this.rootButtons.getChildByPath('BB').getComponent(Sprite);\r\n            if ( this.buttons['BB'] != null ) {\r\n                this.buttons['BB'].node.active = false;\r\n            }\r\n        }\r\n\r\n        this.bezierPoints = [];\r\n        for(let i=0; i<2; i++){\r\n            let point = this.node.getChildByPath(`BEZIER_POINT${i+1}`);\r\n            this.bezierPoints.push(point);\r\n        }\r\n\r\n        this.nodeEmoticon = this.node.getChildByPath('EMOTICON');\r\n        this.nodeEmoticon.active = false;\r\n\r\n        this.spriteEmoticon = this.node.getChildByPath('EMOTICON/EMOTICON').getComponent(Sprite);\r\n        this.spriteEmoticon.node.active = false;\r\n\r\n        this.animationEmoticon = this.node.getChildByPath('EMOTICON/EMOTICON').getComponent(Animation);\r\n        this.animationEmoticon.on('finished', this.onFinishedEmoticonAnimation.bind(this), this);\r\n\r\n        this.nodeChatting = this.node.getChildByPath('EMOTICON/CHATTING');\r\n        this.nodeChatting.active = false;\r\n        \r\n        this.animationChatting = this.node.getChildByPath('EMOTICON/CHATTING').getComponent(Animation);\r\n        this.animationChatting.on('finished', this.onFinishedChattingAnimation.bind(this), this);\r\n\r\n        this.labelChatting = this.node.getChildByPath('EMOTICON/CHATTING/LABEL_CHATTING').getComponent(Label);\r\n        this.labelChatting.string = '';\r\n\r\n        this.isPlaying = false;\r\n        this.node.active = false;\r\n\r\n        this.uiPotChips = this.node.getChildByPath('POT_CHIPS').getComponent( UiPotChips );\r\n        if ( this.uiPotChips != null ) {\r\n            this.uiPotChips.init();\r\n            this.uiPotChips.node.active = false;\r\n        }\r\n\r\n        this.buttonAvatar = this.node.getChildByPath('AVATAR/BUTTON_PROFILE').getComponent(Button);\r\n        if ( this.buttonAvatar != null ) {\r\n            this.buttonAvatar.node.off( 'click' );\r\n            this.buttonAvatar.node.on( 'click', this.onClickAvatar.bind(this), this );\r\n        }\r\n\r\n        this.rootReserveExit = this.node.getChildByPath('RESERVE_EXIT');\r\n        if ( this.rootReserveExit != null ) {\r\n            this.rootReserveExit.active = false;\r\n        }\r\n    }\r\n\r\n    onClickAvatar( button: Button ) {\r\n        if ( this.cbProfileOpen != null ) {\r\n            this.cbProfileOpen( this.id, this.seat );\r\n        }\r\n    }\r\n\r\n    public Init() {\r\n        this.cbProfileOpen = null;\r\n        this.cbProfileClose = null;\r\n\r\n        this.childRegistered();\r\n    }\r\n\r\n    public SetEntity( entity: any, cbOpen: ( id: number, seat:number )=>void, cbClose:( seat: number )=>void ) {\r\n\r\n        this.cbProfileOpen = null;\r\n        this.cbProfileClose = null;        \r\n        this.childRegistered();\r\n\r\n        if ( entity == null || entity == undefined ) {\r\n            this.SetEscape();\r\n            return;\r\n        }\r\n\r\n        if ( cbOpen != null ) {\r\n            this.cbProfileOpen = cbOpen;\r\n        }\r\n\r\n        if ( cbClose != null ) {\r\n            this.cbProfileClose = cbClose;\r\n        }\r\n\r\n        this.id = entity.id;\r\n        this.seat = entity.seat;\r\n        this.uiEntityAvatar.SetAvatar( this, entity, this.isMe );\r\n\r\n        this.endTurn();\r\n        this.ClearAction();\r\n        this.ClearBetValue();\r\n        this.ClearHands();\r\n\r\n        this.isPlaying = true;\r\n\r\n        this.isFold = entity.fold;        \r\n        this.isWait = entity.wait;\r\n        this.isSitout = entity.isSitOut;\r\n\r\n        this.SetStatus( entity );\r\n        this.node.active = true;\r\n\r\n        if ( this.isSitout == true ) {\r\n            this.SetSitout();\r\n            return;\r\n        }\r\n\r\n        if( true == entity.wait ){\r\n            this.SetWait( entity );\r\n            return;\r\n        }\r\n    }\r\n\r\n    SetClearRound( entity ) {\r\n        if( null === entity || undefined === entity  ){\r\n            return;\r\n        }\r\n        this.endTurn();        \r\n\r\n        this.SetChips( entity.chips );\r\n\r\n        this.ClearAction();\r\n        this.ClearBetValue();\r\n        this.ClearHands();\r\n        this.ResetResultEffect();        \r\n        this.isFold = false;\r\n\r\n        // this.SetFold( this.isFold );\r\n\r\n        if( true == entity.wait ){\r\n            this.SetWait( entity );\r\n            return;\r\n        }\r\n        this.SetPlay();\r\n    }\r\n\r\n    SetPrepareRound( entity ) {\r\n        if( null === entity || undefined === entity  ){\r\n            return;\r\n        }\r\n\r\n        this.endTurn();        \r\n        this.SetChips( entity.chips );\r\n        this.ClearAction();\r\n        this.ClearBetValue();\r\n        this.ClearHands();\r\n\r\n        this.isFold = false;\r\n        this.SetFold( this.isFold );        \r\n        this.ResetResultEffect();\r\n\r\n        if( true == entity.wait ){\r\n            this.SetWait( entity );\r\n            return;\r\n        }\r\n        this.SetPlay();\r\n    }\r\n\r\n    public setChipsMoveToPot(index: number, pot: Node, cb: (idx: number)=>void) {\r\n        if ( this.uiBettingChips != null ) {\r\n            this.uiBettingChips.moveChipsToPot(pot, ()=>{\r\n                if (cb != null ) {\r\n                    cb(index);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    SetEscape() {\r\n        this.uiEntityAvatar.setEscape();\r\n\r\n        this.labelHandRank.node.active = false;\r\n\r\n        this.buttons['DEALER'].node.active = false;\r\n        this.buttons['SB'].node.active = false;\r\n        this.buttons['BB'].node.active = false;\r\n\r\n        this.uiBettingChips.hide();\r\n\r\n        this.cbProfileOpen = null;\r\n        this.cbProfileClose = null;        \r\n\r\n        this.isPlaying = false;\r\n        this.node.active = false;\r\n\r\n        clearTimeout(this.timeOutId);\r\n\r\n        this.ResetResultEffect();        \r\n    }\r\n\r\n    SetWait( entity: any ) {\r\n        this.ClearAction();\r\n        this.clearUiBetValue();\r\n\r\n        this.uiEntityAvatar.SetWait( entity );\r\n    }\r\n\r\n    SetPlay() {\r\n        this.uiEntityAvatar.SetPlay();\r\n\r\n        this.ClearAction();\r\n        this.clearUiBetValue();\r\n    }\r\n    \r\n    SetNickname ( name: string ) {\r\n        this.uiEntityAvatar.SetNickname( name );\r\n    }\r\n\r\n    SetChips( chips: number ) {\r\n        this.uiEntityAvatar.SetChips( chips );\r\n    }\r\n\r\n    SetBlindBet( chips: number, isSB: boolean, isBB:boolean ) {\r\n\r\n        if ( true == isBB ) {\r\n            this.uiEntityAvatar.SetBigBlind();\r\n        } else {\r\n            this.uiEntityAvatar.SetSmallBlind();\r\n        }\r\n\r\n        if ( true == isBB || true == isSB ) {\r\n            this.scheduleOnce(()=>{\r\n                if ( this.uiEntityAvatar != null ) {\r\n                    this.uiEntityAvatar.SetShowChips();\r\n                }\r\n            }, 1.5);\r\n        } else {\r\n            if ( this.uiEntityAvatar != null ) {\r\n                this.uiEntityAvatar.SetShowChips();\r\n            }\r\n        }        \r\n    }\r\n\r\n    SetButtons( name: string ) {\r\n        let keys = Object.keys( this.buttons );\r\n        keys.forEach(element => {\r\n            let v: Sprite = this.buttons[element];\r\n            if (element == name) {\r\n                v.node.active = true;\r\n            }\r\n        });\r\n\r\n        this.rootButtons.active = true;\r\n    }\r\n\r\n    ClearButtons() {\r\n        let keys = Object.keys(this.buttons);\r\n        keys.forEach(element => {\r\n            let v: Sprite = this.buttons[element];\r\n            v.node.active = false;\r\n        });\r\n        this.rootButtons.active = false;\r\n    }\r\n\r\n    SetAction( action: string ) {\r\n        this.uiEntityAvatar.SetAction( action );\r\n    }\r\n\r\n    ClearAction() {\r\n        this.uiEntityAvatar.ClearAction();        \r\n    }\r\n\r\n    CLEAR_ROUND_ACTION() {\r\n        this.uiEntityAvatar.CLEAR_ROUND_ACTION();\r\n    }\r\n\r\n    SetStatus( player: any ) {\r\n        if ( player != null ) {\r\n            if ( player.isSitOut == true ) {\r\n                if ( this.uiEntityAvatar != null ) {\r\n                    this.uiEntityAvatar.SetStatus( ENUM_STATUS_TYPE.SITOUT );\r\n                }\r\n\r\n            } else if ( player.wait == true ) {\r\n                if ( this.uiEntityAvatar != null ) {\r\n                    this.uiEntityAvatar.SetStatus( ENUM_STATUS_TYPE.WAITING );\r\n                }\r\n            } else {\r\n                if ( this.uiEntityAvatar != null ) {\r\n                    this.uiEntityAvatar.SetStatus( ENUM_STATUS_TYPE.NONE );\r\n                }\r\n            }\r\n            this.SetFold( player.fold );\r\n        }\r\n    }\r\n\r\n    SetBetValue( betValue: number, done: ()=> void = null ) {\r\n        if ( betValue > 0 ) {\r\n            this.uiBettingChips.show(betValue, ()=>{\r\n                if ( done != null ) {\r\n                    done();\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            if ( done != null ) {\r\n                done();\r\n            }\r\n        }\r\n    }\r\n\r\n    ClearBetValue() {\r\n        this.uiBettingChips.hide();        \r\n    }\r\n\r\n    clearUiBetValue() {\r\n        this.uiBettingChips.hide();\r\n    }\r\n\r\n    ResetHands() {\r\n        this.handCards.forEach( (e)=>{\r\n            e.Reset();\r\n        });\r\n    }\r\n\r\n    ClearHands() {\r\n        this.HideHiddenCard();\r\n        \r\n        this.ResetHands();\r\n        this.HideHandCard();\r\n\r\n        this.ClearHandRank()\r\n    }\r\n\r\n    SetShowHiddenCard() {\r\n        this.hiddenCards.forEach( (e)=>{\r\n            e.Show();\r\n        });\r\n\r\n        this.rootHiddenCards.active = true;\r\n        this.rootCards.active = true;        \r\n    }\r\n\r\n    SetHandCardsFold() {\r\n        this.hiddenCards.forEach( (e)=>{\r\n            e.Fold();\r\n        });\r\n\r\n        this.rootHandCards.active = true;\r\n    }\r\n\r\n    SetHandRank( handEval: any ) {\r\n        if ( handEval == null ) {\r\n            return;\r\n        }\r\n\r\n        this.rootHandRank.active = true;\r\n        this.labelHandRank.string = handEval.descr;\r\n        this.labelHandRank.node.active = true;\r\n    }\r\n\r\n    ClearHandRank() {\r\n        this.rootHandRank.active = false;\r\n        this.labelHandRank.node.active = false;\r\n        this.labelHandRank.string = '';\r\n    }\r\n\r\n    startTurn( duration: number, betTimerUnit: number  ) {\r\n        this.turnDuration = duration / 1000;\r\n        this.betTimerUnit = betTimerUnit;\r\n        this.uiEntityAvatar.startTurn();\r\n    }\r\n\r\n    public StartActionTimer() {\r\n        this.timerDeltaTime = this.turnDuration;\r\n        this.playTimeLimitSound = true;\r\n    }\r\n\r\n    endTurn() {\r\n        this.uiEntityAvatar.endTurn();\r\n\r\n        this.timerDeltaTime = 0;\r\n        AudioController.instance.StopTimeLimit();\r\n    }\r\n\r\n    SetFold( fold: boolean ) {\r\n        this.isFold = fold;        \r\n        this.uiEntityAvatar.SET_UI_FOLD( this.isFold );\r\n        this.timerDeltaTime = 0;\r\n\r\n        if ( fold == true ) {\r\n            this.HideHiddenCard();\r\n        }\r\n    }\r\n\r\n    SetAllIn() {\r\n        this.uiEntityAvatar.SetAllIn();\r\n        this.timerDeltaTime = 0;\r\n    }\r\n\r\n    SetSitout() {\r\n        this.uiEntityAvatar.SetSitout();\r\n        this.HideHiddenCard();\r\n    }\r\n\r\n    SetSitback( msg: any ) {\r\n        this.uiEntityAvatar.SetSitback( msg );\r\n    }\r\n\r\n    SetSitbackStatus() {\r\n        this.uiEntityAvatar.SetSitbackStatus();\r\n    }\r\n\r\n    setEmoticon( type: EMOTICON_TYPE, id: number ) {\r\n        Board.table.setEmoticonButtinInteractive(false);\r\n        if (type == EMOTICON_TYPE.Emoticon ) {\r\n\r\n            CommonUtil.setEmoticonSprite( id, this.spriteEmoticon, ()=>{\r\n                this.spriteEmoticon.node.active = true;\r\n                this.nodeEmoticon.active = true;\r\n                this.animationEmoticon.play();\r\n\r\n            });\r\n\r\n        } else if ( type == EMOTICON_TYPE.Chatting ) {\r\n            this.labelChatting.string = EMOTICON_CHAT_MESSAGE[id];\r\n            this.nodeChatting.active = true;\r\n            this.nodeEmoticon.active = true;            \r\n            this.animationChatting.play();\r\n        }\r\n    }\r\n\r\n    onFinishedEmoticonAnimation() {\r\n        this.animationEmoticon.stop();\r\n        Board.table.setEmoticonButtinInteractive(true);\r\n    }\r\n\r\n    onFinishedChattingAnimation() {\r\n        this.animationChatting.stop();\r\n        Board.table.setEmoticonButtinInteractive(true);\r\n    }\r\n\r\n    update( dt: number ) {\r\n        this.updateTimer(dt);\r\n    }\r\n\r\n    updateTimer( dt: number ) {\r\n        if( 0 >= this.timerDeltaTime ){\r\n            return;\r\n        }\r\n\r\n        this.timerDeltaTime -= dt;\r\n        if( this.timerDeltaTime < 0 ){\r\n            this.timerDeltaTime = 0;\r\n            this.uiEntityAvatar.setShowTimer( false );\r\n        }\r\n\r\n        let t = (this.timerDeltaTime * 10 ) / this.betTimerUnit ;\r\n\r\n        if( this.isMe == true && t <= 6 && this.playTimeLimitSound ){\r\n            this.playTimeLimitSound = false;\r\n            AudioController.instance.PlayTimeLimit();\r\n        }\r\n\r\n        if ( t <= 6 ) {\r\n            this.uiEntityAvatar.setWaitingTimerColor(Color.RED);\r\n        } else {\r\n            this.uiEntityAvatar.setWaitingTimerColor(Color.YELLOW);\r\n        }\r\n        this.uiEntityAvatar.setWaitingTimer( t );\r\n\r\n        this.uiEntityAvatar.setWaitingTimerProgress( this.timerDeltaTime / this.turnDuration );\r\n    }\r\n\r\n    public GetNickname(): string {\r\n        return this.uiEntityAvatar.GetNickname();\r\n    }\r\n\r\n    public ResetResultEffect() {\r\n        this.uiResultEffect.ResetResultEffect();\r\n    }\r\n\r\n    public SetDraw( value: number ) {\r\n        this.uiResultEffect.SetDrawEffect( value );\r\n    }\r\n\r\n    public SetReturn( value: number ) {\r\n        this.uiResultEffect.SetReturnEffect( value );\r\n    }\r\n\r\n    public SetWinner( from: Node, value: number) {\r\n        this.uiPotChips.MovePotToEntity( from, this.node, value );\r\n        this.uiResultEffect.SetWinEffect( value );\r\n    }\r\n\r\n    public SetWinCards( pools: any ) {\r\n        this.handCards.forEach( (e)=>{\r\n            e.SetWinCard( pools );\r\n        });\r\n    }\r\n\r\n    setAniWinner( value: number ) {\r\n        this.uiResultEffect.SetWinEffect( value );\r\n    }\r\n\r\n    setTweenFadeInFromToMove( sprite: Sprite, originalColor: Color, from: Vec3, to: Vec3, duration: number, \r\n        fadeInRatio: number, easingFunc: ( k: number ) => number, onFinished: ()=> void ) {\r\n            sprite.node.active = true;\r\n\r\n            sprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, 0 );\r\n        \r\n            let tw = tween( sprite.node )\r\n            .set( { \r\n                position: from \r\n            })\r\n            .to( duration, {\r\n                position: to,\r\n            }, {\r\n                easing: easingFunc,\r\n                onUpdate: ( target: Node, ratio: number ) => {\r\n                    let a = originalColor.a * ratio * fadeInRatio;\r\n                    if( a > originalColor.a ) {\r\n                        a = originalColor.a;\r\n                    }\r\n                    sprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, a );\r\n                },\r\n            });\r\n    \r\n            if( null != onFinished){\r\n                tw.call( onFinished );\r\n            }\r\n    \r\n            tw.union()\r\n            tw.start();            \r\n\r\n    }\r\n\r\n    PrepareDispensingCards() {\r\n        this.handCards.forEach( ( e )=> {\r\n            if ( e != null ) {\r\n                e.Hide();\r\n            }\r\n        });\r\n\r\n        this.hiddenCards.forEach( ( e )=> {\r\n            if ( e != null ) {\r\n                e.Hide();\r\n            }\r\n        });\r\n\r\n        this.rootHiddenCards.active = true;\r\n        this.rootHandCards.active = true;\r\n\r\n        this.rootCards.active = true;\r\n    }\r\n\r\n    CardDispensing( card: number, index: number, duration: number, delay: number, cb: (idx: number)=>void ) {\r\n        this.hiddenCards[card].Show();\r\n        let target = this.hiddenCards[card].node;\r\n\r\n        let from = new Vec3( this.rootCardDispensing.position );\r\n        let to = new Vec3( this.hiddenCards[card].node.position );\r\n\r\n        target.active = false;\r\n\r\n        if ( from == null || to == null ) {\r\n            return;\r\n        }\r\n       \r\n        let tw = tween( target )\r\n        .delay(delay)\r\n        .set ({\r\n            position: from,\r\n            active: true,\r\n\r\n        }).to ( duration, {\r\n            position: to,\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate: ( target: Node, ratio: number )=> {\r\n\r\n            },\r\n        });\r\n\r\n        tw.call( ()=>{\r\n            if (cb != null ) {\r\n                cb( index );\r\n            }\r\n        } );\r\n        tw.start();\r\n    }\r\n\r\n    ShowHands( cards: number[], done: ()=>void = null  ) {\r\n        this.hiddenCards.forEach( (e)=> {\r\n            e.Hide();\r\n        });\r\n\r\n        let cnt: number = 0;\r\n\r\n        this.rootHandCards.active = true;\r\n        this.rootCards.active = true;\r\n\r\n        for ( let i = 0 ; i < cards.length; i ++ ) {\r\n            this.handCards[i].ShowFlip( cards[i], 0.2 + 0.1 * i, ()=>{\r\n                cnt++;\r\n                if ( cnt >= cards.length ) {\r\n                    if ( done != null ) {\r\n                        done();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    hiddenCardFadeOut( target: Node, duration: number, delay: number ) {\r\n        if ( target == null ) {\r\n            return;\r\n        }\r\n\r\n        let sprite: Sprite = target.getComponent(Sprite);\r\n        sprite.color = new Color( 255, 255, 255, 255);\r\n        \r\n        let tw = tween( target )\r\n        .delay(delay)\r\n        .set ({\r\n\r\n        }).to ( duration, {\r\n\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate: ( target: Node, ratio: number )=> {\r\n                let a = 255 - ratio * 255;\r\n                sprite.color = new Color(255, 255, 255, a);\r\n            },\r\n        });\r\n\r\n        tw.call( ()=>{\r\n            target.active = false;\r\n            sprite.color = new Color( 255, 255, 255, 255);\r\n        } );\r\n        tw.start();\r\n    }\r\n\r\n    easeOutBack(x: number ): number {\r\n        const c1 = 1.70158;\r\n        const c3 = c1 + 1;\r\n        \r\n        return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);\r\n    }\r\n\r\n    easeOutQuad( x: number ): number {\r\n        return 1 - (1 - x) * (1 - x);\r\n    }\r\n\r\n    HideHiddenCard() {\r\n        this.rootHiddenCards.active = false;\r\n    }\r\n\r\n    HideHandCard() {\r\n        this.rootHandCards.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Color, native, Sprite, Vec3, Animation, animation, tween, Quat, Tween, bezier, SpriteFrame, color } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst TIMER_BEGIN_COLOR: Color = Color.YELLOW;\r\nconst TIMER_END_COLOR: Color = Color.RED;\r\n\r\nexport enum ENUM_STATUS_TYPE {\r\n    NONE,\r\n    FOLD,\r\n    WAITING,\r\n    SITOUT,\r\n}\r\n\r\n@ccclass('UiEntityAvatar')\r\nexport class UiEntityAvatar extends Component {\r\n    @property(SpriteFrame) spriteFrameStatus: SpriteFrame[] = [];\r\n\r\n    private entity: any = null;\r\n\r\n    private rootSelected: Node = null;\r\n    private rootNameTag: Node = null;\r\n    private rootActions: Node = null;\r\n    private rootStatus: Node = null;\r\n\r\n    private spriteAvatarProfile: Sprite = null;\r\n    private spriteTimer: Sprite = null;\r\n    private spriteDimmed: Sprite = null;\r\n    private spriteStatus: Sprite = null;\r\n    private spriteFold: Sprite = null;\r\n    private SPRITE_NAME_TAG: Sprite = null;\r\n\r\n    private labelNickname: Label = null;\r\n    private labelChips: Label = null;\r\n    private labelBlind: Label = null;    \r\n    private labelWaitingTimer: Label = null;\r\n\r\n    private actions: {} = {};\r\n\r\n    private isChildRegisted: boolean = false;\r\n    private isFold: boolean = false;\r\n    private isMe: boolean = false;\r\n    private uiEntity: any = null;\r\n\r\n    private SPRITE_FOLD: Sprite = null;\r\n    private SPRITE_ALLIN: Sprite = null;\r\n    private SPRITE_FRAME: Sprite = null;\r\n\r\n    init() {\r\n        this.childRegistered();\r\n        this.isFold = false;\r\n        this.node.active = false;\r\n    }\r\n\r\n    SetAvatar( uiEntity: any, entity: any, isMe: boolean ) {\r\n        this.uiEntity = uiEntity;\r\n        this.entity = entity;\r\n        this.isMe = isMe;\r\n\r\n        this.labelBlind.node.active = false;\r\n        this.labelChips.node.active = true;\r\n\r\n        this.SetNickname( entity.nickname );\r\n        this.SetChips( entity.chips );\r\n\r\n        this.SetPlayerThumbnail( entity.avatar );\r\n\r\n        if ( entity.isSitout == true ) {\r\n            this.SetStatus( ENUM_STATUS_TYPE.SITOUT );\r\n        } else if ( entity.wait == true ) {\r\n            this.SetStatus( ENUM_STATUS_TYPE.WAITING );\r\n        } else {\r\n            this.SetStatus( ENUM_STATUS_TYPE.NONE );\r\n        }\r\n        this.rootNameTag.active = true;\r\n        this.isFold = false;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public SetNickname( name: string ) {\r\n        this.labelNickname.string = name;        \r\n    }\r\n\r\n    public GetNickname() {\r\n        return this.entity.nickname;\r\n    }\r\n\r\n    public SetChips( chips: number ) {\r\n        this.labelChips.color = new Color(255, 200, 70);\r\n        this.labelChips.string = CommonUtil.getKoreanNumber( chips );\r\n    }\r\n\r\n    public SetShowChips() {\r\n        this.labelBlind.node.active = false;\r\n        this.labelChips.node.active = true;\r\n    }\r\n\r\n    public SetSmallBlind() {\r\n        this.labelBlind.string = '스몰블라인드';\r\n        this.labelBlind.node.active = true;\r\n\r\n        this.labelChips.node.active = false;\r\n    }\r\n\r\n    public SetBigBlind() {\r\n        this.labelBlind.string = '빅블라인드';\r\n        this.labelBlind.node.active = true;\r\n\r\n        this.labelChips.node.active = false;\r\n    }\r\n\r\n    private SetPlayerThumbnail ( avatar ) {\r\n        let s = Number( avatar );\r\n        let sf: SpriteFrame = ResourceManager.Instance().getAvatarImage(s);\r\n        if ( sf != null )\r\n        {\r\n            this.spriteAvatarProfile.spriteFrame = ResourceManager.Instance().getAvatarImage(s);\r\n            this.spriteAvatarProfile.node.active = true;\r\n        }\r\n    }\r\n\r\n    public clearUiBetValue() {\r\n\r\n    }\r\n\r\n    public SetAction( action: string ) {\r\n        let keys = Object.keys( this.actions );\r\n        keys.forEach( (e)=> {\r\n            let v: Node = this.actions[ e ];\r\n            v.active = ( e == action );\r\n        } );\r\n        this.rootActions.active = true;\r\n    }\r\n\r\n    public SetPlay() {\r\n        this.rootSelected.active = false;\r\n\r\n        this.spriteTimer.node.active = true;\r\n        this.spriteTimer.color = Color.GRAY;\r\n        this.spriteTimer.fillRange = 1;\r\n        this.spriteTimer.node.active = false;\r\n\r\n        this.isFold = false;\r\n\r\n        this.SetStatus( ENUM_STATUS_TYPE.NONE );\r\n        this.ClearAction();\r\n\r\n        this.SET_PLAY();\r\n    }\r\n\r\n    public ClearAction() {\r\n        let keys = Object.keys( this.actions );\r\n        keys.forEach ( (e)=> {\r\n            let v: Node = this.actions[e];\r\n            v.active = false;\r\n        });\r\n        this.rootActions.active = false;\r\n    }\r\n\r\n    public CLEAR_ROUND_ACTION() {\r\n        let keys = Object.keys( this.actions );\r\n        this.rootActions.active = false;\r\n        keys.forEach ( (e)=> {\r\n            if ( e == 'fold' || e == 'allin') {\r\n                this.rootActions.active = true;\r\n            } else {\r\n                let v: Node = this.actions[e];\r\n                v.active = false;                \r\n            }\r\n        });\r\n    }\r\n\r\n    public endTurn() {\r\n        this.rootSelected.active = false;\r\n        this.spriteTimer.node.active = false;\r\n        this.spriteTimer.fillRange = 0;\r\n        this.spriteTimer.node.active = false;\r\n        this.labelWaitingTimer.node.active = false;\r\n    }\r\n\r\n    public setEscape() {\r\n        // this.labelSitout.node.active = false;\r\n        this.rootActions.active = false;\r\n        this.hide();\r\n    }\r\n\r\n    public startTurn() {\r\n        this.rootSelected.active = true;\r\n\r\n        this.spriteTimer.node.active = true;\r\n        this.spriteTimer.fillRange = 1;\r\n        this.spriteTimer.color = TIMER_BEGIN_COLOR;\r\n        this.spriteTimer.node.active = true;\r\n    }\r\n\r\n    public SET_UI_FOLD( isFold: boolean ) {\r\n        this.isFold = isFold;\r\n\r\n        if ( isFold == true ) {\r\n            this.ClearAction();\r\n\r\n            this.spriteTimer.fillRange = 0;\r\n            this.spriteTimer.node.active = false;\r\n            // this.rootSelected.active = false;\r\n            this.SetAction('fold');\r\n\r\n            // this.spriteDimmed.node.active = true;\r\n            // this.spriteFold.node.active = true;\r\n            // this.rootStatus.active = true;\r\n            \r\n            this.SET_FOLD();\r\n        } else {\r\n            this.SPRITE_FOLD.node.active = false;\r\n            // this.spriteFold.node.active = false;\r\n            // if ( this.spriteStatus.node.active == true ) {\r\n            //     this.spriteDimmed.node.active = true;\r\n            // } else {\r\n            //     this.spriteDimmed.node.active = false;\r\n            //     this.rootStatus.active = false;\r\n            // }\r\n        }\r\n    }\r\n\r\n    private SET_FOLD() {\r\n        this.SPRITE_FOLD.node.active = true;\r\n        this.SPRITE_ALLIN.node.active = false;\r\n\r\n        // if ( this.isMe != true ) {\r\n        //     this.labelChips.node.active = false;\r\n        //     this.labelNickname.node.active = false;\r\n        //     this.labelBlind.node.active = false;\r\n        // }\r\n\r\n        this.SET_DIMMED( true );\r\n    }\r\n\r\n    private SET_PLAY() {\r\n        this.SPRITE_FOLD.node.active = false;\r\n        this.SPRITE_ALLIN.node.active = false;\r\n\r\n        this.labelChips.node.active = true;\r\n        this.labelNickname.node.active = true;\r\n\r\n        this.SET_DIMMED( false );\r\n    }\r\n\r\n    public SetWait( entity: any ) {\r\n        this.spriteTimer.node.active = false;\r\n        this.spriteTimer.color = Color.GRAY;\r\n        this.spriteTimer.fillRange = 1;\r\n        this.spriteTimer.node.active = false;\r\n\r\n        this.endTurn();\r\n\r\n        if ( entity != null ) {\r\n            this.entity = entity;\r\n            if ( entity.isSitOut == true ) {\r\n                this.SetStatus( ENUM_STATUS_TYPE.SITOUT );\r\n            } else {\r\n                this.SetStatus( ENUM_STATUS_TYPE.WAITING );\r\n            }\r\n        }\r\n    }\r\n\r\n    public SetAllIn() {\r\n        this.ClearAction();\r\n\r\n        this.spriteTimer.fillRange = 0;\r\n        this.spriteTimer.node.active = false;\r\n\r\n        this.SetAction('allin');\r\n        this.SET_ALLIN();\r\n    }\r\n\r\n    private SET_ALLIN() {\r\n        this.SPRITE_ALLIN.node.active = true;        \r\n        this.SPRITE_FOLD.node.active = false;\r\n\r\n        // if ( this.isMe != true ) {\r\n        //     this.labelChips.node.active = false;\r\n        //     this.labelNickname.node.active = false;\r\n        //     this.labelBlind.node.active = false;\r\n        // }\r\n\r\n        this.SET_DIMMED( true );\r\n    }\r\n\r\n    private SET_DIMMED( isDimmed: boolean ) {\r\n        if ( isDimmed == true ) {\r\n            this.SPRITE_FRAME.color = new Color(80, 80, 80);\r\n            this.spriteAvatarProfile.color = new Color(80, 80, 80);\r\n\r\n            this.labelChips.color = new Color(80, 80, 80);\r\n            this.labelNickname.color = new Color(80, 80, 80);\r\n\r\n            this.SPRITE_NAME_TAG.color = new Color(80, 80, 80, 80);\r\n\r\n        } else {\r\n            this.SPRITE_FRAME.color = new Color(255, 255, 255);\r\n            this.spriteAvatarProfile.color = new Color(255, 255, 255);\r\n\r\n            this.labelChips.color = new Color(255, 200, 70);\r\n            this.labelNickname.color = new Color(255, 255, 255);\r\n\r\n            this.SPRITE_NAME_TAG.color = new Color(255, 255, 255);\r\n        }        \r\n    }\r\n\r\n    public SetSitout() {\r\n        this.SetStatus(ENUM_STATUS_TYPE.SITOUT);\r\n    }\r\n\r\n    public SetSitback( msg: any ) {\r\n        let wait = msg['wait'];\r\n        let fold = msg['fold'];\r\n\r\n        if ( wait == true ) {\r\n            this.SetStatus(ENUM_STATUS_TYPE.WAITING);\r\n        }\r\n        else if ( fold == true ) {\r\n            this.SET_UI_FOLD( fold );\r\n        } else {\r\n            this.SetStatus(ENUM_STATUS_TYPE.NONE);\r\n        }\r\n    }\r\n\r\n    public SetSitbackStatus() {\r\n        this.SetStatus(ENUM_STATUS_TYPE.NONE);\r\n    }\r\n\r\n    public setShowTimer( show: boolean ) {\r\n        this.spriteTimer.node.active = show;\r\n    }\r\n\r\n    public setWaitingTimerColor(color: Color) {\r\n        this.labelWaitingTimer.color = color;\r\n    }\r\n\r\n    public setWaitingTimer(delta: number) {\r\n        this.labelWaitingTimer.string = Math.floor( delta ).toString();\r\n        this.labelWaitingTimer.node.active = true;\r\n    }\r\n\r\n    public setWaitingTimerProgress( progress: number ) {\r\n        this.spriteTimer.fillRange = progress;\r\n        Color.lerp(this.spriteTimer.color, TIMER_END_COLOR, TIMER_BEGIN_COLOR, progress );\r\n    }\r\n\r\n    show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    SetStatus( type: ENUM_STATUS_TYPE ) {\r\n        switch ( type ) {\r\n            case ENUM_STATUS_TYPE.NONE:\r\n                {\r\n                    this.spriteStatus.node.active = false;\r\n                    this.rootStatus.active = false;\r\n                }\r\n                break;\r\n            case ENUM_STATUS_TYPE.WAITING:\r\n                {\r\n                    let sf: SpriteFrame = this.spriteFrameStatus[1];\r\n                    this.spriteStatus.spriteFrame = sf;\r\n                    this.spriteStatus.node.active = true;\r\n                    this.rootStatus.active = true;\r\n                }\r\n\r\n                break;\r\n            case ENUM_STATUS_TYPE.SITOUT:\r\n                {\r\n                    let sf: SpriteFrame = this.spriteFrameStatus[2];\r\n                    this.spriteStatus.spriteFrame = sf;\r\n                    this.spriteStatus.node.active = true;\r\n                    this.rootStatus.active = true;\r\n\r\n                    // if ( this.isMe == true ) {\r\n                    //     this.SET_UI_FOLD( false );\r\n                    // }\r\n                }\r\n\r\n                break;\r\n            default:\r\n                this.spriteStatus.node.active = false;\r\n                this.rootStatus.active = false;\r\n                this.SET_DIMMED( false );\r\n        }\r\n    }\r\n\r\n    childRegistered() {\r\n        if ( this.isChildRegisted == true ) {\r\n            return;\r\n        }\r\n\r\n        this.rootSelected = this.node.getChildByPath('SELECTED');\r\n        if (this.rootSelected != null ) {\r\n            this.rootSelected.active = false;\r\n        }\r\n\r\n        this.SPRITE_FRAME = this.node.getChildByPath('FRAME').getComponent(Sprite);\r\n        if (this.SPRITE_FRAME != null ) {\r\n            this.SPRITE_FRAME.node.active = true;\r\n        }\r\n\r\n        this.spriteAvatarProfile = this.node.getChildByPath('THUMBNAIL/SPRITE_AVATAR').getComponent(Sprite);\r\n        if ( this.spriteAvatarProfile != null ) {\r\n            this.spriteAvatarProfile.node.active = false;\r\n        }\r\n\r\n        this.spriteTimer = this.node.getChildByPath('SPRITE_TIMER').getComponent(Sprite);\r\n        if ( this.spriteTimer != null ) {\r\n            this.spriteTimer.node.active = false;\r\n        }\r\n\r\n        this.labelWaitingTimer = this.node.getChildByPath('LABEL_WAITING_TIMER').getComponent(Label);\r\n        if ( this.labelWaitingTimer != null ) {\r\n            this.labelWaitingTimer.node.active = false;\r\n        }\r\n\r\n        this.rootNameTag = this.node.getChildByPath('NAME_TAG');\r\n        if ( this.rootNameTag != null ) {\r\n            this.labelNickname = this.rootNameTag.getChildByPath('LABEL_NAME').getComponent(Label);\r\n            this.labelChips = this.rootNameTag.getChildByPath('LABEL_CHIPS').getComponent(Label);\r\n            this.labelBlind = this.rootNameTag.getChildByPath('LABEL_BLIND').getComponent(Label);\r\n\r\n            this.SPRITE_NAME_TAG = this.rootNameTag.getChildByPath('NAME_TAG_BACK').getComponent(Sprite);\r\n            if ( this.SPRITE_NAME_TAG != null ) {\r\n                this.SPRITE_NAME_TAG.node.active = true;\r\n            }\r\n\r\n            this.SPRITE_FOLD = this.rootNameTag.getChildByPath('SPRITE_FOLD').getComponent( Sprite );\r\n            if ( this.SPRITE_FOLD != null ) {\r\n                this.SPRITE_FOLD.node.active = false;\r\n            }\r\n\r\n            this.SPRITE_ALLIN = this.rootNameTag.getChildByPath('SPRITE_ALLIN').getComponent( Sprite );\r\n            if ( this.SPRITE_ALLIN != null ) {\r\n                this.SPRITE_ALLIN.node.active = false;\r\n            }\r\n\r\n            this.rootNameTag.active = false;\r\n        }\r\n\r\n        this.rootActions = this.node.getChildByPath('ACTIONS');\r\n        if ( this.rootActions != null ) {\r\n            this.actions['call'] = this.rootActions.getChildByPath('CALL');\r\n            this.actions['call'].active = false;\r\n\r\n            this.actions['check'] = this.rootActions.getChildByPath('CHECK');\r\n            this.actions['check'].active = false;\r\n\r\n            this.actions['bet'] = this.rootActions.getChildByPath('BET');\r\n            this.actions['bet'].active = false;\r\n\r\n            this.actions['raise'] = this.rootActions.getChildByPath('RAISE');\r\n            this.actions['raise'].active = false;\r\n\r\n            this.actions['fold'] = this.rootActions.getChildByPath('FOLD');\r\n            this.actions['fold'].active = false;\r\n\r\n            this.actions['allin'] = this.rootActions.getChildByPath('ALLIN');\r\n            this.actions['allin'].active = false;            \r\n\r\n            this.rootActions.active = false;\r\n        }\r\n\r\n        this.rootStatus = this.node.getChildByPath('STATUS');\r\n        if ( this.rootStatus != null ) {\r\n            this.spriteDimmed = this.rootStatus.getChildByPath('DIMMED').getComponent(Sprite);\r\n            if ( this.spriteDimmed != null ) {\r\n                this.spriteDimmed.node.active = false;\r\n            }\r\n\r\n            this.spriteFold = this.rootStatus.getChildByPath('SPRITE_FOLD').getComponent( Sprite );\r\n            if ( this.spriteFold != null ) {\r\n                this.spriteFold.node.active = false;\r\n            }\r\n\r\n            this.spriteStatus = this.rootStatus.getChildByPath('SPRITE_STATUS').getComponent(Sprite);\r\n            if ( this.spriteStatus != null ) {\r\n                this.spriteStatus.node.active = false;\r\n            }\r\n\r\n            this.rootStatus.active = false;\r\n        }\r\n\r\n        this.isChildRegisted = true;\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, instantiate, Sprite, Toggle, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { AudioController } from './AudioController';\r\n\r\nexport enum EMOTICON_TYPE {\r\n    Emoticon,\r\n    Chatting,\r\n}\r\n\r\nexport let EMOTICON_CHAT_MESSAGE: string[] = [\r\n    '안녕하세요!',\r\n    '죄송합니다~',\r\n    '감사합니다!',\r\n    '나이스 콜!',\r\n    '나이스 핸드!',                                \r\n    '나이스 벳!',        \r\n    '나이스 폴드!',\r\n    '결대로 가자!',\r\n    '가는 길이 달라!',\r\n    '열린다 열려...',\r\n    '홀덤은 흐름이지!',\r\n    '싹~ 다 가져와!',\r\n    '블러핑 같은데...',\r\n    '이게 안 뜨네..',\r\n    '드루와 드루와!',\r\n    '다음판 올인!',\r\n    '이게 머선 129?',\r\n    '선 넘네...',\r\n]\r\n\r\n@ccclass('EmoticonElement')\r\nexport class EmoticonElement {\r\n    @property(Node) nodeRoot: Node = null;\r\n    @property(Button) emoticon: Button = null;\r\n\r\n    private id: number = -1;\r\n    private cb: (num: number, button: Button)=>void = null;\r\n\r\n    public copy(): EmoticonElement {\r\n        let copyObj: EmoticonElement = new EmoticonElement();\r\n        let newObj: Node = instantiate( this.nodeRoot );\r\n\r\n        copyObj.nodeRoot = newObj;\r\n        copyObj.emoticon = newObj.getComponent(Button);\r\n        copyObj.nodeRoot.active = false;\r\n\r\n        return copyObj;\r\n    }\r\n\r\n    public clear() {\r\n        this.id = -1;\r\n    }\r\n\r\n    public setParent( parent: Node ) {\r\n        this.nodeRoot.parent = parent;\r\n    }\r\n\r\n    public setEmoticon(id: number, cb:(num: number)=>void ) {\r\n        this.id = id;\r\n\r\n        if (cb != null) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        this.nodeRoot.active = true;\r\n        this.emoticon.node.active = true;\r\n\r\n        let s = this.nodeRoot.getComponent(Sprite);\r\n        if ( s != null) {\r\n            CommonUtil.setEmoticonSprite( id, s, ()=>{\r\n                this.nodeRoot.active = true;\r\n            });\r\n        }\r\n\r\n        this.emoticon.node.on('click', this.onClick.bind(this));\r\n    }\r\n\r\n    private onClick( button: Button ) {\r\n        if ( this.cb != null ) {\r\n            this.cb( this.id, button );\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('ChattingElement')\r\nexport class ChattingElement {\r\n    @property(Node) nodeRoot: Node = null;\r\n    @property(Button) buttonChatting: Button = null;\r\n    @property(Label) labelChatting: Label = null;    \r\n\r\n    private id: number = -1;\r\n    private cb: (num: number, button: Button)=>void = null;\r\n\r\n    public copy(): ChattingElement {\r\n        let copyObj: ChattingElement = new ChattingElement();\r\n        let newObj: Node = instantiate( this.nodeRoot );\r\n\r\n        copyObj.nodeRoot = newObj;\r\n        copyObj.buttonChatting = newObj.getComponent(Button);\r\n        copyObj.labelChatting = newObj.getChildByPath('LABEL_CHATTING').getComponent(Label);        \r\n        copyObj.nodeRoot.active = false;\r\n\r\n        return copyObj;\r\n    }\r\n\r\n    public clear() {\r\n        this.id = -1;\r\n    }\r\n\r\n    public setParent( parent: Node ) {\r\n        this.nodeRoot.parent = parent;\r\n    }\r\n\r\n    public setChatting(id: number, chat: string, cb:(num: number)=>void ) {\r\n        this.id = id;\r\n\r\n        if (cb != null) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        this.nodeRoot.active = true;\r\n        this.labelChatting.string = chat;\r\n\r\n        this.buttonChatting.node.on('click', this.onClick.bind(this));\r\n    }\r\n\r\n    private onClick( button: Button ) {\r\n        if ( this.cb != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cb( this.id, button );\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('UiGameChatting')\r\nexport class UiGameChatting extends Component {\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(EmoticonElement) originEmoticonElement: EmoticonElement = new EmoticonElement();\r\n    @property(ChattingElement) originChattingElement: ChattingElement = new ChattingElement();\r\n\r\n    @property(Node) nodeEmoticonContents: Node = null;\r\n    @property(Node) nodeChattingContents: Node = null;    \r\n\r\n    @property(Toggle) toggleEmoticon: Toggle = null;\r\n    @property(Toggle) toggleChatting: Toggle = null;\r\n\r\n    @property(Node) nodeEmoticonPanel: Node = null;\r\n    @property(Node) nodeChattingPanel: Node = null;\r\n    \r\n    private cbExit: ()=>void = null;\r\n    private cbSelect: ( type: EMOTICON_TYPE, id: number )=> void = null;    \r\n    private isSet: boolean = false;\r\n\r\n\r\n    init ( cbSelect: ( type: EMOTICON_TYPE, id: number )=>void, cbExit: ()=>void ) {\r\n        if ( cbSelect != null ) {\r\n            this.cbSelect = cbSelect;\r\n        }\r\n\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        if ( this.isSet == false ) {\r\n            for ( let i = 0 ; i < 10 ; i++) {\r\n                let e = this.originEmoticonElement.copy();\r\n                e.setEmoticon(i, this.onClickEmoticon.bind(this) );\r\n                e.setParent( this.nodeEmoticonContents );\r\n\r\n                e.nodeRoot.active = true;\r\n            }\r\n            this.isSet = true;\r\n\r\n            for ( let i = 0 ; i < EMOTICON_CHAT_MESSAGE.length ; i++) {\r\n                let e = this.originChattingElement.copy();\r\n                e.setChatting(i, EMOTICON_CHAT_MESSAGE[i], this.onClickChatting.bind(this) );\r\n                e.setParent( this.nodeChattingContents );\r\n\r\n                e.nodeRoot.active = true;\r\n            }\r\n            this.isSet = true;\r\n        }\r\n\r\n        this.buttonExit.node.on(\"click\", this.onClickExit.bind(this));\r\n        this.toggleEmoticon.node.on('toggle', this.onToggleEmoticon.bind(this));\r\n        this.toggleChatting.node.on('toggle', this.onToggleChatting.bind(this));\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    show() {\r\n        this.toggleEmoticon.isChecked = true;\r\n        this.nodeChattingPanel.active = false;\r\n        this.nodeEmoticonPanel.active = true;\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    public onClickExit(button: Button) {\r\n        AudioController.instance.ButtonClick();        \r\n        this.hide();\r\n    }    \r\n\r\n    onClickEmoticon(id: number, button: Button) {\r\n        this.cbSelect(EMOTICON_TYPE.Emoticon, id);\r\n        AudioController.instance.ButtonClick();\r\n        this.hide();\r\n    }\r\n\r\n    onClickChatting(id: number, button: Button) {\r\n        AudioController.instance.ButtonClick();\r\n        this.cbSelect(EMOTICON_TYPE.Chatting, id);\r\n        this.hide();\r\n    }    \r\n\r\n    onToggleEmoticon(toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        this.nodeEmoticonPanel.active = true;\r\n        this.nodeChattingPanel.active = false;\r\n    }\r\n\r\n    onToggleChatting(toggle: Toggle) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        this.nodeEmoticonPanel.active = false;\r\n        this.nodeChattingPanel.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiGameInput')\r\nexport class UiGameInput extends Component {\r\n    public  static instance: UiGameInput = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Label) labelValue: Label = null;\r\n\r\n    private inputValue: number = -1;\r\n    private minValue: number = -1;\r\n    private maxValue: number = -1;\r\n\r\n    init() {\r\n        UiGameInput.instance = this;\r\n        this.node.active = false;\r\n\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n    }\r\n\r\n    private onClickExit() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    show( minValue: number, maxValue: number ) {\r\n        this.minValue = minValue;\r\n        this.node.active = true;\r\n    }\r\n\r\n    clear() {\r\n\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Button, Component, Node, Sprite, Label, instantiate, Layout, ScrollView } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('GameMessageElement')\r\nexport class GameMessageElement {\r\n    @property( Node ) rootNode: Node = null;\r\n    @property( Button ) buttonMessage: Button = null;\r\n    @property( Sprite) spriteUnread: Sprite = null;    \r\n    @property( Label ) labelTitle: Label = null;\r\n    @property( Label ) labelSender: Label = null;\r\n    @property( Label ) labelDate: Label = null;\r\n\r\n    private message: any = null;\r\n    private cbSelect: ( info: any )=> void = null;\r\n\r\n    public CopyObject(): GameMessageElement {\r\n        let o: GameMessageElement = new GameMessageElement();\r\n        let n = instantiate( this.rootNode );\r\n\r\n        o.rootNode = n;\r\n        o.spriteUnread = n.getChildByPath('VALUES/TITLE/SPRITE_UNREAD').getComponent( Sprite );        \r\n        o.labelTitle = n.getChildByPath('VALUES/TITLE/LABEL_TITLE').getComponent( Label );\r\n        o.labelSender = n.getChildByPath('VALUES/LABEL_SENDER').getComponent( Label );        \r\n        o.buttonMessage = n.getComponent( Button );\r\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label);\r\n\r\n        return o;\r\n    }\r\n\r\n    public Clear() {\r\n        this.labelTitle.string = '';        \r\n        this.labelDate.string = '';\r\n        this.spriteUnread.node.active = false;\r\n\r\n        this.cbSelect = null;\r\n    }\r\n\r\n    public Set( message: any, cb: ( message: any )=>void ) {\r\n        this.message = message;\r\n        this.labelTitle.string = CommonUtil.TruncateString(message.title, 15) ;\r\n        this.labelSender.string = '운영자';\r\n        this.labelDate.string = message.createDate;\r\n\r\n        if ( cb != null ) {\r\n            this.cbSelect = cb;\r\n        }\r\n\r\n        if ( message.unread == 1 ) {\r\n            this.spriteUnread.node.active = true; \r\n        } else {\r\n            this.spriteUnread.node.active = false;             \r\n        }\r\n\r\n        this.buttonMessage.node.off( 'click' );\r\n        this.buttonMessage.node.on( 'click', this.onSELECT_MESSAGE.bind(this), this );\r\n    }\r\n\r\n    public SetActive( active: boolean ) {\r\n        this.rootNode.active = active;\r\n    }\r\n\r\n    public SetParent( parent: Node ) {\r\n        this.rootNode.parent = parent;\r\n    }\r\n\r\n    public onSELECT_MESSAGE(button: Button ) {\r\n        if ( this.cbSelect != null ) {\r\n            this.cbSelect( this.message );\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('UiGamePOPUP_MESSAGES')\r\n\r\nexport class UiGamePOPUP_MESSAGES extends Component {\r\n    @property(Label) labelTitle: Label = null;    \r\n    @property(Button) buttonExit: Button = null;\r\n\r\n    @property(Node) PANEL_MESSAGE_LIST: Node = null;\r\n    @property(Node) PANEL_MESSAGE_SHOW: Node = null;\r\n\r\n    @property(Layout) layoutMessageList: Layout = null;\r\n    @property(ScrollView) svMessagess: ScrollView = null;\r\n    @property(GameMessageElement) originMessage: GameMessageElement = new GameMessageElement();\r\n\r\n    @property(Label) labelMessageTitle: Label = null;\r\n    @property(Label) labelMessageSender: Label = null;\r\n    @property(Label) labelMessageDescription: Label = null;\r\n    @property(Label) labelMessageUpdate: Label = null;    \r\n\r\n    @property(Button) buttonBack: Button = null;\r\n\r\n    private MessageElementOnList: GameMessageElement[] = [];\r\n    private selectedMessage: any = null;\r\n\r\n    private cbUNREAD_COUNT:()=>void;\r\n\r\n    public init( cbUNREAD_COUNT: ()=> void ) {\r\n        if ( cbUNREAD_COUNT != null ) {\r\n            this.cbUNREAD_COUNT = cbUNREAD_COUNT;\r\n        }\r\n\r\n\r\n        this.labelTitle.string = '메시지';\r\n        this.PANEL_MESSAGE_LIST.active = false;\r\n        this.PANEL_MESSAGE_SHOW.active = false;\r\n\r\n        this.node.active = false;\r\n        this.buttonExit.node.off('click');\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n\r\n        this.buttonBack.node.off('click');\r\n        this.buttonBack.node.on('click', this.onBACK_MESSAGE_LIST.bind(this));\r\n    }\r\n\r\n    public show() {\r\n        this.originMessage.rootNode.active = false;\r\n        \r\n        this.PANEL_MESSAGE_LIST.active = false;\r\n        this.PANEL_MESSAGE_SHOW.active = false;\r\n\r\n        this.selectedMessage = null;\r\n\r\n        this.onMESSAGE_REFRESH();\r\n        \r\n        this.node.active = true;\r\n    }\r\n\r\n    private onMESSAGE_REFRESH() {\r\n        this.selectedMessage = null;\r\n        NetworkManager.Instance().reqMESSAGE( (res: any)=>{\r\n            if ( res != null ) {\r\n                this.PANEL_MESSAGE_LIST.active = true;\r\n                this.ShowMessageList( res.messages );\r\n            }\r\n        }, (err:any)=>{\r\n\r\n        } );        \r\n    }\r\n\r\n    private ShowMessageList( messages: any[] ) {\r\n        if ( messages == null ) {\r\n            return;\r\n        }\r\n\r\n        this.ClearList();\r\n\r\n        let MessagesLength = Math.min( messages.length, 20 );\r\n        for ( let i: number = 0 ; i < MessagesLength ; i++ ) {\r\n            let o = this.originMessage.CopyObject();\r\n            \r\n            o.Clear();\r\n            o.Set( messages[i], this.onSELECT_MESSAGE.bind(this));\r\n            o.SetParent( this.layoutMessageList.node );\r\n            o.SetActive( true );\r\n\r\n            this.MessageElementOnList.push(o);\r\n        }\r\n        this.svMessagess.scrollToTop();\r\n    }\r\n    private onSELECT_MESSAGE( message:any ) {\r\n        this.ClearShowMessagePanel();\r\n        this.selectedMessage = message;\r\n\r\n        this.PANEL_MESSAGE_LIST.active = false;\r\n\r\n        this.labelMessageTitle.string = this.selectedMessage.title;\r\n        this.labelMessageSender.string = '보낸사람: 운영자';\r\n        this.labelMessageDescription.string = this.selectedMessage.description;\r\n        this.labelMessageUpdate.string = this.selectedMessage.createDate;\r\n\r\n        if ( this.selectedMessage.unread == 1 ) {\r\n            NetworkManager.Instance().reqREAD_MESSAGE( this.selectedMessage.id, (res: any )=>{\r\n                if ( this.cbUNREAD_COUNT != null ) {\r\n                    this.cbUNREAD_COUNT();\r\n                }\r\n\r\n            }, ( err: any )=>{\r\n\r\n            });\r\n        }\r\n\r\n        this.PANEL_MESSAGE_SHOW.active = true;\r\n    }\r\n\r\n    private ClearShowMessagePanel() {\r\n        \r\n        this.labelMessageTitle.string = '';\r\n        this.labelMessageSender.string = '';\r\n        this.labelMessageDescription.string = '';\r\n        this.labelMessageUpdate.string = '';\r\n\r\n        this.selectedMessage = null;\r\n    }\r\n\r\n    private ClearList() {\r\n        this.selectedMessage = null;\r\n        this.DestoryElements();\r\n    }\r\n\r\n    private DestoryElements() {\r\n        this.MessageElementOnList.forEach( (e)=>{\r\n            e.rootNode.destroy();\r\n            e.rootNode = null;\r\n        });\r\n\r\n        this.MessageElementOnList = [];\r\n    }\r\n\r\n    public hide() {\r\n        this.selectedMessage = null;\r\n        this.DestoryElements();\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickExit(button: Button) {\r\n        this.hide();\r\n    }\r\n\r\n    private onBACK_MESSAGE_LIST( button: Button ) {\r\n        this.PANEL_MESSAGE_SHOW.active = false;\r\n        this.PANEL_MESSAGE_LIST.active = true;\r\n\r\n        this.onMESSAGE_REFRESH();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Button } from 'cc';\r\nimport {UiControls} from \"./UiControls\";\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiGameSystemPopup')\r\nexport class UiGameSystemPopup extends Component {\r\n    public static instance: UiGameSystemPopup = null;\r\n\r\n    @property(Node) nodeOkPopup: Node = null;\r\n    @property(Node) nodeYesNoPopup: Node = null;\r\n\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Label) labelDescription: Label = null;\r\n\r\n    @property(Button) buttonOk: Label = null;\r\n    @property(Button) buttonYes: Label = null;\r\n    @property(Button) buttonNo: Label = null;\r\n\r\n    private cbOk: ()=>void = null;\r\n    private cbYes: ()=>void = null;\r\n    private cbNo: ()=>void = null;\r\n    private initialized: boolean = false;\r\n\r\n    init() {\r\n        this.labelTitle.string = '';\r\n        this.labelDescription.string = '';\r\n\r\n        this.nodeOkPopup.active = false;\r\n        this.nodeYesNoPopup.active = false;\r\n\r\n        this.buttonOk.node.on('click', this.onClickOk.bind(this));\r\n        this.buttonYes.node.on('click', this.onClickYes.bind(this));\r\n        this.buttonNo.node.on('click', this.onClickNo.bind(this));\r\n\r\n        this.cbOk = null;\r\n        this.cbYes = null;\r\n        this.cbNo = null;\r\n\r\n        this.initialized = true;\r\n        this.node.active = false;\r\n\r\n        UiGameSystemPopup.instance = this;\r\n    }\r\n\r\n    public showOkPopup( title: string, desc: string, cbOk: ()=>void ) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n\r\n        this.clear();\r\n\r\n        if ( cbOk != null ) {\r\n            this.cbOk = cbOk;\r\n        }\r\n\r\n        this.labelTitle.string = title;\r\n        this.labelDescription.string = desc;\r\n\r\n        this.nodeOkPopup.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public showYesNoPopup( title: string, desc: string, cbYes: ()=>void, cbNo: ()=>void ) {\r\n        if ( this.initialized == false ) {\r\n            this.init();\r\n        }\r\n\r\n        this.clear();\r\n\r\n        if ( cbYes != null ) {\r\n            this.cbYes = cbYes;\r\n        }\r\n\r\n        if ( cbNo != null ) {\r\n            this.cbNo = cbNo;\r\n        }\r\n\r\n        this.labelTitle.string = title;\r\n        this.labelDescription.string = desc;\r\n\r\n        this.nodeYesNoPopup.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    private onClickOk( button: Button ) {\r\n        if ( this.cbOk != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cbOk();\r\n        }\r\n    }\r\n\r\n    private onClickYes( button: Button ) {\r\n        if ( this.cbYes != null ) {\r\n            AudioController.instance.ButtonClick();\r\n            this.cbYes();\r\n        }\r\n    }\r\n\r\n    private onClickNo( button: Button ) {\r\n        if ( this.cbNo != null ) {\r\n            AudioController.instance.ButtonClick();            \r\n            this.cbNo();\r\n        }\r\n    }\r\n\r\n    private clear() {\r\n        this.labelTitle.string = '';\r\n        this.labelDescription.string = '';\r\n\r\n        this.nodeOkPopup.active = false;\r\n        this.nodeYesNoPopup.active = false;\r\n\r\n        this.cbOk = null;\r\n        this.cbYes = null;\r\n        this.cbNo = null;\r\n    }\r\n\r\n    public closePopup() {\r\n        this.clear();\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, EditBox } from 'cc';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nimport { LoginSystemPopup } from '../Login/LoginSystemPopup';\r\nimport { Main } from '../Main';\r\nimport { ENUM_RESULT_CODE, NetworkManager } from '../NetworkManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiJoinPlayer')\r\nexport class UiJoinPlayer extends Component {\r\n    @property(Button) buttonJoin: Button = null;\r\n    @property(Button) buttonCancel: Button = null;\r\n\r\n    @property (EditBox) editBoxID: EditBox = null;\r\n    @property (EditBox) editBoxNickname: EditBox = null;    \r\n    @property (EditBox) editBoxPassword: EditBox = null;\r\n    @property (EditBox) editBoxPasswordConfirm: EditBox = null;\r\n    @property (EditBox) editBoxTransferPassword: EditBox = null;\r\n    @property (EditBox) editBoxPhone: EditBox = null;\r\n    @property (EditBox) editBoxBank: EditBox = null;\r\n    @property (EditBox) editBoxHolder: EditBox = null;\r\n    @property (EditBox) editBoxAccount: EditBox = null;\r\n    @property (EditBox) editBoxRecommender: EditBox = null;\r\n\r\n    @property(Button) buttonIDCheck: Button = null;\r\n    @property(Button) buttonNicknameCheck: Button = null;\r\n\r\n    private main: Main = null;\r\n\r\n    private isCheckID = false;\r\n    private isCheckNickname = false;    \r\n\r\n    init( main: Main ) {\r\n        if ( main != null ) {\r\n            this.main = main;\r\n        }\r\n\r\n        this.buttonJoin.node.on('click', this.onCLICK_JOIN.bind(this));\r\n        this.buttonCancel.node.on('click', this.onCLICK_CANCEL.bind(this));\r\n\r\n        this.buttonIDCheck.node.on('click', this.onCLICK_CHECK_ID.bind(this));\r\n        this.buttonNicknameCheck.node.on('click', this.onCLICK_CHECK_NICKNAME.bind(this));\r\n\r\n        this.editBoxID.node.on('editing-did-began', this.onLOGIN_ID_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxID.node.on('editing-return', this.onLOGIN_ID_EDITBOX_RETURN.bind(this), this);\r\n        this.editBoxID.node.on('text-changed', this.onLOGIN_ID_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxID.node.on('editing-did-ended', this.onLOGIN_ID_EDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxNickname.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxNickname.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxNickname.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxNickname.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxPassword.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxPassword.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxPassword.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxPassword.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxPasswordConfirm.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxPasswordConfirm.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxPasswordConfirm.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxPasswordConfirm.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxTransferPassword.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxTransferPassword.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxTransferPassword.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxTransferPassword.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxPhone.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxPhone.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxPhone.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxPhone.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxBank.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxBank.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxBank.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxBank.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxHolder.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxHolder.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxHolder.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxHolder.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxAccount.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxAccount.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxAccount.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxAccount.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxRecommender.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxRecommender.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editBoxRecommender.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxRecommender.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    show() {\r\n        this.buttonJoin.interactable = true;\r\n        this.buttonCancel.interactable = true;\r\n        this.buttonIDCheck.interactable = true;\r\n        this.buttonNicknameCheck.interactable = true;\r\n\r\n        this.editBoxID.string = '';\r\n        this.editBoxNickname.string = '';\r\n        this.editBoxPassword.string = '';\r\n        this.editBoxPasswordConfirm.string = '';\r\n        this.editBoxTransferPassword.string = '';\r\n        this.editBoxPhone.string = '';\r\n        this.editBoxBank.string = '';\r\n        this.editBoxHolder.string = '';\r\n        this.editBoxAccount.string = '';\r\n        this.editBoxRecommender.string = '';\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    onCLICK_JOIN( button: Button ) {\r\n        button.interactable = false;\r\n\r\n        let isValid = this.validate();\r\n        if ( isValid == true ) {\r\n            LoginSystemPopup.instance.showPopUpYesOrNo('회원가입', '회원가입을 신청 하겠습니까? \\n', ()=>{\r\n                button.interactable = true;\r\n\r\n                let store_code: string = this.editBoxRecommender.string.trim();\r\n                store_code = store_code.toLowerCase();\r\n\r\n                NetworkManager.Instance().reqJOIN_MEMBER( {\r\n                    login_id: this.editBoxID.string,\r\n                    store_id: 0,\r\n                    nickname: this.editBoxNickname.string,                        \r\n                    password: this.editBoxPassword.string,\r\n                    transfer_password: this.editBoxTransferPassword.string,\r\n                    phone: this.editBoxPhone.string,\r\n                    bank: this.editBoxBank.string,\r\n                    holder: this.editBoxHolder.string,\r\n                    account: this.editBoxAccount.string,\r\n                    recommender: store_code,\r\n        \r\n                }, (res)=>{\r\n                    button.interactable = true;\r\n\r\n                    if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                        LoginSystemPopup.instance.showPopUpOk('회원가입', '가입신청이 완료되었습니다.', ()=>{\r\n                            LoginSystemPopup.instance.closePopup();\r\n\r\n                            this.main.onShowLogin();\r\n                        });\r\n        \r\n                    } else {\r\n\r\n                        let desc: string = '';\r\n                        switch(res.msg) {\r\n                            case 'INVALID_UID':\r\n                            case 'INVALID_LOGIN_ID':\r\n                                desc = '아이디가 형식에 맞지 않습니다.';\r\n                                break;\r\n                            case 'INVALID_FORM':\r\n                                desc = '모든칸을 입력해주세요';\r\n                            break;\r\n                            case 'DUPLICATE_UID':\r\n                                desc = '중복된 아이디가 있습니다.';\r\n                                break;\r\n                            case 'DUPLICATE_NICKNAME':\r\n                                desc = '중복된 닉네임이 있습니다.'\r\n                            break;\r\n\r\n                            case 'DUPLICATE_NICKNAME':\r\n                                desc = '중복된 닉네임이 있습니다.'\r\n                            break;\r\n                            case 'INVALID_REFERAL_CODE':\r\n                                desc = '추천코드가 잘못됐습니다.'\r\n                            break;\r\n                            case 'EXPIRED_REFERAL_CODE':\r\n                                desc = '만료된 추천코드입니다.'\r\n                            break;                            \r\n                            \r\n                            default:\r\n                                desc = '가입신청이 실패했습니다';\r\n                        }\r\n        \r\n                        LoginSystemPopup.instance.showPopUpOk('회원가입', desc, ()=>{\r\n                            LoginSystemPopup.instance.closePopup();\r\n                        });\r\n                    }\r\n                }, (err)=>{\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '가입신청이 실패했습니다..', ()=>{\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n                });\r\n            }, ()=>{\r\n                button.interactable = true;                \r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n        }\r\n        else {\r\n            button.interactable = true;\r\n        }\r\n    }\r\n\r\n    onCLICK_CANCEL( button: Button ) {        \r\n        this.main.onShowLogin();\r\n    }\r\n\r\n    onCLICK_CHECK_ID( button: Button ) {\r\n        button.interactable = false;\r\n\r\n        if ( this.validateID() == false ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '아이디 형식이 잘못됐습니다.\\n숫자, 영어 4~10자', ()=>{\r\n                this.isCheckID = true;\r\n                button.interactable = true;                            \r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return;\r\n        }\r\n\r\n        NetworkManager.Instance().reqCHECK_LOGIN_ID( this.editBoxID.string, (res)=>{\r\n            button.interactable = true;\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                LoginSystemPopup.instance.showPopUpOk('회원가입', '사용할 수 있는 아이디 입니다.', ()=>{\r\n                    this.isCheckID = true;\r\n                    button.interactable = true;                            \r\n                    LoginSystemPopup.instance.closePopup();\r\n                });\r\n            } else {\r\n                if ( res.msg == 'DUPLICATE_USERS' || res.msg == 'DUPLICATE_JOIN_USERS') {\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '중복된 아이디가 있습니다.', ()=>{\r\n                        this.editBoxID.string = '';\r\n                        this.isCheckID = false;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n                } else {\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '사용할 수 없는 아이디 입니다.', ()=>{\r\n                        this.editBoxID.string = '';\r\n                        this.isCheckID = false;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n    \r\n                }\r\n            }\r\n        }, (err)=>{\r\n            button.interactable = true;\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '아이디 확인에 실패했습니다.', ()=>{\r\n                this.isCheckID = false;\r\n                button.interactable = true;\r\n                LoginSystemPopup.instance.closePopup();\r\n            });            \r\n        });\r\n    }\r\n\r\n    private onCLICK_CHECK_NICKNAME( button: Button ) {\r\n        button.interactable = false;\r\n\r\n        if ( this.validateNickname() == false ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '닉네임 형식이 잘못됐습니다.\\n숫자, 영어 4~10자', ()=>{\r\n                this.isCheckID = true;\r\n                button.interactable = true;                            \r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return;\r\n        }        \r\n\r\n        NetworkManager.Instance().reqCHECK_NICKNAME( this.editBoxNickname.string, (res)=>{\r\n            button.interactable = true;\r\n\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                LoginSystemPopup.instance.showPopUpOk('회원가입', '사용할 수 있는 닉네임 입니다.', ()=>{\r\n                    this.isCheckNickname = true;\r\n                    button.interactable = true;                            \r\n                    LoginSystemPopup.instance.closePopup();\r\n                });\r\n            } else {\r\n                if ( res.msg == 'DUPLICATE_USERS' || res.msg == 'DUPLICATE_JOIN_USERS') {\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '중복된 닉네임이 있습니다.', ()=>{\r\n                        this.editBoxNickname.string = '';\r\n                        this.isCheckNickname = true;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n                } else {\r\n                    LoginSystemPopup.instance.showPopUpOk('회원가입', '사용할 수 없는 닉네임 입니다.', ()=>{\r\n                        this.editBoxNickname.string = '';\r\n                        this.isCheckNickname = false;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });    \r\n                }\r\n            }\r\n        }, (err)=>{\r\n            button.interactable = true;\r\n\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '닉네임 확인에 실패했습니다.', ()=>{\r\n                this.isCheckNickname = false;\r\n                LoginSystemPopup.instance.closePopup();\r\n            });            \r\n        });\r\n\r\n    }\r\n\r\n    validate(): boolean {\r\n        if ( this.validateID() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '잘못된 아이디 형식 입니다. ( 4~10자 영문/숫자만 )', ()=>{\r\n                this.editBoxID.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateNickname() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '잘못된 닉네임 형식 입니다. ( 4~10자 영문/숫자/한글만 )', ()=>{\r\n                this.editBoxNickname.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validatePassword() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '잘못된 비밀번호 형식 입니다. ( 4~15자 영문/숫자만 )', ()=>{\r\n                this.editBoxPassword.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        let l1: string = this.editBoxPassword.string;\r\n        let l2: string = this.editBoxPasswordConfirm.string;\r\n\r\n        if ( l1 != l2 ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '비밀번호 확인이 잘못되었습니다.', ()=>{\r\n                this.editBoxPasswordConfirm.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;            \r\n        }\r\n\r\n        if ( this.validateTransferPassword() != true ) {\r\n            this.editBoxTransferPassword.string = '';\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '잘못된 환전 비밀번호 형식 입니다. ( 4~15자 영문/숫자만 )', ()=>{\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validatePhone() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '전화번호를 입력해 주세요.', ()=>{\r\n                this.editBoxPhone.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateBank() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '은행을 입력해주세요.', ()=>{\r\n                this.editBoxBank.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateHolder() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '예금주를 입력해주세요.', ()=>{\r\n                this.editBoxHolder.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateAccount() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '계좌 번호를 입력주세요.', ()=>{\r\n                this.editBoxAccount.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n\r\n        if ( this.validateRecommender() != true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '추천인 코드를 입력주세요.', ()=>{\r\n                this.editBoxRecommender.string = '';\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return false;\r\n        }\r\n        \r\n        return true;\r\n    }\r\n\r\n    validateID(): boolean {\r\n        let l = this.editBoxID.string.length;\r\n\r\n        if ( l >= 4 &&  l <= 10 ) {\r\n            let reg = /^[a-zA-Z0-9]*$/;\r\n            let c = reg.test(this.editBoxID.string);\r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validateNickname(): boolean {\r\n        let l = this.editBoxNickname.string.length;\r\n\r\n        if ( l >= 4 &&  l <= 10 ) {\r\n            const regex = /^[ㄱ-ㅎ|가-힣|a-z|A-Z|0-9|]+$/;\r\n            let c = regex.test(this.editBoxNickname.string);\r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validatePassword(): boolean {\r\n        let l = this.editBoxPassword.string.length;\r\n\r\n        if ( l >= 4 &&  l <= 12 ) {\r\n            let regex = /^[a-zA-Z0-9]*$/;\r\n            let c = regex.test(this.editBoxPassword.string);\r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validateTransferPassword(): boolean {\r\n        let l = this.editBoxTransferPassword.string.length;\r\n\r\n        if ( l >= 4 &&  l <= 12 ) {\r\n            let regex = /^[a-zA-Z0-9]*$/;\r\n            let c = regex.test(this.editBoxTransferPassword.string);\r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validatePhone(): boolean {\r\n        let l = this.editBoxPhone.string.length;\r\n\r\n        if ( l >= 5 ) {\r\n            let regex1 = /^[a-zA-Z0-9]*$/;\r\n            let regex2 = /^\\d{2,3}-\\d{3,4}-\\d{4}$/;\r\n            let c1 = regex1.test(this.editBoxPhone.string);\r\n            let c2 = regex2.test(this.editBoxPhone.string);\r\n            \r\n            if ( c1 != true && c2 != true) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;            \r\n        }\r\n        return true;\r\n    }\r\n\r\n    validateBank(): boolean {\r\n        let l = this.editBoxBank.string.length;\r\n\r\n        if ( l >= 2 ) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    validateHolder(): boolean {\r\n        let l = this.editBoxHolder.string.length;\r\n\r\n        if ( l >= 2 ) {\r\n            return true;\r\n        } \r\n        return false;\r\n    }\r\n\r\n    validateAccount(): boolean {\r\n        let l = this.editBoxAccount.string.length;\r\n\r\n        if ( l >= 5 ) {\r\n            let regex1 = /^[a-zA-Z0-9]*$/;\r\n            let regex2 = /^\\d{2,3}-\\d{3,4}-\\d{4}$/;\r\n\r\n            let c1 = regex1.test(this.editBoxAccount.string);\r\n            let c2 = regex2.test(this.editBoxAccount.string);\r\n\r\n            if ( c1 != true && c2 != true) {\r\n                return false;\r\n            }             \r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    validateRecommender(): boolean {\r\n        let l = this.editBoxRecommender.string.length;\r\n\r\n        if ( l >= 4 ) {\r\n            let regex = /^[a-zA-Z0-9]*$/;\r\n\r\n            let c = regex.test(this.editBoxRecommender.string);\r\n            \r\n            if ( c != true ) {\r\n                return false;\r\n            } \r\n        } else {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private onLOGIN_ID_EDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onLOGIN_ID_EDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n        editbox.string = editbox.string.toLowerCase();\r\n    }\r\n\r\n    private onLOGIN_ID_EDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n        editbox.string = editbox.string.toLowerCase();        \r\n    }\r\n\r\n    private onLOGIN_ID_EDITBOX_TEXT_CHANGED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.blur();\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n        editbox.string = editbox.string.toLowerCase();\r\n    }\r\n\r\n    private onEDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onEDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEDITBOX_TEXT_CHANGED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.blur();\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label, Button, EditBox, EventHandler } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLOBBY_POPUP_CHARGE')\r\nexport class UiLOBBY_POPUP_CHARGE extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Label) labelContact: Label = null;        \r\n    @property(Label) labelAccount: Label = null;    \r\n    @property(Label) labelHolder: Label = null;\r\n    @property(Label) labelChargeMin: Label = null;\r\n    @property(Label) labelKorValue: Label = null;\r\n\r\n    @property(EditBox) editboxChargeAmount: EditBox = null;\r\n    @property(EditBox) editboxChargeHolder: EditBox = null;    \r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;\r\n\r\n    private charge_min: number = 0;\r\n\r\n    private cbEXIT: ()=>void = null;\r\n    private cbAPPLY: ()=>void = null;        \r\n\r\n    public Init( cbEXIT: any, cbAPPLY: any ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbAPPLY != null ) {\r\n            this.cbAPPLY = null;\r\n            this.cbAPPLY = cbAPPLY;\r\n        }\r\n\r\n        this.editboxChargeAmount.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxChargeAmount.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editboxChargeAmount.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxChargeAmount.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.node.active = false;\r\n        this.labelTitle.string = '충 전';\r\n\r\n        this.labelAccount.string = '';\r\n        this.labelAccount.node.active = false;\r\n\r\n        this.labelHolder.string = '';\r\n        this.labelHolder.node.active = false;\r\n\r\n        this.labelContact.string = '';\r\n        this.labelContact.node.active = false;\r\n\r\n        this.buttonExit.node.off( 'click' );\r\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\r\n\r\n        this.buttonApply.node.off( 'click' );\r\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\r\n    }\r\n\r\n    public Show( button: Button ) {\r\n        button.interactable = true;\r\n        this.Reset();\r\n\r\n        this.charge_min = 10000;\r\n        let conf = NetworkManager.Instance().GetConfig();\r\n        if ( conf != null && conf.min_charge ) {\r\n            this.charge_min = conf.min_charge;\r\n        }\r\n\r\n        this.labelChargeMin.string = '( 최소 충전신청금액: ' + CommonUtil.getKoreanNumber( this.charge_min ) + ' )';\r\n\r\n        NetworkManager.Instance().getCHARGE_REQUESTS( ( res )=>{\r\n            let charges = res.charges;\r\n            let count = charges.length;\r\n\r\n            if ( count > 0 )\r\n            {\r\n                let total: number = 0;\r\n                charges.forEach( ( charge )=>{\r\n                    total += charge.amount;\r\n                } );\r\n\r\n                let desc = count.toString() + ' 건 ( 총액: ' + CommonUtil.getKoreanNumber( total ) + ' ) 의 신청이 있습니다.\\n계속 진행하시겠습니까? '\r\n                LobbySystemPopup.instance.showPopUpYesOrNo( '충전 신청', desc, ()=>{\r\n                    this.GetStoreInfo();\r\n\r\n                }, ()=>{\r\n                    if ( this.cbEXIT != null ) {\r\n                        this.cbEXIT();\r\n                    }\r\n                });\r\n            } else {\r\n                this.GetStoreInfo();\r\n            }\r\n        }, (err)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', ' 정보를 불러올 수 없습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private Reset() {\r\n        // this.labelHolder.string = '';\r\n        this.editboxChargeAmount.string = '';\r\n        this.editboxChargeHolder.string = '';\r\n        this.labelKorValue.string = '';\r\n        this.labelKorValue.node.active = false;\r\n    }\r\n\r\n    private GetStoreInfo() {\r\n        NetworkManager.Instance().reqCOMPANY( ( res: any )=>{\r\n            let store = res.store;\r\n            if ( store != null ) {\r\n\r\n                let telegram: string = '';\r\n                if ( store.telegram != null && store.telegram.length > 0 ) {\r\n                    telegram = store.telegram;\r\n                }\r\n\r\n                let kakao: string = '';\r\n                if ( store.kakao != null && store.kakao.length > 0 ) {\r\n                    kakao = store.kakao;\r\n                }\r\n\r\n                this.labelContact.string = '텔레그램: ' + telegram + '\\n' + '카카오톡: ' + kakao ;\r\n                this.labelContact.node.active = true;\r\n            }\r\n\r\n            this.labelKorValue.string = '';\r\n            this.editboxChargeAmount.string = '';\r\n            this.node.active = true;\r\n        }, (err: any)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', ' 정보를 불러올 수 없습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onEXIT( button: Button ) {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onAPPLY( button: Button ) {\r\n        let num = Number(this.editboxChargeAmount.string);\r\n        let holder = this.editboxChargeHolder.string;\r\n\r\n        if ( num < this.charge_min ) {\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', CommonUtil.getKoreanNumber( this.charge_min ) + ' 이하는 신청할 수 없습니다.', ()=>{\r\n\r\n            })\r\n            return;\r\n        }\r\n\r\n        if ( holder.length <= 0 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', ' 입금자명을 입력해 주세요.', ()=>{\r\n\r\n            })\r\n            return;\r\n        }\r\n\r\n        let s = CommonUtil.getKoreanNumber( Number( this.editboxChargeAmount.string ) );\r\n        LobbySystemPopup.instance.showPopUpYesOrNo('충전 신청', s + ' 충전을 신청하시겠습니까?' ,()=>{\r\n            this.RequestCharge();\r\n        }, ()=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', '충전 신청을 취소했습니다.', ()=>{\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    private RequestCharge() {\r\n        let amount = Number( this.editboxChargeAmount.string );\r\n        let holder = this.editboxChargeHolder.string;\r\n        let desc = CommonUtil.getKoreanNumber(amount);\r\n        NetworkManager.Instance().reqCHARGE_REQUEST( {\r\n            amount: amount,\r\n            holder: holder\r\n        }, (res)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', desc + ' 충전 신청 했습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        }, (err)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('충전 신청', desc + ' 충전 신청에 실패했습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        })\r\n    }\r\n\r\n    private onEDITBOX_RETURN( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n\r\n        let s = CommonUtil.getKoreanNumber( Number(editbox.string) );\r\n        this.labelKorValue.string = s;\r\n        this.labelKorValue.node.active = true;\r\n\r\n    }\r\n\r\n    private onEDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n    }\r\n\r\n    private onEDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n\r\n        let s = CommonUtil.getKoreanNumber( Number(editbox.string) );\r\n        this.labelKorValue.string = s;\r\n        this.labelKorValue.node.active = true;\r\n\r\n    }\r\n\r\n    private onEDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n\r\n        let s = CommonUtil.getKoreanNumber( Number(editbox.string) );\r\n        this.labelKorValue.string = s;\r\n        this.labelKorValue.node.active = true;\r\n\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, Label, Sprite, assetManager, ImageAsset, SpriteFrame, Texture2D, Color } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ENUM_EVENT_POPUP_TYPE {\r\n    EVENT_POPUP_NONE,\r\n    EVENT_POPUP_NORMAL,\r\n    EVENT_POPUP_INSPECTION,\r\n}\r\n\r\n@ccclass('UiLOBBY_POPUP_EVENT')\r\nexport class UiLOBBY_POPUP_EVENT extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Label) labelDescription: Label = null;\r\n    @property(Label) labelLoadingMessage: Label = null;    \r\n    @property(Label) labelButtonLabel: Label = null;    \r\n    @property(Sprite) spriteEvent: Sprite = null;   \r\n    @property(SpriteFrame) defaultSpriteFrame: SpriteFrame = null;\r\n    @property(Button) buttonConfirm: Button = null;\r\n    @property(Button) buttonConfirmDisable: Button = null;\r\n\r\n    private popups: any[] = null;\r\n    private current: number = 0;\r\n    private maxPopup: number = 0;\r\n    private cbDONE: (type: number)=>void = null;\r\n\r\n    public Init() {\r\n        this.labelTitle.string = '';\r\n        this.labelDescription.string = '';\r\n        this.labelLoadingMessage.string = '';\r\n        this.spriteEvent.color = Color.BLACK;\r\n        this.spriteEvent.spriteFrame = this.defaultSpriteFrame;\r\n\r\n        this.buttonConfirm.node.off( 'click' );\r\n        this.buttonConfirm.node.on( 'click', this.onCONFIRM.bind(this), this );\r\n        this.labelButtonLabel.string = '닫기';\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show( popups: any[], done:( type: ENUM_EVENT_POPUP_TYPE )=>void ) {\r\n        if ( done != null ) {\r\n            this.cbDONE = done;\r\n        }\r\n\r\n        this.popups = popups;\r\n        this.spriteEvent.spriteFrame = this.defaultSpriteFrame;\r\n\r\n        this.buttonConfirm.node.active = false;\r\n        this.buttonConfirmDisable.node.active = true;\r\n\r\n        if ( this.popups.length > 0 ) {\r\n\r\n            this.current = 0;\r\n            this.labelButtonLabel.string = '확인';\r\n            this.maxPopup = this.popups.length;\r\n            this.spriteEvent.color = Color.BLACK;\r\n            let popup = this.popups[ this.current ];\r\n            this.SetPopup( popup );\r\n            this.node.active = true;\r\n\r\n        } else {\r\n            this.onDONE( ENUM_EVENT_POPUP_TYPE.EVENT_POPUP_NONE );\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        this.spriteEvent.spriteFrame = null;\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onDONE( type: ENUM_EVENT_POPUP_TYPE ) {\r\n        if ( this.cbDONE != null ) {\r\n            this.cbDONE( type );\r\n        }\r\n    }\r\n\r\n    private onCONFIRM( button: Button ) {\r\n        let type: ENUM_EVENT_POPUP_TYPE = this.popups[this.current].type;\r\n        if ( type == 1) {\r\n            this.onDONE(type);\r\n            return;\r\n        }\r\n\r\n        let next = this.current + 1;\r\n        if ( next < this.maxPopup ) {\r\n            this.current = next;            \r\n            this.SetPopup( this.popups[next] );\r\n        } else {\r\n            this.onDONE(type);\r\n        }\r\n    }\r\n\r\n    private async SetPopup( popup: any ) {\r\n\r\n        this.labelTitle.string = popup.title;\r\n        this.labelDescription.string = '';        \r\n        if ( popup.desc != null && popup.desc.length > 0 ) {\r\n            this.labelDescription.string = popup.desc;\r\n        }\r\n\r\n        this.labelLoadingMessage.string = '이미지를 불러오고 있습니다.';\r\n        this.labelLoadingMessage.node.active = true;\r\n\r\n        this.spriteEvent.spriteFrame = null;\r\n        this.spriteEvent.spriteFrame = this.defaultSpriteFrame;\r\n\r\n        this.spriteEvent.color = Color.BLACK;\r\n\r\n        this.buttonConfirm.node.active = false;\r\n        this.buttonConfirmDisable.node.active = true;\r\n\r\n        const regex = /(https?:\\/\\/)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/;\r\n        let v = regex.test(popup.url);\r\n\r\n        if ( popup.url.length > 0 && v == true ) {\r\n            await this.GetSpriteFromUrl( popup.url, (sf: any )=>{\r\n            \r\n                this.spriteEvent.spriteFrame = sf;\r\n                this.spriteEvent.color = Color.WHITE;\r\n                this.spriteEvent.node.active = true;\r\n\r\n                this.labelLoadingMessage.node.active = false;\r\n    \r\n                this.buttonConfirm.node.active = true;\r\n                this.buttonConfirmDisable.node.active = false;\r\n\r\n                this.labelDescription.node.active = false;\r\n    \r\n                let next = this.current + 1;\r\n                if ( next >= this.maxPopup ) {\r\n                    this.labelButtonLabel.string = '닫기';\r\n                }\r\n    \r\n            }, ( err: any )=>{\r\n                this.labelLoadingMessage.string = '이미지를 로드할 수 없습니다.';\r\n                this.labelLoadingMessage.node.active = true;\r\n\r\n                this.spriteEvent.spriteFrame = null;\r\n                this.spriteEvent.spriteFrame = this.defaultSpriteFrame;\r\n                this.spriteEvent.node.active = true;                \r\n        \r\n                this.spriteEvent.color = Color.BLACK;\r\n    \r\n                this.buttonConfirm.node.active = true;\r\n                this.buttonConfirmDisable.node.active = false;\r\n    \r\n                let next = this.current + 1;\r\n                if ( next >= this.maxPopup ) {\r\n                    this.labelButtonLabel.string = '닫기';\r\n                }            \r\n            } );\r\n        } else {\r\n            this.spriteEvent.node.active = false;\r\n            this.labelLoadingMessage.node.active = false;\r\n\r\n            this.buttonConfirm.node.active = true;\r\n            this.buttonConfirmDisable.node.active = false;\r\n\r\n            this.labelDescription.node.active = true;\r\n\r\n            let next = this.current + 1;\r\n            if ( next >= this.maxPopup ) {\r\n                this.labelButtonLabel.string = '닫기';\r\n            }            \r\n        }\r\n    }\r\n\r\n    private async GetSpriteFromUrl( url: string, onSUCCESS: (sf: any )=>void, onFAIL:( err: any )=>void ) {\r\n        assetManager.loadRemote<ImageAsset>( url, {xhrMimeType: 'image/png'}, (error, imageAsset)=>{\r\n            if ( !error ) {\r\n                const spriteFrame = new SpriteFrame();\r\n                const texture = new Texture2D();\r\n                texture.image = imageAsset;\r\n                spriteFrame.texture = texture;\r\n\r\n                onSUCCESS(spriteFrame);\r\n            } else {\r\n                onFAIL(error);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Label, Button, instantiate, Sprite, Layout, ScrollView } from 'cc';\nimport { NetworkManager } from '../NetworkManager';\nimport { CommonUtil } from '../CommonUtil';\nconst { ccclass, property } = _decorator;\n\n@ccclass('NoticeElement')\nexport class NoticeElement {\n    @property( Node ) rootNode: Node = null;\n    @property( Label ) labelTitle: Label = null;\n    @property( Label ) labelAuthor: Label = null;\n    @property( Label ) labelDate: Label = null;\n    @property( Button ) buttonNotice: Button = null;\n\n    private notice: any = null;\n    private cbSelect: ( info: any )=> void = null;\n\n    public CopyObject(): NoticeElement {\n        let o: NoticeElement = new NoticeElement();\n        let n = instantiate( this.rootNode );\n\n        o.rootNode = n;\n        o.labelTitle = n.getChildByPath('VALUES/LABEL_TITLE').getComponent( Label );\n        o.labelAuthor = n.getChildByPath('VALUES/LABEL_AUTHOR').getComponent( Label );\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label );\n\n        o.buttonNotice = n.getComponent( Button );\n        return o;\n    }\n\n    public Clear() {\n        this.labelTitle.string = '';        \n        this.labelDate.string = '';\n        this.labelAuthor.string = '';\n        this.buttonNotice.node.off( 'click' );\n        this.cbSelect = null;\n    }\n\n    public Set( info: any, cb: ( info: any )=>void ) {\n        this.notice = info;\n        this.labelTitle.string = CommonUtil.TruncateString(info.title, 15) ;\n        this.labelDate.string = info.createDate;\n        this.labelAuthor.string = '운영자';\n\n        if ( cb != null ) {\n            this.cbSelect = cb;\n        }\n\n        this.buttonNotice.node.off( 'click' );\n        this.buttonNotice.node.on( 'click', this.onSELECT_NOTICE.bind(this), this );\n    }\n\n    public SetActive( active: boolean ) {\n        this.rootNode.active = active;\n    }\n\n    public SetParent( parent: Node ) {\n        this.rootNode.parent = parent;\n    }\n\n    public onSELECT_NOTICE(button: Button ) {\n        if ( this.cbSelect != null ) {\n            this.cbSelect( this.notice );\n        }\n    }\n}\n\n@ccclass('UiLOBBY_POPUP_NOTICE')\nexport class UiLOBBY_POPUP_NOTICE extends Component {\n    @property(Label) labelTitle: Label = null;\n\n    @property(Node) rootList: Node = null;\n    @property(Node) rootShow: Node = null;\n\n    @property(Layout) layoutNotices: Layout = null;\n    @property(ScrollView) svNotices: ScrollView = null;\n\n    @property(NoticeElement) originNotice: NoticeElement = new NoticeElement();\n\n    @property(Label) labelShowTitle: Label = null;\n    @property(Label) labelShowDate: Label = null;\n    @property(Label) labelShowDescription: Label = null;\n\n    @property(Button) buttonExit: Button = null;\n    @property(Button) buttonBack: Button = null;\n\n    private selectdNotice: any = null;\n    private NoticeElementOnList: NoticeElement[] = [];\n\n    private cbEXIT: ()=>void = null;\n\n    public Init( cbEXIT: any ) {\n        if ( cbEXIT != null ) {\n            this.cbEXIT = null;\n            this.cbEXIT = cbEXIT;\n        }\n\n        this.node.active = false;\n        this.labelTitle.string = '공 지';\n\n        this.buttonExit.node.off( 'click' );\n        this.buttonExit.node.on( 'click', this.onCLICK_EXIT.bind(this), this );\n\n        this.buttonBack.node.off( 'click' );\n        this.buttonBack.node.on( 'click', this.onCLICK_BACK.bind(this), this );\n    }\n\n    public Show( button: Button ) {\n        this.selectdNotice = null;\n        this.rootList.active = false;\n        this.rootShow.active = false;\n\n        NetworkManager.Instance().reqNOTICES((res: any)=>{\n            button.interactable = true;\n\n            if ( res != null && res.notices != null ) {\n                this.onSHOW_LIST( res.notices );\n            }\n\n            this.rootList.active = true;\n            this.node.active = true;\n        }, (err: any)=>{\n            button.interactable = true;            \n            if ( this.cbEXIT != null ) {\n                this.cbEXIT();\n            }\n\n            this.node.active = true;\n        });\n    }\n\n    private onSHOW_LIST( notices: any[] ) {\n        if ( notices == null ) {\n            return;\n        }\n        this.ClearList();\n\n        let NoticesLength = Math.min( notices.length, 20 );\n        for ( let i: number = 0 ; i < NoticesLength ; i++ ) {\n            let o = this.originNotice.CopyObject();\n            \n            o.Clear();\n            o.Set( notices[i], this.onSELECT_NOTICE.bind(this));\n            o.SetParent( this.layoutNotices.node );\n            o.SetActive( true );\n\n            this.NoticeElementOnList.push(o);\n        }\n        this.svNotices.scrollToTop();\n    }\n    \n    private onREFRESH() {\n        this.selectdNotice = null;\n        NetworkManager.Instance().reqNOTICES( (res: any)=>{\n            if ( res != null && res.notices != null ) {\n                this.onSHOW_LIST( res.notices );\n            }\n        }, ( err: any )=>{});\n    }    \n\n    private ClearList() {\n        this.selectdNotice = null;        \n        this.DestoryElements();\n    }\n\n    private DestoryElements() {\n        this.NoticeElementOnList.forEach( (e)=>{\n            e.rootNode.destroy();\n            e.rootNode = null;\n        } );\n\n        this.NoticeElementOnList = [];\n    }    \n\n    public Hide() {\n        this.selectdNotice = null;\n        this.DestoryElements();\n\n        this.node.active = false;\n    }\n\n    private onCLICK_EXIT( button: Button ) {\n        if ( this.cbEXIT != null ) {\n            this.cbEXIT();\n        }\n    }\n\n    private onCLICK_BACK( button: Button ) {\n        this.rootShow.active = false;\n        this.rootList.active = true;\n\n        this.onREFRESH();\n    }\n\n    private onSELECT_NOTICE( info:any ) {\n        if ( info != null ) {\n            this.labelShowTitle.string = info.title;\n            this.labelShowDate.string = info.createDate;\n            this.labelShowDescription.string = info.description;\n\n            this.rootShow.active = true;\n        }\n    }\n}\n\n","import { _decorator, Component, Node, Label, Button } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLOBBY_POPUP_POINT_RECEIVE')\r\nexport class UiLOBBY_POPUP_POINT_RECEIVE extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Label) labelDescription: Label = null;\r\n    @property(Button) buttonConfirm: Button = null;\r\n\r\n    private logs: any[] = null;\r\n    private current: number = 0;\r\n    private maxLogs: number = 0;\r\n    private cbDONE: ()=>void = null;\r\n\r\n    public Init() {\r\n        this.logs = [];\r\n        this.labelTitle.string = '';\r\n        this.labelDescription.string = '';\r\n\r\n        this.buttonConfirm.node.off( 'click' );\r\n        this.buttonConfirm.node.on( 'click', this.onCONFIRM.bind(this), this );\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show( logs: any[], done:()=>void ) {\r\n        if ( done != null ) {\r\n            this.cbDONE = done;\r\n        }\r\n\r\n        this.logs = logs;\r\n        if ( this.logs.length > 0 ) {\r\n            this.current = 0;\r\n            this.maxLogs = this.logs.length;\r\n            let log = this.logs[ this.current ];\r\n            this.SetLog( log );\r\n            this.node.active = true;\r\n\r\n        } else {\r\n            this.onDONE();\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onDONE() {\r\n        if ( this.cbDONE != null ) {\r\n            this.cbDONE();\r\n        }\r\n    }\r\n\r\n    private onCONFIRM( button: Button ) {\r\n        let id: number = 0;\r\n        if ( this.logs[ this.current ] != null ) {\r\n            id = this.logs[ this.current ].id;\r\n        }\r\n\r\n        let next = this.current + 1;\r\n        if ( next < this.maxLogs ) {\r\n            this.current = next;\r\n            this.SetLog( this.logs[next] );\r\n        } else {\r\n            this.onDONE();\r\n        }\r\n    }\r\n\r\n    private async SetLog( log: any ) {\r\n        let title: string = '포인트 받음';\r\n        let description: string = '포인트를 받았습니다.\\n\\n받은 포인트: ' + CommonUtil.getKoreanNumber( log.point ) + '\\n' + log.desc;\r\n        description += '\\n'+log.createDate;\r\n\r\n        this.labelTitle.string = title;\r\n        this.labelDescription.string = description;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Button, CapsuleColliderComponent, Component, EditBox, instantiate, Label, Layout, log, Node, ScrollView, Toggle } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PointTransferElement')\r\nexport class PointTransferElement {\r\n    @property( Node ) rootNode: Node = null;\r\n    @property( Label ) labelDate: Label = null;\r\n    @property( Label ) labelTransferPoint: Label = null;\r\n    @property( Label ) labelRemainPoint: Label = null;\r\n    @property( Label ) labelAddBalance: Label = null;    \r\n    @property( Label ) labelDescription: Label = null;\r\n\r\n    public CopyObject(): PointTransferElement {\r\n        let o: PointTransferElement = new PointTransferElement();\r\n        let n = instantiate( this.rootNode );\r\n\r\n        o.rootNode = n;\r\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label);\r\n        o.labelTransferPoint = n.getChildByPath('VALUES/LABEL_TRANSFER_POINT').getComponent( Label);\r\n        o.labelRemainPoint = n.getChildByPath('VALUES/LABEL_REMAIN_POINT').getComponent( Label);\r\n        o.labelAddBalance = n.getChildByPath('VALUES/LABEL_ADD_BALANCE').getComponent( Label );\r\n        o.labelDescription = n.getChildByPath('VALUES/LABEL_DESCRIPTION').getComponent( Label);\r\n\r\n        return o;\r\n    }\r\n\r\n    public Clear() {\r\n        this.labelDate.string = '';\r\n        this.labelTransferPoint.string = '';\r\n        this.labelRemainPoint.string = '';\r\n        this.labelDescription.string = '';\r\n        this.labelAddBalance.string = '';\r\n    }\r\n\r\n    public Set( info: any ) {\r\n        this.labelDate.string = info.createDate;\r\n        this.labelTransferPoint.string = CommonUtil.getKoreanNumber(info.point);\r\n        this.labelRemainPoint.string = CommonUtil.getKoreanNumber(info.newPoint);\r\n        this.labelAddBalance.string = CommonUtil.getKoreanNumber(info.newBalance - info.oldBalance);\r\n        if ( info.desc != null ) {\r\n            this.labelDescription.string = info.desc;\r\n        } else {\r\n            this.labelDescription.string = '';            \r\n        }\r\n    }\r\n\r\n    public SetActive( active: boolean ) {\r\n        this.rootNode.active = active;\r\n    }\r\n\r\n    public SetParent( parent: Node ) {\r\n        this.rootNode.parent = parent;\r\n    }\r\n}\r\n\r\n@ccclass('PointGiftElement')\r\nexport class PointGiftElement {\r\n    @property( Node ) rootNode: Node = null;\r\n    @property( Label ) labelDate: Label = null;\r\n    @property( Label ) labelSender: Label = null;    \r\n    @property( Label ) labelReceivePoint: Label = null;\r\n    @property( Label ) labelPoint: Label = null;\r\n    @property( Label ) labelDescription: Label = null;\r\n\r\n    public CopyObject(): PointGiftElement {\r\n        let o: PointGiftElement = new PointGiftElement();\r\n        let n = instantiate( this.rootNode );\r\n\r\n        o.rootNode = n;\r\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label);\r\n        o.labelSender = n.getChildByPath('VALUES/LABEL_SENDER').getComponent( Label);\r\n        o.labelReceivePoint = n.getChildByPath('VALUES/LABEL_RECEIVE_POINT').getComponent( Label);\r\n        o.labelPoint = n.getChildByPath('VALUES/LABEL_POINT').getComponent( Label);\r\n        o.labelDescription = n.getChildByPath('VALUES/LABEL_DESCRIPTION').getComponent( Label);\r\n\r\n        return o;\r\n    }\r\n\r\n    public Clear() {\r\n        this.labelDate.string = '';\r\n        this.labelSender.string = '';\r\n        this.labelReceivePoint.string = '';\r\n        this.labelPoint.string = '';\r\n        this.labelDescription.string = '';\r\n    }\r\n\r\n    public Set( info: any ) {\r\n        this.labelDate.string = info.createDate;\r\n        this.labelReceivePoint.string = CommonUtil.getKoreanNumber(info.point);\r\n        this.labelPoint.string = CommonUtil.getKoreanNumber(info.newPoint);\r\n        this.labelSender.string = '운영자';\r\n\r\n        if ( info.desc != null ) {\r\n            this.labelDescription.string = info.desc;\r\n        } else {\r\n            this.labelDescription.string = '';            \r\n        }\r\n    }\r\n\r\n    public SetActive( active: boolean ) {\r\n        this.rootNode.active = active;\r\n    }\r\n\r\n    public SetParent( parent: Node ) {\r\n        this.rootNode.parent = parent;\r\n    }\r\n}\r\n\r\n@ccclass('UiLOBBY_POPUP_POINT')\r\nexport class UiLOBBY_POPUP_POINT extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n\r\n    @property(Node) rootPoint: Node = null;\r\n    @property(Node) rootGift: Node = null;\r\n\r\n    @property(Toggle) togglePoint: Toggle = null;\r\n    @property(Toggle) toggleGift: Toggle = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;\r\n    @property(Button) buttonConfirm: Button = null;    \r\n\r\n    @property(ScrollView) svPointTransfer: ScrollView = null;    \r\n    @property(ScrollView) svPointGift: ScrollView = null;        \r\n\r\n    @property(Layout) layoutPointLogs: Layout = null;\r\n    @property(Layout) layoutGiftLogs: Layout = null;\r\n\r\n    @property(Label) labelUserBalance: Label = null;\r\n    @property(Label) labelUserPoint: Label = null;\r\n    @property(Label) labelTransferMin: Label = null;    \r\n\r\n    @property(EditBox) editboxPointTransfer: EditBox = null;\r\n\r\n    @property(PointTransferElement) originPointTransfer: PointTransferElement = new PointTransferElement();\r\n    @property(PointGiftElement) originPointGift: PointGiftElement = new PointGiftElement();    \r\n\r\n    private pointTransferElementOnList: PointTransferElement[] = [];\r\n    private pointGiftElementOnList: PointGiftElement[] = [];\r\n\r\n    private user: any = null;\r\n    private transfer_min: number = 10000;\r\n\r\n    private cbEXIT: ()=>void = null;\r\n    private cbAPPLY: ()=>void = null;\r\n\r\n    public Init( cbEXIT: any, cbAPPLY: any ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbAPPLY != null ) {\r\n            this.cbAPPLY = null;\r\n            this.cbAPPLY = cbAPPLY;\r\n        }\r\n\r\n        this.node.active = false;\r\n        this.labelTitle.string = '포인트 전환';\r\n\r\n        this.labelUserBalance.string = '';\r\n        this.labelUserPoint.string = '';\r\n\r\n        this.buttonExit.node.off( 'click' );\r\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\r\n\r\n        this.buttonApply.node.off( 'click' );\r\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\r\n\r\n        this.buttonConfirm.node.off( 'click' );\r\n        this.buttonConfirm.node.on( 'click', this.onEXIT.bind(this), this );        \r\n\r\n        this.togglePoint.node.on('toggle', this.onTOGGLE_POINT.bind(this), null);\r\n        this.toggleGift.node.on('toggle', this.onTOGGLE_GIFT.bind(this), null);\r\n\r\n        this.originPointTransfer.rootNode.active = false;\r\n        this.originPointGift.rootNode.active = false;\r\n\r\n        this.editboxPointTransfer.node.on('editing-did-began', this.onEDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxPointTransfer.node.on('editing-return', this.onEDITBOX_RETURN.bind(this), this);\r\n        this.editboxPointTransfer.node.on('text-changed', this.onEDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxPointTransfer.node.on('editing-did-ended', this.onEDITBOX_DID_ENDED.bind(this), this);\r\n    }\r\n\r\n    public Show( button: Button ) {\r\n        this.originPointTransfer.rootNode.active = false;\r\n        this.originPointGift.rootNode.active = false;\r\n\r\n        this.transfer_min = 10000;\r\n        let conf = NetworkManager.Instance().GetConfig();\r\n        if ( conf != null && conf.min_point_transfer ) {\r\n            this.transfer_min = conf.min_point_transfer;\r\n        }\r\n\r\n        this.labelTransferMin.string = '( 최소 포인트 전환 금액: ' + CommonUtil.getKoreanNumber( this.transfer_min ) + ' )';\r\n\r\n        NetworkManager.Instance().getUSER_FromDB( (res: any)=>{\r\n            button.interactable = true;\r\n            this.user = res.user;\r\n\r\n            this.SetUserInfo();\r\n            NetworkManager.Instance().getPOINT_TRANSFERS( (res)=>{\r\n\r\n                if ( res != null ) {\r\n                    this.ShowPointTransferList( res.logs)\r\n                }\r\n\r\n                this.rootPoint.active = true;\r\n                this.rootGift.active = false;\r\n                this.togglePoint.isChecked = true;\r\n                this.node.active = true;\r\n\r\n                this.buttonApply.node.active = true;\r\n                this.buttonConfirm.node.active = false;\r\n\r\n\r\n            }, (err)=>{\r\n                this.rootPoint.active = true;\r\n                this.rootGift.active = false;\r\n                this.buttonConfirm.node.active = false;                \r\n                this.togglePoint.isChecked = true;\r\n                this.node.active = true;\r\n            });\r\n        }, ( err: any )=>{\r\n            button.interactable = true;\r\n        })\r\n    }\r\n\r\n    private SetUserInfo () {\r\n        this.labelUserBalance.string = CommonUtil.getKoreanNumber(this.user.balance);\r\n        this.labelUserPoint.string = CommonUtil.getKoreanNumber(this.user.point);\r\n    }\r\n\r\n    private ClearPointTransferList() {\r\n        this.DestroyPointTransferElements();\r\n    }\r\n\r\n    private ClearPointGiftList() {\r\n        this.DestroyPointGiftElements();\r\n    }\r\n\r\n    private ShowPointTransferList( logs: any[] ) {\r\n        if ( logs == null || logs.length <= 0 ) {\r\n            return;\r\n        }\r\n\r\n        this.ClearPointTransferList();\r\n\r\n        let logLength = Math.min( logs.length, 20 );\r\n        for ( let i: number = 0 ; i < logLength ; i++ ) {\r\n            let o = this.originPointTransfer.CopyObject();\r\n            o.Clear();\r\n            o.Set( logs[i] );\r\n            o.SetParent( this.layoutPointLogs.node );\r\n            o.SetActive ( true );\r\n\r\n            this.pointTransferElementOnList.push( o );\r\n        }\r\n\r\n        this.svPointTransfer.scrollToTop();\r\n    }\r\n\r\n    private ShowPointGiftList( logs: any[] ) {\r\n        if ( logs == null || logs.length <= 0 ) {\r\n            return;\r\n        }\r\n\r\n        this.ClearPointGiftList();\r\n\r\n        let logLength = Math.min( logs.length, 20 );\r\n        for ( let i: number = 0 ; i < logLength ; i++ ) {\r\n            let o = this.originPointGift.CopyObject();\r\n            o.Clear();\r\n            o.Set( logs[i] );\r\n            o.SetParent( this.layoutGiftLogs.node );\r\n            o.SetActive ( true );\r\n\r\n            this.pointGiftElementOnList.push( o );\r\n        }\r\n\r\n        this.svPointGift.scrollToTop();\r\n    }\r\n\r\n    private DestroyPointTransferElements() {\r\n        this.pointTransferElementOnList.forEach( (e)=>{\r\n            e.rootNode.destroy();\r\n            e.rootNode = null;            \r\n        } );\r\n        \r\n        this.pointTransferElementOnList = [];        \r\n    }\r\n\r\n    private DestroyPointGiftElements() {\r\n        this.pointGiftElementOnList.forEach( (e)=>{\r\n            e.rootNode.destroy();\r\n            e.rootNode = null;            \r\n        } );\r\n        \r\n        this.pointGiftElementOnList = [];\r\n    }    \r\n\r\n    public Hide() {\r\n        this.DestroyPointTransferElements();\r\n        this.DestroyPointGiftElements();\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onEXIT( button: Button ) {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onAPPLY( button: Button ) {\r\n        button.interactable = false;\r\n        let point = this.user.point;\r\n        let value = Number(this.editboxPointTransfer.string);\r\n\r\n        if ( this.editboxPointTransfer.string.length == 0 || value < this.transfer_min ) {\r\n            LobbySystemPopup.instance.showPopUpOk('포인트전환', CommonUtil.getKoreanNumber(this.transfer_min) + ' 이하는 포인트 전환할 수 없습니다.', ()=>{\r\n                button.interactable = true;            \r\n            });\r\n            return;\r\n        }\r\n\r\n        if ( value > point ) {\r\n            LobbySystemPopup.instance.showPopUpOk('포인트전환', '포인트가 부족합니다.', ()=>{\r\n                button.interactable = true;            \r\n            });\r\n            return;            \r\n        }\r\n\r\n        let oldBalance = this.user.balance;\r\n        let oldPoint = this.user.point;\r\n        LobbySystemPopup.instance.showPopUpYesOrNo('포인트전환', CommonUtil.getKoreanNumber(value) + ' 포인트를 게임머니로 전환하시겠습니까?', ()=>{\r\n            this.PointTransfer(value, oldBalance, oldPoint, ( logs )=>{\r\n                button.interactable = true;\r\n                if ( logs != null && logs.length > 0 ) {\r\n                    this.ShowPointTransferList( logs );\r\n                }\r\n\r\n                if ( this.cbAPPLY != null ) {\r\n                    this.cbAPPLY();\r\n                }\r\n            });\r\n        }, ()=>{\r\n            button.interactable = true;\r\n        });\r\n    }\r\n\r\n    private PointTransfer(value: number,  oldBalance: number, oldPoint: number, done: (logs)=>void ) {\r\n        let user_id = this.user.id;\r\n        NetworkManager.Instance().reqPOINT_TRANSFER( {\r\n            user_id: user_id,\r\n            value: value\r\n        }, (res: any)=>{\r\n            this.user = NetworkManager.Instance().GetUser();\r\n\r\n            let newBalance = this.user.balance;\r\n            let newPoint = this.user.point;\r\n            let b: string = '게임머니: ' + CommonUtil.getKoreanNumber(oldBalance) + ' -> ' + CommonUtil.getKoreanNumber(newBalance);\r\n            let p: string = '포인트: ' + CommonUtil.getKoreanNumber(oldPoint) + ' -> ' + CommonUtil.getKoreanNumber(newPoint);            \r\n\r\n            LobbySystemPopup.instance.showPopUpOk('포인트 변환', '포인트가 변환되었습니다.\\n' + b + '\\n' + p, ()=>{\r\n\r\n                this.labelUserBalance.string = CommonUtil.getKoreanNumber(this.user.balance);\r\n                this.labelUserPoint.string = CommonUtil.getKoreanNumber(this.user.point);    \r\n                this.editboxPointTransfer.string = '';\r\n\r\n                done( res.logs );\r\n    \r\n            });\r\n        }, (err: any)=>{\r\n            if ( done != null ) {\r\n                done(null);\r\n            }\r\n        } );\r\n    }\r\n\r\n    private ShowGiftLog() {\r\n        NetworkManager.Instance().getPOINT_RECEIVES( (res)=>{\r\n            this.ShowPointGiftList( res.logs );\r\n        }, (err)=>{\r\n\r\n        });\r\n    }\r\n\r\n    private onTOGGLE_POINT( toggle: Toggle ) {\r\n        if ( toggle.isChecked == true ) {\r\n            this.rootPoint.active = true;\r\n            this.rootGift.active = false;\r\n\r\n            this.buttonApply.node.active = true;\r\n            this.buttonConfirm.node.active = false;\r\n        }\r\n    }\r\n\r\n    private onTOGGLE_GIFT( toggle: Toggle ) {\r\n        if ( toggle.isChecked == true ) {\r\n\r\n            this.ShowGiftLog();\r\n\r\n            this.rootPoint.active = false;\r\n            this.rootGift.active = true;\r\n\r\n            this.buttonApply.node.active = false;\r\n            this.buttonConfirm.node.active = true;\r\n        }\r\n    }\r\n\r\n    private onEDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onEDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEDITBOX_TEXT_CHANGED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n}\r\n\r\n","import { _decorator, Component, Node, Label, Button, instantiate, Sprite, Layout, ScrollView, EditBox, Color, Toggle } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { EDITOR } from 'cc/env';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst MAX_TITLE_COUNT: number = 30;\r\nconst MAX_DESCRIPTION_COUNT: number = 100;\r\n\r\n@ccclass('QnAElement')\r\nexport class QnAElement {\r\n    @property( Node ) rootNode: Node = null;\r\n    @property( Sprite ) spriteSlot: Sprite = null;\r\n    @property( Label ) labelTitle: Label = null;\r\n    @property( Button ) buttonQNA: Button = null;    \r\n    @property( Sprite) spriteUnread: Sprite = null;\r\n    @property( Sprite) spriteButton: Sprite = null;\r\n    @property( Label ) labelButton: Label = null;\r\n    @property( Label ) labelDate: Label = null;\r\n\r\n    private qna: any = null;\r\n    private cbSelect: ( info: any )=> void = null;\r\n\r\n    public CopyObject(): QnAElement {\r\n        let o: QnAElement = new QnAElement();\r\n        let n = instantiate( this.rootNode );\r\n\r\n        o.rootNode = n;\r\n        o.spriteSlot = n.getChildByPath('SPRITE_SLOT').getComponent( Sprite );\r\n        o.spriteUnread = n.getChildByPath('VALUES/TITLE/SPRITE_UNREAD').getComponent( Sprite );        \r\n        o.labelTitle = n.getChildByPath('VALUES/TITLE/LABEL_TITLE').getComponent( Label );\r\n        o.buttonQNA = n.getChildByPath('BUTTON_SHOW').getComponent( Button );\r\n        o.spriteButton = n.getChildByPath('BUTTON_SHOW').getComponent( Sprite );\r\n        o.labelButton = n.getChildByPath('BUTTON_SHOW/LABEL_BUTTON').getComponent( Label );                \r\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label);\r\n\r\n        return o;\r\n    }\r\n\r\n    public Clear() {\r\n        this.labelTitle.string = '';        \r\n        this.labelDate.string = '';\r\n        this.spriteUnread.node.active = false;\r\n\r\n        this.cbSelect = null;\r\n    }\r\n\r\n    public Set( info: any, cb: ( info: any )=>void ) {\r\n        this.qna = info;\r\n        this.labelTitle.string = CommonUtil.TruncateString(info.title, 15) ;\r\n        this.labelDate.string = info.questionDate;\r\n\r\n        if ( info.pending == 1) {\r\n            this.labelButton.string = '문의보기';\r\n            this.spriteButton.color = new Color(50, 50, 50, 255);\r\n            this.spriteSlot.color = new Color(14, 30, 60, 255);\r\n\r\n        } else {\r\n            this.labelButton.string = '답변보기';\r\n            this.spriteButton.color = new Color(0, 0, 0, 255);\r\n            this.spriteSlot.color = new Color(58, 94, 168, 255);\r\n        }\r\n\r\n        if ( cb != null ) {\r\n            this.cbSelect = cb;\r\n        }\r\n\r\n        if ( info.pending == 0 && info.unread == 1 ) {\r\n            this.spriteUnread.node.active = true; \r\n        } else {\r\n            this.spriteUnread.node.active = false;             \r\n        }\r\n\r\n        this.buttonQNA.node.off( 'click' );\r\n        this.buttonQNA.node.on( 'click', this.onSELECT_QNA.bind(this), this );\r\n    }\r\n\r\n    public SetActive( active: boolean ) {\r\n        this.rootNode.active = active;\r\n    }\r\n\r\n    public SetParent( parent: Node ) {\r\n        this.rootNode.parent = parent;\r\n    }\r\n\r\n    public onSELECT_QNA(button: Button ) {\r\n        if ( this.cbSelect != null ) {\r\n            this.cbSelect( this.qna );\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('MessageElement')\r\nexport class MessageElement {\r\n    @property( Node ) rootNode: Node = null;\r\n    @property( Button ) buttonMessage: Button = null;\r\n    @property( Sprite) spriteUnread: Sprite = null;    \r\n    @property( Label ) labelTitle: Label = null;\r\n    @property( Label ) labelSender: Label = null;\r\n    @property( Label ) labelDate: Label = null;\r\n\r\n    private message: any = null;\r\n    private cbSelect: ( info: any )=> void = null;\r\n\r\n    public CopyObject(): MessageElement {\r\n        let o: MessageElement = new MessageElement();\r\n        let n = instantiate( this.rootNode );\r\n\r\n        o.rootNode = n;\r\n        o.spriteUnread = n.getChildByPath('VALUES/TITLE/SPRITE_UNREAD').getComponent( Sprite );        \r\n        o.labelTitle = n.getChildByPath('VALUES/TITLE/LABEL_TITLE').getComponent( Label );\r\n        o.labelSender = n.getChildByPath('VALUES/LABEL_SENDER').getComponent( Label );        \r\n        o.buttonMessage = n.getComponent( Button );\r\n        o.labelDate = n.getChildByPath('VALUES/LABEL_DATE').getComponent( Label);\r\n\r\n        return o;\r\n    }\r\n\r\n    public Clear() {\r\n        this.labelTitle.string = '';        \r\n        this.labelDate.string = '';\r\n        this.spriteUnread.node.active = false;\r\n\r\n        this.cbSelect = null;\r\n    }\r\n\r\n    public Set( message: any, cb: ( message: any )=>void ) {\r\n        this.message = message;\r\n        this.labelTitle.string = CommonUtil.TruncateString(message.title, 15) ;\r\n        this.labelSender.string = '운영자';\r\n        this.labelDate.string = message.createDate;\r\n\r\n        if ( cb != null ) {\r\n            this.cbSelect = cb;\r\n        }\r\n\r\n        if ( message.unread == 1 ) {\r\n            this.spriteUnread.node.active = true; \r\n        } else {\r\n            this.spriteUnread.node.active = false;             \r\n        }\r\n\r\n        this.buttonMessage.node.off( 'click' );\r\n        this.buttonMessage.node.on( 'click', this.onSELECT_MESSAGE.bind(this), this );\r\n    }\r\n\r\n    public SetActive( active: boolean ) {\r\n        this.rootNode.active = active;\r\n    }\r\n\r\n    public SetParent( parent: Node ) {\r\n        this.rootNode.parent = parent;\r\n    }\r\n\r\n    public onSELECT_MESSAGE(button: Button ) {\r\n        if ( this.cbSelect != null ) {\r\n            this.cbSelect( this.message );\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('UiLOBBY_POPUP_QnA')\r\nexport class UiLOBBY_POPUP_QnA extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n    @property(Node) rootQNA: Node = null;\r\n    @property(Node) rootMessage: Node = null;\r\n\r\n    @property(Toggle) toggleQNA: Toggle = null;\r\n    @property(Toggle) toggleMessage: Toggle = null;\r\n\r\n    @property(Node) PANEL_QNA_LIST: Node = null;\r\n    @property(Node) PANEL_QNA_INPUT: Node = null;\r\n    @property(Node) PANEL_QNA_SHOW: Node = null;\r\n    \r\n    @property(Node) PANEL_MESSAGE_LIST: Node = null;\r\n    @property(Node) PANEL_MESSAGE_SHOW: Node = null;        \r\n\r\n    @property(Layout) layoutQnAList: Layout = null;\r\n    @property(Layout) layoutMessageList: Layout = null;    \r\n\r\n    @property(ScrollView) svQnAs: ScrollView = null;\r\n    @property(ScrollView) svMessagess: ScrollView = null;    \r\n\r\n    @property(QnAElement) originQNA: QnAElement = new QnAElement();\r\n    @property(MessageElement) originMessage: MessageElement = new MessageElement();\r\n\r\n    @property(EditBox) editboxTitle: EditBox = null;\r\n    @property(EditBox) editboxQuestion: EditBox = null;\r\n\r\n    @property(Button) buttonActivateTitle: Button = null;\r\n    @property(Label) labelTitleText: Label = null;\r\n\r\n    @property(Label) labelTitleCount: Label = null;\r\n    @property(Label) labelDescCount: Label = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n\r\n    @property(Button) buttonSend: Button = null;\r\n    @property(Button) buttonCancel: Button = null;    \r\n    @property(Button) buttonWrite: Button = null;\r\n    @property(Button) buttonBack: Button = null;\r\n    @property(Button) buttonDelete: Button = null;\r\n    \r\n    @property(Button) buttonMessageBack: Button = null;\r\n\r\n    @property(Label) labelShowTitleText: Label = null;\r\n    @property(Label) labelShowQuestionText: Label = null;\r\n    @property(Label) labelShowAnswerText: Label = null;\r\n    @property(Label) labelShowPending: Label = null;\r\n\r\n    @property(Label) labelMessageTitle: Label = null;\r\n    @property(Label) labelMessageSender: Label = null;\r\n    @property(Label) labelMessageDescription: Label = null;\r\n    @property(Label) labelMessageUpdate: Label = null;    \r\n\r\n    @property(Label) labelQuestionUpdate: Label = null;\r\n    @property(Label) labelAnswerUpdate: Label = null;    \r\n\r\n    @property(Node) BADGE_QNA: Node = null;\r\n    @property(Node) BADGE_MESSAGE: Node = null;    \r\n\r\n    @property(Label) labelQNAUnread: Label = null;\r\n    @property(Label) labelMessageUnread: Label = null;    \r\n\r\n    private QNAAElementOnList: QnAElement[] = [];\r\n    private MessageElementOnList: MessageElement[] = [];    \r\n\r\n    private cbEXIT: ()=>void = null;\r\n    private cbAPPLY: ()=>void = null;\r\n    private selectedInfo: any = null;\r\n    private selectedMessage: any = null;\r\n\r\n    public Init( cbEXIT: any, cbAPPLY: any ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbAPPLY != null ) {\r\n            this.cbAPPLY = null;\r\n            this.cbAPPLY = cbAPPLY;\r\n        }\r\n\r\n        this.node.active = false;\r\n        this.labelTitle.string = '문 의';\r\n        this.labelTitleText.string = '';\r\n\r\n        this.rootQNA.active = false;\r\n        this.rootMessage.active = false;\r\n\r\n        this.PANEL_QNA_LIST.active = false;\r\n        this.PANEL_QNA_INPUT.active = false;\r\n        this.PANEL_QNA_SHOW.active = false;\r\n\r\n        this.PANEL_MESSAGE_LIST.active = false;\r\n        this.PANEL_MESSAGE_SHOW.active = false;\r\n\r\n        this.labelShowTitleText.string = '';\r\n        this.labelShowQuestionText.string = '';\r\n        this.labelShowAnswerText.string = '';\r\n        this.labelShowPending.string = '';\r\n        this.labelQuestionUpdate.string = '';\r\n        this.labelAnswerUpdate.string = '';\r\n        this.selectedInfo = null;\r\n        \r\n        this.labelQNAUnread.string = '0';\r\n        this.labelMessageUnread.string = '0';\r\n\r\n        this.BADGE_QNA.active = false;\r\n        this.BADGE_MESSAGE.active = false;\r\n\r\n        this.editboxTitle.node.on('editing-did-began', this.onTITLE_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxTitle.node.on('editing-return', this.onTITLE_EDITBOX_RETURN.bind(this), this);\r\n        this.editboxTitle.node.on('text-changed', this.onTITLE_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxTitle.node.on('editing-did-ended', this.onTITLE_EDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editboxQuestion.node.on('editing-did-began', this.onQUESTION_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxQuestion.node.on('editing-return', this.onQUESTION_EDITBOX_RETURN.bind(this), this);\r\n        this.editboxQuestion.node.on('text-changed', this.onQUESTION_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxQuestion.node.on('editing-did-ended', this.onQUESTION_EDITBOX_DID_ENDED.bind(this), this);        \r\n\r\n        this.buttonExit.node.off( 'click' );\r\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\r\n\r\n        this.buttonWrite.node.off( 'click' );\r\n        this.buttonWrite.node.on( 'click', this.onWRITE.bind(this), this );\r\n\r\n        this.buttonActivateTitle.node.off( 'click' );\r\n        this.buttonActivateTitle.node.on( 'click', this.onACTIVATE_TITLE.bind(this), this );\r\n\r\n        this.buttonBack.node.off( 'click' );\r\n        this.buttonBack.node.on( 'click', this.onBACK_LIST.bind(this), this );\r\n\r\n        this.buttonMessageBack.node.off( 'click' );\r\n        this.buttonMessageBack.node.on( 'click', this.onBACK_MESSAGE_LIST.bind(this), this );\r\n\r\n        this.buttonDelete.node.off( 'click' );\r\n        this.buttonDelete.node.on( 'click', this.onDELETE_QNA.bind(this), this );        \r\n\r\n        this.buttonSend.node.off( 'click' );\r\n        this.buttonSend.node.on( 'click', this.onSEND_QNA.bind(this), this );\r\n\r\n        this.buttonCancel.node.off( 'click' );\r\n        this.buttonCancel.node.on( 'click', this.onSEND_CANCEL.bind(this), this );\r\n\r\n        this.toggleQNA.node.on('toggle', this.onTOGGLE_QNA.bind(this), null);\r\n        this.toggleMessage.node.on('toggle', this.onTOGGLE_MESSAGE.bind(this), null);\r\n    }\r\n\r\n    public Show( button: Button ) {\r\n        this.originQNA.rootNode.active = false;\r\n        this.originMessage.rootNode.active = false;\r\n\r\n        this.rootQNA.active = true;\r\n        this.rootMessage.active = false;\r\n\r\n        this.PANEL_QNA_INPUT.active = false;\r\n        this.PANEL_QNA_SHOW.active = false;\r\n\r\n        this.selectedInfo = null;\r\n        this.toggleQNA.isChecked = true;\r\n\r\n        this.onREFRESH_UNREAD( ()=>{\r\n            button.interactable = true;\r\n            this.onREFRESH();\r\n            this.node.active = true;\r\n        });\r\n    }\r\n\r\n    private onREFRESH_UNREAD( done: ()=>void  ) {\r\n        NetworkManager.Instance().reqUNREAD( (res: any)=>{\r\n            if ( res != null ) {\r\n                if ( res.unread_answer != null && res.unread_answer > 0 ) {\r\n                    this.labelQNAUnread.string = (res.unread_answer).toString();\r\n                    this.BADGE_QNA.active = true;\r\n\r\n                } else {\r\n                    this.BADGE_QNA.active = false;\r\n                }\r\n\r\n                if ( res.unread_message != null && res.unread_message > 0 ) {\r\n                    this.labelMessageUnread.string = (res.unread_message).toString();\r\n                    this.BADGE_MESSAGE.active = true;                    \r\n                } else {\r\n                    this.BADGE_MESSAGE.active = false;\r\n                }\r\n\r\n                if ( done != null ) {\r\n                    done();\r\n                }\r\n\r\n            }\r\n        }, (err:any)=>{\r\n            this.BADGE_QNA.active = false;\r\n            this.BADGE_MESSAGE.active = false;\r\n\r\n            if ( done != null ) {\r\n                done();\r\n            }\r\n        } );        \r\n    }\r\n\r\n    private onREFRESH() {\r\n        this.selectedInfo = null;\r\n        NetworkManager.Instance().reqGET_QNA( (res: any)=>{\r\n            if ( res != null ) {\r\n                this.PANEL_QNA_LIST.active = true;\r\n                this.ShowList( res.qnas );\r\n            }\r\n        }, (err:any)=>{\r\n\r\n        } );        \r\n    }\r\n\r\n    private onMESSAGE_REFRESH() {\r\n        this.selectedMessage = null;\r\n        NetworkManager.Instance().reqMESSAGE( (res: any)=>{\r\n            if ( res != null ) {\r\n                this.PANEL_MESSAGE_LIST.active = true;\r\n                this.ShowMessageList( res.messages );\r\n            }\r\n        }, (err:any)=>{\r\n\r\n        } );        \r\n    }\r\n\r\n    private ShowList( qnas: any[] ) {\r\n        if ( qnas == null ) {\r\n            return;\r\n        }\r\n        this.ClearList();\r\n\r\n        let QnAsLength = Math.min( qnas.length, 20 );\r\n        for ( let i: number = 0 ; i < QnAsLength ; i++ ) {\r\n            let o = this.originQNA.CopyObject();\r\n            \r\n            o.Clear();\r\n            o.Set( qnas[i], this.onSELECT_QNA.bind(this));\r\n            o.SetParent( this.layoutQnAList.node );\r\n            o.SetActive( true );\r\n\r\n            this.QNAAElementOnList.push(o);\r\n        }\r\n        this.svQnAs.scrollToTop();\r\n    }\r\n\r\n    private ShowMessageList( messages: any[] ) {\r\n        if ( messages == null ) {\r\n            return;\r\n        }\r\n\r\n        this.ClearList();\r\n\r\n        let MessagesLength = Math.min( messages.length, 20 );\r\n        for ( let i: number = 0 ; i < MessagesLength ; i++ ) {\r\n            let o = this.originMessage.CopyObject();\r\n            \r\n            o.Clear();\r\n            o.Set( messages[i], this.onSELECT_MESSAGE.bind(this));\r\n            o.SetParent( this.layoutMessageList.node );\r\n            o.SetActive( true );\r\n\r\n            this.MessageElementOnList.push(o);\r\n        }\r\n        this.svMessagess.scrollToTop();\r\n    }\r\n\r\n    private onSELECT_QNA( info:any ) {\r\n        this.ClearShowPanel();\r\n\r\n        this.selectedInfo = info;\r\n        this.PANEL_QNA_LIST.active = false;\r\n        this.PANEL_QNA_INPUT.active = false;\r\n        this.PANEL_QNA_SHOW.active = true;\r\n\r\n        this.labelShowTitleText.string = info.title;\r\n        this.labelShowQuestionText.string = info.question;\r\n\r\n        if ( info.pending == 1 ) {\r\n            this.labelShowAnswerText.node.active = false;\r\n\r\n            this.labelShowPending.string = '답변 대기중...'\r\n            this.labelShowPending.node.active = true;\r\n            this.labelQuestionUpdate.string = info.questionDate;\r\n            this.labelQuestionUpdate.node.active = true;\r\n\r\n            this.labelAnswerUpdate.node.active = false;\r\n        } else {\r\n            if ( info.unread == 1 ) {\r\n                this.buttonExit.interactable = false;\r\n                this.buttonBack.interactable = false;\r\n                this.buttonDelete.interactable = false;\r\n\r\n                NetworkManager.Instance().reqREAD_QNA(info.id, (res: any )=>{\r\n                    this.buttonExit.interactable = true;\r\n                    this.buttonBack.interactable = true;\r\n                    this.buttonDelete.interactable = true;\r\n\r\n                    this.onREFRESH_UNREAD(()=>{\r\n                    \r\n                    });\r\n                    \r\n                }, ( err: any )=>{\r\n                    this.buttonExit.interactable = true;\r\n                    this.buttonBack.interactable = true;\r\n                    this.buttonDelete.interactable = true;\r\n                });\r\n            }\r\n\r\n            if ( info.answer != null ) {\r\n                this.labelShowAnswerText.string = info.answer;\r\n                this.labelShowAnswerText.node.active = true;\r\n            } else {\r\n                this.labelShowAnswerText.string = '';\r\n                this.labelShowAnswerText.node.active = true;                \r\n            }\r\n\r\n            this.labelAnswerUpdate.string = info.answerDate;\r\n            this.labelAnswerUpdate.node.active = true;\r\n\r\n            this.labelQuestionUpdate.node.active = false;\r\n        }\r\n    }\r\n\r\n    private onSELECT_MESSAGE( message:any ) {\r\n        this.ClearShowMessagePanel();\r\n        this.selectedMessage = message;\r\n\r\n        this.PANEL_MESSAGE_LIST.active = false;\r\n\r\n        this.labelMessageTitle.string = this.selectedMessage.title;\r\n        this.labelMessageSender.string = '보낸사람: 운영자';\r\n        this.labelMessageDescription.string = this.selectedMessage.description;\r\n        this.labelMessageUpdate.string = this.selectedMessage.createDate;\r\n\r\n        if ( this.selectedMessage.unread == 1 ) {\r\n            NetworkManager.Instance().reqREAD_MESSAGE( this.selectedMessage.id, (res: any )=>{\r\n                this.onREFRESH_UNREAD(()=>{\r\n\r\n                });\r\n            }, ( err: any )=>{\r\n            });\r\n        }\r\n\r\n        this.PANEL_MESSAGE_SHOW.active = true;\r\n    }\r\n\r\n    private ClearShowPanel() {\r\n        this.labelShowTitleText.string = '';\r\n        this.labelShowQuestionText.string = '';\r\n        this.labelShowAnswerText.string = '';\r\n        this.labelShowPending.string = '답변 대기중...'\r\n        this.labelShowPending.node.active = false;\r\n        this.labelQuestionUpdate.string = '';\r\n        this.labelAnswerUpdate.string = '';\r\n\r\n        this.selectedInfo = null;\r\n    }\r\n\r\n    private ClearShowMessagePanel() {\r\n        \r\n        this.labelMessageTitle.string = '';\r\n        this.labelMessageSender.string = '';\r\n        this.labelMessageDescription.string = '';\r\n        this.labelMessageUpdate.string = '';\r\n\r\n        this.selectedMessage = null;\r\n    }\r\n\r\n    private ClearList() {\r\n        this.selectedInfo = null;\r\n        this.selectedMessage = null;\r\n        this.DestoryElements();\r\n    }\r\n\r\n    private DestoryElements() {\r\n        this.QNAAElementOnList.forEach( (e)=>{\r\n            e.rootNode.destroy();\r\n            e.rootNode = null;\r\n        } );\r\n\r\n        this.MessageElementOnList.forEach( (e)=>{\r\n            e.rootNode.destroy();\r\n            e.rootNode = null;\r\n        });\r\n\r\n        this.QNAAElementOnList = [];\r\n        this.MessageElementOnList = [];\r\n    }\r\n\r\n    public Hide() {\r\n        this.selectedInfo = null;\r\n        this.selectedMessage = null;\r\n        this.DestoryElements();\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onEXIT( button: Button ) {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onWRITE( button: Button ) {\r\n        this.PANEL_QNA_LIST.active = false;\r\n        this.PANEL_QNA_INPUT.active = true;\r\n\r\n        this.onRESET_WRITE();\r\n    }    \r\n\r\n    private onRESET_WRITE() {\r\n        this.editboxTitle.string = '';\r\n        this.editboxQuestion.string = '';\r\n\r\n        this.labelTitleCount.string = ' ( '+ (this.editboxTitle.string.length).toString() + ' / ' + MAX_TITLE_COUNT.toString() + ' )'\r\n        this.labelDescCount.string = ' ( '+ (this.editboxQuestion.string.length).toString() + ' / ' + MAX_DESCRIPTION_COUNT.toString() + ' )'\r\n    }\r\n\r\n    private onACTIVATE_TITLE( button: Button ) {\r\n        this.editboxTitle.focus();\r\n    }\r\n    \r\n    private onBACK_LIST( button: Button ) {\r\n        this.PANEL_QNA_SHOW.active = false;\r\n        this.PANEL_QNA_INPUT.active = false;\r\n        this.PANEL_QNA_LIST.active = true;\r\n\r\n        this.onREFRESH();\r\n    }\r\n\r\n    private onBACK_MESSAGE_LIST( button: Button ) {\r\n        this.PANEL_MESSAGE_SHOW.active = false;\r\n        this.PANEL_MESSAGE_LIST.active = true;\r\n\r\n        this.onMESSAGE_REFRESH();\r\n    }\r\n\r\n    private onDELETE_QNA( button: Button  ) {\r\n        LobbySystemPopup.instance.showPopUpYesOrNo('문의사항', '현재 문의를 삭제하시겠습니까?', ()=>{\r\n            this.DELETE_QNA();\r\n\r\n        }, ()=>{\r\n\r\n        });\r\n    }\r\n    \r\n    private DELETE_QNA() {\r\n        if ( this.selectedInfo != null ) {\r\n            this.buttonBack.interactable = false;\r\n            this.buttonExit.interactable = false;\r\n\r\n            NetworkManager.Instance().reqDELETE_QNA( this.selectedInfo.id, ( res: any )=>{\r\n                this.buttonBack.interactable = true;\r\n                this.buttonExit.interactable = true;\r\n                this.onSHOW_LIST();\r\n\r\n                LobbySystemPopup.instance.showPopUpOk('문의', '문의를 삭제했습니다.', ()=>{\r\n\r\n                });\r\n            }, ( err: any )=>{\r\n                this.buttonBack.interactable = true;\r\n                this.buttonExit.interactable = true;                \r\n                LobbySystemPopup.instance.showPopUpOk('문의', '문의를 삭제할 수 없습니다.', ()=>{\r\n\r\n                });\r\n            } );\r\n        } else {\r\n            LobbySystemPopup.instance.showPopUpOk('문의', '문의를 삭제할 수 없습니다.', ()=>{\r\n            });\r\n        }\r\n    }\r\n\r\n    private onSHOW_LIST() {\r\n        this.PANEL_QNA_SHOW.active = false;\r\n        this.PANEL_QNA_INPUT.active = false;\r\n        this.PANEL_QNA_LIST.active = true;\r\n\r\n        this.onREFRESH();        \r\n    }\r\n    \r\n    private onSEND_QNA( button: Button ) {\r\n        let t = this.editboxTitle.string;\r\n        let q = this.editboxQuestion.string;\r\n        button.interactable = false;\r\n\r\n        if ( t.length <= 0 || q.length <= 0 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('문 의', '제목과 문의내용을 입력해주세요.', ()=>{\r\n                button.interactable = true;\r\n            });\r\n            return;\r\n        }\r\n\r\n        NetworkManager.Instance().reqSEND_QNA( {\r\n            title: t,\r\n            question: q\r\n        }, (res)=>{\r\n            button.interactable = true;            \r\n            if ( res != null && res.affected > 0 ) {\r\n                LobbySystemPopup.instance.showPopUpOk('문 의', '문의 보내기가 성공했습니다.', ()=>{\r\n                    this.onSHOW_LIST();\r\n                });\r\n            } else {\r\n                LobbySystemPopup.instance.showPopUpOk('문 의', '문의 보내기가 실패했습니다.', ()=>{\r\n                    this.onRESET_WRITE();\r\n                });\r\n            }\r\n\r\n        }, (err)=>{\r\n            button.interactable = true;            \r\n            LobbySystemPopup.instance.showPopUpOk('문 의', '문의 보내기가 실패했습니다.', ()=>{\r\n                this.onRESET_WRITE();\r\n            });\r\n        });\r\n    }\r\n    \r\n    private onSEND_CANCEL( button: Button ) {\r\n        this.PANEL_QNA_SHOW.active = false;\r\n        this.PANEL_QNA_INPUT.active = false;\r\n        this.PANEL_QNA_LIST.active = true;\r\n\r\n        this.onREFRESH();\r\n    }\r\n\r\n    private onAPPLY( button: Button ) {\r\n        if ( this.cbAPPLY != null ) {\r\n            this.cbAPPLY();\r\n        }\r\n    }\r\n\r\n    private onTITLE_EDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onTITLE_EDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private onTITLE_EDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private onTITLE_EDITBOX_TEXT_CHANGED( editbox ) {\r\n        this.labelTitleCount.string = '( ' + (editbox.string.length).toString() + ' / ' + MAX_TITLE_COUNT.toString() + ' )';\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.string = editbox.string.replace(c, '');\r\n            editbox.blur();\r\n        }\r\n    }\r\n\r\n    private onQUESTION_EDITBOX_DID_BEGAN( editbox ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onQUESTION_EDITBOX_RETURN( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private onQUESTION_EDITBOX_DID_ENDED( editbox ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n    }\r\n\r\n    private onQUESTION_EDITBOX_TEXT_CHANGED( editbox ) {\r\n        this.labelDescCount.string = '( ' + (editbox.string.length).toString() + ' / ' + MAX_DESCRIPTION_COUNT.toString() + ' )';\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.string = editbox.string.replace(c, '');            \r\n            editbox.blur();\r\n        }\r\n    }\r\n\r\n    private onTOGGLE_QNA( toggle: Toggle ) {\r\n        if ( toggle.isChecked == true ) {\r\n            this.rootQNA.active = true;\r\n            this.rootMessage.active = false;\r\n\r\n            NetworkManager.Instance().reqGET_QNA( (res: any)=>{\r\n                if ( res != null ) {\r\n                    this.ShowList( res.qnas );\r\n                }\r\n    \r\n                this.PANEL_QNA_LIST.active = true;\r\n                this.node.active = true;\r\n    \r\n            }, (err:any)=>{\r\n                this.PANEL_QNA_LIST.active = true;\r\n                this.node.active = true;\r\n            } );\r\n    \r\n        }\r\n    }\r\n\r\n    private onTOGGLE_MESSAGE( toggle: Toggle ) {\r\n        if ( toggle.isChecked == true ) {\r\n            this.rootQNA.active = false;\r\n            this.rootMessage.active = true;\r\n\r\n            NetworkManager.Instance().reqMESSAGE( (res: any)=>{\r\n                \r\n                if ( res != null ) {\r\n                    this.ShowMessageList( res.messages );\r\n                }\r\n\r\n                this.PANEL_MESSAGE_LIST.active = true;\r\n                this.PANEL_MESSAGE_SHOW.active = false;\r\n\r\n                this.node.active = true;\r\n    \r\n            }, (err:any)=>{\r\n                this.PANEL_MESSAGE_LIST.active = true;\r\n                this.PANEL_MESSAGE_SHOW.active = false;\r\n\r\n                this.node.active = true;\r\n            } );\r\n        }\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Label, Node, Button } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiLOBBY_POPUP_RANKING')\nexport class UiLOBBY_POPUP_RANKING extends Component {\n    @property(Label) labelTitle: Label = null;\n    @property(Button) buttonExit: Button = null;\n    @property(Button) buttonApply: Button = null;\n\n    private cbEXIT: ()=>void = null;\n    private cbAPPLY: ()=>void = null;    \n\n    public Init( cbEXIT: any, cbAPPLY: any ) {\n        if ( cbEXIT != null ) {\n            this.cbEXIT = null;\n            this.cbEXIT = cbEXIT;\n        }\n\n        if ( cbAPPLY != null ) {\n            this.cbAPPLY = null;\n            this.cbAPPLY = cbAPPLY;\n        }\n\n        this.node.active = false;\n        this.labelTitle.string = '랭 킹';\n\n        this.buttonExit.node.off( 'click' );\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\n\n        this.buttonApply.node.off( 'click' );\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\n    }\n\n    public Show( button: Button ) {\n        button.interactable = true;        \n        this.node.active = true;\n    }\n\n    public Hide() {\n        this.node.active = false;\n    }\n\n    private onEXIT( button: Button ) {\n        if ( this.cbEXIT != null ) {\n            this.cbEXIT();\n        }\n    }\n\n    private onAPPLY( button: Button ) {\n        if ( this.cbAPPLY != null ) {\n            this.cbAPPLY();\n        }\n    }\n}\n\n","import { _decorator, Component, Node, Label, Button } from 'cc';\nimport { CommonUtil } from '../CommonUtil';\nimport { NetworkManager } from '../NetworkManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiLOBBY_POPUP_TICKETS')\nexport class UiLOBBY_POPUP_TICKETS extends Component {\n    @property(Label) labelTitle: Label = null;\n    @property(Label) labelDescription: Label = null;\n    @property(Button) buttonConfirm: Button = null;\n\n    private tickets: any[] = null;\n    private current: number = 0;\n    private maxTickets: number = 0;\n    private cbDONE: ()=>void = null;\n\n    public Init() {\n        this.tickets = [];\n        this.labelTitle.string = '';\n        this.labelDescription.string = '';\n\n        this.buttonConfirm.node.off( 'click' );\n        this.buttonConfirm.node.on( 'click', this.onCONFIRM.bind(this), this );\n\n        this.node.active = false;\n    }\n\n    public Show( tickets: any[], done:()=>void ) {\n        if ( done != null ) {\n            this.cbDONE = done;\n        }\n\n        this.tickets = tickets;\n\n        if ( this.tickets.length > 0 ) {\n            this.current = 0;\n            this.maxTickets = this.tickets.length;\n            let ticket = this.tickets[ this.current ];\n            this.SetTicket( ticket );\n            this.node.active = true;\n\n        } else {\n            this.onDONE();\n        }\n    }\n\n    public Hide() {\n        this.node.active = false;\n    }\n\n    private onDONE() {\n        if ( this.cbDONE != null ) {\n            this.cbDONE();\n        }\n    }\n\n    private onCONFIRM( button: Button ) {\n        let id: number = 0;\n        if ( this.tickets[ this.current ] != null ) {\n            id = this.tickets[ this.current ].id;\n        }\n\n        this.buttonConfirm.interactable = false;\n        NetworkManager.Instance().reqCHECK_TICKETS( id, ( res )=>{\n            this.buttonConfirm.interactable = true;\n            let next = this.current + 1;\n            if ( next < this.maxTickets ) {\n                this.current = next;\n                this.SetTicket( this.tickets[next] );\n            } else {\n                this.onDONE();\n            }\n        }, ( err )=>{\n            this.buttonConfirm.interactable = true;            \n            let next = this.current + 1;\n            if ( next < this.maxTickets ) {\n                this.current = next;\n                this.SetTicket( this.tickets[next] );\n            } else {\n                this.onDONE();\n            }\n        });\n    }\n\n\n\n    private async SetTicket( ticket: any ) {\n        let title: string = null;\n        let description: string = null;\n\n        if ( Number(ticket.charge) > 0 ) {\n            title = '입금신청';\n            description = '입금신청 [' + CommonUtil.getKoreanNumber( ticket.charge ) + '] 이 처리되었습니다.';\n            description += '\\n' + ticket.updateDate;\n\n        } else if ( Number(ticket.transfer) > 0 ) {\n            title = '출금신청';\n            description = '출금신청 [' + CommonUtil.getKoreanNumber( ticket.transfer ) + '] 이 처리되었습니다.';\n            description += '\\n' + ticket.updateDate;\n            \n        } else if ( Number(ticket.return) > 0 ) {\n            title = '출금신청';\n            description = '출금신청 ' + CommonUtil.getKoreanNumber( ticket.return ) + ' 이 취소되었습니다.';\n            description += '\\n' + ticket.updateDate;\n        }\n\n        this.labelTitle.string = title;\n        this.labelDescription.string = description;\n    }\n}\n\n","import { _decorator, Component, Node, Label, Button, EditBox } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { ENUM_RESULT_CODE, NetworkManager } from '../NetworkManager';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLOBBY_POPUP_TRANSFER')\r\nexport class UiLOBBY_POPUP_TRANSFER extends Component {\r\n    @property(Label) labelTitle: Label = null;\r\n\r\n    @property(Label) labelBank: Label = null;\r\n    @property(Label) labelHolder: Label = null;\r\n    @property(Label) labelAccount: Label = null;\r\n    @property(Label) labelPhone: Label = null;\r\n\r\n    @property(Label) labelBalance: Label = null;\r\n    @property(Label) labelAfterBalance: Label = null;    \r\n\r\n    @property(Label) labelKorAmount: Label = null;\r\n    @property(Label) labelTransferMin: Label = null;\r\n\r\n    @property(EditBox) editboxTransferAmount: EditBox = null;\r\n    @property(EditBox) editboxTransferPassword: EditBox = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;\r\n\r\n    private cbEXIT: ()=>void = null;\r\n    private cbAPPLY: ()=>void = null;\r\n    \r\n    private balance: number = 0;\r\n    private remain: number = 0;\r\n    private transfer_min: number = 0;\r\n    private amount: number = 0;\r\n\r\n    public Init( cbEXIT: any, cbAPPLY: any ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbAPPLY != null ) {\r\n            this.cbAPPLY = null;\r\n            this.cbAPPLY = cbAPPLY;\r\n        }\r\n\r\n        this.node.active = false;\r\n        this.labelTitle.string = '출금신청';\r\n\r\n        this.labelBank.string = '';\r\n        this.labelHolder.string = '';\r\n        this.labelAccount.string = '';\r\n        this.labelPhone.string = '';\r\n        this.labelTransferMin.string = '';\r\n\r\n        this.labelBalance.string = '0';\r\n        this.labelAfterBalance.string = '0';\r\n\r\n        this.labelKorAmount.string = '0';\r\n        this.labelKorAmount.node.active = false;\r\n\r\n        this.balance = 0;\r\n        this.remain = 0;\r\n        this.amount = 0;\r\n\r\n        this.buttonExit.node.off( 'click' );\r\n        this.buttonExit.node.on( 'click', this.onEXIT.bind(this), this );\r\n\r\n        this.buttonApply.node.off( 'click' );\r\n        this.buttonApply.node.on( 'click', this.onAPPLY.bind(this), this );\r\n\r\n        this.editboxTransferAmount.node.on('editing-did-began', this.onAMOUNT_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxTransferAmount.node.on('editing-return', this.onAMOUNT_EDITBOX_RETURN.bind(this), this);\r\n        this.editboxTransferAmount.node.on('text-changed', this.onAMOUNT_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxTransferAmount.node.on('editing-did-ended', this.onAMOUNT_EDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editboxTransferPassword.node.on('editing-did-began', this.onPASSWORD_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editboxTransferPassword.node.on('editing-return', this.onPASSWORD_EDITBOX_RETURN.bind(this), this);\r\n        this.editboxTransferPassword.node.on('text-changed', this.onPASSWORD_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editboxTransferPassword.node.on('editing-did-ended', this.onPASSWORD_EDITBOX_DID_ENDED.bind(this), this);\r\n    }\r\n\r\n    public Show( button: Button ) {\r\n        button.interactable = true;\r\n        this.Reset();\r\n\r\n        this.transfer_min = 10000;\r\n        let conf = NetworkManager.Instance().GetConfig();\r\n        if ( conf != null && conf.min_transfer ) {\r\n            this.transfer_min = conf.min_transfer;\r\n        }\r\n\r\n        this.buttonApply.interactable = true;\r\n        this.labelTransferMin.string = '( 최소 환전 신청금액: ' + CommonUtil.getKoreanNumber( this.transfer_min ) + ' / 단위:' + CommonUtil.getKoreanNumber(10000)+ ' )';\r\n\r\n        NetworkManager.Instance().getTRANSFER_REQUESTS( ( res )=>{\r\n            let transfers = res.transfers;\r\n            let count = transfers.length;\r\n\r\n            if ( count > 0 )\r\n            {\r\n                let total: number = 0;\r\n                transfers.forEach( ( transfer )=>{\r\n                    total += transfer.amount;\r\n                } );\r\n\r\n                let desc = count.toString() + ' 건 ( 총액: ' + CommonUtil.getKoreanNumber( total ) + ' ) 의 신청이 있습니다.\\n계속 진행하시겠습니까? '\r\n                LobbySystemPopup.instance.showPopUpYesOrNo( '환전 신청', desc, ()=>{\r\n                    this.GetUserInfo();\r\n\r\n                }, ()=>{\r\n                    if ( this.cbEXIT != null ) {\r\n                        this.cbEXIT();\r\n                    }\r\n                });\r\n            } else {\r\n                this.GetUserInfo();\r\n            }\r\n        }, (err)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', ' 정보를 불러올 수 없습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private Reset() {\r\n        this.labelBank.string = '';\r\n        this.labelHolder.string = '';\r\n        this.labelAccount.string = '';\r\n        this.labelPhone.string = '';\r\n        this.balance = 0;\r\n        this.remain = 0;\r\n        this.amount = 0;\r\n\r\n        this.editboxTransferAmount.string = '';\r\n        this.editboxTransferPassword.string = '';\r\n        this.labelBalance.string = '';\r\n        this.labelAfterBalance.string = '';\r\n\r\n        this.labelKorAmount.string = '0';\r\n        this.labelKorAmount.node.active = false;\r\n    }\r\n\r\n    private GetUserInfo() {\r\n        NetworkManager.Instance().getUSER_FromDB( (res: any)=>{\r\n            let user = res.user;\r\n\r\n            if ( user != null ) {\r\n                this.labelBank.string = user.bank;\r\n                this.labelHolder.string = user.holder;\r\n                this.labelAccount.string = user.account;\r\n                this.labelPhone.string = user.phone;\r\n                this.balance = user.balance;\r\n\r\n                this.labelBalance.string = CommonUtil.getKoreanNumber(this.balance);\r\n                this.labelAfterBalance.string = CommonUtil.getKoreanNumber(this.balance);\r\n                this.node.active = true;                \r\n            }\r\n\r\n        }, (err: any) => {\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', ' 정보를 불러올 수 없습니다.', ()=>{\r\n                if ( this.cbEXIT != null ) {\r\n                    this.cbEXIT();\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    public Hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onEXIT( button: Button ) {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onAPPLY( button: Button ) {\r\n        button.interactable = false;\r\n        let value: number = this.amount;\r\n        let password: string = this.editboxTransferPassword.string;\r\n        if ( password.length <= 0 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 비밀번호를 입력해 주세요.', ()=>{\r\n                button.interactable = true;\r\n            });\r\n            return;\r\n        }\r\n\r\n        if ( value <= 0 || value < this.transfer_min ) {\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', CommonUtil.getKoreanNumber(this.transfer_min) + ' 이하는 환전신청 할수 없습니다.', ()=>{\r\n                button.interactable = true;            \r\n            });\r\n            return;\r\n        }\r\n\r\n        this.remain = this.balance - value;\r\n        if ( this.remain < 0 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', '소지금이 부족합니다.', ()=>{\r\n                button.interactable = true;            \r\n            });\r\n            return;            \r\n        }\r\n\r\n        let desc = CommonUtil.getKoreanNumber( value ) + ' 출금 요청하시겠습니까?';\r\n        LobbySystemPopup.instance.showPopUpYesOrNo( '출금 신청', desc, ()=>{\r\n            NetworkManager.Instance().reqTRANSFER_REQUEST( {\r\n                value: value,\r\n                password: password\r\n            }, ( res: any )=>{\r\n                button.interactable = true;\r\n                if ( res != null ) {\r\n                    if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                        LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 신청이 완료되었습니다.', ()=>{\r\n                            if ( this.cbAPPLY != null ) {\r\n                                this.cbAPPLY();\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        if ( res.msg == 'INVALID_TRANSFER_PASSWORD') {\r\n                            LobbySystemPopup.instance.showPopUpOk('출금 신청', '거래비빌번호가 잘못됐습니다.', ()=>{\r\n                            });\r\n\r\n                        } else {\r\n                            LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 신청이 실패했습니다.', ()=>{\r\n                            });\r\n                        }\r\n                    }\r\n                } else {\r\n                    LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 신청이 실패했습니다.', ()=>{\r\n                    });                        \r\n                }\r\n            }, (err: any)=>{\r\n                button.interactable = true;                \r\n                LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금 신청이 실패했습니다.', ()=>{\r\n                });\r\n            });\r\n        }, ()=>{\r\n            button.interactable = true;\r\n            LobbySystemPopup.instance.showPopUpOk('출금 신청', '출금신청이 취소되었습니다.', ()=>{\r\n            });\r\n        });\r\n    }\r\n\r\n    private onAMOUNT_EDITBOX_RETURN( editbox, customEventData ) {\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onAMOUNT_EDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n        this.labelAfterBalance.string = CommonUtil.getKoreanNumber( this.balance );\r\n\r\n        this.labelKorAmount.string = '0';\r\n        this.labelKorAmount.node.active = false;\r\n    }\r\n\r\n    private onAMOUNT_EDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onAMOUNT_EDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n\r\n        let n = Number( editbox.string );\r\n        let s: string = '';\r\n        n = n - ( n % 10000 );\r\n        if ( isNaN( n ) == false ) {\r\n            this.amount = n;\r\n            s = '신청금액: ' + CommonUtil.getKoreanNumber( this.amount );            \r\n        }\r\n\r\n        if ( s.length > 0) {\r\n            this.labelKorAmount.string = s;\r\n            this.labelKorAmount.node.active = true;\r\n\r\n            let remain = this.balance - this.amount;\r\n            if ( remain < 0 ) {\r\n                this.labelAfterBalance.string = '출금불가';\r\n            } else {\r\n                this.labelAfterBalance.string = CommonUtil.getKoreanNumber( remain );\r\n            }\r\n        }\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_RETURN( editbox, customEventData ) {\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();        \r\n\r\n        // let s = CommonUtil.getKoreanNumber( Number(editbox.string) );\r\n        // this.labelKorValue.string = s;\r\n\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Label, Button, director, Game, Scene, sys, Sprite } from 'cc';\r\nimport { UiLobbyBottom } from './Lobby/UiLobbyBottom';\r\nimport { UiLobbyPopup } from './Lobby/UiLobbyPopup';\r\nimport { UiPlayer } from './Lobby/UiPlayer';\r\nimport { UiTableList } from './Lobby/UiTableList';\r\nimport { LobbySystemPopup } from './LobbySystemPopup';\r\nimport { NetworkManager } from \"./NetworkManager\";\r\nimport { Board } from \"./Board\";\r\nimport { UiTable } from \"./UiTable\";\r\nimport { UiLobbyLoading } from './Lobby/UiLobbyLoading';\r\nimport { LobbyAudioContoller } from './Lobby/LobbyAudioContoller';\r\nimport { Platform } from '../../extensions/colyseus-sdk/runtime/colyseus';\r\nimport { GameManager } from './GameManager';\r\nimport { ENUM_LEAVE_REASON } from './HoldemDefines';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { ENUM_EVENT_POPUP_TYPE } from './Lobby/UiLOBBY_POPUP_EVENT';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLobby')\r\nexport class UiLobby extends Component {\r\n\r\n    @property(UiPlayer) uiPlayer: UiPlayer = null;\r\n    @property(UiTableList) uiTableList: UiTableList = null;\r\n    @property(UiLobbyPopup) uiLobbyPopup: UiLobbyPopup = null;\r\n    @property(UiLobbyBottom) uiLobbyBottom: UiLobbyBottom = null;\r\n    @property(UiLobbyLoading) uiLobbyLoading: UiLobbyLoading = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonSetting: Button = null;\r\n    @property(Sprite) spriteBlocker: Label = null;\r\n\r\n\tprivate user : any = null;\r\n    private setting: any = null;\r\n    private cbEnd: ()=> void = null;\r\n    private canRefresh: boolean = false; \r\n    private onHideTimestamp: number = 0;\r\n\r\n    public init() {\r\n        this.uiLobbyPopup.init( this );\r\n\r\n        this.uiPlayer.init( this.onShowAvartProfile.bind(this) );\r\n        this.uiTableList.init( this.onJoinTable.bind(this), this.EXIT_LOBBY.bind( this ) );\r\n        this.uiLobbyLoading.init();\r\n        \r\n        this.uiLobbyBottom.init( this.onSHOW_POINT.bind(this), this.onSHOW_RANKING.bind(this), this.onSHOW_CHARGE.bind(this), \r\n            this.onSHOW_TRANSFER.bind(this), this.onSHOW_QND.bind(this), this.onSHOW_NOTICE.bind(this) );\r\n\r\n        this.buttonSetting.node.off(\"click\");\r\n        this.buttonSetting.node.on(\"click\", this.onShowSetting.bind(this), this);\r\n\r\n        this.buttonExit.node.off('click');\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this), this);\r\n        this.node.active = true;\r\n    }\r\n\r\n    show( cbEnd: ()=> void ) {\r\n        if ( this.cbEnd != null ) {\r\n            this.cbEnd = null;\r\n\r\n            if ( cbEnd != null ) {\r\n                this.cbEnd = cbEnd;\r\n            }\r\n        }\r\n\r\n        this.spriteBlocker.node.active = false;\r\n\r\n        this.canRefresh = true;\r\n        this.user = NetworkManager.Instance().GetUser();\r\n        this.setting = NetworkManager.Instance().GetSetting();\r\n        this.onHideTimestamp = 0;\r\n\r\n        if (this.user != null)\r\n        {\r\n            this.uiPlayer.show();            \r\n            this.uiTableList.show();\r\n            this.uiLobbyBottom.show();\r\n        }\r\n\r\n        let leaveReason = NetworkManager.Instance().leaveReason;\r\n        if ( leaveReason == 4001 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('테이블', '장시간 자리비움으로 테이블을 떠났습니다.', ()=>{\r\n\r\n            });\r\n        } else if ( leaveReason == 4002 ) {\r\n            LobbySystemPopup.instance.showPopUpOk('테이블', '게임을 이용할 수 없습니다.', ()=>{\r\n                this.EXIT_LOBBY();\r\n\r\n            });\r\n        }\r\n\r\n        NetworkManager.Instance().leaveReason = -1;\r\n        this.CheckEventPopup();\r\n\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    private CheckEventPopup() {\r\n        let isSHOW_POPUP = GameManager.Instance().GetShowEventPopup();\r\n        if ( isSHOW_POPUP == false ) {\r\n            this.canRefresh = true;\r\n            this.onREFRESH();\r\n            this.onREGIST_SCHEDULE();\r\n            return;\r\n        }\r\n\r\n        NetworkManager.Instance().getPOPUPS(( res )=>{\r\n            if ( res != null ) {\r\n                let popups: any[] = res.popups;\r\n\r\n                if ( popups != null && popups.length > 0 ) {\r\n                    this.uiLobbyPopup.OpenEventPopup( popups, ( type: ENUM_EVENT_POPUP_TYPE )=>{\r\n                        if ( type == 1 ) {\r\n                            if ( this.user.tester == 1 ) {\r\n                                this.uiLobbyPopup.CloseEventPopup();\r\n                                GameManager.Instance().SetShowEventPopup( false );\r\n                                this.canRefresh = true;\r\n    \r\n                                this.onREFRESH();\r\n                                this.onREGIST_SCHEDULE();\r\n                            } else {\r\n                                this.EXIT_LOBBY();                                \r\n                            }\r\n                        } else {\r\n                            this.uiLobbyPopup.CloseEventPopup();\r\n                            GameManager.Instance().SetShowEventPopup( false );\r\n                            this.canRefresh = true;\r\n\r\n                            this.onREFRESH();\r\n                            this.onREGIST_SCHEDULE();\r\n                        }\r\n                    });\r\n                } else {\r\n                    this.canRefresh = true;\r\n                    this.onREFRESH();\r\n                    this.onREGIST_SCHEDULE();\r\n                }\r\n            }\r\n        }, (err)=>{\r\n            this.canRefresh = true;\r\n            this.onREFRESH();\r\n            this.onREGIST_SCHEDULE();\r\n        });\r\n    }\r\n\r\n    // private SetUnreadAnswer( count: number ) {\r\n    //     this.uiLobbyBottom.SetUnreadBadge( count );\r\n    // }\r\n\r\n    private SetUnreadMessage( count: number ) {\r\n        this.uiLobbyBottom.SetUnreadBadge( count );\r\n    }\r\n\r\n    private ShowTicketResult( tickets: any, done: ()=>void ) {\r\n        if ( tickets != null ) {\r\n            if ( tickets.length > 0 ) {\r\n                this.uiLobbyPopup.OpenTicketsPopup( tickets, ()=>{\r\n                    this.uiLobbyPopup.CloseTicketsPopup();\r\n                    if ( done != null ) {\r\n                        done();\r\n                    }\r\n                });\r\n            } else {\r\n                if ( done != null ) {\r\n                    done();\r\n                }\r\n            }\r\n        } else {\r\n            if ( done != null ) {\r\n                done();\r\n            }\r\n        }\r\n    }\r\n\r\n    private ShowPointReceives( logs: any, done: ()=>void ) {\r\n        if ( logs != null ) {\r\n            if ( logs.length > 0 ) {\r\n                this.uiLobbyPopup.OpenPointsReceivesPopup( logs, ()=>{\r\n                    this.uiLobbyPopup.ClosePointsReceives();\r\n                    if ( done != null ) {\r\n                        done();\r\n                    }\r\n                });\r\n            } else {\r\n                if ( done != null ) {\r\n                    done();\r\n                }\r\n            }\r\n        } else {\r\n            if ( done != null ) {\r\n                done();\r\n            }\r\n        }\r\n    }    \r\n\r\n    public refreshPlayer() {\r\n        NetworkManager.Instance().getUSER_FromDB( ()=>{\r\n            this.uiPlayer.refresh();\r\n        }, ()=>{\r\n\r\n        })\r\n    }\r\n\r\n    private onREGIST_SCHEDULE() {\r\n        this.schedule( ()=>{\r\n            this.onREFRESH();\r\n        }, 5);\r\n    }\r\n\r\n    private onUNREGIST_SCHEDULE() {\r\n        this.unscheduleAllCallbacks();\r\n    }\r\n\r\n    private onREFRESH() {        \r\n        if ( this.uiLobbyPopup.IsOpen() == true || LobbySystemPopup.instance.IsPOPUP_SHOW() == true || this.canRefresh == false ) {\r\n            return;\r\n        }\r\n\r\n        NetworkManager.Instance().reqREFRESH((res: any )=>{\r\n            if ( res != null ) {\r\n                if ( res.user != null && res.user.disable == 1) {\r\n                    GameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_DISABLE_ACCOUNT );\r\n                    this.EXIT_LOBBY();\r\n                    return;\r\n                }\r\n\r\n                this.refreshPlayer();\r\n                this.SetUnreadMessage( res.unreads );\r\n                this.ShowTicketResult( res.tickets, ()=>{\r\n                    if ( res.point_receives != null && res.point_receives.length > 0 ) {\r\n                        this.ShowPointReceives( res.point_receives, ()=>{\r\n\r\n                        } );\r\n                    }\r\n                } );\r\n            }\r\n        }, (err: any )=>{\r\n            console.log(err);\r\n        });\r\n\r\n        this.uiTableList.getTableList();\r\n    }\r\n\r\n    public refreshUiPlayer() {\r\n        this.uiPlayer.refresh();\r\n    }\r\n\r\n    private onShowAvartProfile() {\r\n        this.uiLobbyPopup.openProfile();\r\n    }\r\n\r\n    private onClickExit( button: Button ) {\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n        LobbySystemPopup.instance.showPopUpYesOrNo('로그아웃', '로그아웃 하시겠습니까?', ()=>{\r\n            this.uiTableList.end();\r\n            NetworkManager.Instance().logout();\r\n\r\n            if ( this.cbEnd != null ) {\r\n                this.cbEnd();\r\n                this.cbEnd = null;\r\n            }\r\n\r\n            this.EXIT_LOBBY();\r\n        }, ()=>{\r\n            LobbySystemPopup.instance.closePopup();\r\n        })\r\n    }\r\n\r\n    private onShowSetting( button: Button ) {\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n        button.interactable = true;\r\n        this.uiLobbyPopup.openSetting();\r\n    }\r\n\r\n    private onJoinTable(button: Button, table: any) {\r\n        NetworkManager.Instance().reqENTER_TABLE( table.id, ( room, res )=>{\r\n            button.interactable = true;\r\n            this.canRefresh = false;\r\n            this.uiTableList.end();\r\n            \r\n            Board.isPublic = true;\r\n            Board.id = res.info.id;\r\n            Board.ante = res.info.ante;\r\n            Board.ip = res.ip;\r\n\r\n            Board.setInfo( res.info );\r\n            Board.room = room;\r\n            UiTable.seatMaxFromServer = res.count;\r\n\r\n            this.uiLobbyLoading.show( ()=>{\r\n                if ( this.cbEnd != null ) {\r\n                    this.cbEnd();\r\n                    this.cbEnd = null;\r\n                }\r\n            });\r\n\r\n        }, ( err )=>{\r\n            button.interactable = true;\r\n\r\n            switch ( err.msg ) {\r\n                case 'NOT_ENOUGHT_BALANCE':\r\n                    let desc = '소지금이 부족합니다.\\n' + '소지금: ' + CommonUtil.getKoreanNumber( err.balance ) + '\\n' + '최소바이인: ' + CommonUtil.getKoreanNumber( err.buyin );\r\n\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", desc, ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                            \r\n                    break;                \r\n                case 'DUPLICATE_LOGIN':\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"이미 플레이중인 테이블이 있습니다.\", ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                            \r\n                    break;\r\n                case 'INCORRECT_TABLE_INFO':\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"해당 테이블에 입장할 수 없습니다.\", ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                                                        \r\n                    break;\r\n                case 'DISABLE_ACCOUNT':\r\n                    GameManager.Instance().ForceExit(ENUM_LEAVE_REASON.LEAVE_DISABLE_ACCOUNT);\r\n                    this.EXIT_LOBBY();\r\n                    break;                    \r\n                case 'TABLE_IS_FULL':\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"테이블이 가득 찼습니다.\", ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                                                                                    \r\n                    break;\r\n                case 'TABLE_DUPLICATE_IP':\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"중복된 IP의 플레이어가 있습니다.\", ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                            \r\n                    break;                            \r\n\r\n                default:\r\n                    LobbySystemPopup.instance.showPopUpOk(\"테이블입장\", \"해당 테이블에 입장할 수 없습니다.\\n\" + err.msg, ()=>{\r\n                        LobbySystemPopup.instance.closePopup();\r\n                    });                                                                                    \r\n            }\r\n        });\r\n    }\r\n\r\n    private onSHOW_POINT( button: Button ) {\r\n        this.uiLobbyPopup.OpenPoint( button );\r\n    }\r\n\r\n    private onSHOW_RANKING( button: Button ) {\r\n        this.uiLobbyPopup.OpenRanking( button );\r\n    }\r\n\r\n    private onSHOW_CHARGE( button: Button ) {\r\n        this.uiLobbyPopup.OpenCharge( button );\r\n    }\r\n\r\n    private onSHOW_TRANSFER( button: Button ) {\r\n        this.uiLobbyPopup.OpenTransfer( button );\r\n    }\r\n\r\n    private onSHOW_QND( button: Button ) {\r\n        this.uiLobbyPopup.OpenQNA( button );\r\n    }\r\n\r\n    private onSHOW_NOTICE( button: Button ) {\r\n\r\n        this.uiLobbyPopup.OpenNotice( button );\r\n    }\r\n\r\n    public onEVENT_SHOW() {\r\n        let now: any = new Date();\r\n        let ts = Number(now);\r\n\r\n        if ( ts - this.onHideTimestamp > 1000 * 60 * 10 ) {\r\n\t\t\tGameManager.Instance().ForceExit( ENUM_LEAVE_REASON.LEAVE_LONG_AFK );\r\n        } else {\r\n            this.onHideTimestamp = ts;\r\n            this.onREGIST_SCHEDULE();\r\n        }\r\n        // this.onREGIST_SCHEDULE();\r\n    }\r\n\r\n    public onEVENT_HIDE() {\r\n        let now: any = new Date();\r\n        this.onHideTimestamp = Number( now );\r\n\r\n        this.onUNREGIST_SCHEDULE();\r\n    }\r\n\r\n    private EXIT_LOBBY() {\r\n        this.spriteBlocker.node.active = true;\r\n        this.uiTableList.end();\r\n        NetworkManager.Instance().logout();\r\n\r\n        this.onUNREGIST_SCHEDULE();        \r\n        director.loadScene('LoginScene', ()=>{\r\n\r\n        }, ()=>{\r\n\r\n        });\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label } from 'cc';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLobbyBottom')\r\nexport class UiLobbyBottom extends Component {\r\n    @property(Button) buttonPoint: Button = null;\r\n    @property(Button) buttonRanking: Button = null;\r\n    @property(Button) buttonCharge: Button = null;\r\n    @property(Button) buttonTransfer: Button = null;    \r\n    @property(Button) buttonQNA: Button = null;\r\n    @property(Button) buttonNotice: Button = null;\r\n    @property(Node) rootQNABadge: Node = null;\r\n    @property(Label) labelUnreadMessage: Label = null;    \r\n\r\n    private cbPOINT: ( button:Button )=> void = null;\r\n    private cbRANKING: ( button:Button )=> void = null;\r\n    private cbCHARGE: ( button:Button )=> void = null;\r\n    private cbTRANSFER: ( button:Button )=> void = null;\r\n    private cbQNA: ( button:Button )=> void = null;\r\n    private cbNOTICE: ( button:Button )=> void = null;\r\n\r\n    public init( cbPOINT: any, cbRANKING: any, cbCHARGE: any, cbTRANSFER: any, cbQNA: any, cbNOTICE: any ) {\r\n        if ( cbPOINT != null ) {\r\n            this.cbPOINT = null;\r\n            this.cbPOINT = cbPOINT;\r\n        }\r\n\r\n        if ( cbRANKING != null ) {\r\n            this.cbRANKING = null;\r\n            this.cbRANKING = cbRANKING;\r\n        }\r\n\r\n        if ( cbCHARGE != null ) {\r\n            this.cbCHARGE = null;\r\n            this.cbCHARGE = cbCHARGE;            \r\n        }\r\n\r\n        if ( cbTRANSFER != null ) {\r\n            this.cbTRANSFER = null;\r\n            this.cbTRANSFER = cbTRANSFER;\r\n        }\r\n\r\n        if ( cbQNA != null ) {\r\n            this.cbQNA = null;\r\n            this.cbQNA = cbQNA;\r\n        }\r\n\r\n        if ( cbNOTICE != null ) {\r\n            this.cbNOTICE = null;\r\n            this.cbNOTICE = cbNOTICE;\r\n        }\r\n        \r\n        this.buttonPoint.node.off('click');\r\n        this.buttonPoint.node.on('click', this.onCLICK_POINT.bind(this), null);\r\n\r\n        this.buttonRanking.node.off('click');\r\n        this.buttonRanking.node.on('click', this.onCLICK_RANKING.bind(this), null);\r\n\r\n        this.buttonCharge.node.off('click');\r\n        this.buttonCharge.node.on('click', this.onCLICK_CHARGE.bind(this), null);        \r\n\r\n        this.buttonTransfer.node.off('click');\r\n        this.buttonTransfer.node.on('click', this.onCLICK_TRANSFER.bind(this), null);\r\n\r\n        this.buttonQNA.node.off('click');\r\n        this.buttonQNA.node.on('click', this.onCLICK_QNA.bind(this), null);\r\n\r\n        this.buttonNotice.node.off('click');\r\n        this.buttonNotice.node.on('click', this.onCLICK_NOTICE.bind(this), null);\r\n\r\n        this.rootQNABadge.active = false;\r\n        this.labelUnreadMessage.string = '';\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    public SetUnreadBadge( count: number ) {\r\n        if ( count != null ) {\r\n            if ( count > 0 ) {\r\n                this.labelUnreadMessage.string = count.toString();\r\n                this.rootQNABadge.active = true;\r\n            } else {\r\n                this.labelUnreadMessage.string = count.toString();\r\n                this.rootQNABadge.active = false;\r\n            }\r\n        } else {\r\n            this.labelUnreadMessage.string = '0';\r\n            this.rootQNABadge.active = false;\r\n        }\r\n    }\r\n\r\n    private onCLICK_POINT( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbPOINT != null ) {\r\n            this.cbPOINT( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_RANKING( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbRANKING != null ) {\r\n            this.cbRANKING( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_CHARGE( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbCHARGE != null ) {\r\n            this.cbCHARGE( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_TRANSFER( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbTRANSFER != null ) {\r\n            this.cbTRANSFER( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_QNA( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbQNA != null ) {\r\n            this.cbQNA( button );\r\n        }\r\n    }\r\n\r\n    private onCLICK_NOTICE( button: Button ) {\r\n        if ( button != null ) {\r\n            button.interactable = false;\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        if ( this.cbNOTICE != null ) {\r\n            this.cbNOTICE( button );\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, director, Scene, resources, SpriteFrame, tween, Sprite, UIOpacity, Color, ProgressBar } from 'cc';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport { UiTable } from '../UiTable';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLobbyLoading')\r\nexport class UiLobbyLoading extends Component {\r\n    @property(Node) rootFadeIn: Node = null;\r\n    @property(ProgressBar) progressBar: ProgressBar = null;\r\n\r\n    private progress: number = 0.0;\r\n    private cbNext: ()=> void;\r\n\r\n    public init() {\r\n        this.rootFadeIn.active = false;\r\n        this.progressBar.progress = 0.0;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show(cbNext: ()=> void ) {\r\n        if ( this.cbNext != null ) {\r\n            this.cbNext = null;\r\n\r\n            if ( cbNext != null ) {\r\n                this.cbNext = cbNext;\r\n            }\r\n        }\r\n\r\n        this.progressBar.progress = 0.0;\r\n        this.FadeIn( this.rootFadeIn, 1.0, ()=>{\r\n            this.preLoadResource ();\r\n        });\r\n    }\r\n\r\n    private preLoadResource() {\r\n        this.loadTable();\r\n    }\r\n\r\n    private loadTable() {\r\n        ResourceManager.Instance().loadTables( ()=>{\r\n\r\n            this.progressBar.progress = 0.1;\r\n            this.loadBackground();\r\n        });\r\n    }\r\n\r\n    private loadBackground() {\r\n        ResourceManager.Instance().loadBackground( ()=>{\r\n            this.progressBar.progress = 0.2;\r\n\r\n            this.loadSounds();\r\n        });\r\n    }\r\n\r\n    private loadSounds() {\r\n        if ( ResourceManager.Instance().getSoundsPreloadState() == true ) {\r\n\r\n            this.progressBar.progress = 0.4;\r\n            this.loadCards();\r\n            return;\r\n        }\r\n\r\n        ResourceManager.Instance().loadSounds( ( progress: number )=>{\r\n            this.progressBar.progress = 0.2 + (progress * 0.2) ;\r\n\r\n        }, ()=>{\r\n            this.progressBar.progress = 0.4 ;\r\n            this.loadCards();\r\n        });\r\n    }\r\n\r\n    private loadCards() {\r\n\r\n        ResourceManager.Instance().loadCards(( progress: number )=>{\r\n            this.progressBar.progress = 0.4 + (progress * 0.2) ;\r\n\r\n        }, ()=>{\r\n\r\n            this.progressBar.progress = 0.6;\r\n            this.loadChips();\r\n        });\r\n    }\r\n\r\n    private loadChips() {\r\n        if ( ResourceManager.Instance().getChipPreloadState() == true ) {\r\n\r\n            this.progressBar.progress = 0.8;\r\n            this.launch();\r\n            return;\r\n        }\r\n\r\n        ResourceManager.Instance().loadChips(( progress: number )=>{\r\n            this.progressBar.progress = 0.6 + (progress * 0.2) ;            \r\n        }, ()=>{\r\n            this.progressBar.progress = 0.8;\r\n\r\n            this.launch();\r\n        });\r\n    }\r\n\r\n    private launch() {\r\n\r\n        let cnt = 0;\r\n        director.preloadScene('GameScene', ( completedCount: number, totalCount: number, item: any )=>{\r\n            cnt++;\r\n            let p: number = cnt / 372.0;\r\n            this.progressBar.progress = 0.8 + p * 0.2;\r\n\r\n        }, ()=>{\r\n            this.progressBar.progress = 1.0;\r\n\r\n            if ( this.cbNext != null ) {\r\n                this.cbNext();\r\n                this.cbNext = null;\r\n            }\r\n\r\n            director.loadScene('GameScene');\r\n        });\r\n    }\r\n\r\n    public hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    FadeIn( target: Node, duration: number, done: ()=>void ) {\r\n        let s = target.getComponent(Sprite);\r\n        s.color = new Color( 0, 0, 0, 255);\r\n\r\n        s.node.active = true;\r\n        this.node.active = true;\r\n\r\n        if ( s != null ) {\r\n            let tw = tween( s.node )\r\n            .set( {\r\n \r\n            })\r\n            .to ( duration, {\r\n\r\n            }, {\r\n                onUpdate: ( target: Node, ratio: number) => {\r\n                    let a = 255 - 255 * ratio;\r\n                    if ( a <= 0 ) {\r\n                        a = 0;\r\n                    }\r\n                    s.color = new Color (0, 0, 0, a);\r\n                }\r\n            });\r\n\r\n            tw.call(()=>{\r\n                s.color = new Color( 0, 0, 0, 255);                \r\n                s.node.active = false;\r\n                done();\r\n            });\r\n\r\n            tw.start();\r\n        }\r\n    }\r\n}","import { _decorator, Component, Node, color, Button } from 'cc';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { UiLobby } from '../UiLobby';\r\nimport { UiPopupChangeAvatar } from './UiPopupChangeAvatar';\r\nimport { UiPopupProfile } from './UiPopupProfile';\r\nimport { UiPopupSetting } from './UiPopupSetting';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { UiLOBBY_POPUP_POINT } from './UiLOBBY_POPUP_POINT';\r\nimport { UiLOBBY_POPUP_RANKING } from './UiLOBBY_POPUP_RANKING';\r\nimport { UiLOBBY_POPUP_CHARGE } from './UiLOBBY_POPUP_CHARGE';\r\nimport { UiLOBBY_POPUP_TRANSFER } from './UiLOBBY_POPUP_TRANSFER';\r\nimport { UiLOBBY_POPUP_QnA } from './UiLOBBY_POPUP_QnA';\r\nimport { UiLOBBY_POPUP_NOTICE } from './UiLOBBY_POPUP_NOTICE';\r\nimport { ENUM_EVENT_POPUP_TYPE, UiLOBBY_POPUP_EVENT } from './UiLOBBY_POPUP_EVENT';\r\nimport { UiLOBBY_POPUP_TICKETS } from './UiLOBBY_POPUP_TICKETS';\r\nimport { UiLOBBY_POPUP_POINT_RECEIVE } from './UiLOBBY_POPUP_POINT_RECEIVE';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLobbyPopup')\r\nexport class UiLobbyPopup extends Component {\r\n\r\n    @property (UiPopupProfile) uiPopupProfile: UiPopupProfile = null;\r\n    @property (UiPopupSetting) uiPopupSetting: UiPopupSetting = null;    \r\n    @property (UiPopupChangeAvatar) uiPopupChangeAvatar: UiPopupChangeAvatar = null;\r\n\r\n    @property (UiLOBBY_POPUP_POINT) uiLOBBY_POPUP_POINT: UiLOBBY_POPUP_POINT = null;\r\n    @property (UiLOBBY_POPUP_RANKING) uiLOBBY_POPUP_RANKING: UiLOBBY_POPUP_RANKING = null;\r\n    @property (UiLOBBY_POPUP_CHARGE) uiLOBBY_POPUP_CHARGE: UiLOBBY_POPUP_CHARGE = null;\r\n    @property (UiLOBBY_POPUP_TRANSFER) uiLOBBY_POPUP_TRANFER: UiLOBBY_POPUP_TRANSFER = null;\r\n    @property (UiLOBBY_POPUP_QnA) uiLOBBY_POPUP_QNA: UiLOBBY_POPUP_QnA = null;\r\n    @property (UiLOBBY_POPUP_NOTICE) uiLOBBY_POPUP_NOTICE: UiLOBBY_POPUP_NOTICE = null;\r\n    @property (UiLOBBY_POPUP_EVENT) uiLOBBY_POPUP_EVENT: UiLOBBY_POPUP_EVENT = null;\r\n    @property (UiLOBBY_POPUP_TICKETS) uiLOBBY_POPUP_TICKETS: UiLOBBY_POPUP_TICKETS = null;\r\n    @property (UiLOBBY_POPUP_POINT_RECEIVE) UiLOBBY_POPUP_POINT_RECEIVE: UiLOBBY_POPUP_POINT_RECEIVE = null;    \r\n\r\n    private uiLobby: UiLobby = null;\r\n    private isOpen: boolean = false;\r\n\r\n    init( uiLobby:UiLobby ) {\r\n        this.uiPopupProfile.init( this.hide.bind(this), this.openChargeAvatar.bind(this) );\r\n        this.uiPopupSetting.init( this.hide.bind(this), this.applySetting.bind(this) );\r\n        this.uiPopupChangeAvatar.init( this.hideChangeAvatar.bind(this), this.applyChangeAvatar.bind(this));\r\n\r\n        if ( uiLobby != null ) {\r\n            this.uiLobby = uiLobby;\r\n        }\r\n\r\n        this.uiLOBBY_POPUP_POINT.Init( this.ClosePoint.bind(this), this.applyPointTransfer.bind(this) );\r\n        this.uiLOBBY_POPUP_RANKING.Init( this.CloseRanking.bind(this), null );\r\n        this.uiLOBBY_POPUP_CHARGE.Init( this.CloseCharge.bind(this), null );\r\n        this.uiLOBBY_POPUP_TRANFER.Init( this.CloseTransfer.bind(this), this.onAPPLY_TRANSFER.bind(this) );\r\n        this.uiLOBBY_POPUP_QNA.Init( this.CloseQNA.bind(this), null );\r\n        this.uiLOBBY_POPUP_NOTICE.Init( this.CloseNotice.bind(this) );\r\n        this.uiLOBBY_POPUP_EVENT.Init();\r\n        this.uiLOBBY_POPUP_TICKETS.Init();\r\n        this.UiLOBBY_POPUP_POINT_RECEIVE.Init();\r\n\r\n        this.closeAllPopup();\r\n        this.isOpen = false;\r\n    }\r\n\r\n    public OpenEventPopup( popups: any[], done: ( type: ENUM_EVENT_POPUP_TYPE )=>void ) {\r\n        this.closeAllPopup();\r\n        this.uiLOBBY_POPUP_EVENT.Show( popups, done.bind(this) );\r\n\r\n        this.isOpen = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public OpenTicketsPopup( tickets: any[], done: ()=>void ) {\r\n        this.closeAllPopup();\r\n        this.uiLOBBY_POPUP_TICKETS.Show( tickets, done );\r\n\r\n        this.Open();\r\n    }\r\n    \r\n    public OpenPointsReceivesPopup(  logs: any[], done: ()=>void  ) {\r\n        this.closeAllPopup();\r\n        this.UiLOBBY_POPUP_POINT_RECEIVE.Show( logs, done );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public openProfile() {\r\n        this.closeAllPopup();\r\n        this.uiPopupProfile.show();\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public openSetting() {\r\n        this.closeAllPopup();\r\n        this.uiPopupSetting.show();\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public openChargeAvatar() {\r\n        this.closeAllPopup();\r\n        this.uiPopupChangeAvatar.show();\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public closeProfile() {\r\n        this.uiPopupProfile.hide();\r\n\r\n        this.hide();\r\n   }\r\n\r\n    public closeSetting() {\r\n        this.uiPopupSetting.hide();\r\n\r\n        this.hide();\r\n    }\r\n\r\n    public closeChangeAvatar() {\r\n        this.uiPopupChangeAvatar.hide();\r\n    }\r\n\r\n    public closeAllPopup() {\r\n        this.uiPopupProfile.hide();\r\n        this.uiPopupSetting.hide();\r\n        this.uiPopupChangeAvatar.hide();\r\n\r\n        this.uiLOBBY_POPUP_POINT.Hide();\r\n        this.uiLOBBY_POPUP_RANKING.Hide();\r\n        this.uiLOBBY_POPUP_CHARGE.Hide();\r\n        this.uiLOBBY_POPUP_TRANFER.Hide();\r\n        this.uiLOBBY_POPUP_QNA.Hide();\r\n        this.uiLOBBY_POPUP_NOTICE.Hide();\r\n        this.uiLOBBY_POPUP_EVENT.Hide();\r\n        this.uiLOBBY_POPUP_TICKETS.Hide();\r\n        this.UiLOBBY_POPUP_POINT_RECEIVE.Hide();\r\n\r\n        this.hide();\r\n    }\r\n\r\n    private hideChangeAvatar() {\r\n        this.openProfile();\r\n    }\r\n\r\n    public OpenPoint( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_POINT.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenRanking( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_RANKING.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenCharge( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_CHARGE.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenTransfer( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_TRANFER.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenQNA( button: Button ) {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_QNA.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public OpenNotice( button: Button ) {\r\n        this.closeAllPopup();\r\n        this.uiLOBBY_POPUP_NOTICE.Show( button );\r\n\r\n        this.Open();\r\n    }\r\n\r\n    public ClosePoint() {\r\n        this.uiLOBBY_POPUP_POINT.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseRanking() {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_RANKING.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseCharge() {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_CHARGE.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseTransfer() {\r\n        this.closeAllPopup();        \r\n        this.uiLOBBY_POPUP_TRANFER.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    private onAPPLY_TRANSFER() {\r\n        this.closeAllPopup();\r\n        this.uiLOBBY_POPUP_TRANFER.Hide();\r\n        this.uiLobby.refreshUiPlayer();\r\n\r\n        this.hide();\r\n    }\r\n\r\n    public CloseQNA() {\r\n        this.uiLOBBY_POPUP_QNA.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseNotice() {\r\n        this.uiLOBBY_POPUP_NOTICE.Hide();\r\n        this.hide();\r\n    }\r\n    \r\n    public CloseEventPopup() {\r\n        this.uiLOBBY_POPUP_EVENT.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public CloseTicketsPopup() {\r\n        this.uiLOBBY_POPUP_TICKETS.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    public ClosePointsReceives() {\r\n        this.UiLOBBY_POPUP_POINT_RECEIVE.Hide();\r\n        this.hide();\r\n    }\r\n\r\n    private applyChangeAvatar( num: number ) {\r\n        NetworkManager.Instance().updateUSER_AVATAR( num, (res)=>{            \r\n            LobbySystemPopup.instance.showPopUpOk('아바타 변경', '아바타가 변경되었습니다.', ()=>{\r\n                this.uiLobby.refreshUiPlayer();\r\n                this.uiPopupChangeAvatar.hide();\r\n                this.openProfile();                \r\n            });\r\n        }, (msg)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('아바타 변경', '아바타가 변경되지 않았습니다.', ()=>{\r\n                this.uiPopupChangeAvatar.hide();\r\n                this.openProfile();                \r\n            });\r\n        });\r\n    }\r\n\r\n    private applySetting( selected: any ) {        \r\n        NetworkManager.Instance().updateUSER_SETTING( selected, (res)=>{\r\n            \r\n            LobbySystemPopup.instance.showPopUpOk('설정', '설정이 변경되었습니다.', ()=>{\r\n                LobbySystemPopup.instance.closePopup();\r\n                LobbyAudioContoller.instance.ApplyVolumn();\r\n\r\n                this.closeSetting();\r\n            });\r\n        }, (err)=>{\r\n            LobbySystemPopup.instance.showPopUpOk('설정', '설정을 변경할 수 없습니다.', ()=>{\r\n                LobbySystemPopup.instance.closePopup();\r\n                this.closeSetting();\r\n            });\r\n        });\r\n    }\r\n\r\n    private applyPointTransfer() {\r\n        this.uiLobby.refreshPlayer();\r\n    }\r\n\r\n    public hide() {\r\n        this.node.active = false;\r\n        this.isOpen = false;\r\n    }\r\n\r\n    private Open() {\r\n        this.node.active = true;\r\n        this.isOpen = true;        \r\n    }\r\n\r\n    public IsOpen(): boolean {\r\n        return this.isOpen;\r\n    }\r\n}","import { _decorator, Component, Node, Button, EditBox, Label, AudioSource, AudioClip, director, Scene, game, Sprite, EventHandler, input, Input, EventKeyboard, KeyCode, Game, sys } from 'cc';\r\nimport { ENUM_RESULT_CODE, NetworkManager } from './NetworkManager';\r\nimport { Main } from './Main';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { LoginSystemPopup } from './Login/LoginSystemPopup';\r\nimport { ResourceManager } from './ResourceManager';\r\nimport { GameManager } from './GameManager';\r\nimport { ENUM_LEAVE_REASON } from './HoldemDefines';\r\nimport { UiLoginPOPUP } from './Login/UiLoginPOPUP';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLogin')\r\nexport class UiLogin extends Component {\r\n    @property (UiLoginPOPUP) uiLoginPOPUP = null;\r\n\r\n    @property (EditBox) editBoxUID: EditBox = null;\r\n    @property (EditBox) editBoxPassword: EditBox = null;    \r\n    @property (Label) labelLoginState: Label = null;\r\n    @property (AudioSource) audioSource: AudioSource = null;\r\n    @property (AudioClip) soundButtonClick: AudioClip = null;\r\n\r\n    @property (Button) buttonLogin: Button = null;\r\n    @property (Button) buttonJoin: Button = null;\r\n    @property (Button) buttonExit: Button = null;\r\n\r\n    @property (Sprite) spriteEventBlocker: Sprite = null;\r\n\r\n    private main: Main = null;\r\n\r\n    init(main: Main) {\r\n        this.main = main;\r\n\r\n        NetworkManager.Instance().logout();\r\n        GameManager.Instance().SetShowEventPopup( true );\r\n        this.RegistEditboxEvent();\r\n        this.uiLoginPOPUP.Init();\r\n\r\n        this.spriteEventBlocker.node.active = false;\r\n\r\n        this.buttonLogin.node.on( \"click\", this.onClickLogin.bind( this ), this );\r\n        this.buttonJoin.node.on('click', this.onClickJoin.bind( this ), this );\r\n        this.buttonExit.node.on('click', ()=>{\r\n\r\n            LoginSystemPopup.instance.showPopUpYesOrNo('종료', '게임을 종료하시겠습니까?', ()=>{\r\n                this.exitGame();\r\n            }, ()=>{\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n\r\n        }, this);\r\n    }\r\n\r\n    RegistEditboxEvent() {\r\n\r\n        this.editBoxUID.node.on('editing-did-began', this.onUID_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxUID.node.on('editing-return', this.onUID_EDITBOX_RETURN.bind(this), this);\r\n        this.editBoxUID.node.on('text-changed', this.onUID_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxUID.node.on('editing-did-ended', this.onUID_EDITBOX_DID_ENDED.bind(this), this);\r\n\r\n        this.editBoxPassword.node.on('editing-did-began', this.onPASSWORD_EDITBOX_DID_BEGAN.bind(this), this);\r\n        this.editBoxPassword.node.on('editing-return', this.onPASSWORD_EDITBOX_RETURN.bind(this), this);\r\n        this.editBoxPassword.node.on('text-changed', this.onPASSWORD_EDITBOX_TEXT_CHANGED.bind(this), this);\r\n        this.editBoxPassword.node.on('editing-did-ended', this.onPASSWORD_EDITBOX_DID_ENDED.bind(this), this);\r\n    }\r\n\r\n    onUIDEditboxReturn() {\r\n\r\n    }\r\n\r\n    onUIDEditboxChanged( text: string, editbox: EditBox, customEventData: any ) {\r\n\r\n    }\r\n\r\n    onUIDEditboxDidBegan() {\r\n        this.editBoxUID.string = '';\r\n    }\r\n\r\n    onPasswordEditboxReturn() {\r\n\r\n        if ( this.editBoxPassword.string.length > 0 && this.editBoxUID.string.length > 0 ) {\r\n            this.audioSource.playOneShot(this.soundButtonClick, 1);\r\n            this.onLogin();\r\n        }\r\n    }\r\n\r\n    onPasswordEditboxChanged() {\r\n\r\n    }\r\n\r\n    onPasswordEditboxDidBegan() {\r\n        this.editBoxPassword.string = '';\r\n    }\r\n    \r\n    onClickLogin(button: Button) {\r\n        this.audioSource.playOneShot(this.soundButtonClick, 1);\r\n        this.onLogin();\r\n\t}\r\n\r\n    public exitGame() {\r\n        // director.end();\r\n        game.end();\r\n    }\r\n\r\n    onLogin() {\r\n        let login_id: string = this.editBoxUID.string;\r\n        let password: string = this.editBoxPassword.string;\r\n\r\n        this.buttonLogin.interactable = false;\r\n        this.buttonJoin.interactable = false;\r\n\r\n        this.spriteEventBlocker.node.active = true;\r\n\r\n        if ( login_id.length < 4 ) {\r\n            LoginSystemPopup.instance.showPopUpOk('로그인', '아이디와 패스워드를 입력해주세요.', ()=>{\r\n                this.buttonLogin.interactable = true;\r\n                this.buttonJoin.interactable = true;\r\n                this.spriteEventBlocker.node.active = false;\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n            return;\r\n        }\r\n\r\n\t\tNetworkManager.Instance().reqLOGIN_HOLDEM( login_id, password ,(res)=>{\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n\r\n                let id: number = res.obj.id;\r\n                this.onLOAD_DATA( id );\r\n            }\r\n            else {\r\n                let desc: string = '';\r\n\r\n                switch ( res.msg ) {\r\n                    case 'INVALID_VERSION':\r\n                        desc = '버전이 맞지 않습니다.\\n새 버전을 다운로드 해 주세요.';\r\n                        break;\r\n                    case 'VERSION_MISMATCH':\r\n                        let referal: string = '';\r\n                        if ( res != null || res.obj != null || res.obj.referal != null ) {\r\n                            referal = res.obj.referal;\r\n                        }\r\n\r\n                        if ( referal.length > 0 ) {\r\n                            this.uiLoginPOPUP.OPEN_VersionMismatch( referal, this.onEXIT_GAME.bind(this), this.onDOWNLOAD_PAGE.bind(this) );\r\n                            return;\r\n\r\n                        } else {\r\n                            desc = 'VERSION_MISMATCH';\r\n                        }\r\n                        break;\r\n                    case 'INVALID_UID':\r\n                        desc = '잘못된 아이디 입니다.';\r\n                        break;\r\n                    case 'NO_EXIST_LOGIN_ID':\r\n                        desc = '아이디가 존재하지 않습니다.';\r\n                        break;\r\n                    case 'NO_MATCH_PASSWORD':\r\n                        desc = '비밀번호가 맞지 않습니다.';\r\n                        break;\r\n                    case 'DISABLE_ACCOUNT':\r\n                        desc = '사용할 수 없는 계정입니다.';\r\n                        break;\r\n                    case 'PENDING_ACCOUNT':\r\n                        desc = '가입 대기중인 계정입니다.';\r\n                        break;\r\n                    default:\r\n                        desc = '로그인 할 수 없습니다.';\r\n                }\r\n\r\n                LoginSystemPopup.instance.showPopUpOk('로그인', desc, ()=>{\r\n                    this.buttonLogin.interactable = true;\r\n                    this.buttonJoin.interactable = true;\r\n\r\n                    this.spriteEventBlocker.node.active = false;\r\n                });\r\n            }\r\n        },\r\n        ( err )=>{\r\n            if ( err.code == ENUM_RESULT_CODE.DISCONNECT_SERVER ) {\r\n                LoginSystemPopup.instance.showPopUpOk('로그인', '서버에 연결할 수 없습니다.', ()=>{\r\n                    this.buttonLogin.interactable = true;\r\n                    this.buttonJoin.interactable = true;\r\n\r\n                    this.spriteEventBlocker.node.active = false;\r\n                });\r\n                return;        \r\n            }\r\n            else {\r\n                LoginSystemPopup.instance.showPopUpOk('로그인', '로그인 할 수 없습니다.', ()=>{\r\n                    this.buttonLogin.interactable = true;\r\n                    this.buttonJoin.interactable = true;\r\n\r\n                    this.spriteEventBlocker.node.active = false;\r\n                });\r\n            }\r\n        });        \r\n    }\r\n\r\n    private onLOAD_DATA( user_id: number ) {\r\n        NetworkManager.Instance().getDATA(user_id, (res)=>{\r\n\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                if ( res.user != null && res.setting != null && res.conf != null ) {\r\n                    CommonUtil.setGameSetting( res.conf );\r\n\r\n                    ResourceManager.Instance().loadAvatars( res.conf.avatars, ()=>{}, ()=>{\r\n                        director.loadScene(\"LobbyScene\", (error: null | Error, scene?: Scene)=>{\r\n                        \r\n                        }, ()=>{\r\n            \r\n                        });\r\n    \r\n                    });\r\n                } else {\r\n                    LoginSystemPopup.instance.showPopUpOk('로그인', '게임 정보를 불러올 수 없습니다.', ()=>{\r\n                        this.spriteEventBlocker.node.active = false;\r\n\r\n                        LoginSystemPopup.instance.closePopup();\r\n                    });\r\n                }\r\n            } else {\r\n                LoginSystemPopup.instance.showPopUpOk('로그인', '게임 정보를 불러올 수 없습니다.', ()=>{\r\n                    this.spriteEventBlocker.node.active = false;\r\n\r\n                    LoginSystemPopup.instance.closePopup();\r\n                });\r\n            }\r\n\r\n            this.buttonLogin.interactable = true;\r\n            this.buttonJoin.interactable = true;\r\n\r\n        }, ( err )=>{\r\n            LoginSystemPopup.instance.showPopUpOk('로그인', '게임 정보를 불러올 수 없습니다.', ()=>{\r\n                this.spriteEventBlocker.node.active = false;\r\n\r\n                LoginSystemPopup.instance.closePopup();\r\n            });\r\n\r\n            this.buttonLogin.interactable = true;\r\n            this.buttonJoin.interactable = true;\r\n        });\r\n    }\r\n\r\n    onClickJoin( button: Button ) {\r\n        button.interactable = false;\r\n        NetworkManager.Instance().reqJOIN_REQUEST(( res: any )=>{\r\n            button.interactable = true;            \r\n            this.main.onShowJoinMember();\r\n        }, ( err: any )=>{\r\n            button.interactable = true;\r\n            LoginSystemPopup.instance.showPopUpOk('회원가입', '회원가입할 수 없습니다.' , ()=>{\r\n\r\n            });\r\n        });\r\n    }\r\n\r\n    show() {\r\n        let leaveReason = GameManager.Instance().GetLeaveReason();\r\n\r\n        let forceExit: boolean = false;\r\n        let desc: string = '';\r\n\r\n        switch (leaveReason) {\r\n            case ENUM_LEAVE_REASON.LEAVE_TOKEN_EXPIRE:\r\n                forceExit = false;\r\n                desc = '중복 로그인이 발생했습니다.';\r\n                break;\r\n            case ENUM_LEAVE_REASON.LEAVE_VERSION_MISMATCH:\r\n                forceExit = true;\r\n                desc = '버전이 맞지 않습니다.\\n새로운 버전을 설치하세요..';\r\n                break;\r\n            case ENUM_LEAVE_REASON.LEAVE_DISABLE_ACCOUNT:\r\n                forceExit = false;\r\n                desc = '게임을 이용할 수 없습니다.';\r\n                break;\r\n            case ENUM_LEAVE_REASON.LEAVE_LONG_AFK:\r\n                forceExit = false;\r\n                desc = '장시간 자리비움입니다.\\n게임을 다시 실행해주세요';\r\n                break;\r\n        }\r\n\r\n        GameManager.Instance().ResetLeaveReason();\r\n\r\n        if ( forceExit == true ) {\r\n            LoginSystemPopup.instance.showPopUpOk('게임종료', desc , ()=>{\r\n                this.exitGame();\r\n            });\r\n            return;\r\n        } else {\r\n            if ( desc.length > 0 )\r\n            LoginSystemPopup.instance.showPopUpOk('로그인', desc , ()=>{\r\n\r\n            });\r\n        }\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onUID_EDITBOX_RETURN( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onUID_EDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n    }\r\n\r\n    private onUID_EDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onUID_EDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.blur();\r\n            // this.editBoxPassword.focus();\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_DID_BEGAN( editbox, customEventData ) {\r\n        editbox.string = '';\r\n    }    \r\n\r\n    private onPASSWORD_EDITBOX_RETURN( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n\r\n        editbox.string = editbox.string.trim();\r\n        if ( editbox.string.length > 0 && editbox.string.length > 0 ) {\r\n            this.audioSource.playOneShot(this.soundButtonClick, 1);\r\n            this.onLogin();\r\n        }\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_DID_ENDED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onPASSWORD_EDITBOX_TEXT_CHANGED( editbox, customEventData ) {\r\n        if ( editbox.string.length == 0 ) {\r\n            return;\r\n        }\r\n        let c = '\\t';\r\n        if ( editbox.string.includes(c) == true ) {\r\n            editbox.blur();\r\n            // this.editBoxUID.focus();\r\n        }        \r\n        editbox.string = editbox.string.trim();\r\n    }\r\n\r\n    private onEXIT_GAME() {\r\n        this.uiLoginPOPUP.Hide();\r\n        this.exitGame();\r\n    }\r\n\r\n    private onDOWNLOAD_PAGE( url: string ) {\r\n        sys.openURL(url);\r\n        this.onEXIT_GAME();\r\n    }\r\n}\r\n","import { _decorator, Button, Component, Node } from 'cc';\r\nimport { NetworkManager } from '../NetworkManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLoginPOPUP_VERSION_MISMATCH')\r\nexport class UiLoginPOPUP_VERSION_MISMATCH extends Component {\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonDownload: Button = null;\r\n\r\n    private url: string = '';\r\n\r\n    private cbEXIT:()=>void = null;\r\n    private cbDOWNLOAD: ( referal: string )=>void = null;\r\n\r\n    public Init() {\r\n        this.buttonExit.node.off('click');\r\n        this.buttonExit.node.on('click', this.onCLICK_EXIT.bind(this));\r\n\r\n        this.buttonDownload.node.off('click');\r\n        this.buttonDownload.node.on('click', this.onCLICK_DOWNLOAD.bind(this));\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show( referal: string, cbEXIT:()=>void, cbDOWNLOAD:( referal: string )=>void ) {\r\n        if ( cbEXIT != null ) {\r\n            this.cbEXIT = cbEXIT;\r\n        }\r\n\r\n        if ( cbDOWNLOAD != null ) {\r\n            this.cbDOWNLOAD = cbDOWNLOAD;\r\n        }\r\n\r\n        NetworkManager.Instance().reqCOMPANY( (res: any)=>{\r\n            if ( res != null && res.store != null && res.store.homepage != null ) {\r\n                this.url = res.store.homepage + '?code=' + referal;\r\n            }\r\n\r\n            this.node.active = true;\r\n        }, (err: any)=>{\r\n            this.node.active = true;\r\n        });\r\n    }\r\n\r\n    private onCLICK_EXIT() {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT();\r\n        }\r\n    }\r\n\r\n    private onCLICK_DOWNLOAD() {\r\n        if ( this.cbDOWNLOAD != null ) {\r\n            this.cbDOWNLOAD( this.url );\r\n        }\r\n    }\r\n\r\n    public Hide() {\r\n        if ( this.cbEXIT != null ) {\r\n            this.cbEXIT = null;\r\n        }\r\n\r\n        if ( this.cbDOWNLOAD != null ) {\r\n            this.cbDOWNLOAD = null;\r\n        }\r\n\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node } from 'cc';\r\nimport { UiLoginPOPUP_VERSION_MISMATCH } from './UiLoginPOPUP_VERSION_MISMATCH';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiLoginPOPUP')\r\nexport class UiLoginPOPUP extends Component {\r\n    @property(UiLoginPOPUP_VERSION_MISMATCH) uiLoginPopupVersionMismatch: UiLoginPOPUP_VERSION_MISMATCH = null;\r\n\r\n    public Init() {\r\n        this.uiLoginPopupVersionMismatch.Init();\r\n        this.node.active = false;\r\n    }\r\n\r\n    public Show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    public Hide() {\r\n        this.CLOSE_VersionMismatch();\r\n        this.node.active = false;\r\n    }\r\n\r\n    public OPEN_VersionMismatch( referal: string, cbExit:()=>void , cbDOWNLOAD: ( url: string )=>void ) {\r\n        this.uiLoginPopupVersionMismatch.Show( referal, cbExit, cbDOWNLOAD );\r\n\r\n        this.Show();\r\n    }\r\n\r\n    public CLOSE_VersionMismatch() {\r\n        this.uiLoginPopupVersionMismatch.Hide();\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, Label, profiler, Button, resources, SpriteFrame } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiPlayer')\r\nexport class UiPlayer extends Component {\r\n    @property(Sprite) spriteAvatar: Sprite = null;\r\n    @property(Label) labelNickname: Label = null;\r\n    @property(Label) labelIp: Label = null;    \r\n    @property(Label) labelChips: Label = null;\r\n    @property(Label) labelPoints: Label = null;\r\n    @property(Button) buttonAvatar: Button = null;\r\n\r\n    private avatarType: number = -1;\r\n    private nickname: string = \"\";\r\n    private chips: number = -1; \r\n    private points: number = -1;\r\n\r\n    private cbClickAvatar: ()=>void = null;\r\n\r\n    public init( cbClickAvatar: ()=>void = null ) {\r\n        this.cbClickAvatar = cbClickAvatar;\r\n\r\n        this.avatarType = -1;\r\n        this.nickname = '';\r\n        this.chips = -1;\r\n        this.points = -1;\r\n\r\n        this.labelNickname.string = this.nickname;\r\n        this.labelChips.string = this.chips.toString();\r\n        this.labelPoints.string = this.points.toString();\r\n        this.labelIp.string = '';\r\n        this.labelIp.node.active = false;\r\n\r\n        this.buttonAvatar.node.on(\"click\", this.onClickAvatar.bind(this), this);\r\n        this.spriteAvatar.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickAvatar(button: Button) {\r\n        // LobbyAudioContoller.instance.playButtonClick();\r\n\r\n        this.cbClickAvatar();\r\n    }\r\n\r\n    public show () {\r\n        this.refresh();        \r\n        this.node.active = true;\r\n    }\r\n\r\n    public refresh() {\r\n        let user = NetworkManager.Instance().GetUser();\r\n        if (user != null)\r\n        {\r\n            this.labelNickname.string = user.nickname;\r\n            this.labelChips.string = CommonUtil.getKoreanNumber(user.balance + user.chip);\r\n            this.labelPoints.string = CommonUtil.getKoreanNumber(user.point);\r\n            this.labelIp.string = '( ' + user.login_ip + ' )';\r\n            this.labelIp.node.active = false;\r\n\r\n            let s = Number( user.avatar );\r\n            let sf: SpriteFrame = ResourceManager.Instance().getAvatarImage( s );\r\n            if ( sf != null ) {\r\n                this.spriteAvatar.spriteFrame = sf;\r\n                this.spriteAvatar.node.active = true;\r\n            }\r\n        }\r\n        this.node.active = true;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label, Slider, EventHandler, sys } from 'cc';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { ENUM_BETTING_TYPE, UiBettingControl } from './Game/UiBettingControl';\r\nimport { AudioController } from './Game/AudioController';\r\nimport { ENUM_BET_SOUND, ENUM_CARD_TYPE, ENUM_DEVICE_TYPE } from './HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ENUM_BETTING_KIND {\r\n    NONE = 0,\r\n    MAX = 1,\r\n    FULL = 2,\r\n    HALF = 3,\r\n    QUATER = 4,\r\n}\r\n\r\n@ccclass('UiPlayerAction')\r\nexport class UiPlayerAction extends Component {\r\n\t@property(UiBettingControl) uiBettingControl: UiBettingControl = null;\r\n\r\n\tprivate isChildRegistered: boolean = false;\r\n\tprivate buttonFold: Button = null;    \r\n\tprivate buttonCheck: Button = null;\r\n\tprivate buttonCall: Button = null;\r\n\r\n\tprivate buttonAllIn: Button = null;\r\n\r\n\tprivate turnBet: number = 0;\r\n\tprivate myBet: number = 0;\r\n\tprivate myChips: number = 0;\r\n\tprivate pot: number = 0;\r\n\tprivate betMin: number = 0;\r\n\tprivate betStart: number = 0;\r\n\tprivate betRange: number = 0;\r\n\tprivate callValue: number = 0;\r\n\tprivate isBet: boolean = false;\r\n\tprivate maxChips: number = 0;\r\n\r\n\tprivate buttonQuater: Button = null;\r\n\tprivate buttonHalf: Button = null;\r\n\tprivate buttonFull: Button = null;\r\n\tprivate buttonMax: Button = null;\r\n\r\n\tprivate buttonCallDisable: Button = null;\r\n\tprivate buttonQuaterDisable: Button = null;\r\n\tprivate buttonHalfDisable: Button = null;\r\n\tprivate buttonFullDisable: Button = null;\r\n\r\n\tprivate labelCallValue: Label = null;\r\n\tprivate labelQuaterValue: Label = null;\r\n\tprivate labelHalfValue: Label = null;\r\n\tprivate labelFullValue: Label = null;\r\n\tprivate labelMaxValue: Label = null;\r\n\r\n\tprivate labelCallDisableValue: Label = null;\r\n\tprivate labelQuaterDisableValue: Label = null;\r\n\tprivate labelHalfDisableValue: Label = null;\r\n\tprivate labelFullDisableValue: Label = null;\r\n\r\n\tprivate quaterValue: number = 0;\r\n\tprivate halfValue: number = 0;\r\n\tprivate fullValue: number = 0;\r\n\tprivate maxValue: number = 0;\r\n\tprivate betType: ENUM_BETTING_TYPE = ENUM_BETTING_TYPE.None;\r\n\r\n\tprivate sb: number = 0;\r\n\tprivate bb: number = 0;\r\n\r\n\tcbFold: () => void = null;\r\n\tcbCall: ( betValue: number ) => void = null;\r\n\tcbCheck: () => void = null;\r\n\tcbBet: ( betValue: number, callValue:number, sound: ENUM_BET_SOUND ) => void = null;\r\n\tcbRaise: ( betValue: number, callValue: number, sound: ENUM_BET_SOUND ) => void = null;\r\n\tcbAllIn: ( betValue: number, callValue: number ) => void = null;\r\n\tcbBetAnnounce: ( kind: ENUM_BETTING_KIND )=> void = null;\r\n\r\n    childRegistered() {\r\n\t\tif( true == this.isChildRegistered ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.isChildRegistered = true;\r\n\r\n\t\tthis.buttonFold = this.node.getChildByPath( \"BUTTON_FOLD\" )?.getComponent( Button );\r\n\t\tthis.buttonFold?.node.on( \"click\", this.onClickFold.bind( this ), this );\r\n\r\n\t\tthis.buttonCheck = this.node.getChildByPath( \"BUTTON_CHECK\" )?.getComponent( Button );\r\n\t\tthis.buttonCheck?.node.on( \"click\", this.onClickCheck.bind( this ), this );\r\n\r\n\t\tthis.buttonCall = this.node.getChildByPath( \"BUTTON_CALL\" )?.getComponent( Button );\r\n\t\tthis.buttonCall?.node.on( \"click\", this.onClickCall.bind( this ), this );\r\n\t\tthis.labelCallValue = this.buttonCall.node.getChildByPath('LABEL_VALUE').getComponent( Label );\r\n\r\n\t\tthis.buttonAllIn = this.node.getChildByPath( \"BUTTON_ALLIN\" )?.getComponent( Button );\r\n\t\tthis.buttonAllIn?.node.on( \"click\", this.onClickAllin.bind( this ), this );\r\n\r\n\t\tthis.buttonQuater = this.node.getChildByPath('BUTTON_QUATER').getComponent( Button );\r\n\t\tif ( this.buttonQuater != null ) {\r\n\t\t\tthis.buttonQuater.node.off('click');\r\n\t\t\tthis.buttonQuater.node.on( 'click', this.onClickQuater.bind( this ), this );\r\n\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonHalf = this.node.getChildByPath('BUTTON_HALF').getComponent( Button );\r\n\t\tif ( this.buttonHalf != null ) {\r\n\t\t\tthis.buttonHalf.node.off('click');\t\t\t\t\r\n\t\t\tthis.buttonHalf.node.on( 'click', this.onClickHalf.bind( this ), this );\r\n\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonFull = this.node.getChildByPath('BUTTON_FULL').getComponent( Button );\r\n\t\tif ( this.buttonFull != null ) {\r\n\t\t\tthis.buttonFull.node.off('click');\r\n\t\t\tthis.buttonFull.node.on( 'click', this.onClickFull.bind( this ), this );\r\n\t\t\tthis.buttonFull.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonMax = this.node.getChildByPath('BUTTON_MAX').getComponent( Button );\r\n\t\tif ( this.buttonMax != null ) {\r\n\t\t\tthis.buttonMax.node.off('click');\r\n\t\t\tthis.buttonMax.node.on( 'click', this.onClickMax.bind( this ), this );\r\n\t\t\tthis.buttonMax.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelQuaterValue = this.node.getChildByPath('BUTTON_QUATER/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelQuaterValue != null ) {\r\n\t\t\tthis.labelQuaterValue.string = '';\r\n\t\t\tthis.labelQuaterValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tthis.labelHalfValue = this.node.getChildByPath('BUTTON_HALF/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelHalfValue != null ) {\r\n\t\t\tthis.labelHalfValue.string = '';\r\n\t\t\tthis.labelHalfValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tthis.labelFullValue = this.node.getChildByPath('BUTTON_FULL/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelFullValue != null ) {\r\n\t\t\tthis.labelFullValue.string = '';\r\n\t\t\tthis.labelFullValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tthis.labelMaxValue = this.node.getChildByPath('BUTTON_MAX/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelMaxValue != null ) {\r\n\t\t\tthis.labelMaxValue.string = '';\r\n\t\t\tthis.labelMaxValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tthis.buttonCallDisable = this.node.getChildByPath('BUTTON_CALL_DISABLE').getComponent( Button );\r\n\t\tif ( this.buttonCallDisable != null ) {\r\n\t\t\tthis.buttonCallDisable.interactable = false;\r\n\t\t\tthis.buttonCallDisable.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonQuaterDisable = this.node.getChildByPath('BUTTON_QUATER_DISABLE').getComponent( Button );\r\n\t\tif ( this.buttonQuaterDisable != null ) {\r\n\t\t\tthis.buttonQuaterDisable.interactable = false;\r\n\t\t\tthis.buttonQuaterDisable.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonHalfDisable = this.node.getChildByPath('BUTTON_HALF_DISABLE').getComponent( Button );\r\n\t\tif ( this.buttonHalfDisable != null ) {\r\n\t\t\tthis.buttonHalfDisable.interactable = false;\r\n\t\t\tthis.buttonHalfDisable.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonFullDisable = this.node.getChildByPath('BUTTON_FULL_DISABLE').getComponent( Button );\r\n\t\tif ( this.buttonFullDisable != null ) {\r\n\t\t\tthis.buttonFullDisable.interactable = false;\r\n\t\t\tthis.buttonFullDisable.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.labelCallDisableValue = this.node.getChildByPath('BUTTON_CALL_DISABLE/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelCallDisableValue != null ) {\r\n\t\t\tthis.labelCallDisableValue.string = '-';\r\n\t\t\tthis.labelCallDisableValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tthis.labelQuaterDisableValue = this.node.getChildByPath('BUTTON_QUATER_DISABLE/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelQuaterDisableValue != null ) {\r\n\t\t\tthis.labelQuaterDisableValue.string = '';\r\n\t\t\tthis.labelQuaterDisableValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tthis.labelHalfDisableValue = this.node.getChildByPath('BUTTON_HALF_DISABLE/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelHalfDisableValue != null ) {\r\n\t\t\tthis.labelHalfDisableValue.string = '';\r\n\t\t\tthis.labelHalfDisableValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tthis.labelFullDisableValue = this.node.getChildByPath('BUTTON_FULL_DISABLE/LABEL_VALUE').getComponent( Label );\r\n\t\tif ( this.labelFullDisableValue != null ) {\r\n\t\t\tthis.labelFullDisableValue.string = '';\r\n\t\t\tthis.labelFullDisableValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tthis.node.active = true;\r\n\t}\r\n\r\n\tonLoad() {\t\t\r\n\t\tthis.childRegistered();\r\n\t}\r\n\r\n\tinit( sb: number, bb: number ) {\t\t\r\n\t\tthis.sb = sb;\r\n\t\tthis.bb = bb;\r\n\r\n\t\tthis.uiBettingControl.init( this.sb, this.bb, this.onCLICK_BETTING.bind(this) );\r\n\t}\r\n    \r\n\tshow( msg: any, minBet: number ) {\r\n\t\tthis.childRegistered();\r\n\r\n\t\tthis.betMin = minBet;\r\n\t\tthis.turnBet = msg[ \"maxBet\" ];\r\n\t\tthis.myBet = msg[ \"currBet\" ];\r\n\t\tthis.myChips = msg['chips'];\r\n\t\tthis.pot = msg['currPot'];\r\n\t\tthis.maxChips = msg['maxChip'];\r\n\t\tlet minRaise = msg['minRaise'];\r\n\r\n\t\tlet hasAction = msg['action'];\r\n\t\tlet isLast = msg['isLast'];\r\n\t\tlet allin: boolean = false;\r\n\t\tlet allinCall: boolean = false;\r\n\r\n\t\tthis.quaterValue  = 0;\r\n\t\tthis.halfValue = 0;\r\n\t\tthis.fullValue = 0;\r\n\t\tthis.maxValue = 0;\r\n\t\tthis.betType =  ENUM_BETTING_TYPE.None;\r\n\t\tthis.callValue = 0;\r\n\r\n\t\tthis.buttonQuaterDisable.node.active = false;\r\n\t\tthis.buttonHalfDisable.node.active = false;\r\n\t\tthis.buttonFullDisable.node.active = false;\r\n\t\tthis.buttonAllIn.node.active = false;\r\n\r\n\t\tif ( this.turnBet != 0 && this.myChips < 0 ) {\r\n\t\t\tthis.buttonFold.node.active = false;\r\n\r\n\t\t\tthis.buttonCheck.node.active = false;\r\n\t\t\tthis.buttonCall.node.active = true;\r\n\t\t\tthis.buttonCallDisable.node.active = false;\r\n\r\n\t\t\tthis.labelCallValue.string = '0';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.buttonFold.node.active = true;\r\n\r\n\t\tif ( (this.turnBet == this.myBet) && ( hasAction == true ) ) {\r\n\t\t\tthis.buttonCheck.node.active = true;\r\n\r\n\t\t\tthis.buttonCall.node.active = false;\r\n\t\t\tthis.buttonCallDisable.node.active = false;\r\n\t\t} else {\r\n\t\t\tthis.buttonCheck.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.callValue = this.turnBet - this.myBet;\r\n\t\tthis.labelCallValue.string = CommonUtil.getKoreanNumber( this.callValue );\r\n\t\tthis.labelCallDisableValue.string = CommonUtil.getKoreanNumber( this.callValue );\t\t\r\n\r\n\t\tif ( this.callValue > 0 ) {\r\n\t\t\tthis.buttonCall.node.active = true;\r\n\t\t\tthis.buttonCallDisable.node.active = false;\r\n\r\n\t\t\tthis.buttonCheck.node.active = false;\r\n\r\n\t\t\tthis.isBet = false;\r\n\t\t} else {\r\n\t\t\tthis.buttonCall.node.active = false;\r\n\t\t\tthis.buttonCallDisable.node.active = false;\r\n\t\t\tthis.buttonCheck.node.active = true;\r\n\t\t\tthis.isBet = true;\r\n\t\t}\r\n\r\n\t\tif ( this.buttonCall.node.active == true ) {\r\n\t\t\tif ( this.callValue > this.myChips ) {\r\n\t\t\t\tthis.buttonCall.node.active = false;\r\n\t\t\t\tthis.buttonCallDisable.node.active = true;\r\n\r\n\t\t\t\tallin = true;\r\n\t\t\t\tallinCall = true;\r\n\t\t\t} else if ( this.callValue == this.myChips ) {\r\n\t\t\t\tallin = false;\r\n\t\t\t\tthis.buttonAllIn.node.active = true;\r\n\t\t\t\tthis.buttonCallDisable.node.active = false;\r\n\t\t\t} else {\r\n\r\n\t\t\t\t//이경우 따로 처리해야 될까?\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( this.turnBet == 0 ) {\r\n\t\t\tthis.betStart = this.callValue + this.betMin;\r\n\t\t} else {\r\n\t\t\tthis.betStart = this.callValue + minRaise;\r\n\t\t}\r\n\r\n\t\tthis.betRange = this.myChips;\r\n\r\n\t\tif ( this.turnBet != 0 && this.turnBet >= this.betRange ) {\r\n\t\t\tallin = true;\r\n\t\t} else {\r\n\t\t\tallin = false;\r\n\t\t}\r\n\r\n\t\tlet quater: number = 0;\r\n\t\tlet half: number = 0;\r\n\t\tlet full: number = 0;\r\n\r\n\t\tlet currentPot = this.pot + this.callValue;\r\n\t\tquater = Math.floor( currentPot * 0.25 );\r\n\t\thalf = Math.floor( currentPot * 0.5 );\r\n\t\tfull = Math.floor( currentPot * 1.0 );\r\n\r\n\t\tthis.quaterValue  = quater + this.callValue;\r\n\t\tthis.halfValue = half + this.callValue;\r\n\t\tthis.fullValue = full + this.callValue;\r\n\r\n\t\tthis.maxValue = this.maxChips;\r\n\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.betType = ENUM_BETTING_TYPE.Bet;\r\n\t\t} else {\r\n\t\t\tthis.betType = ENUM_BETTING_TYPE.Raise;\r\n\t\t}\r\n\r\n\t\tthis.labelQuaterValue.string = CommonUtil.getKoreanNumber( this.quaterValue );\r\n\t\tthis.labelHalfValue.string = CommonUtil.getKoreanNumber( this.halfValue  );\r\n\t\tthis.labelFullValue.string = CommonUtil.getKoreanNumber( this.fullValue );\r\n\r\n\t\tthis.labelQuaterDisableValue.string = CommonUtil.getKoreanNumber( this.quaterValue );\r\n\t\tthis.labelHalfDisableValue.string = CommonUtil.getKoreanNumber( this.halfValue  );\r\n\t\tthis.labelFullDisableValue.string = CommonUtil.getKoreanNumber( this.fullValue );\r\n\r\n\t\tthis.labelMaxValue.string = CommonUtil.getKoreanNumber( this.maxValue );\r\n\r\n\t\tif ( allin == true ) {\r\n\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t\tthis.buttonFull.node.active = false;\r\n\r\n\t\t\tthis.buttonQuaterDisable.node.active = true;\r\n\t\t\tthis.buttonHalfDisable.node.active = true;\r\n\t\t\tthis.buttonFullDisable.node.active = true;\r\n\t\t\t\r\n\t\t} else {\r\n\r\n\t\t\tlet m = this.maxValue - this.myBet;\r\n\t\t\tif ( this.quaterValue > m ) {\r\n\t\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t\t\tthis.buttonQuaterDisable.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.buttonQuater.node.active = true;\r\n\t\t\t\tthis.buttonQuaterDisable.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.halfValue > m ) {\r\n\t\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t\t\tthis.buttonHalfDisable.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.buttonHalf.node.active = true;\r\n\t\t\t\tthis.buttonHalfDisable.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.fullValue > m ) {\r\n\t\t\t\tthis.buttonFull.node.active = false;\r\n\t\t\t\tthis.buttonFullDisable.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.buttonFull.node.active = true;\r\n\t\t\t\tthis.buttonFullDisable.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t\tthis.labelMaxValue.node.active = true;\r\n\t\t}\r\n\r\n\t\tif ( isLast == true ) {\r\n\r\n\t\t\tif (this.buttonCall.node.active == true) {\r\n\t\t\t\tthis.buttonCallDisable.node.active = false;\r\n\r\n\t\t\t\tallin = false;\r\n\r\n\t\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t\t\tthis.buttonFull.node.active = false;\r\n\r\n\t\t\t\tthis.buttonQuaterDisable.node.active = true;\r\n\t\t\t\tthis.buttonHalfDisable.node.active = true;\r\n\t\t\t\tthis.buttonFullDisable.node.active = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( hasAction == false ) {\r\n\t\t\tif ( this.buttonCall.node.active == true ) {\r\n\t\t\t\tthis.buttonCallDisable.node.active = false;\t\t\t\t\r\n\t\t\t\tallin = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( allin = true ) {\r\n\t\t\tif ( this.maxValue >= this.betRange ) {\r\n\t\t\t\tthis.buttonMax.node.active = false;\r\n\t\t\t\tthis.buttonAllIn.node.active = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.betRange = this.maxValue;\t\t\t\t\r\n\t\t\t\tthis.buttonMax.node.active = true;\r\n\t\t\t\tthis.buttonAllIn.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( allinCall == true ) {\r\n\t\t\t\tthis.buttonAllIn.node.active = true;\t\t\t\t\r\n\t\t\t\tthis.buttonMax.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tthis.buttonMax.node.active = false;\r\n\t\t\tthis.buttonAllIn.node.active = false;\r\n\t\t}\r\n\r\n\t\tif ( this.maxValue <= 0 ) {\r\n\t\t\tthis.buttonMax.node.active = false;\t\t\t\r\n\t\t}\r\n\r\n\t\tlet enable = true;\r\n\t\tif ( this.betStart > this.myChips || this.betRange <= 0 || this.betRange <= this.betStart ) {\r\n\t\t\tenable = false;\r\n\t\t}\r\n\r\n\t\tif ( this.buttonQuater.node.active == true ) {\r\n\t\t\tif ( this.quaterValue < this.betStart ) {\r\n\t\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t\t\tthis.buttonQuaterDisable.node.active = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( this.buttonHalf.node.active == true ) {\r\n\t\t\tif ( this.halfValue < this.betStart ) {\r\n\t\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t\t\tthis.buttonQuaterDisable.node.active = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( this.buttonFull.node.active == false ) {\r\n\t\t\tif ( this.fullValue < this.betStart ) {\r\n\t\t\t\tthis.buttonFull.node.active = false;\r\n\t\t\t\tthis.buttonFullDisable.node.active = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( hasAction == false ) {\r\n\r\n\t\t\tthis.buttonQuater.node.active = false;\r\n\t\t\tthis.buttonHalf.node.active = false;\r\n\t\t\tthis.buttonFull.node.active = false;\r\n\r\n\t\t\tthis.buttonQuaterDisable.node.active = true;\r\n\t\t\tthis.buttonHalfDisable.node.active = true;\r\n\t\t\tthis.buttonFullDisable.node.active = true;\r\n\t\t\tthis.buttonMax.node.active = false;\r\n\r\n\t\t\tif ( this.callValue > 0 ) {\r\n\t\t\t\tif ( this.myChips >= this.callValue ) {\r\n\t\t\t\t\tthis.buttonCheck.node.active = false;\r\n\t\t\t\t\tthis.buttonCall.node.active = true;\r\n\t\t\t\t\tthis.buttonCallDisable.node.active = false;\r\n\t\t\t\t\tthis.buttonAllIn.node.active = false;\r\n\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.buttonCheck.node.active = false;\r\n\t\t\t\t\tthis.buttonCall.node.active = false;\r\n\t\t\t\t\tthis.buttonCallDisable.node.active = true;\r\n\t\t\t\t\tthis.buttonAllIn.node.active = true;\r\n\t\t\t\t}\t\r\n\t\t\t} else {\r\n\t\t\t\tthis.buttonCheck.node.active = true;\r\n\t\t\t\tthis.buttonCall.node.active = false;\r\n\t\t\t\tthis.buttonCallDisable.node.active = false;\r\n\t\t\t\tthis.buttonAllIn.node.active = false;\r\n\t\t\t}\r\n\r\n\t\t\tenable = false;\r\n\t\t}\r\n\r\n\t\tthis.uiBettingControl.Set(this.isBet, this.betMin, this.betStart, this.betRange, hasAction, enable );\r\n\t\tthis.node.active = true;\r\n\t}\r\n\r\n\thide() {\r\n\t\tthis.node.active = false;\r\n\t}    \r\n\r\n\tprivate onClickFold() {\r\n\t\tif( null == this.cbFold){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.cbFold();\r\n\t}\r\n\r\n\tprivate onClickCall() {\r\n\t\tlet sendValue = this.callValue;\r\n\t\tif ( sendValue > this.myChips ) {\r\n\t\t\tsendValue = this.myChips;\r\n\t\t}\r\n\r\n\t\tsendValue = sendValue + this.myBet;\r\n\t\tthis.cbCall( sendValue );\r\n\t}\r\n\r\n    private onClickAllin() {\r\n\t\tlet value = this.myChips + this.myBet;\r\n\r\n\t\tif ( value <= this.betStart ) {\r\n\t\t\tthis.cbCall( value );\r\n\t\t} else {\r\n\t\t\tif ( this.isBet == true ) {\r\n\t\t\t\tthis.cbBet( value, this.callValue, ENUM_BET_SOUND.BET_ALLIN );\r\n\t\t\t} else {\r\n\t\t\t\tthis.cbRaise( value, this.callValue, ENUM_BET_SOUND.BET_ALLIN  );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onClickCheck() {\r\n\t\tthis.cbCheck();\r\n\t}\r\n\r\n\tprivate onClickQuater( button: Button ) {\r\n\t\tlet value = this.quaterValue + this.myBet;\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.cbBet( value, this.callValue, ENUM_BET_SOUND.BET_QUATER );\r\n\t\t} else {\r\n\t\t\tthis.cbRaise( value, this.callValue, ENUM_BET_SOUND.BET_QUATER  );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onClickHalf( button: Button ) {\r\n\t\tlet value = this.halfValue + this.myBet;\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.cbBet( value, this.callValue, ENUM_BET_SOUND.BET_HALF );\r\n\t\t} else {\r\n\t\t\tthis.cbRaise( value, this.callValue, ENUM_BET_SOUND.BET_HALF );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onClickFull( button: Button ) {\r\n\t\tlet value = this.fullValue + this.myBet;\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.cbBet( this.fullValue, this.callValue, ENUM_BET_SOUND.BET_FULL  );\r\n\t\t}  else {\r\n\t\t\tthis.cbRaise( this.fullValue, this.callValue, ENUM_BET_SOUND.BET_FULL );\r\n\t\t}\r\n\r\n\t\t// AudioController.instance.PlaySound('VOICE_BETTING_FULL');\r\n\t}\r\n\r\n\tprivate onClickMax( button: Button ) {\r\n\t\tlet value = this.maxValue + this.myBet;\r\n\t\t// let value = this.maxValue;\r\n\t\t// let value = this.maxChips;\t\t\r\n\r\n\t\tif ( this.isBet == true ) {\r\n\t\t\tthis.cbBet( value, this.callValue, ENUM_BET_SOUND.BET_MAX );\r\n\r\n\t\t} else {\r\n\t\t\tthis.cbRaise( value, this.callValue, ENUM_BET_SOUND.BET_MAX );\r\n\t\t}\r\n\r\n\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t}\r\n\r\n\tprivate onCLICK_BETTING( result: any ) {\r\n\t\tlet value = result.value + this.myBet;\r\n\t\tif ( result.type == ENUM_BETTING_TYPE.Bet ) {\r\n\t\t\tthis.cbBet( value, this.callValue, ENUM_BET_SOUND.BET );\r\n\t\t} else {\r\n\t\t\tthis.cbRaise( value, this.callValue, ENUM_BET_SOUND.RAISE );\r\n\t\t}\r\n\t}\r\n}","import { _decorator, Component, Node, Toggle, Label } from 'cc';\r\nimport { Board } from '../Board';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport enum ENUM_RESERVATION_TYPE {\r\n    RESERVATION_NONE = 0,\r\n    RESERVATION_FOLD = 1,\r\n    RESERVATION_CHECK = 2,\r\n}\r\n\r\n@ccclass('UiPlayerActionReservation')\r\nexport class UiPlayerActionReservation extends Component {\r\n    @property(Toggle) toggleFoldReservation: Toggle = null;\r\n    @property(Toggle) toggleCheckReservation: Toggle = null;\r\n\r\n    private isOpen: boolean = false;\r\n    private reservationType: ENUM_RESERVATION_TYPE = ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n\r\n    init() {\r\n        this.reservationType = ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n        this.isOpen = false;\r\n\r\n        this.toggleFoldReservation.isChecked = false;\r\n        this.toggleCheckReservation.isChecked = false;\r\n\r\n        this.toggleFoldReservation.node.active = false;\r\n        this.toggleCheckReservation.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    show( myBet: number, turnBet: number ) {\r\n        this.toggleFoldReservation.node.active = true;\r\n\r\n        this.isOpen = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    reset( resetCheck: boolean = false) {\r\n        this.reservationType = ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n        this.isOpen = false;\r\n\r\n        this.toggleFoldReservation.isChecked = false;\r\n        this.toggleCheckReservation.isChecked = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    hide() {\r\n        this.isOpen = false;\r\n        this.node.active = false;\r\n    }\r\n\r\n    public isOpenReservation(): boolean {\r\n        return this.isOpen;\r\n    }\r\n\r\n    public resetCheck() {\r\n        this.toggleFoldReservation.node.active = true;\r\n        this.toggleCheckReservation.node.active = true;\r\n    }\r\n\r\n    public showCheck( show: boolean ) {\r\n        this.toggleCheckReservation.node.active = show;\r\n    }\r\n\r\n    public checkReservation( myBet: number, turnBet: number ): ENUM_RESERVATION_TYPE {\r\n        if ( this.toggleCheckReservation.isChecked == false && this.toggleFoldReservation.isChecked == false ) {\r\n            return ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n        } else {\r\n            if ( this.toggleFoldReservation.isChecked == true ) {\r\n                return ENUM_RESERVATION_TYPE.RESERVATION_FOLD;\r\n            } else {\r\n                if ( myBet == turnBet ) {\r\n                    return ENUM_RESERVATION_TYPE.RESERVATION_CHECK;\r\n                }\r\n                else {\r\n                    return ENUM_RESERVATION_TYPE.RESERVATION_NONE;                    \r\n                }\r\n            }\r\n        }\r\n        return ENUM_RESERVATION_TYPE.RESERVATION_NONE;\r\n    }\r\n\r\n    public getReservationType(): number {\r\n        return this.reservationType;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Toggle, instantiate, Label, Sprite, ToggleContainer, UITransform } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { TableListUiElement } from './UiTableList';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('PlayerAvatarElement')\r\nexport class PlayerAvatarElement {\r\n    @property(Node) nodeRoot: Node = null;\r\n    @property(Toggle) toggle: Toggle = null;\r\n\r\n    private id: number = -1;\r\n    private cb: (num: number, toggle: Toggle)=>void = null;\r\n\r\n    public copy(): PlayerAvatarElement {\r\n        let copyObj: PlayerAvatarElement = new PlayerAvatarElement();\r\n        let newObj: Node = instantiate( this.nodeRoot );\r\n\r\n        copyObj.nodeRoot = newObj;\r\n        copyObj.toggle = newObj.getComponent(Toggle);\r\n\r\n        return copyObj;\r\n    }\r\n\r\n    public clear() {\r\n        this.id = -1;\r\n    }\r\n\r\n    public setParent(parent: Node) {\r\n        this.nodeRoot.parent = parent;\r\n    }\r\n\r\n    public setAvatar(currentId: number, id: number, cb:(num: number)=>void ) {\r\n        this.id = id;\r\n\r\n        if (cb != null) {\r\n            this.cb = cb;\r\n        }\r\n\r\n        let s = this.nodeRoot.getComponent(Sprite);\r\n        if ( s != null) {\r\n            let sf = ResourceManager.Instance().getAvatarImage( id );\r\n            s.spriteFrame = sf;\r\n            this.nodeRoot.active = true;\r\n\r\n            // CommonUtil.setAvatarSprite( id, s, ()=>{\r\n            //     this.nodeRoot.active = true;\r\n            //     let t = this.nodeRoot.getComponent(UITransform);\r\n            // });\r\n        }\r\n\r\n        if ( currentId == id) {\r\n            this.toggle.isChecked = true;\r\n        } else {\r\n            this.toggle.isChecked = false;\r\n        }\r\n\r\n        this.toggle.node.on('toggle', this.onToggle.bind(this));\r\n    }\r\n\r\n    private onToggle(toggle: Toggle ) {\r\n        if ( this.cb != null ) {\r\n            if ( toggle.isChecked == true ) {\r\n                LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n                this.cb( this.id, toggle );\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n@ccclass('UiPopupChangeAvatar')\r\nexport class UiPopupChangeAvatar extends Component {\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;\r\n    @property(PlayerAvatarElement) origin: PlayerAvatarElement = new PlayerAvatarElement();\r\n    @property(Node) contents: Node = null;\r\n\r\n    private userInfo: any = null;\r\n    private gameSetting: any = null;\r\n    private selectId: number = -1;\r\n    private currentId: number = -1;\r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbApply: (num: number)=>void = null;    \r\n\r\n    public init( cbExit: ()=>void, cbApply: (num: number)=>void ) {        \r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        if ( cbApply != null ) {\r\n            this.cbApply = cbApply;\r\n        }\r\n\r\n        this.buttonExit.node.on(\"click\", this.onClickExit.bind(this));\r\n        this.buttonApply.node.on('click', this.onClickApply.bind(this))\r\n        this.node.active = false;\r\n    }\r\n\r\n\r\n    public show() {\r\n        this.userInfo = NetworkManager.Instance().GetUser();\r\n        this.gameSetting = CommonUtil.getGameSetting();\r\n\r\n        this.currentId = this.userInfo.avatar;        \r\n        this.showAvatars( this.gameSetting.avatars ) ;\r\n        this.selectId = this.currentId;\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    private showAvatars( count ) {\r\n        if (count <= 0) {\r\n            return;\r\n        }\r\n\r\n        let container:ToggleContainer = this.contents.getComponent(ToggleContainer);\r\n        container.allowSwitchOff = true;        \r\n\r\n        for ( let i = 0 ; i < count ; i++) {\r\n            let e = this.origin.copy();\r\n            e.setAvatar( this.currentId, i, this.onClickToggle.bind(this) );\r\n            e.setParent( this.contents );\r\n        }\r\n\r\n        container.allowSwitchOff = false;\r\n    }\r\n\r\n    public hide() {\r\n\r\n        this.contents.removeAllChildren();\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickToggle(num: number, toggle: Toggle) {\r\n        this.selectId = num;\r\n    }\r\n\r\n    public onClickExit(button: Button) {\r\n        if ( this.cbExit != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n            this.cbExit();\r\n        }\r\n    }\r\n\r\n    public onClickApply( button: Button) {\r\n        if ( this.currentId != this.selectId ) {\r\n            if ( this.cbApply != null ) {\r\n                LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n                this.cbApply ( this.selectId );\r\n            }\r\n        }\r\n        else {\r\n            if ( this.cbExit != null ) {\r\n                LobbyAudioContoller.instance.PlayButtonClick();\r\n                this.cbExit();\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Button, Component, Label, Node, Sprite } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport * as PokerEvaluator from '../PokerEvaluator';\r\nconst { ccclass, property } = _decorator;\r\n\r\nlet CARD_NAME: string[] = [\r\n\t\"Ac\", \"Kc\", \"Qc\", \"Jc\", \"Tc\", \"9c\", \"8c\", \"7c\", \"6c\", \"5c\", \r\n\t\"4c\", \"3c\", \"2c\", \"Ad\", \"Kd\", \"Qd\", \"Jd\", \"Td\", \"9d\", \"8d\", \r\n\t\"7d\", \"6d\", \"5d\", \"4d\", \"3d\", \"2d\",\t\"Ah\", \"Kh\", \"Qh\", \"Jh\", \r\n\t\"Th\", \"9h\", \"8h\", \"7h\", \"6h\", \"5h\", \"4h\", \"3h\", \"2h\", \"As\", \r\n\t\"Ks\", \"Qs\", \"Js\", \"Ts\", \"9s\", \"8s\", \"7s\", \"6s\", \"5s\", \"4s\",\r\n\t\"3s\", \"2s\" ];\r\n\r\n@ccclass('UiPopupGameProfile')\r\nexport class UiPopupGameProfile extends Component {\r\n    @property(Sprite) avatar: Sprite = null;\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Label) labeNickname: Label = null;\r\n\r\n    private rootInfo: Node = null;\r\n    private rootHands: Node = null;\r\n    private statics: any = null;\r\n    private entity: any = null;\r\n\r\n    private rootBalance: Node = null;\r\n    private rootPoint: Node = null;\r\n\r\n    private labelHandCount: Label = null;\r\n    private labelMaxPots: Label = null;\r\n    private labelWin: Label = null;\r\n    private labelFold: Label = null;\r\n    private labelWinPreflop: Label = null;\r\n    private labelWinFlop: Label = null;\r\n    private labelWinTurn: Label = null;\r\n    private labelWinRiver: Label = null;\r\n    private labelFoldPreflop: Label = null;\r\n    private labelFoldFlop: Label = null;\r\n    private labelFoldTurn: Label = null;\r\n    private labelFoldRiver: Label = null;\r\n    private labelHandRankDesc: Label = null;\r\n\r\n    private labelBalance: Label = null;\r\n    private labelPoint: Label = null;\r\n    \r\n    private cards: Sprite[] = [];\r\n    private isMe: Boolean = false;\r\n    \r\n    public init() {        \r\n        this.statics = null;\r\n\r\n        globalThis.lib = {};\r\n        PokerEvaluator.exportToGlobal(globalThis.lib);\r\n\r\n        this.RegisterChildren();\r\n        this.InitCards();        \r\n\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this), this);\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show( entity: any, statics: any, isMe: boolean = false ) {\r\n\r\n        this.node.active = true;\r\n        this.avatar.node.active = false;\r\n        this.rootInfo.active = true;\r\n        this.entity = entity;\r\n        this.statics = statics;\r\n        this.isMe = isMe;\r\n\r\n        this.SetProfile();\r\n    }\r\n\r\n    public GetActivate() :boolean {\r\n        return this.node.active;\r\n    }\r\n\r\n    private SetProfile() {\r\n        this.labeNickname.string = this.entity.nickname;\r\n        this.labeNickname.node.active = true;\r\n\r\n        this.avatar.spriteFrame = ResourceManager.Instance().getAvatarImage( this.entity.avatar );\r\n        this.avatar.node.active = true;\r\n\r\n        if ( this.isMe == true ) {\r\n            if ( this.rootBalance != null ) {\r\n                if ( this.labelBalance != null ) {\r\n                    this.labelBalance.string = CommonUtil.getKoreanNumber( this.entity.balance );\r\n                    this.labelBalance.node.active = true;\r\n                }\r\n                this.rootBalance.active = true;\r\n            }\r\n\r\n            if ( this.rootPoint != null ) {\r\n                this.rootPoint.active = false;\r\n            }\r\n\r\n        } else {\r\n            if ( this.rootBalance != null ) {\r\n                this.rootBalance.active = false;\r\n            }\r\n\r\n            if ( this.rootPoint != null ) {\r\n                this.rootPoint.active = false;\r\n            }\r\n\r\n        }\r\n\r\n        let hands = this.statics.hands;\r\n        this.labelHandCount.string = hands.toString();\r\n\r\n        let maxPots = CommonUtil.getKoreanNumber(this.statics.maxPots);\r\n        this.labelMaxPots.string = maxPots;\r\n\r\n        let win = this.statics.win;\r\n        this.labelWin.string = win.toString() + '  (' + ( win / hands * 100.0 ).toFixed(1) +  '%)';\r\n        if ( win == 0 || win == undefined ) {\r\n            this.labelWinPreflop.string =   (0).toString() + ' (0%)';\r\n            this.labelWinFlop.string =      (0).toString() + ' (0%)';\r\n            this.labelWinTurn.string =      (0).toString() + ' (0%)';\r\n            this.labelWinRiver.string =     (0).toString() + ' (0%)';\r\n        } else {\r\n            let winPreflop = this.statics.win_preflop;\r\n            let winFlop = this.statics.win_flop;\r\n            let winTurn = this.statics.win_turn;\r\n            let winRiver = this.statics.win_river;\r\n    \r\n            this.labelWinPreflop.string = winPreflop.toString() + '  (' + ( winPreflop / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinFlop.string = winFlop.toString() + '  (' + ( winFlop / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinTurn.string = winTurn.toString() + '  (' + ( winTurn / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinRiver.string = winRiver.toString() + '  (' + ( winRiver / win * 100.0 ).toFixed(1) +  '%)';\r\n        }\r\n\r\n        let fold = this.statics.fold;\r\n        if ( fold == 0 || fold == undefined ) {\r\n            this.labelFold.string =         (0).toString() + ' (0%)';\r\n            this.labelFoldPreflop.string =   (0).toString() + ' (0%)';\r\n            this.labelFoldFlop.string =      (0).toString() + ' (0%)';\r\n            this.labelFoldTurn.string =      (0).toString() + ' (0%)';\r\n            this.labelFoldRiver.string =     (0).toString() + ' (0%)';            \r\n        } else {\r\n\r\n            let foldPreflop = this.statics.fold_preflop;\r\n            let foldFlop = this.statics.fold_flop;\r\n            let foldTurn = this.statics.fold_turn;\r\n            let foldRiver = this.statics.fold_river;\r\n\r\n            this.labelFold.string = fold.toString() + '  (' + ( fold / hands * 100.0 ).toFixed(1) +  '%)';            \r\n            this.labelFoldPreflop.string = foldPreflop.toString() + '  (' + ( foldPreflop / fold * 100.0 ).toFixed(1) +  '%)';            \r\n            this.labelFoldFlop.string = foldFlop.toString() + '  (' + ( foldFlop / fold * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelFoldTurn.string = foldTurn.toString() + '  (' + ( foldTurn / fold * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelFoldRiver.string = foldRiver.toString() + '  (' + ( foldRiver / fold * 100.0 ).toFixed(1) +  '%)';\r\n        }\r\n\r\n        this.SetHandRank();\r\n\r\n        this.rootInfo.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    public hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private SetHandRank() {\r\n        let hands = this.statics.best_hands;\r\n        hands = hands.trim();\r\n        if ( hands == null || hands.length <= 0 ) {\r\n            this.ResetCards();\r\n            this.labelHandRankDesc.string = '등록된 핸드가 없습니다.';\r\n\r\n        } else {\r\n\r\n            let h = hands.split(',');\r\n            let evaluate: any = this.GetHandsEval(h);\r\n            let pools: number[] = [];\r\n\r\n            evaluate['cards'].forEach( (elem)=>{\r\n                let name = elem.value + elem.suit;\r\n                let num = this.ConvertCardNameToIndex( name );\r\n                pools.push( num );\r\n            });\r\n\r\n            this.SetCards( pools );\r\n            this.labelHandRankDesc.string = evaluate.descr;\r\n        }\r\n        this.labelHandRankDesc.node.active = true;\r\n        this.rootHands.active = true;\r\n    }\r\n\r\n    private ConvertCardNameToIndex( name: string ): number {\r\n\t\tlet n: number = -1;\r\n\t\tfor ( let i: number = 0 ; i < CARD_NAME.length; i++ ) {\r\n\t\t\tif ( name == CARD_NAME[i] ) {\r\n\t\t\t\tn = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n    private onClickExit(button: Button) {\r\n        this.hide();\r\n    }\r\n\r\n    private InitCards() {\r\n        this.cards = [];\r\n        if ( this.rootInfo != null ) {\r\n            this.rootHands = this.rootInfo.getChildByPath('BEST_HANDS');\r\n\r\n            for ( let i: number = 0 ; i < 5 ; i++ ) {\r\n                let s = this.rootHands.getChildByPath(i.toString()).getComponent( Sprite );\r\n                if ( s != null ) {\r\n                    this.cards.push( s );\r\n                }\r\n\r\n            }\r\n\r\n            this.ResetCards();\r\n\r\n            this.labelHandRankDesc = this.rootHands.getChildByPath('LABEL_HAND_RANK').getComponent(Label);\r\n            if ( this.labelHandRankDesc != null ) {\r\n                this.labelHandRankDesc.string = '';\r\n                this.labelHandRankDesc.node.active = false;\r\n            }\r\n        }\r\n\r\n        this.rootHands.active = false;\r\n    }\r\n\r\n    private ResetCards() {\r\n        this.cards.forEach( (s)=>{\r\n            s.node.active = false;\r\n            CommonUtil.setCardSprite(0, 0, s, ()=>{\r\n                s.node.active = true;\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    private SetCards( pools: number[] ) {\r\n        for ( let i: number = 0 ; i < pools.length; i++ )\r\n        {\r\n            let s = this.cards[i];\r\n            s.node.active = false;\r\n            CommonUtil.setCardSprite( 0, pools[i] + 1, s, ()=>{\r\n                s.node.active = true;\r\n            })\r\n        }\r\n    }\r\n\r\n    public GetHandsEval( cards: string[] ): string {\r\n        if ( cards.length <= 5 ) {\r\n            return null;\r\n        }\r\n\r\n\t\tlet rs = cards.join();\r\n\t\tlet handRank = globalThis.lib[ \"Hand\" ].solve( rs.split( \",\" ) );\r\n\t\treturn handRank;\r\n\t}\r\n\r\n    private RegisterChildren() {\r\n        this.rootInfo = this.node.getChildByPath('INFO_PANEL');\r\n        if ( this.rootInfo != null ) {\r\n            this.labelHandCount = this.rootInfo.getChildByPath('VALUE/HAND_COUNT').getComponent(Label);\r\n            this.labelHandCount.string = '0';\r\n\r\n            this.labelMaxPots = this.rootInfo.getChildByPath('VALUE/MAX_POT').getComponent(Label);\r\n            this.labelMaxPots.string = '0';\r\n\r\n            this.labelWin = this.rootInfo.getChildByPath('VALUE/WIN').getComponent(Label);\r\n            this.labelWin.string = '0';\r\n\r\n            this.labelFold = this.rootInfo.getChildByPath('VALUE/FOLD').getComponent(Label);\r\n            this.labelFold.string = '0';\r\n\r\n            this.labelWinPreflop = this.rootInfo.getChildByPath('VALUE/WIN_PREFLOP').getComponent(Label);\r\n            this.labelWinPreflop.string = '0';\r\n\r\n            this.labelWinFlop = this.rootInfo.getChildByPath('VALUE/WIN_FLOP').getComponent(Label);\r\n            this.labelWinFlop.string = '0';\r\n\r\n            this.labelWinTurn = this.rootInfo.getChildByPath('VALUE/WIN_TURN').getComponent(Label);\r\n            this.labelWinTurn.string = '0';\r\n\r\n            this.labelWinRiver = this.rootInfo.getChildByPath('VALUE/WIN_RIVER').getComponent(Label);\r\n            this.labelWinRiver.string = '0';\r\n\r\n            this.labelFoldPreflop = this.rootInfo.getChildByPath('VALUE/FOLD_PREFLOP').getComponent(Label);\r\n            this.labelFoldPreflop.string = '0';\r\n\r\n            this.labelFoldFlop = this.rootInfo.getChildByPath('VALUE/FOLD_FLOP').getComponent(Label);\r\n            this.labelFoldFlop.string = '0';\r\n\r\n            this.labelFoldTurn = this.rootInfo.getChildByPath('VALUE/FOLD_TURN').getComponent(Label);\r\n            this.labelFoldTurn.string = '0';\r\n\r\n            this.labelFoldRiver = this.rootInfo.getChildByPath('VALUE/FOLD_RIVER').getComponent(Label);\r\n            this.labelFoldRiver.string = '0';\r\n            \r\n            this.rootInfo.active = false;\r\n        }\r\n\r\n        this.rootBalance = this.node.getChildByPath('CHIPS');\r\n        if ( this.rootBalance != null ) {\r\n            this.labelBalance = this.rootBalance.getChildByPath('LABEL_CHIPS').getComponent(Label);\r\n            this.labelBalance.string = '0';\r\n            this.rootBalance.active = false;\r\n        }\r\n\r\n        this.rootPoint = this.node.getChildByPath('POINTS');\r\n        if ( this.rootPoint != null ) {\r\n            this.labelPoint = this.rootPoint.getChildByPath('LABEL_POINTS').getComponent(Label);\r\n            this.labelPoint.string = '0';\r\n            this.rootPoint.active = false;            \r\n        }\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, Sprite, Label } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { ResourceManager } from '../ResourceManager';\r\nimport * as PokerEvaluator from '../PokerEvaluator';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nlet CARD_NAME: string[] = [\r\n\t\"Ac\", \"Kc\", \"Qc\", \"Jc\", \"Tc\", \"9c\", \"8c\", \"7c\", \"6c\", \"5c\", \r\n\t\"4c\", \"3c\", \"2c\", \"Ad\", \"Kd\", \"Qd\", \"Jd\", \"Td\", \"9d\", \"8d\", \r\n\t\"7d\", \"6d\", \"5d\", \"4d\", \"3d\", \"2d\",\t\"Ah\", \"Kh\", \"Qh\", \"Jh\", \r\n\t\"Th\", \"9h\", \"8h\", \"7h\", \"6h\", \"5h\", \"4h\", \"3h\", \"2h\", \"As\", \r\n\t\"Ks\", \"Qs\", \"Js\", \"Ts\", \"9s\", \"8s\", \"7s\", \"6s\", \"5s\", \"4s\",\r\n\t\"3s\", \"2s\" ];\r\n\r\n@ccclass('UiPopupProfile')\r\nexport class UiPopupProfile extends Component {\r\n    @property(Sprite) avatar: Sprite = null;\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonChangeAvatar: Button = null;\r\n    \r\n    @property(Label) labeNickname: Label = null;\r\n    @property(Label) labelChips: Label = null;\r\n    @property(Label) labelPoints: Label = null;\r\n    @property(Label) labelRanking: Label = null;\r\n\r\n    private rootInfo: Node = null;\r\n    private rootHands: Node = null;\r\n    private statics: any = null;\r\n\r\n    private labelHandCount: Label = null;\r\n    private labelMaxPots: Label = null;\r\n    private labelWin: Label = null;\r\n    private labelFold: Label = null;\r\n    private labelWinPreflop: Label = null;\r\n    private labelWinFlop: Label = null;\r\n    private labelWinTurn: Label = null;\r\n    private labelWinRiver: Label = null;\r\n    private labelFoldPreflop: Label = null;\r\n    private labelFoldFlop: Label = null;\r\n    private labelFoldTurn: Label = null;\r\n    private labelFoldRiver: Label = null;\r\n    private labelHandRankDesc: Label = null;    \r\n    private cards: Sprite[] = [];\r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbChangeAvatar: ()=>void = null;\r\n    \r\n    public init( cbExit: ()=>void, cbChangeAvatar: ()=>void ) {        \r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        if ( cbChangeAvatar != null ) {\r\n            this.cbChangeAvatar = cbChangeAvatar;\r\n        }\r\n\r\n        globalThis.lib = {};\r\n        PokerEvaluator.exportToGlobal(globalThis.lib);\r\n\r\n        this.labeNickname.string = '';\r\n        this.labelChips.string = '';\r\n        this.labelPoints.string = '';\r\n        this.labelRanking.string = '';\r\n        this.statics = null;\r\n\r\n        this.RegisterChildren();\r\n        this.InitCards();        \r\n\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this), this);\r\n        this.buttonChangeAvatar.node.on('click', this.onClickChangeAvatar.bind(this), this);\r\n        this.node.active = false;\r\n    }\r\n\r\n    public show() {\r\n        this.node.active = true;\r\n        this.avatar.node.active = false;\r\n        this.rootInfo.active = true;\r\n\r\n        this.refresh();\r\n    }\r\n\r\n    public refresh() {\r\n        let info = NetworkManager.Instance().GetUser();\r\n\r\n        this.labeNickname.string = info.nickname;\r\n        this.labeNickname.node.active = true;\r\n        this.labelChips.string = CommonUtil.getKoreanNumber(info.balance);\r\n        this.labelPoints.string = CommonUtil.getKoreanNumber(info.point );\r\n        this.avatar.spriteFrame = ResourceManager.Instance().getAvatarImage(info.avatar);\r\n        this.avatar.node.active = true;\r\n        this.statics = null;\r\n\r\n        NetworkManager.Instance().getSTATICS( info.id, ( res )=>{\r\n            this.SetInformation( res );\r\n        }, ( msg )=>{\r\n\r\n        });\r\n    }\r\n\r\n    public hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private SetInformation( res: any ) {\r\n        this.statics = res.statics;\r\n\r\n        let hands = this.statics.hands;\r\n        this.labelHandCount.string = hands.toString();\r\n\r\n        let maxPots = CommonUtil.getKoreanNumber(this.statics.maxPots);\r\n        this.labelMaxPots.string = maxPots;\r\n\r\n        let win = this.statics.win;\r\n\r\n        if ( win == 0 || win == undefined ) {\r\n            this.labelWin.string =          (0).toString() + ' (0%)';         \r\n            this.labelWinPreflop.string =   (0).toString() + ' (0%)';\r\n            this.labelWinFlop.string =      (0).toString() + ' (0%)';\r\n            this.labelWinTurn.string =      (0).toString() + ' (0%)';\r\n            this.labelWinRiver.string =     (0).toString() + ' (0%)';\r\n        } else {\r\n            let winPreflop = this.statics.win_preflop;\r\n            let winFlop = this.statics.win_flop;\r\n            let winTurn = this.statics.win_turn;\r\n            let winRiver = this.statics.win_river;\r\n\r\n            this.labelWin.string = win.toString() + '  (' + ( win / hands * 100.0 ).toFixed(1) +  '%)';    \r\n            this.labelWinPreflop.string = winPreflop.toString() + '  (' + ( winPreflop / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinFlop.string = winFlop.toString() + '  (' + ( winFlop / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinTurn.string = winTurn.toString() + '  (' + ( winTurn / win * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelWinRiver.string = winRiver.toString() + '  (' + ( winRiver / win * 100.0 ).toFixed(1) +  '%)';\r\n        }\r\n\r\n        let fold = this.statics.fold;\r\n        if ( fold == 0 || fold == undefined ) {\r\n            this.labelFold.string =         (0).toString() + ' (0%)';\r\n            this.labelFoldPreflop.string =   (0).toString() + ' (0%)';\r\n            this.labelFoldFlop.string =      (0).toString() + ' (0%)';\r\n            this.labelFoldTurn.string =      (0).toString() + ' (0%)';\r\n            this.labelFoldRiver.string =     (0).toString() + ' (0%)';            \r\n        } else {\r\n\r\n            let foldPreflop = this.statics.fold_preflop;\r\n            let foldFlop = this.statics.fold_flop;\r\n            let foldTurn = this.statics.fold_turn;\r\n            let foldRiver = this.statics.fold_river;\r\n\r\n            this.labelFold.string = fold.toString() + '  (' + ( fold / hands * 100.0 ).toFixed(1) +  '%)';            \r\n            this.labelFoldPreflop.string = foldPreflop.toString() + '  (' + ( foldPreflop / fold * 100.0 ).toFixed(1) +  '%)';            \r\n            this.labelFoldFlop.string = foldFlop.toString() + '  (' + ( foldFlop / fold * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelFoldTurn.string = foldTurn.toString() + '  (' + ( foldTurn / fold * 100.0 ).toFixed(1) +  '%)';\r\n            this.labelFoldRiver.string = foldRiver.toString() + '  (' + ( foldRiver / fold * 100.0 ).toFixed(1) +  '%)';\r\n        }\r\n\r\n        this.SetHandRank();\r\n\r\n        this.rootInfo.active = true;\r\n        this.node.active = true;            \r\n    }\r\n\r\n    private SetHandRank() {\r\n        let hands = this.statics.best_hands;\r\n        hands = hands.trim();\r\n\r\n        if ( hands == null || hands.length <= 0 ) {\r\n            this.ResetCards();\r\n            this.labelHandRankDesc.string = '등록된 핸드가 없습니다.';\r\n\r\n        } else {\r\n\r\n            let h = hands.split(',');\r\n            let evaluate: any = this.GetHandsEval(h);\r\n            let pools: number[] = [];\r\n\r\n            evaluate['cards'].forEach( (elem)=>{\r\n                if ( elem.value == '1' ) {\r\n                    elem.value = 'A';\r\n                }\r\n                \r\n                let name = elem.value + elem.suit;\r\n                let num = this.ConvertCardNameToIndex( name );\r\n                pools.push( num );\r\n            });\r\n\r\n            this.SetCards( pools );\r\n            this.labelHandRankDesc.string = evaluate.descr;\r\n        }\r\n        this.labelHandRankDesc.node.active = true;\r\n        this.rootHands.active = true;\r\n    }\r\n\r\n    private ConvertCardNameToIndex( name: string ): number {\r\n\t\tlet n: number = -1;\r\n\t\tfor ( let i: number = 0 ; i < CARD_NAME.length; i++ ) {\r\n\t\t\tif ( name == CARD_NAME[i] ) {\r\n\t\t\t\tn = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n    private onClickExit(button: Button) {\r\n        if ( this.cbExit != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n            this.cbExit();\r\n        }\r\n    }\r\n\r\n    private onClickChangeAvatar( button: Button ) {\r\n        if ( this.cbChangeAvatar != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n                        \r\n            this.cbChangeAvatar();\r\n        }\r\n    }\r\n\r\n    private InitCards() {\r\n        this.cards = [];\r\n        if ( this.rootInfo != null ) {\r\n            this.rootHands = this.rootInfo.getChildByPath('BEST_HANDS');\r\n\r\n            for ( let i: number = 0 ; i < 5 ; i++ ) {\r\n                let s = this.rootHands.getChildByPath(i.toString()).getComponent( Sprite );\r\n                if ( s != null ) {\r\n                    this.cards.push( s );\r\n                }\r\n\r\n            }\r\n\r\n            this.ResetCards();\r\n\r\n            this.labelHandRankDesc = this.rootHands.getChildByPath('LABEL_HAND_RANK').getComponent(Label);\r\n            if ( this.labelHandRankDesc != null ) {\r\n                this.labelHandRankDesc.string = '';\r\n                this.labelHandRankDesc.node.active = false;\r\n            }\r\n        }\r\n\r\n        this.rootHands.active = false;\r\n    }\r\n\r\n    private ResetCards() {\r\n        this.cards.forEach( (s)=>{\r\n            s.node.active = false;\r\n            CommonUtil.setCardSprite(0, 0, s, ()=>{\r\n                s.node.active = true;\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n    private SetCards( pools: number[] ) {\r\n        for ( let i: number = 0 ; i < pools.length; i++ )\r\n        {\r\n            let s = this.cards[i];\r\n            s.node.active = false;\r\n            CommonUtil.setCardSprite( 0, pools[i] + 1, s, ()=>{\r\n                s.node.active = true;\r\n            })\r\n        }\r\n    }\r\n\r\n    public GetHandsEval( cards: string[] ): string {\r\n        if ( cards.length <= 5 ) {\r\n            return null;\r\n        }\r\n\r\n\t\tlet rs = cards.join();\r\n\t\tlet handRank = globalThis.lib[ \"Hand\" ].solve( rs.split( \",\" ) );\r\n\t\treturn handRank;\r\n\t}\r\n\r\n    private RegisterChildren() {\r\n        this.rootInfo = this.node.getChildByPath('INFO_PANEL');\r\n        if ( this.rootInfo != null ) {\r\n            this.labelHandCount = this.rootInfo.getChildByPath('VALUE/HAND_COUNT').getComponent(Label);\r\n            this.labelHandCount.string = '0';\r\n\r\n            this.labelMaxPots = this.rootInfo.getChildByPath('VALUE/MAX_POT').getComponent(Label);\r\n            this.labelMaxPots.string = '0';\r\n\r\n            this.labelWin = this.rootInfo.getChildByPath('VALUE/WIN').getComponent(Label);\r\n            this.labelWin.string = '0';\r\n\r\n            this.labelFold = this.rootInfo.getChildByPath('VALUE/FOLD').getComponent(Label);\r\n            this.labelFold.string = '0';\r\n\r\n            this.labelWinPreflop = this.rootInfo.getChildByPath('VALUE/WIN_PREFLOP').getComponent(Label);\r\n            this.labelWinPreflop.string = '0';\r\n\r\n            this.labelWinFlop = this.rootInfo.getChildByPath('VALUE/WIN_FLOP').getComponent(Label);\r\n            this.labelWinFlop.string = '0';\r\n\r\n            this.labelWinTurn = this.rootInfo.getChildByPath('VALUE/WIN_TURN').getComponent(Label);\r\n            this.labelWinTurn.string = '0';\r\n\r\n            this.labelWinRiver = this.rootInfo.getChildByPath('VALUE/WIN_RIVER').getComponent(Label);\r\n            this.labelWinRiver.string = '0';\r\n\r\n            this.labelFoldPreflop = this.rootInfo.getChildByPath('VALUE/FOLD_PREFLOP').getComponent(Label);\r\n            this.labelFoldPreflop.string = '0';\r\n\r\n            this.labelFoldFlop = this.rootInfo.getChildByPath('VALUE/FOLD_FLOP').getComponent(Label);\r\n            this.labelFoldFlop.string = '0';\r\n\r\n            this.labelFoldTurn = this.rootInfo.getChildByPath('VALUE/FOLD_TURN').getComponent(Label);\r\n            this.labelFoldTurn.string = '0';\r\n\r\n            this.labelFoldRiver = this.rootInfo.getChildByPath('VALUE/FOLD_RIVER').getComponent(Label);\r\n            this.labelFoldRiver.string = '0';\r\n    \r\n            this.rootInfo.active = false;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Toggle, ToggleContainer, Slider, Label, EventHandler } from 'cc';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nimport { NetworkManager } from '../NetworkManager';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nimport { VOLUMNE_MULTIPLIER } from '../HoldemDefines';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiPopupSetting')\r\nexport class UiPopupSetting extends Component {\r\n    @property(ToggleContainer) togglesCard: ToggleContainer = null;\r\n    @property(ToggleContainer) togglesTable: ToggleContainer = null;\r\n    @property(ToggleContainer) togglesBackground: ToggleContainer = null;\r\n    @property(Slider) sliderVolumn: Slider = null;\r\n    @property(Label) labelVolumn: Label = null;    \r\n\r\n    private selectCard: number = 0;\r\n    private selectTable: number = 0;\r\n    private selectBackground: number = 0;\r\n\r\n    private initSetting: boolean = false;\r\n    private volumn: number = 0;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n    @property(Button) buttonApply: Button = null;    \r\n\r\n    private cbExit: ()=>void = null;\r\n    private cbApply: ( selected: any )=>void = null;    \r\n\r\n    public init( cbExit: ()=>void , cbApply: (selected: any )=>void ){\r\n        if ( cbExit != null ) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        if ( cbApply != null ) {\r\n            this.cbApply = cbApply;\r\n        }\r\n\r\n        this.initSetting = false;\r\n\r\n        this.togglesCard.toggleItems.forEach( (e)=>{\r\n            e.node.on('toggle', this.onToggleCardsChanged.bind(this) );            \r\n        } );\r\n\r\n        this.togglesTable.toggleItems.forEach( (e)=>{\r\n            e.node.on('toggle', this.onToggleTablesChanged.bind(this) );            \r\n        } );\r\n\r\n        this.togglesBackground.toggleItems.forEach( (e)=>{\r\n            e.node.on('toggle', this.onToggleBackgroundChanged.bind(this) );            \r\n        } );\r\n\r\n        const sliderEventHandler = new EventHandler();\r\n        sliderEventHandler.target = this.node;\r\n        sliderEventHandler.component = 'UiPopupSetting';\r\n        sliderEventHandler.handler = 'onSliderChangeVolumn';\r\n        sliderEventHandler.customEventData = '???'\r\n        this.sliderVolumn.slideEvents.push( sliderEventHandler );\r\n\r\n        this.labelVolumn.string = '';\r\n\r\n        this.buttonExit.node.on(\"click\", this.onClickExit.bind(this));\r\n        this.buttonApply.node.on('click', this.onClickApply.bind(this));\r\n    \r\n        this.selectCard = 0;\r\n        this.selectTable = 0;\r\n        this.selectBackground = 0;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    onSliderChangeVolumn( slider: Slider ) {\r\n        this.volumn = Math.floor( slider.progress * VOLUMNE_MULTIPLIER );\r\n        this.labelVolumn.string = this.volumn.toString();\r\n    }\r\n\r\n    private onToggleCardsChanged( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        if ( this.initSetting == true ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        for ( let index = 0; index < this.togglesCard.toggleItems.length; index++ ) {\r\n            if ( this.togglesCard.toggleItems[index].isChecked == true ) {\r\n\r\n                this.selectCard = index;\r\n            }\r\n        }\r\n    }\r\n\r\n    private onToggleBackgroundChanged( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        if ( this.initSetting == true ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        for ( let index = 0; index < this.togglesBackground.toggleItems.length; index++ ) {\r\n            if ( this.togglesBackground.toggleItems[index].isChecked == true ) {\r\n                this.selectBackground = index;\r\n            }\r\n        }\r\n    }\r\n\r\n    private onToggleTablesChanged( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        if ( this.initSetting == true ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n        }\r\n\r\n        for ( let index = 0; index < this.togglesTable.toggleItems.length; index++ ) {\r\n            if ( this.togglesTable.toggleItems[index].isChecked == true ) {\r\n                this.selectTable = index;\r\n            }\r\n        }\r\n    }\r\n\r\n    public show() {\r\n        let info = NetworkManager.Instance().GetUser();\r\n        if ( info != null ) {\r\n\r\n            NetworkManager.Instance().getSETTING( info.id, (res)=>{\r\n                this.initSetting = false;\r\n    \r\n                let setting = res.setting;\r\n    \r\n                this.node.active = true;\r\n                this.togglesCard.toggleItems[ setting.card ].isChecked = true;\r\n                this.togglesTable.toggleItems[ setting.board ].isChecked = true;\r\n                this.togglesBackground.toggleItems[ setting.background ].isChecked = true;\r\n    \r\n                this.selectCard = setting.card;\r\n                this.selectTable = setting.board;\r\n                this.selectBackground = setting.background;\r\n    \r\n                this.volumn = setting.sound;\r\n                this.labelVolumn.string = ( this.volumn ).toString();\r\n                this.sliderVolumn.progress = ( this.volumn / VOLUMNE_MULTIPLIER);\r\n    \r\n                this.initSetting = true;\r\n                \r\n            }, (err)=>{\r\n                LobbySystemPopup.instance.showPopUpOk('설정', '설정을 얻어올 수 없습니다.', ()=>{\r\n                    LobbySystemPopup.instance.closePopup();\r\n                });\r\n            });            \r\n\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        this.initSetting = false;        \r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickExit( button: Button ) {\r\n        if ( this.cbExit != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n            this.cbExit();\r\n        }\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickApply( button: Button ) {\r\n\r\n        if ( this.cbApply != null ) {\r\n            LobbyAudioContoller.instance.PlayButtonClick();\r\n            this.cbApply( {\r\n                sound: this.volumn,\r\n                card: this.selectCard,\r\n                table: this.selectTable,\r\n                background: this.selectBackground\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Label } from 'cc';\r\nimport { CommonUtil } from './CommonUtil';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"Pot\")\r\nexport class Pot{\r\n    @property(Node) public showRoot : Node = null;\r\n    @property(Label) public valueLabel : Label = null;\r\n\r\n    public ClearCallback(){\r\n        // this.showRoot.off(Node.EventType.TOUCH_START);\r\n        // this.showRoot.off(Node.EventType.TOUCH_END);\r\n        // this.showRoot.off(Node.EventType.TOUCH_CANCEL);\r\n    }\r\n}\r\n\r\n@ccclass('UiPot')\r\nexport class UiPot extends Component {\r\n    @property(Label) public labelMaxPot : Label = null;\r\n    @property(Label) public labelPotCount : Label = null;\r\n\r\n    @property(Node) public maxPotRoot : Node = null;\r\n    @property(Node) public potCountRoot : Node = null;\r\n\r\n    @property(Pot) private potUi : Pot[] = [];\r\n\r\n    public svPots : any[] = null;\r\n    public potCount: number = 0;\r\n\r\n    private selectedPot : number = -1;\r\n    private potInfoTimeout : number = null;\r\n\r\n    onLoad() {\r\n    }\r\n\r\n    public Show( pots : any[])\r\n    {\r\n        if(null === pots || undefined === pots)\r\n        {\r\n            return;\r\n        }\r\n\r\n        if(pots.length < 1)\r\n        {\r\n            return;\r\n        }\r\n\r\n        let shown : any[] = [];\r\n\r\n        pots.sort((a :any, b : any) => {\r\n            if(a.players.length > b.players.length)\r\n            {\r\n                return -1;\r\n            }\r\n            else\r\n            {\r\n                return 1;\r\n            }\r\n        });\r\n\r\n        pots.forEach(element => {\r\n            if(element.players.length <= 1){\r\n                return;\r\n            }\r\n\r\n            shown.push(element);\r\n        });\r\n\r\n        this.SetPotCount(shown.length);\r\n        \r\n        this.svPots = pots;\r\n\r\n        for (let i = 0; i < this.potUi.length; i++) {\r\n            const sidePot = this.potUi[i];\r\n            sidePot.ClearCallback();\r\n            \r\n            if(i >= shown.length){\r\n                sidePot.showRoot.active = false;\r\n                continue;\r\n            }\r\n\r\n            const potInfo = shown[i];\r\n\r\n            sidePot.valueLabel.string = CommonUtil.getKoreanNumber( potInfo.total );\r\n            sidePot.showRoot.active = true;\r\n\r\n            if(null == potInfo.rake){\r\n                continue;\r\n            }\r\n        }\r\n    }\r\n\r\n    public UpdatePotTotal(totalValue : number){\r\n        this.labelMaxPot.node.active = true;\r\n        this.labelMaxPot.string = CommonUtil.getKoreanNumber(totalValue);\r\n    }\r\n\r\n    public GetPots() : Pot[]{\r\n        return this.potUi;\r\n    }\r\n\r\n    public SetPotCount(count: number) {\r\n        if (count > 1) {\r\n            this.potCountRoot.active = true;\r\n            this.labelPotCount.string = count.toString();\r\n        } else {\r\n            this.potCountRoot.active = false;\r\n        }\r\n    }\r\n    \r\n    public ClearPotCount() {\r\n        this.potCountRoot.active = false;\r\n        this.labelPotCount.string = \"\";\r\n    }\r\n    \r\n    public Hide(){\r\n        this.potUi.forEach(element => {\r\n            element.valueLabel.string = \"0\";\r\n            element.showRoot.active = false;\r\n        });\r\n\r\n        this.ClearPotCount();\r\n\r\n        this.svPots = null;\r\n        this.maxPotRoot.active = false;\r\n        this.labelMaxPot.node.active = false;\r\n        this.labelMaxPot.string =  \"0\";//totalValue.toLocaleString().split( \".\" )[ 0 ];\r\n    }\r\n    \r\n    public HidePotInfo(){\r\n\r\n        if(this.potInfoTimeout != null){\r\n            clearTimeout(this.potInfoTimeout);\r\n            this.potInfoTimeout = null;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, SpriteFrame, Vec3, UITransform, tween, Tween, UIOpacity } from 'cc';\r\nimport { Board } from '../Board';\r\nimport { ResourceManager } from '../ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiPotChips')\r\nexport class UiPotChips extends Component {\r\n    @property(Node) digits: Node[] = [];\r\n\r\n    private sprites: any[] = [];\r\n    private value: number = 0;\r\n    private numbers: any[] = [];\r\n    private vecOriginal: Vec3 = null;\r\n\r\n    init() {\r\n        for ( let i: number = 0 ; i < this.digits.length ; i++ ) {\r\n            let ss: Sprite[] = [];\r\n            for ( let j: number = 0 ; j < 9 ; j++ ) {\r\n                let s: Sprite = this.digits[i].getChildByPath( (j + 1).toString() ).getComponent( Sprite );\r\n                if ( s != null ) {\r\n                    ss.push(s);\r\n                }\r\n            }\r\n            this.sprites.push( ss );\r\n            this.digits[i].active = false;\r\n        }\r\n\r\n        this.vecOriginal = new Vec3( this.node.position.x, this.node.position.y, this.node.position.z );\r\n        this.node.active = false;\r\n    }\r\n\r\n    show(num: number) {\r\n        this.value = num;\r\n\r\n        if ( num > 0) {\r\n            this.setNumbers();\r\n            this.setDigits();    \r\n        }\r\n\r\n        this.node.active = true;\r\n    }\r\n\r\n    private setNumbers() {\r\n        this.numbers = [];\r\n        let s: string = this.value.toString();\r\n        let cnt: number = 0;\r\n\r\n        for ( let i = 0 ; i < s.length ; i++ ) {\r\n            let n: number = parseInt( s[i] );\r\n            this.numbers.push( {\r\n                number: n,\r\n                digit: s.length - i,\r\n            });\r\n\r\n            cnt++;\r\n            if ( cnt >= this.digits.length ) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private setDigits() {\r\n        for ( let i: number = 0 ; i < this.digits.length ; i++ ) {\r\n            let s: any = this.sprites[i];\r\n\r\n            for ( let j: number = 0 ; j < 9 ; j++ ) {\r\n                let sf: SpriteFrame = ResourceManager.Instance().getChipImage( this.numbers[i].digit );\r\n                s[j].spriteFrame = sf;\r\n                if ( j < this.numbers[i].number ) {\r\n                    s[j].node.active = true;\r\n                } else {\r\n                    s[j].node.active = false;\r\n                }\r\n            }\r\n            this.digits[i].active = true;\r\n        }\r\n\r\n    }\r\n\r\n    private reset() {\r\n        for ( let i: number = 0; i < this.digits.length; i++ ) {\r\n            this.digits[i].active = false;\r\n        }\r\n        this.value = 0;\r\n    }\r\n\r\n    public MovePotToEntity( from: Node, to: Node, value: number  ) {\r\n        this.value = value;\r\n\r\n        this.setNumbers();\r\n        this.setDigits();\r\n\r\n        let vecFrom = from.parent.getComponent( UITransform ).convertToWorldSpaceAR( from.position );\r\n        vecFrom = this.node.parent.getComponent( UITransform ).convertToNodeSpaceAR( vecFrom );\r\n\r\n        let vecTo = this.node.parent.getComponent( UITransform ).convertToWorldSpaceAR( this.vecOriginal );\r\n        vecTo = this.node.getComponent( UITransform ).convertToNodeSpaceAR( vecTo );\r\n\r\n        // this.node.position = new Vec3( vecFrom.x, vecFrom.y, vecFrom.z );\r\n        this.node.active = true;\r\n\r\n        let op: UIOpacity = this.node.getComponent( UIOpacity );\r\n        if ( op != null ) {\r\n            op.opacity = 255;\r\n        }\r\n\r\n        let tw = tween ( this.node )\r\n        .set ({\r\n            position: vecFrom,\r\n        }).to ( 0.5 , {\r\n            position: vecTo,\r\n        }, {\r\n            easing: this.easeOutQuad,\r\n            onUpdate(target, ratio) {\r\n                let o = 255 - ( 255 * ratio);\r\n                if ( op != null ) {\r\n                    op.opacity = o;\r\n                }\r\n            },\r\n        })\r\n\r\n        tw.call(()=>{\r\n            this.node.position = new Vec3( this.vecOriginal.x, this.vecOriginal.y, this.vecOriginal.z);\r\n            this.node.active = false;\r\n        });\r\n\r\n        tw.start();\r\n    }\r\n\r\n    hide() {\r\n        this.reset();\r\n        this.node.active = false;\r\n    }\r\n\r\n    easeOutBack(x: number ): number {\r\n        const c1 = 1.70158;\r\n        const c3 = c1 + 1;\r\n        \r\n        return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);\r\n    }\r\n\r\n    easeOutQuad( x: number ): number {\r\n        return 1 - (1 - x) * (1 - x);\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Button, Label, Sprite } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { NetworkManager } from '../NetworkManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiProfile')\r\nexport class UiProfile extends Component {\r\n    @property(Node) nodePanel: Node = null;\r\n\r\n    @property(Button) buttonExit: Button = null;\r\n\r\n    @property(Label) labelNickname: Label = null;\r\n    @property(Sprite) spriteAvatar: Sprite = null;\r\n    @property(Label) labelChips: Label = null;\r\n    @property(Label) labelRanking: Label = null;\r\n\r\n    private cbExit: ()=>void = null;\r\n\r\n    init( cbExit: ()=>void ) {\r\n        if (cbExit != null) {\r\n            this.cbExit = cbExit;\r\n        }\r\n\r\n        this.labelNickname.string = '';\r\n        this.labelChips.string = '';\r\n        this.labelRanking.string = '';\r\n        this.spriteAvatar.node.active = false;\r\n\r\n        this.buttonExit.node.on('click', this.onClickExit.bind(this));\r\n        this.nodePanel.active = false;\r\n        this.node.active = false;        \r\n    }\r\n\r\n    show( entity: any ) {\r\n        this.node.active = true;\r\n    }\r\n\r\n    open(id: number) {\r\n        this.node.active = true;\r\n        this.nodePanel.active = false;\r\n\r\n        NetworkManager.Instance().getPlayerProfile( id, (res)=>{\r\n\r\n            this.labelNickname.string = res.profile.name;\r\n            this.labelChips.string = CommonUtil.getNumberStringWithComma(res.profile.chip);\r\n\r\n            let s = res.profile.avatar;\r\n\r\n            CommonUtil.setAvatarSprite(s, this.spriteAvatar, ()=>{\r\n                this.spriteAvatar.node.active = true;\r\n                this.nodePanel.active = true;                \r\n            });\r\n\r\n        }, (err)=>{\r\n            this.node.active = true;\r\n        });\r\n    }\r\n\r\n    hide() {\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onClickExit( button: Button ) {\r\n        if ( this.cbExit != null ) {\r\n            this.cbExit();\r\n        }\r\n\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, Vec3, Label, Tween, tween, Color, Quat, bezier, Animation, color } from 'cc';\r\nimport { CommonUtil } from '../CommonUtil';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiResultEffect')\r\nexport class UiResultEffect extends Component {\r\n    private spriteWinAnimation1: Sprite = null;\r\n    private spriteWinAnimation2: Sprite = null;\r\n    private spriteWinAnimation3: Sprite = null;\r\n\r\n    private vecWinAnimation3: Vec3 = new Vec3();    \r\n\r\n    private spriteEffectWin: Sprite = null;\r\n    private spriteEffectDraw: Sprite = null;\r\n    private spriteEffectReturn: Sprite = null;\r\n\r\n    private AnimationWinEffect: Animation = null;\r\n    private AnimationDrawEffect: Animation = null;\r\n    private AnimationReturnEffect: Animation = null;\r\n\r\n    private rootLabelValue: Node = null;\r\n\r\n    private labelEffectValue: Label = null;\r\n    private winTweens: Tween<Node>[] = [];\r\n\r\n    private isChildRegisted: boolean = false;\r\n\r\n    Init() {\r\n        this.childedRegisted();\r\n        this.node.active = false;\r\n    }\r\n\r\n    ResetResultEffect() {\r\n        this.spriteEffectWin.node.active = false;\r\n        this.spriteEffectDraw.node.active = false;\r\n        this.spriteEffectReturn.node.active = false;\r\n\r\n        this.labelEffectValue.string = '';\r\n        this.labelEffectValue.node.active = false;\r\n        this.rootLabelValue.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    SetWinEffect( value: number ) {\r\n        this.ResetResultEffect();\r\n\r\n        this.labelEffectValue.string = '+' + CommonUtil.getKoreanNumber( value );\r\n        this.labelEffectValue.node.active = true;\r\n        this.rootLabelValue.active = true;\r\n\r\n        this.spriteEffectWin.node.active = true;\r\n        this.node.active = true;\r\n\r\n        this.AnimationWinEffect.play();\r\n        this.WinTweenEffect();\r\n    }\r\n\r\n    public SetDrawEffect( value: number ) {\r\n        this.ResetResultEffect();\r\n\r\n        this.labelEffectValue.string = '+' + CommonUtil.getKoreanNumber( value );\r\n        this.labelEffectValue.node.active = true;\r\n        this.rootLabelValue.active = true;\r\n\r\n        this.spriteEffectDraw.node.active = true;\r\n        this.node.active = true;\r\n\r\n        this.AnimationDrawEffect.play();\r\n    }\r\n\r\n    public SetReturnEffect( value: number ) {\r\n        this.ResetResultEffect();\r\n\r\n        this.labelEffectValue.string = '+' + CommonUtil.getKoreanNumber( value );\r\n        this.labelEffectValue.node.active = true;\r\n        this.rootLabelValue.active = true;\r\n\r\n        this.spriteEffectReturn.node.active = true;\r\n        this.node.active = true;\r\n\r\n        this.AnimationReturnEffect.play();\r\n    }\r\n\r\n    private WinTweenEffect() {\r\n\r\n        this.spriteWinAnimation1.node.active = true;\r\n        let tw1 = tween( this.spriteWinAnimation1.node )\r\n        .set( {\r\n\r\n        })\r\n        .to( 1, {}, {\r\n            onUpdate: ( target: any, ratio: number )=>{\r\n                let a = 255 * ratio;\r\n                if ( a > 255 ) {\r\n                    a = 255;\r\n                }\r\n\r\n                if ( a <= 0) {\r\n                    a = 0;\r\n                }\r\n                this.spriteWinAnimation1.color = new Color( 255, 255, 255, a);\r\n            }\r\n        });\r\n\r\n        tw1.call(()=>{\r\n            this.spriteWinAnimation1.color = new Color( 255, 255, 255, 0 );\r\n        });\r\n\r\n        tw1.union();\r\n        tw1.start();\r\n\r\n        this.spriteWinAnimation3.node.active = true;\r\n        let tw3 = tween( this.spriteWinAnimation3.node )\r\n        .set({\r\n            position: new Vec3 ( this.vecWinAnimation3 ),\r\n            scale: new Vec3( 0.5, 0.5, 0.5 )\r\n        })\r\n        .to(0.5, {\r\n            scale: new Vec3(1.0, 1.0, 1.0)\r\n        }, {\r\n            easing: 'backOut',\r\n            onUpdate: ( target: any, ratio: number )=>{\r\n                let a = 255 * ratio;\r\n                this.spriteWinAnimation3.color = new Color( 255, 255, 255, a);\r\n            }\r\n        })\r\n        .to(3, {\r\n\r\n        }, {\r\n            easing: 'linear',\r\n            onUpdate: ( target: any, ratio: number )=>{\r\n                let a = 255 - 255 * ratio;\r\n                this.spriteWinAnimation3.color = new Color( 255, 255, 255, a );\r\n                this.spriteWinAnimation1.color = new Color( 255, 255, 255, a );\r\n            }\r\n        });\r\n\r\n        tw3.call(()=>{\r\n            this.spriteWinAnimation3.color = new Color(255, 255, 255, 0);\r\n            this.spriteWinAnimation3.node.position = new Vec3 ( this.vecWinAnimation3 );\r\n\r\n            this.spriteWinAnimation3.node.active = false;\r\n        });\r\n\r\n        tw3.union();\r\n        tw3.start();\r\n\r\n        this.spriteWinAnimation2.node.active = true;        \r\n        let dest: Quat = Quat.IDENTITY.clone();\r\n\r\n        let tw2 = tween( this.spriteWinAnimation2.node )        \r\n        .to( 2, {\r\n            scale: new Vec3( 0.7, 0.7, 0.7 )\r\n        }, {\r\n            onUpdate: ( target: any, ratio: number )=>{\r\n                Quat.fromEuler( dest, 0, 0, 360 * 12 * ratio );\r\n                this.spriteWinAnimation2.node.setRotation( dest );\r\n\r\n                let a = bezier( 0, 500, 255, 0, ratio );\r\n                let max: number = 255 * 0.7;\r\n                if ( a > max ) {\r\n                    a = max;\r\n                }\r\n\r\n                this.spriteWinAnimation2.color = new Color( 255, 255, 255, a);\r\n            }\r\n        });\r\n\r\n        tw2.call( ()=>{\r\n            this.spriteWinAnimation2.color = new Color(255,255,255,0);\r\n            this.spriteWinAnimation2.node.scale = new Vec3(1.15,1.15,1.15);\r\n            this.spriteWinAnimation2.node.setRotation(dest);\r\n            this.spriteWinAnimation2.node.active = false;\r\n        });\r\n\r\n        tw2.union();\r\n        tw2.start();\r\n    }\r\n\r\n    private onFinishedResultWin() {\r\n        this.AnimationWinEffect.node.active = false;\r\n    }\r\n\r\n    private onFinishedResultDraw() {\r\n        this.AnimationDrawEffect.node.active = false;\r\n    }\r\n\r\n    private onFinishedResultReturn() {\r\n        this.AnimationReturnEffect.node.active = false;\r\n    }\r\n\r\n    childedRegisted() {\r\n        if ( this.isChildRegisted == true ) {\r\n            return;\r\n        }\r\n        \r\n        this.spriteWinAnimation1 = this.node.getChildByPath('SPRITE_WIN_ANI1').getComponent(Sprite);\r\n        if ( this.spriteWinAnimation1 != null ) {\r\n            this.spriteWinAnimation1.node.active = false;\r\n        }\r\n\r\n        this.spriteWinAnimation2 = this.node.getChildByPath('SPRITE_WIN_ANI2').getComponent(Sprite);\r\n        if ( this.spriteWinAnimation2 != null ) {\r\n            this.spriteWinAnimation2.node.active = false;\r\n        }\r\n\r\n        this.spriteWinAnimation3 = this.node.getChildByPath('SPRITE_WIN_ANI3').getComponent(Sprite);\r\n        if ( this.spriteWinAnimation3 != null ) {\r\n            this.spriteWinAnimation3.node.active = false;\r\n            this.vecWinAnimation3 = new Vec3( this.spriteWinAnimation3.node.position );\r\n        }\r\n\r\n        this.spriteEffectWin = this.node.getChildByPath('SPRITE_WIN').getComponent(Sprite);\r\n        if ( this.spriteEffectWin != null ) {\r\n            this.spriteEffectWin.node.active = false;\r\n        }\r\n        \r\n        this.spriteEffectDraw = this.node.getChildByPath('SPRITE_DRAW').getComponent(Sprite);\r\n        if ( this.spriteEffectDraw != null ) {\r\n            this.spriteEffectDraw.node.active = false;\r\n        }\r\n\r\n        this.spriteEffectReturn = this.node.getChildByPath('SPRITE_RETURN').getComponent(Sprite);\r\n        if ( this.spriteEffectReturn != null ) {\r\n            this.spriteEffectReturn.node.active = false;\r\n        }\r\n\r\n        this.rootLabelValue = this.node.getChildByPath('VALUE');\r\n        if ( this.rootLabelValue != null ) {\r\n            this.labelEffectValue = this.rootLabelValue.getChildByPath('LABEL_VALUE').getComponent(Label);\r\n            if ( this.labelEffectValue != null ) {\r\n                this.labelEffectValue.string = '0';\r\n                this.labelEffectValue.node.active = false;\r\n            }\r\n\r\n            this.rootLabelValue.active  = false;\r\n        }\r\n\r\n        this.AnimationWinEffect = this.node.getChildByPath('SPRITE_WIN').getComponent( Animation );\r\n        if ( this.AnimationWinEffect != null ) {\r\n            this.AnimationWinEffect.on('finished', this.onFinishedResultWin.bind(this), this );\r\n        }\r\n\r\n        this.AnimationDrawEffect = this.node.getChildByPath('SPRITE_DRAW').getComponent( Animation );\r\n        if ( this.AnimationDrawEffect != null ) {\r\n            this.AnimationDrawEffect.on('finished', this.onFinishedResultDraw.bind(this), this );\r\n        }\r\n\r\n        this.AnimationReturnEffect = this.node.getChildByPath('SPRITE_RETURN').getComponent( Animation );\r\n        if ( this.AnimationReturnEffect != null ) {\r\n            this.AnimationReturnEffect.on('finished', this.onFinishedResultReturn.bind(this), this );\r\n        }\r\n    }\r\n}\r\n\r\n","import { _decorator, Component, Node, Label, Layout } from 'cc';\nimport { CommonUtil } from '../CommonUtil';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiRoundPotValue')\nexport class UiRoundPotValue extends Component {\n    @property(Label) labelPotValue: Label = null;\n    private value: number = 0;\n\n    public init() {\n        this.labelPotValue.string = '';\n        this.node.active = false;\n    }\n\n    public show( value: number ) {\n        if ( this.labelPotValue == null ) {\n            return;\n        }\n\n        if ( value > -1 ) {\n            this.value = value;\n            this.labelPotValue.string = CommonUtil.getKoreanNumber( this.value );            \n        } else {            \n            this.labelPotValue.string = CommonUtil.getKoreanNumber( this.value );\n        }\n\n\n        this.node.active = true;\n        let layout: Layout = this.node.getComponent(Layout);\n        if ( layout != null ) {\n            layout.updateLayout(true);\n        }\n    }\n\n    public updatePotVaule( value: number ) {\n        if ( this.labelPotValue == null ) {\n            return;\n        }\n                \n        this.labelPotValue.string = CommonUtil.getKoreanNumber( value );\n    }\n\n    public hide() {\n        this.node.active = false;\n    }\n}\n\n","import { _decorator, Component, Node, Button, Sprite, Label, SpriteFrame, resources } from 'cc';\r\nimport { Board } from './Board';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { ResourceManager } from './ResourceManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiSeat')\r\nexport class UiSeat extends Component {\r\n    @property(Node) public entity: Node = null;\r\n    @property(Button) public buttonTakeSeat: Button = null;\r\n    @property(Sprite) public spriteReserve: Sprite = null;\r\n\r\n    private buttonAvatar: Button = null;\r\n    private isChildRegistered: boolean = false;\r\n    private labelNickname: Label = null;\r\n    private labelChips: Label = null;\r\n    private spriteSelected: Sprite = null;\r\n    private posSymbols: {} = {};\r\n    private spriteAvatar: Sprite = null;\r\n    private info: any = null;\r\n    private isSet: boolean = false;\r\n    private id: number = -1;\r\n    private seat: number = -1;\r\n\r\n    onLoad() {\r\n        this.childRegistered();\r\n    }\r\n\r\n    childRegistered() {\r\n        if (true == this.isChildRegistered) {\r\n            return;\r\n        }\r\n\r\n        this.isChildRegistered = true;\r\n        this.labelNickname = this.entity.getChildByPath('BG/LABEL_NAME').getComponent(Label);\r\n        this.labelNickname.string = 'EMPTY'\r\n\r\n        this.labelChips = this.entity.getChildByPath('BG/LABEL_CHIPS').getComponent(Label);\r\n        this.labelChips.node.active = true;\r\n\r\n        this.spriteAvatar = this.entity.getChildByPath('AVATAR/SPRITE/AVATAR').getComponent(Sprite);\r\n        this.spriteAvatar.node.active = false;\r\n\r\n        this.posSymbols['dealer'] = this.entity.getChildByPath('SPRITE_DEALER').getComponent(Sprite);\r\n        this.posSymbols['dealer'].node.active = false;\r\n\r\n        this.posSymbols['sb'] = this.entity.getChildByPath('SPRITE_SMALL_BLIND').getComponent(Sprite);\r\n        this.posSymbols['sb'].node.active = false;\r\n\r\n        this.posSymbols['bb'] = this.entity.getChildByPath('SPRITE_BIG_BLIND').getComponent(Sprite);\r\n        this.posSymbols['bb'].node.active = false;\r\n\r\n        this.buttonAvatar = this.entity.getChildByPath('AVATAR/SPRITE/AVATAR').getComponent(Button);\r\n        this.buttonAvatar.node.on('click', this.onClickAvatar.bind(this));\r\n\r\n        this.isSet = false;\r\n    }\r\n\r\n    setUi( entity ) {        \r\n        this.childRegistered();\r\n\r\n        if (null == entity) {\r\n            this.setEscapee();\r\n        }\r\n\r\n        this.info = entity;\r\n        this.id = entity.id;\r\n        this.seat = entity.seat;\r\n\r\n        this.clearUiPosSymbol();\r\n        this.setNickname( entity.nickname );\r\n        if (entity.wait == true) {\r\n            if (entity.isSitOut == true) {\r\n                this.setStatus('자리비움');\r\n            } else {\r\n                this.setStatus('대기중');\r\n            }\r\n        } else {\r\n            this.setUiChips(entity.chips);\r\n        }\r\n\r\n        let s = Number(entity.avatar);\r\n        let sf = ResourceManager.Instance().getAvatarImage(s);\r\n        if ( sf != null ) {\r\n            this.spriteAvatar.spriteFrame = sf;\r\n            this.spriteAvatar.node.active = true;            \r\n        }\r\n\r\n        this.isSet = true;\r\n    }\r\n\r\n    setEscapee() {\r\n        this.labelNickname.string = 'EMPTY'\r\n        this.labelChips.node.active = false;\r\n\r\n        this.posSymbols['dealer'].node.active = false;\r\n        this.posSymbols['sb'].node.active = false;\r\n        this.posSymbols['bb'].node.active = false;\r\n    }\r\n\r\n    setNickname(name: string) {\r\n        this.labelNickname.string = name;\r\n    }\r\n\r\n    setUiChips( chips: number) {\r\n        this.labelChips.string = CommonUtil.getKoreanNumber(chips);\r\n        this.labelChips.node.active = true;\r\n    }\r\n\r\n    setStatus(status: string) {\r\n        this.labelChips.string = status;\r\n        this.labelChips.node.active = true;\r\n    }\r\n\r\n    setUiPosSymbol( symbolName: string)\r\n    {\r\n        let keys = Object.keys( this.posSymbols );\r\n        keys.forEach((element)=>{\r\n            let v: Sprite = this.posSymbols[element];\r\n            if ( element == symbolName) {\r\n                v.node.active = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    getTakeButton (): Button {\r\n        return this.buttonTakeSeat;\r\n    }\r\n\r\n    setShowEntity( show: boolean ) {\r\n        this.entity.active = show;\r\n    }\r\n\r\n    setShowReserve(show: boolean) {\r\n        this.spriteReserve.node.active = show;\r\n    }\r\n\r\n    getEntity(): Node {\r\n        return this.entity;\r\n    }\r\n\r\n    clearUiPosSymbol() {\r\n        let keys = Object.keys(this.posSymbols);\r\n        keys.forEach(element => {\r\n            let v: Sprite = this.posSymbols[element];\r\n            v.node.active = false;\r\n        });\r\n    }\r\n\r\n    private onClickAvatar(button:Button) {\r\n        if ( this.isSet == false ) {\r\n            return;\r\n        }\r\n\r\n        if ( this.seat > -1 ) {\r\n            Board.table.OpenUserProfile( this.id, this.seat );\r\n        }\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, Label, Sprite } from 'cc';\r\nimport { Board } from './Board';\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { UiGameSystemPopup } from './Game/UiGameSystemPopup';\r\nimport { UiSeat } from './UiSeat';\r\nimport { ResourceManager } from './ResourceManager';\r\nimport { AudioController } from './Game/AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiSeats')\r\nexport class UiSeats extends Component {\r\n    @property(Label) labelLimitTimer: Label = null;\r\n\r\n    private uiSeats: UiSeat[] = [];\r\n    private buttonTakeSeats: Button[] = [];\r\n    private count: number = 0;\r\n    private isWaitingResult: boolean = false;\r\n    private timerId: number = 0;\r\n    private isOpen: boolean = false;\r\n    private limitTime: number = 0;\r\n    private pauseTimer: boolean = false;\r\n    private joinPlayer: number = -1;\r\n    private playingPlayer: number = -1;\r\n    public unselectSeatDuringTime = false;\r\n\r\n    callback: (number) => void = null;\r\n\r\n    public init ( maxSeat: number, onClickCallback: (seatNumber: number)=>void) {\r\n\r\n        this.isWaitingResult = false;\r\n        let seatCount: number = maxSeat;\r\n        this.callback = onClickCallback;\r\n\r\n        let seatsRoot9: Node = this.node.getChildByPath('SEATS9');\r\n        let seatsRoot6: Node = this.node.getChildByPath('SEATS6');        \r\n\r\n\r\n        let nodeTarget: Node = null;\r\n\r\n        let seatRootPath = `SEATS${ seatCount }`;\r\n\r\n        if ( seatsRoot9.name == seatRootPath )\r\n        {\r\n            seatsRoot9.active = true;\r\n            seatsRoot6.active = false;\r\n            nodeTarget = seatsRoot9;\r\n        } else {\r\n            seatsRoot9.active = false;\r\n            seatsRoot6.active = true;\r\n            nodeTarget = seatsRoot6;\r\n        }\r\n\r\n        this.uiSeats = [];\r\n        for (let i = 0 ; i < nodeTarget.children.length; i++)\r\n        {\r\n            let cn = nodeTarget.children[i];\r\n            if (null == cn) {\r\n                continue;\r\n            }\r\n\r\n            let uiSeat: UiSeat = cn.getComponent(UiSeat);\r\n            if (null == uiSeat) {\r\n                continue;\r\n            }\r\n\r\n            uiSeat.childRegistered();\r\n            uiSeat.setShowEntity(false);\r\n            uiSeat.setShowReserve(false);\r\n\r\n            this.uiSeats.push(uiSeat);\r\n        }\r\n\r\n        for (let i = 0 ; i < this.uiSeats.length; i++) {\r\n            this.buttonTakeSeats[i] = this.uiSeats[i].getTakeButton();\r\n        }\r\n\r\n        let bg: Sprite = this.node.getChildByPath('SPRITE_BACKGROUND').getComponent(Sprite);\r\n        if ( bg != null ) {\r\n            ResourceManager.Instance().setBackgroundImage(bg);\r\n            bg.node.active = true;\r\n        }\r\n\r\n        let tb: Sprite = this.node.getChildByPath('SPRITE_TABLE').getComponent( Sprite );\r\n        if ( tb != null ) {\r\n            ResourceManager.Instance().setTableImage(tb);\r\n            tb.node.active = true;            \r\n        }\r\n\r\n        this.unselectSeatDuringTime = false;\r\n        this.labelLimitTimer.string = '플레이할 자리를 선택해 주세요 (60)';\r\n        this.pauseTimer = true;\r\n        this.node.active = false;\r\n    }\r\n\r\n    updateSeatInfo ( seats: any[], info: number[], bb: number, sb: number, dealer: number ) {\r\n\r\n        for ( let i = 0 ; i < this.buttonTakeSeats.length; i++) {\r\n            let button: Button = this.buttonTakeSeats[i];\r\n            if ( button == null ) {\r\n\r\n            }\r\n            else {\r\n                if ( i >= this.uiSeats.length ) {\r\n                    button.node.active = false;\r\n                    continue;\r\n                }\r\n\r\n                button.node.active = true;\r\n                button.node.off(\"click\");\r\n                button.node.on(\"click\", this.onClickSeatButton.bind(this, i), this);\r\n            }\r\n        }\r\n\r\n        for (let i = 0; i < info.length; i++) {\r\n            let status: number = info[i];\r\n            if ( status == 2)\r\n            {\r\n                this.uiSeats[i].setShowEntity(true);\r\n                this.uiSeats[i].setShowReserve(false);\r\n    \r\n                let target = seats.find((e)=>{\r\n                    return e.seat === i;\r\n                });\r\n    \r\n                if (null != target) {\r\n                    this.uiSeats[i].setUi(target);\r\n    \r\n                    if (bb > -1 && target === bb) {\r\n                        this.uiSeats[i].setUiPosSymbol(\"bb\");\r\n                    }\r\n    \r\n                    if (sb > -1 && target === sb) {\r\n                        this.uiSeats[i].setUiPosSymbol(\"sb\");\r\n                    }\r\n    \r\n                    if (dealer > -1 && target === dealer) {\r\n                        this.uiSeats[i].setUiPosSymbol(\"dealer\");\r\n                    }\r\n                }\r\n    \r\n                this.buttonTakeSeats[i].node.active = false;\r\n                continue;\r\n            }\r\n\r\n            if ( status == 1 ) {\r\n                this.uiSeats[i].setEscapee();\r\n                this.buttonTakeSeats[i].node.active = false;\r\n                this.uiSeats[i].setShowEntity(false);\r\n                this.uiSeats[i].setShowReserve(true);\r\n                continue;\r\n            }\r\n\r\n            this.uiSeats[i].setShowEntity(false);\r\n            this.uiSeats[i].setShowReserve(false);\r\n            \r\n            this.uiSeats[i].setEscapee();\r\n            this.uiSeats[i].setNickname(\"EMPTY\");\r\n        }\r\n\r\n        if (Board.reserveSeat > -1) {\r\n            let status = info[Board.reserveSeat];\r\n            if ( status == 0 ) {\r\n                this.onClickSeatButton (Board.reserveSeat);\r\n                Board.reserveSeat = -1;\r\n            } else {\r\n\r\n            }\r\n        }\r\n\r\n        let playing = info.filter ((status)=>{\r\n            return (status === 2);\r\n        });\r\n\r\n        this.joinPlayer = seats.length;\r\n        this.playingPlayer = playing.length;\r\n    }\r\n\r\n    public startSeatsSelect(second: number) {\r\n        if (this.node.active == true) {\r\n            return;\r\n        }\r\n\r\n        this.labelLimitTimer.string = '플레이할 자리를 선택해 주세요' + '(' + ( second ).toString() + ')';\r\n\r\n        this.count = 0;\r\n        this.isOpen = true;\r\n        this.pauseTimer = false;\r\n\r\n        if ( second > 0 ) {\r\n            this.limitTime = second;\r\n            this.timerId = setInterval( ()=>this.checkTimer(), 1000 );\r\n        }\r\n\r\n        this.unselectSeatDuringTime = false;\r\n        this.node.active = true;\r\n    }\r\n\r\n    end() {\r\n        if (this.node.active == false) {\r\n            return;\r\n        }\r\n\r\n        this.clearTimer();\r\n        this.isOpen = false;\r\n        this.pauseTimer = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    onClickSeatButton(seatPos: number) {\r\n\r\n        if (null == this.callback) {\r\n            return;\r\n        }\r\n\r\n        if (true === this.isWaitingResult) {\r\n            return;\r\n        }\r\n\r\n        AudioController.instance.PlaySound('BUTTON_CLICK');\r\n\r\n        this.isWaitingResult = true;\r\n        this.callback( seatPos );\r\n    }\r\n\r\n    pause() {\r\n        if ( this.isOpen == true ) {\r\n            this.pauseTimer = true;\r\n        }\r\n    }\r\n\r\n    unpause() {\r\n        if ( this.isOpen == true ) {\r\n            this.pauseTimer = false;\r\n            clearInterval( this.timerId );\r\n            this.timerId = setInterval( ()=> this.checkTimer(), 60000 );\r\n        }\r\n    }\r\n\r\n    onResultFail() {\r\n        this.isWaitingResult = false;\r\n    }\r\n\r\n    checkTimer() {\r\n        if ( this.isOpen == false ) {\r\n            clearInterval( this.timerId );\r\n            return;\r\n        }\r\n\r\n        if ( this.pauseTimer == true ) {\r\n            return;\r\n        }\r\n\r\n        this.count++;\r\n\r\n        if (this.count >= this.limitTime ) {\r\n            this.clearTimer();\r\n            // this.isOpen = false;\r\n            this.timerId = -1;\r\n            this.unselectSeatDuringTime = true;\r\n\r\n            this.unscheduleAllCallbacks();\r\n            Board.table.leave();\r\n            Board.table.LoadLobby();\r\n\r\n            // UiGameSystemPopup.instance.showOkPopup('자리 선택', '자리를 선택하지 않아 로비로 이동합니다', ()=>{\r\n            //     UiGameSystemPopup.instance.closePopup();\r\n            //     Board.table.LoadLobby();\r\n\r\n            //     this.unselectSeatDuringTime = false;\r\n            // });\r\n\r\n        }\r\n        else {\r\n            if ( this.labelLimitTimer != null ) {\r\n                this.labelLimitTimer.string = '플레이할 자리를 선택해 주세요' + '(' + ( this.limitTime - this.count).toString() + ')';\r\n            }\r\n        }\r\n    }\r\n\r\n    checkTimerId() {\r\n        if ( this.timerId != -1 ) {\r\n            clearInterval( this.timerId );\r\n            this.timerId = -1;\r\n        }\r\n\r\n    }\r\n\r\n    clearTimer() {\r\n        clearInterval( this.timerId );\r\n        this.count = 0;\r\n        this.timerId = -1;\r\n    }\r\n\r\n    isSeatsSelectOpen(): boolean {\r\n        return false;\r\n    }\r\n\r\n    leaveRoom() {\r\n        this.clearTimer();\r\n        this.isOpen = false;\r\n        this.timerId = -1;\r\n\r\n        this.node.active = false;\r\n        Board.table.leave();\r\n    }\r\n\r\n    leave() {\r\n        clearInterval( this.timerId );        \r\n        this.isOpen = false;\r\n        this.timerId = -1;\r\n        this.node.active = false;\r\n    }\r\n\r\n    onJoinTable() {\r\n        Board.room.send(\"BUY_IN\", {id: Board.id, buyInAmount: Board.buyin});\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, Animation, AnimationState } from 'cc';\nimport { AudioController } from './AudioController';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UiShowDownEffect')\nexport class UiShowDownEffect extends Component {\n    private animation: Animation = null;\n    private animState: AnimationState = null;\n    private cbDone: ()=> void;\n\n    Init() {\n        this.animation = this.node.getComponent(Animation);\n        if ( this.animation != null ) {\n            this.animation.on('finished', this.onFinished.bind(this), this);\n        }\n        this.node.active = false;\n    }\n\n    Show( cbDone:()=>void ) {\n        if ( cbDone != null ) {\n            this.cbDone = cbDone;\n        }\n\n        this.scheduleOnce(()=>{\n            AudioController.instance.PlaySound('SHOWDOWN');\n            this.node.active = true;\n            this.animation.play();\n        }, 0.5);\n    }\n\n    Hide() {\n        if ( this.cbDone != null ) {\n            this.cbDone = null;\n        }\n\n        this.node.active = false;\n\n    }\n\n    onFinished() {\n        if ( this.cbDone != null ) {\n            this.cbDone();\n        }\n    }\n\n}\n\n","import { _decorator, Component, Node, director, Sprite, Vec3, Label, sys,\r\n    instantiate, bezier, UITransform, tween, SpriteFrame, Color, Quat, Button, ConstantForce} from 'cc';\r\nimport { Board } from './Board';\r\nimport { NetworkManager } from './NetworkManager';\r\n\r\nimport * as PokerEvaluator from \"./PokerEvaluator\";\r\nimport { UiEntity } from './UiEntity';\r\nimport { UiPlayerAction } from './UiPlayerAction';\r\nimport { Pot, UiPot } from './UiPot';\r\nimport { UiSeats } from './UiSeats';\r\nimport { UiBuyIn} from \"./Game/UiBuyIn\";\r\nimport { UiControls} from \"./Game/UiControls\";\r\nimport { UiGameSystemPopup} from \"./Game/UiGameSystemPopup\";\r\nimport { CommonUtil } from './CommonUtil';\r\nimport { AudioController } from './Game/AudioController';\r\nimport { ENUM_RESERVATION_TYPE, UiPlayerActionReservation } from './Game/UiPlayerActionReservation';\r\nimport { EMOTICON_TYPE, UiGameChatting } from './Game/UiGameChatting';\r\nimport { UiWinEffect } from './Game/UiWinEffect';\r\nimport { UiPotChips } from './Game/UiPotChips';\r\nimport { UiRoundPotValue } from './Game/UiRoundPotValue';\r\nimport { ResourceManager } from './ResourceManager';\r\nimport { UiShowDownEffect } from './Game/UiShowDownEffect';\r\nimport { UiEffectShowRiver } from './Game/UiEffectShowRiver';\r\nimport { UiCommunityCards } from './Game/UiCommunityCards';\r\nimport { PlayerActionInformation } from './Game/PlayerActionInformation';\r\nimport { ENUM_BET_SOUND } from './HoldemDefines';\r\nimport { UiPopupGameProfile } from './Game/UiPopupGameProfile';\r\nimport { UiGamePOPUP_MESSAGES } from './Game/UiGamePOPUP_MESSAGES';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\nlet totalCards: string[] = [\r\n\t\"Ac\", \"Kc\", \"Qc\", \"Jc\", \"Tc\", \"9c\", \"8c\", \"7c\", \"6c\", \"5c\", \r\n\t\"4c\", \"3c\", \"2c\", \"Ad\", \"Kd\", \"Qd\", \"Jd\", \"Td\", \"9d\", \"8d\", \r\n\t\"7d\", \"6d\", \"5d\", \"4d\", \"3d\", \"2d\",\t\"Ah\", \"Kh\", \"Qh\", \"Jh\", \r\n\t\"Th\", \"9h\", \"8h\", \"7h\", \"6h\", \"5h\", \"4h\", \"3h\", \"2h\", \"As\", \r\n\t\"Ks\", \"Qs\", \"Js\", \"Ts\", \"9s\", \"8s\", \"7s\", \"6s\", \"5s\", \"4s\",\r\n\t\"3s\", \"2s\" ];\r\n\r\nconst GAME_STATE_SUSPEND: number = 0;\r\nconst GAME_STATE_READY: number = 1;\r\nconst GAME_STATE_PREPARE: number = 2;\r\nconst GAME_STATE_PREFLOP: number = 3;\r\nconst GAME_STATE_BET: number = 4;\r\nconst GAME_STATE_FLOP: number = 5;\r\nconst GAME_STATE_TURN: number = 6;\r\nconst GAME_STATE_RIVER: number = 7;\r\nconst GAME_STATE_RESULT: number = 8;\r\nconst GAME_STATE_SHOWDOWN: number = 9;\r\nconst GAME_STATE_CLEAR: number = 10;\r\n\r\nconst SHOWDOWN_NONE: number = 0;\r\nconst SHOWDOWN_START: number = 1;\r\nconst SHOWDOWN_FLOP: number = 2;\r\nconst SHOWDOWN_TURN: number = 3;\r\nconst SHOWDOWN_RIVER: number = 4;\r\nconst SHOWDOWN_END: number = 5;\r\n\r\n@ccclass('UiTable')\r\nexport class UiTable extends Component {\r\n    @property(UiSeats) uiSeats: UiSeats = null;\r\n\t@property(UiPot) uiPot : UiPot = null;\r\n\t@property(UiBuyIn) uiBuyIn: UiBuyIn = null;\r\n\t@property(UiGamePOPUP_MESSAGES) uiGamePOPUP_MESSAGES: UiGamePOPUP_MESSAGES = null;\t\r\n\t@property(UiPopupGameProfile) uiProfile: UiPopupGameProfile = null;\t\r\n\t@property(UiPlayerActionReservation) uiPlayerActionReservation: UiPlayerActionReservation = null;\r\n\t@property(UiCommunityCards) uiCommunityCards: UiCommunityCards = null;\r\n\r\n\t@property(Node) nodeCardShuffleMessage: Node = null;\r\n\t@property(Button) buttonShowCard: Button = null;\r\n\t@property(Button) buttonSitout: Button = null;\r\n\t@property(Button) buttonSitoutCancel: Button = null;\t\r\n\t@property(Button) buttonSitback: Button = null;\r\n\t@property(Button) buttonEmoticon: Button = null;\r\n\t@property(Button) buttonAddChips: Button = null;\r\n\r\n\t@property(UiGameChatting) uiGameChatting: UiGameChatting = null;\r\n\t@property(UiWinEffect) uiWinEffect: UiWinEffect = null;\t\r\n\t@property(UiPotChips) uiPotChips: UiPotChips = null;\r\n\t@property(UiRoundPotValue) uiRoundPotValue: UiRoundPotValue = null;\r\n\t@property(UiShowDownEffect) uiShowDownEffect: UiShowDownEffect = null;\r\n\t@property(UiEffectShowRiver) uiEffectShowRiver: UiEffectShowRiver = null;\r\n\r\n\t// @property(PlayerActionInformation) playerActionInformation: PlayerActionInformation = null;\r\n\r\n\tprivate GAME_STATE: number = GAME_STATE_SUSPEND;\r\n\tprivate SHOWDOWN_STATE: number = SHOWDOWN_NONE;\r\n\r\n\tprivate SEAT_PLAYERS: number[] = [];\r\n    private PLAYER_CARDS: {} = null;\r\n    private ENTITY_ELEMENTS: UiEntity[] = [];\r\n\r\n    private roundState: string = \"\";\r\n    private spritePotRoot: Sprite = null;\r\n\r\n    private uiPlayerAction: UiPlayerAction = null;\r\n    private nodeCardDispensingRoot: Node = null;\r\n\r\n    private timerRoot: Node = null;\r\n    private labelReadyMessage: Label = null;\r\n\r\n    private objPotMoveToWinnerChips: {} = {};\r\n    private objPotReturnChips: {} = {};\r\n\r\n    private curPotValue: number = -1;\r\n    private myChips: number = -1;\r\n    private mySeat: number = -1;\r\n\tprivate myCards: number[] = [-1, -1];\r\n    private myWaitStatus: boolean = false;\r\n\r\n    private startBetFromServer: number = -1;\r\n    private betMin: number = -1;\r\n    private seatMax: number = 6;\r\n    private enableSeats: number[] = [];\r\n\r\n\tprivate seatDealer: number = -1;\r\n\tprivate seatSB: number = -1;\r\n\tprivate seatBB: number = -1;\r\n\r\n    private room: Colyseus.Room = null;\r\n    private msgWINNERS: string = \"\";\r\n\r\n    private isFold: boolean = false;\r\n    private isAllIn: boolean = false;\r\n\tprivate isSitout: boolean = false;\r\n\tprivate isWait: boolean = false;\r\n\r\n    private readyMessageHandler: number = -1;\r\n    private countPlayers: number = -1;\r\n\r\n\tstatic seatMaxFromServer : number = 9;\r\n\r\n\tprivate isSitOutReservation: boolean = false;\r\n\tprivate labelCurrentPot: Label = null;\r\n\r\n\tprivate rootPotChips: Node = null;\r\n\tprivate labelSitout: Label = null;\r\n\tprivate labelSitback: Label = null;\r\n\tprivate isReserveSitout: boolean = false;\r\n\tprivate isSitoutable: boolean = false;\r\n\tprivate labelReservationSitout: Label = null;\r\n\tprivate rootCurrentPot: Node = null;\r\n\tprivate reserveLeave: boolean = false;\r\n\tprivate updateClinet: boolean = true;\r\n\tprivate room_id: string = '';\r\n\tprivate session_id: string = '';\r\n\tprivate reconnect: boolean = false;\r\n\r\n\tprivate cbHandInfo:( hands: any )=> void;\r\n\r\n    init( cbHandInfo: (hands: any)=>void ) {\r\n        this.seatMax = UiTable.seatMaxFromServer;\r\n        globalThis.lib = {};\r\n\r\n        PokerEvaluator.exportToGlobal(globalThis.lib);\r\n\r\n        Board.table = this;\r\n        \r\n        this.childRegistered();\r\n\r\n        this.uiSeats.init(this.seatMax, this.onClickSeatSelect.bind(this));\r\n\t\tthis.uiBuyIn.init();\r\n\t\tthis.uiGamePOPUP_MESSAGES.init( this.onREFRESH_UNREAD_MSG.bind(this));\r\n\t\tthis.uiProfile.init();\r\n\r\n\t\tthis.uiGameChatting.init( this.onClickEmoticon.bind(this), this.onClickEmticonExit.bind(this));\r\n\t\tthis.setEmoticonButtinInteractive(true);\r\n\t\tthis.uiPlayerActionReservation.init();\r\n\t\tthis.uiWinEffect.init();\r\n\t\tthis.uiPotChips.init();\r\n\t\tthis.uiRoundPotValue.init();\r\n\t\tthis.uiShowDownEffect.Init();\r\n\t\tthis.uiEffectShowRiver.Init();\r\n\t\tthis.uiCommunityCards.Init();\r\n\r\n\t\tif ( cbHandInfo != null ) {\r\n\t\t\tthis.cbHandInfo = cbHandInfo;\r\n\t\t}\r\n\r\n        if ( null == NetworkManager.Instance().room ) {\r\n            return;\r\n        }\r\n\r\n        this.registRoomEvent(NetworkManager.Instance().room);\r\n\r\n\t\tUiControls.instance.SetCallback( this.onCLICK_MESSAGE.bind(this), this.onCLICK_EXIT.bind(this) );\r\n\t\tUiControls.instance.show();\r\n\r\n\t\tlet bg: Sprite = this.node.getChildByPath('SPRITE_BACKGROUND').getComponent(Sprite);\r\n        if ( bg != null ) {\r\n            ResourceManager.Instance().setBackgroundImage(bg);\r\n            bg.node.active = true;\r\n        }\r\n\r\n        let tb: Sprite = this.node.getChildByPath('SPRITE_TABLE').getComponent( Sprite );\r\n        if ( tb != null ) {\r\n            ResourceManager.Instance().setTableImage(tb);\r\n            tb.node.active = true;            \r\n        }\r\n\r\n\t\tthis.buttonEmoticon.node.on('click', this.onClickShowEmoticon.bind(this), this);\r\n\t\tthis.buttonAddChips.node.on('click', this.onClickAddChips.bind(this), this);\r\n\r\n\t\tthis.hide();\r\n        this.sendMsg(\"ONLOAD\", {\r\n\r\n        });\r\n    }\r\n\r\n\tonClickShowEmoticon(button: Button) {\r\n\t\tAudioController.instance.ButtonClick();\t\t\r\n\t\tthis.uiGameChatting.show();\r\n\t}\r\n\r\n\tonClickEmoticon( type: EMOTICON_TYPE, id: number ) {\r\n\t\tthis.sendMsg(\"SHOW_EMOTICON\", { \r\n\t\t\tseat : this.mySeat, \r\n\t\t\ttype: type,\r\n\t\t\tid: id,\r\n\t\t});\r\n\t\tthis.uiGameChatting.hide();\t\t\r\n\r\n\t\tlet uiEntity =  this.GetEntityFromSeat( this.mySeat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.setEmoticon(type, id)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic setEmoticonButtinInteractive(enable: boolean) {\r\n\t\tthis.buttonEmoticon.interactable = enable;\r\n\t}\r\n\r\n\tonClickEmticonExit() {\r\n\r\n\t}\r\n\r\n    private childRegistered() {\r\n\t\tthis.uiPlayerAction = this.node.getChildByPath( \"PLAYER_ACTION\" ).getComponent( UiPlayerAction );\r\n\t\tthis.uiPlayerAction.hide();\r\n\r\n\t\tthis.nodeCardDispensingRoot = this.node.getChildByPath( \"CARD_DISPENSING_ROOT\" );\r\n\r\n\t\tlet entitiesRoot9 = this.node.getChildByPath( `ENTITIES_9` );\r\n\t\tlet entitiesRoot6 = this.node.getChildByPath( `ENTITIES_6` );\r\n\r\n\t\tlet entitiesRootPath = `ENTITIES_${ this.seatMax }`;\r\n\r\n\t\tif( entitiesRoot9.name === entitiesRootPath ) {\r\n\t\t\tentitiesRoot9.active = true;\r\n\t\t\tentitiesRoot6.active = false;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tentitiesRoot9.active = false;\r\n\t\t\tentitiesRoot6.active = true;\r\n\t\t}\r\n\r\n\t\tthis.ENTITY_ELEMENTS = [];\r\n\t\tlet playerMe = this.node.getChildByPath( `${ entitiesRootPath }/ENTITY_ME` ).getComponent( UiEntity );\r\n\t\tif ( playerMe != null ) {\r\n\t\t\tplayerMe.isMe = true;\r\n\t\t\tplayerMe.Init();\r\n\t\t\tthis.ENTITY_ELEMENTS.push( playerMe );\r\n\t\t}\r\n\r\n\t\tfor( let i = 1; i < this.seatMax; i++ ) {\r\n\t\t\tlet elem = this.node.getChildByPath( `${ entitiesRootPath }/ENTITY_${ i }` ).getComponent( UiEntity );\r\n\t\t\tif ( elem != null ) {\r\n\t\t\t\telem.isMe = false;\r\n\t\t\t\telem.Init();\r\n\t\t\t\tthis.ENTITY_ELEMENTS.push( elem );\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.rootPotChips = this.node.getChildByPath('ROUND_POT/POT_CHIPS');\r\n\r\n\t\tfor ( let i = 1; i < this.ENTITY_ELEMENTS.length; i++ ) {\r\n\t\t\tlet entity = this.ENTITY_ELEMENTS[i];\r\n\t\t\tif (entity != null) {\r\n\t\t\t\tentity.SetEscape();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.spritePotRoot = this.node.getChildByPath( \"POT\" ).getComponent( Sprite );\r\n\t\tthis.spritePotRoot.node.active = false;\r\n\r\n\t\tlet winnerChips = this.node.getChildByPath( \"WINNER_CHIPS\" );\r\n\t\tlet keys = Object.keys( this.objPotMoveToWinnerChips );\r\n\t\tkeys.forEach( elem => {\r\n\t\t\tlet obj = this.objPotMoveToWinnerChips[ elem ];\r\n\t\t\tfor( let i = 0; i < obj.sprChips.length; i++ ) {\r\n\t\t\t\tlet spr: Sprite = obj.sprChips[ i ];\r\n\t\t\t\tspr.node.destroy();\r\n\t\t\t\tspr.node.removeFromParent();\r\n\t\t\t}\r\n\t\t\tobj.sprChips = [];\r\n\t\t} );\r\n\r\n\t\tthis.objPotMoveToWinnerChips = {};\r\n\r\n\t\tlet originalSprChipsCount = winnerChips.children.length;\r\n\t\tfor( let loopIdx: number = 0; loopIdx < 10; loopIdx++ ) {\r\n\t\t\tlet cloneSprArray: Sprite[] = [];\r\n\t\t\tfor( let i = 0; i < originalSprChipsCount; i++ ) {\r\n\t\t\t\tlet node: Node = winnerChips.children[ i ];\r\n\t\t\t\tif( false == node.isValid ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnode.active = false;\r\n\t\t\t\tlet newNode = instantiate( node );\r\n\t\t\t\tnewNode.setParent( node.parent );\r\n\t\t\t\tnewNode.position = new Vec3( node.position );\r\n\t\t\t\tnewNode.scale = new Vec3( node.scale );\r\n\t\t\t\tnewNode.name = `sprChip_${ loopIdx }_${ i }`;\r\n\t\t\t\tcloneSprArray.push( newNode.getComponent( Sprite ) );\r\n\t\t\t}\r\n\r\n\t\t\tthis.objPotMoveToWinnerChips[ loopIdx ] = { sprChips: cloneSprArray };\r\n\t\t}\r\n\r\n\t\tlet returnChips = this.node.getChildByPath(\"RETURN_CHIPS\");\r\n\t\tlet rKeys = Object.keys(this.objPotReturnChips);\r\n\r\n\t\trKeys.forEach(elem => {\r\n\t\t\tlet obj = this.objPotReturnChips[ elem ];\r\n\t\t\tfor(let i = 0 ; i < obj.sprChips.length; i++){\r\n\t\t\t\tlet spr : Sprite = obj.sprChips[i];\r\n\t\t\t\tspr.node.destroy();\r\n\t\t\t\tspr.node.removeFromParent();\r\n\t\t\t}\r\n\r\n\t\t\tobj.sprChips = [];\r\n\t\t})\r\n\r\n\t\tthis.objPotReturnChips = {};\r\n\t\t\r\n\t\tlet originSprReturnChipsCount = returnChips.children.length;\r\n\t\tfor(let i = 0; i < 10;i++){\r\n\t\t\tlet clone: Sprite[] = [];\r\n\t\t\tfor(let j = 0; j < originSprReturnChipsCount; j++){\r\n\t\t\t\tlet node : Node = returnChips.children[ j ];\r\n\r\n\t\t\t\tif(false == node.isValid){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tnode.active = false;\r\n\t\t\t\tlet newNode = instantiate(node);\r\n\t\t\t\tnewNode.setParent(node.parent);\r\n\t\t\t\tnewNode.position = new Vec3(node.position);\r\n\t\t\t\tnewNode.scale = new Vec3(node.scale);\r\n\t\t\t\tnewNode.name = `sprChip_${ i }_${ j }`;\r\n\t\t\t\tclone.push( newNode.getComponent( Sprite ) );\r\n\t\t\t}\r\n\r\n\t\t\tthis.objPotReturnChips[ i ] = {sprChips : clone};\r\n\t\t}\r\n\r\n\t\tthis.labelReadyMessage = this.node.getChildByPath(\"LABLE_READY_MESSAGE\").getComponent( Label );\r\n\t\tthis.labelReadyMessage.string = \"\";\r\n\t\tthis.labelReadyMessage.node.active = false;\r\n\r\n\t\tlet isOn = true;\r\n\r\n\t\tthis.buttonShowCard.node.off('click');\r\n\t\tthis.buttonShowCard.node.on('click', this.onClickShowCard.bind(this));\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\r\n\t\tthis.buttonSitout.node.off('click');\r\n\t\tthis.buttonSitout.node.on('click', this.onClickSitout.bind(this));\r\n\t\tthis.buttonSitout.node.active = false;\r\n\r\n\t\tthis.labelSitout = this.buttonSitout.node.getChildByPath('LABEL').getComponent(Label);\r\n\t\tif ( this.labelSitout != null ) {\r\n\t\t\tthis.labelSitout.string = '자리비움';\r\n\t\t}\r\n\r\n\t\tthis.buttonSitback.node.off('click');\r\n\t\tthis.buttonSitback.node.on('click', this.onClickSitback.bind(this));\r\n\t\tthis.buttonSitback.node.active = false;\r\n\r\n\t\tthis.labelSitback = this.buttonSitback.node.getChildByPath('LABEL').getComponent(Label);\r\n\t\tif ( this.labelSitback != null ) {\r\n\t\t\tthis.labelSitback.string = '게임복귀';\r\n\t\t}\r\n\r\n\t\tthis.nodeCardShuffleMessage.active = false;\r\n\r\n\t\tthis.labelReservationSitout = this.node.getChildByPath('LABEL_RESERVATION_SITOUT').getComponent(Label);\r\n\t\tif ( this.labelReservationSitout != null ) {\r\n\t\t\tthis.labelReservationSitout.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonSitoutCancel.node.off('click');\r\n\t\tthis.buttonSitoutCancel.node.on('click', this.onClickSitCancel.bind(this));\r\n\t\tthis.buttonSitoutCancel.node.active = false;\r\n\r\n\t\tthis.rootCurrentPot = this.node.getChildByPath('CURRENT_POT');\r\n\t\tif ( this.rootCurrentPot != null ) {\r\n\t\t\tthis.rootCurrentPot.active = false;\r\n\r\n\t\t\tthis.labelCurrentPot = this.rootCurrentPot.getChildByPath('LABEL_CURRENT_POT').getComponent(Label);\r\n\t\t\tthis.labelCurrentPot.string = '0';\r\n\t\t\tthis.labelCurrentPot.node.active = false;\r\n\t\t}\r\n    }\r\n\r\n\tprivate SetCurrentPot( value: number ) {\r\n\t\tlet v = CommonUtil.getKoreanNumber( value );\r\n\t\tthis.labelCurrentPot.string = v;\r\n\r\n\t\tthis.labelCurrentPot.node.active = true;\r\n\t\tthis.rootCurrentPot.active = true;\t\t\r\n\t}\r\n\r\n\tprivate ResetCurrentPot() {\r\n\t\tthis.labelCurrentPot.string = '0';\r\n\t\tthis.rootCurrentPot.active = false;\r\n\t}\r\n\r\n    private onClickSeatSelect(no: number)\r\n    {\r\n        this.sendMsg(\"SEAT_SELECT\", {\r\n            selected: no,\r\n        });\r\n    }\r\n\r\n    private onSHOW_SELECT_SEAT(msg: any) {\r\n        let limitTime = msg[\"limitTime\"];\r\n        this.uiSeats.startSeatsSelect(limitTime);\r\n\r\n\t\tthis.node.active = false;\r\n    }\r\n\r\n    private onSELECT_SEAT_ERROR(msg: any) {\r\n        this.uiSeats.onResultFail();\r\n    }\r\n\r\n    private onUPDATE_SELECT_SEAT(msg: any) {\r\n        this.uiSeats.updateSeatInfo( msg[\"entities\"], msg[\"seatInfo\"], msg[\"bbSeat\"], msg[\"sbSeat\"], msg[\"dealerSeat\"]);\r\n    }\r\n\r\n    public onClickSitout() {\r\n\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tthis.buttonSitout.interactable = false;\r\n\r\n\t\tthis.SetSitout();\r\n\t}\r\n\r\n    public onClickSitback() {\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tthis.buttonSitback.interactable = false;\r\n\r\n\t\tthis.SetSitback();\r\n    }\r\n\r\n\tpublic onClickSitCancel( button: Button ) {\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tbutton.interactable = false;\r\n\r\n\t\tthis.sendMsg(\"SIT_OUT_CANCEL\", { \r\n\t\t\tseat : this.mySeat \r\n\t\t});\t\t\r\n\t}\r\n\r\n\tprivate SetSitout() {\r\n\t\tthis.sendMsg(\"SIT_OUT\", { \r\n\t\t\tseat : this.mySeat \r\n\t\t});\r\n\t}\r\n\r\n\tprivate SetSitback() {\r\n\t\tthis.sendMsg(\"SIT_BACK\", {\r\n\t\t\tseat : this.mySeat\r\n\t\t});\r\n\t}\r\n\r\n    onClickAddChips() {\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tthis.sendMsg( \"ADD_CHIPS_REQUEST\", {seat: this.mySeat } );\r\n    }\r\n\r\n    onCLICK_EXIT() {\r\n\r\n\t\tlet user = NetworkManager.Instance().GetUser();\r\n\t\tif ( this.uiSeats.node.active == true ) {\r\n\t\t\tUiGameSystemPopup.instance.showYesNoPopup(\"게임종료\", \"게임을 나가시겠습니까?\", ()=>{\r\n\r\n\t\t\t\tthis.sendMsg(\"EXIT_TABLE\", {\r\n\t\t\t\t\tseat : this.mySeat,\r\n\t\t\t\t\tid : user.id,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t}, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tUiGameSystemPopup.instance.showYesNoPopup(\"게임종료\", \"게임을 나가시겠습니까?\", ()=>{\r\n\r\n\t\t\t\tthis.sendMsg(\"EXIT_TABLE\", {\r\n\t\t\t\t\tseat : this.mySeat,\r\n\t\t\t\t\tid : user.id,\r\n\t\t\t\t});\r\n\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t}, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n\tonCLICK_MESSAGE() {\r\n\t\tthis.uiGamePOPUP_MESSAGES.show();\r\n    }\r\n\r\n    public show() {\r\n        this.node.active = true;\r\n    }\r\n\r\n    public hide() {\r\n\t\tclearInterval(this.readyMessageHandler);        \r\n        this.node.active = false;\r\n    }\r\n\r\n    registRoomEvent( room: Colyseus.Room ) {\r\n        this.room = room;\r\n        room.onMessage( \"NEW_ENTITY\", this.onNEW_ENTITY.bind( this ) );\r\n\t\troom.onMessage( \"HANDLE_ESCAPEE\", this.onHANDLE_ESCAPEE.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SUSPEND_ROUND\", this.onSUSPEND_ROUND.bind( this ) );\r\n\t\troom.onMessage( \"READY_ROUND\", this.onREADY_ROUND.bind( this ) );\r\n\t\troom.onMessage( \"PREPARE_ROUND\", this.onPREPARE_ROUND.bind( this ) );        \r\n        room.onMessage( \"CARD_DISPENSING\", this.onCARD_DISPENSING.bind( this ) );\r\n\t\troom.onMessage( \"BLIND_BET\", this.onBLIND_BET.bind( this ) );\r\n\t\troom.onMessage( \"PRE_FLOP_END\", this.onPRE_FLOP_END.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SHOW_FLOP\", this.onSHOW_FLOP.bind( this ) );\r\n\t\troom.onMessage( \"FLOP_END\", this.onFLOP_END.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SHOW_TURN\", this.onSHOW_TURN.bind( this ) );\r\n\t\troom.onMessage( \"TURN_END\", this.onTURN_END.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SHOW_RIVER\", this.onSHOW_RIVER.bind( this ) );\r\n\t\troom.onMessage( \"RIVER_END\", this.onRIVER_END.bind( this ) );\r\n\r\n\t\troom.onMessage( 'SHOWDOWN_START', this.onSHOWDOWN_START.bind(this) );\r\n\t\troom.onMessage( 'SHOWDOWN_FLOP', this.onSHOWDOWN_FLOP.bind(this) );\r\n\t\troom.onMessage( 'SHOWDOWN_TURN', this.onSHOWDOWN_TURN.bind(this) );\r\n\t\troom.onMessage( 'SHOWDOWN_RIVER', this.onSHOWDOWN_RIVER.bind(this) );\r\n\t\troom.onMessage( \"CLEAR_ROUND\", this.onCLEAR_ROUND.bind( this ) );\r\n        \r\n        //PLAYER ACTION\r\n\t\troom.onMessage( \"YOUR_TURN\", this.onYOUR_TURN.bind( this ) );\r\n\t\troom.onMessage( \"FOLD\", this.onFOLD.bind( this ) );\r\n\t\troom.onMessage( \"CHECK\", this.onCHECK.bind( this ) );\r\n\t\troom.onMessage( \"CALL\", this.onCALL.bind( this ) );\r\n\t\troom.onMessage( \"BET\", this.onBET.bind( this ) );\r\n\t\troom.onMessage( \"RAISE\", this.onRAISE.bind( this ) );\r\n\t\troom.onMessage( \"SHOW_CARD\", this.onSHOW_CARD.bind( this ) );\r\n\t\troom.onMessage( \"PLAYER_CARDS\", this.onPLAYER_CARDS.bind( this ) );\r\n\t\troom.onMessage( \"WINNERS\", this.onWINNERS.bind( this ) );\r\n\r\n        room.onMessage( \"BUY_IN\", this.onBUY_IN.bind( this ) );\r\n\t\troom.onMessage( \"RES_BUY_IN\", this.onRES_BUY_IN.bind( this ) );\r\n\t\troom.onMessage( \"RES_RE_BUY\", this.onRES_RE_BUY.bind( this ) );\r\n\t\t\r\n\t\troom.onMessage( \"RE_BUY_IN\", this.onRE_BUY_IN.bind( this ) );\r\n\t\troom.onMessage( \"RES_ADD_CHIPS_REQUEST\", this.onRES_ADD_CHIPS_REQUEST.bind( this ) );\r\n\t\troom.onMessage( \"RES_ADD_CHIPS\", this.onRES_ADD_CHIPS.bind( this ) );\r\n\r\n\t\troom.onMessage( \"RES_ADD_CHIPS_PEND\", this.onRES_ADD_CHIPS_PEND.bind( this ) );\r\n\r\n\t\troom.onMessage( \"SIT_OUT\", this.onSIT_OUT.bind(this));\r\n\t\troom.onMessage( \"SIT_OUT_PEND\", this.onSIT_OUT_PEND.bind(this));\r\n\t\troom.onMessage( \"SIT_OUT_CANCEL\", this.onSIT_OUT_CANCEL.bind(this));\t\t\r\n\t\troom.onMessage( \"SIT_BACK\", this.onSIT_BACK.bind(this));\r\n\r\n        room.onMessage( \"SHOW_SELECT_SEAT\", this.onSHOW_SELECT_SEAT.bind(this));\r\n        room.onMessage( \"UPDATE_SELECT_SEAT\", this.onUPDATE_SELECT_SEAT.bind(this));\r\n\t\troom.onMessage( \"SELECT_SEAT_ERROR\", this.onSELECT_SEAT_ERROR.bind(this));\r\n\t\troom.onMessage( \"SHOW_EMOTICON\", this.onSHOW_EMOTICON.bind(this));\r\n\t\troom.onMessage( \"SHOW_PROFILE\", this.onSHOW_PROFILE.bind(this));\r\n\r\n\t\troom.onMessage( \"TOKEN_VERIFY\", this.onTOKEN_VERIFY.bind(this));\r\n\r\n\t\troom.onMessage( \"SYNC_TABLE\", this.onSYNC_TABLE.bind(this));\r\n\t\troom.onMessage( \"EXIT_TABLE\", this.onEXIT_TABLE.bind(this));\r\n\r\n\t\t//MASTER CALL\r\n\t\troom.onMessage( \"MASTER_CALL\", this.onMASTER_CALL.bind(this));\r\n\t\troom.onMessage( \"FORCE_LEAVE\", this.onFORCE_LEAVE.bind(this));\r\n\t\troom.onMessage( \"MASTER_MESSAGE\", this.onMASTER_MESSAGE.bind(this));\r\n        \r\n        this.room.onMessage( \"JOIN\", msg => {\r\n            this.onJOIN(room, msg);\r\n        });\r\n\r\n        this.room.onMessage( \"REJOIN\", msg => {\r\n            this.onRE_JOIN(room, msg);\r\n        });\r\n\r\n        room.onLeave( ( code )=>{\r\n\r\n\t\t\tif ( code == 1001 ) {\r\n\t\t\t\tthis.reconnect = true;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tthis.reconnect = false;\r\n\r\n\t\t\t\tthis.leaveRoom( code );\r\n\t\t\t\tthis.hide();\r\n\t\r\n\t\t\t\tif ( this.uiSeats.isSeatsSelectOpen() == true ) {\r\n\t\t\t\t\tthis.uiSeats.leave();\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tNetworkManager.Instance().room.removeAllListeners();\r\n\t\t\t\tNetworkManager.Instance().leaveReason = code;\r\n\t\r\n\t\t\t\tdirector.loadScene(\"LobbyScene\");\t\r\n\t\t\t}\r\n        });\r\n\r\n        this.room.onMessage( \"ping\", this.onPING.bind( this ) );\r\n    }\r\n\r\n\tprivate onSHOW_EMOTICON(msg) {\r\n\t\tlet seat = msg['seat'];\r\n\t\tif ( seat == this.mySeat ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet type = msg['type'];\r\n\t\tlet id = msg['id'];\r\n\r\n\t\tlet uiEntity =  this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tif (type == 0 ) {\r\n\t\t\t\tuiEntity.setEmoticon(EMOTICON_TYPE.Emoticon, id);\r\n\t\t\t} else {\r\n\t\t\t\tuiEntity.setEmoticon(EMOTICON_TYPE.Chatting, id);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onSHOW_PROFILE(msg) {\r\n\r\n\t\tlet statics = msg['statics'];\r\n\t\tlet entity = msg['entity'];\r\n\t\tlet seat = msg['seat'];\r\n\r\n\t\tlet me = (this.mySeat == seat) ;\r\n\r\n\t\tif ( statics != null ) {\r\n\t\t\tthis.uiProfile.show( entity, statics, me );\r\n\t\t} else {\r\n\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('프로필', '정보를 불러올 수 없습니다.', ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate onEXIT_TABLE( msg ) {\r\n\t\tthis.uiSeats.end();\r\n\t\tthis.cbHandInfo = null;\r\n\r\n\t\tthis.room?.leave( true );\r\n\t}\r\n\r\n\tprivate onTOKEN_VERIFY( msg ) {\r\n\t\tlet verify = msg['verify']\r\n\t\tif ( verify == true ) {\r\n\r\n\t\t} else {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onSYNC_TABLE( msg ) {\r\n\t\treturn;\r\n\r\n\t\tthis.GAME_STATE = msg['gameState'];\r\n\t\tthis.SHOWDOWN_STATE = msg['showdownState'];\r\n\r\n\t\tthis.uiCommunityCards.Reset();\r\n\t\tthis.uiPot.maxPotRoot.active = false;\r\n\t\tthis.labelCurrentPot.node.active = false;\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\r\n\t\tthis.uiPot.Hide();\r\n\t\tthis.uiPotChips.hide();\r\n\t\tthis.uiRoundPotValue.hide();\r\n\t\tthis.uiProfile.hide();\r\n\r\n\t\tthis.msgWINNERS = '';\r\n\r\n\t\tthis.uiPlayerAction.init( Board.small, Board.big );\r\n\t\tthis.uiPlayerAction.hide();\r\n\t\tthis.uiPlayerActionReservation.hide();\r\n\r\n\t\tlet myEntity = msg[\"yourself\"];\t\t\r\n\t\tBoard.balance = myEntity.balance;\r\n\t\tthis.mySeat = myEntity.seat;\r\n\t\tthis.myChips = myEntity.chips;\r\n\t\tthis.myWaitStatus = myEntity.wait;\r\n        this.isFold = false;\r\n\t\tthis.isAllIn = false;\r\n\t\tthis.isSitout = myEntity.isSitOut;\r\n\r\n        let players: any = msg[\"entities\"];\r\n\t\tthis.countPlayers = players.length;\r\n        this.SEAT_PLAYERS = [];\r\n\r\n        for ( let i = 0; i < this.seatMax ; i++) {\r\n            let seat = this.mySeat + i;\r\n            this.SEAT_PLAYERS.push( seat % this.seatMax );\r\n        }\r\n\r\n        this.SetEntities( players );\r\n\t\tthis.enableSeats = [];\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity =  msg[ \"entities\" ].find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\r\n\t\t\tif( null == entity ) {\r\n\t\t\t\tuiEntity.SetEscape();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.enableSeats.push( entity.seat );\r\n\t\t}\t\t\r\n\r\n\t\tif ( this.GAME_STATE == GAME_STATE_SUSPEND ) {\r\n\r\n\t\t\tthis.labelReadyMessage.string = '다른 플레이어를 기다리고 있습니다';\r\n\t\t\tthis.labelReadyMessage.node.active = true;\r\n\r\n\t\t\tthis.uiPot.Hide();\r\n\r\n\t\t} else {\r\n\t\t\tthis.seatDealer = msg[\"dealer\"];\r\n\t\t\tlet uiDealer = this.GetEntityFromSeat( this.seatDealer );\r\n\t\t\tif ( uiDealer != null ) {\r\n\t\t\t\tuiDealer.SetButtons('DEALER');\r\n\t\t\t}\r\n\r\n\t\t\tthis.seatSB = msg['sb'];\r\n\t\t\tlet uiSB = this.GetEntityFromSeat( this.seatSB );\r\n\t\t\tif ( uiSB != null ) {\r\n\t\t\t\tuiSB.SetButtons('SB');\r\n\t\t\t}\r\n\r\n\t\t\tthis.seatBB = msg['bb'];\r\n\t\t\tlet uiBB = this.GetEntityFromSeat( this.seatBB );\r\n\t\t\tif ( uiBB != null ) {\r\n\t\t\t\tuiBB.SetButtons('BB');\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.GAME_STATE == GAME_STATE_PREFLOP ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_BET || \r\n\t\t\t\t this.GAME_STATE == GAME_STATE_FLOP ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_TURN ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_RIVER )\r\n\t\t\t{\r\n\t\t\t\tthis.curPotValue = msg['pot'];\r\n\t\t\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\t\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\r\n\t\t\t\tplayers.forEach( ( e )=> {\r\n\t\t\t\t\tlet uiEntity = this.GetEntityFromSeat( e.seat );\r\n\t\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\t\tif ( e.wait == true ) {\r\n\t\t\t\t\t\t\tuiEntity.SetWait( e );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif ( e.fold == true ) {\r\n\t\t\t\t\t\t\t\tuiEntity.SetFold( true );\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif ( e.seat != this.mySeat ) {\r\n\t\t\t\t\t\t\t\t\tuiEntity.ClearHands();\r\n\t\t\t\t\t\t\t\t\tuiEntity.SetShowHiddenCard();\r\n\t\t\t\t\t\t\t\t\tuiEntity.SetBetValue( e.roundBet );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.curPotValue = msg['pot'];\r\n\t\t\t\tif ( this.curPotValue > 0 ) {\r\n\t\t\t\t\tthis.labelCurrentPot.string = '현재 팟: ' + CommonUtil.getKoreanNumber(this.curPotValue);\r\n\t\t\t\t}\r\n\t\t\t\tthis.uiPotChips.show( msg['initPot'] );\r\n\t\t\t\tthis.uiRoundPotValue.show( msg['initPot'] );\r\n\t\t\t\t\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\t\t\t} else if ( this.GAME_STATE == GAME_STATE_RESULT ) {\r\n\t\t\t\tlet playerCards = msg['playerCards'];\r\n\t\t\t\tlet winners = msg['winners'];\r\n\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\r\n\t\t\t\tif ( playerCards != null ) {\r\n\t\t\t\t\tthis.onPLAYER_CARDS(playerCards);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( winners != null ) {\r\n\t\t\t\t\tthis.onWINNERS(winners);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( this.GAME_STATE == GAME_STATE_SHOWDOWN ) {\r\n\t\t\t\tlet showdown = msg['showdown'];\r\n\t\t\t\tlet winners = msg['winners'];\r\n\t\t\t\t\r\n\t\t\t\tthis.ShowdownOpenHands(showdown);\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\t\t\t\tthis.UpdatePlayerHandRank();\r\n\r\n\t\t\t\tif ( this.SHOWDOWN_STATE == SHOWDOWN_END ) {\r\n\t\t\t\t\tif ( winners != null ) {\r\n\t\t\t\t\t\tthis.onWINNERS( winners );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\t\r\n\r\n\tpublic LoadLobby() {\r\n\t\tdirector.loadScene(\"LobbyScene\");\r\n\t}\r\n\r\n    private onPING() {\r\n\r\n    }\r\n\r\n    public onRE_JOIN(room, msg) {\r\n\t\treturn;\r\n\r\n\t\tlet myEntity = msg[ \"yourself\" ];\r\n\r\n\t\tBoard.balance = myEntity.balance;\r\n\t\tBoard.big = msg[ \"big\" ];\r\n\t\tBoard.small = msg[ \"small\" ];\r\n\t\tBoard.minStakePrice = msg[\"minStakePrice\"];\r\n\t\tBoard.maxStakePrice = msg[\"maxStakePrice\"];\r\n\t\tBoard.passPrice = msg[ \"passPrice\" ];\r\n\r\n\t\tthis.timerRoot.active = msg[\"useTimePass\"];\r\n\r\n\t\tthis.room = room;\r\n\t\tthis.mySeat = myEntity.seat;\r\n\t\tthis.myChips = myEntity.chips;\r\n\t\tthis.myWaitStatus = myEntity.wait;\r\n\t\tthis.isFold = false;\r\n\t\tthis.SEAT_PLAYERS = [];\r\n\t\tthis.msgWINNERS = \"\";\r\n\t\t// this.playersCARD = null;\r\n\t\tthis.isAllIn = false;\r\n\t\tthis.curPotValue = msg[\"pot\"];\r\n\r\n\t\tthis.betMin = msg[\"minBet\"];\r\n\t\tthis.startBetFromServer = msg[\"minBet\"];\r\n\r\n\t\tthis.seatDealer = msg[\"dealer\"];\r\n\t\tthis.seatSB = msg[\"sb\"];\r\n\t\tthis.seatBB = msg[\"bb\"];\r\n\r\n\t\tfor( let i = 0; i < this.seatMax; i++ ) {\r\n\t\t\tlet seat = this.mySeat + i;\r\n\t\t\tthis.SEAT_PLAYERS.push( seat % this.seatMax );\r\n\t\t}\r\n\r\n\t\tif (true === myEntity.isSitOut) {\r\n\t\t\tthis.buttonSitout.node.active = false;\r\n\t\t\tthis.buttonSitback.node.active = true;\r\n\t\t} else {\r\n\t\t\tthis.buttonSitout.node.active = true;\r\n\t\t\tthis.buttonSitback.node.active = false;\r\n\t\t}\r\n\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\t\tlet players: any = msg[ \"entities\" ];\r\n\t\tthis.SetEntities( players );\r\n\t\tthis.countPlayers = players.length;\r\n\t\tthis.enableSeats = [];\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity =  msg[ \"entities\" ].find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\r\n\t\t\tif( null == entity ) {\r\n\t\t\t\tuiEntity?.SetEscape();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.enableSeats.push( entity.seat );\r\n\t\t}\t\t\r\n\r\n\t\t// this.setUiCommunityCards( msg[ \"openCards\" ] );\r\n\r\n\t\t// this.myPrimaryCardIndex = msg[\"primCard\"];\r\n\t\t// this.mySecondaryCardIndex = msg[\"secCard\"];\r\n\r\n\t\t// let uiEntity =  this.getUiEntityFromSeat(this.mySeat);\r\n\t\t// if (this.myPrimaryCardIndex != -1 && this.mySecondaryCardIndex != -1) {\r\n\t\t// \tlet sf: SpriteFrame = ResourceManager.Instance().getCardImage(this.myPrimaryCardIndex + 1);\r\n\t\t// \t// this.setAniOpenHand(uiEntity.spriteHandCards[0], sf, () => {\r\n\t\t// \t// });\r\n\r\n\t\t// \tsf = ResourceManager.Instance().getCardImage( this.mySecondaryCardIndex + 1 );\r\n\r\n\r\n\t\t// \t// this.setAniOpenHand(uiEntity.spriteHandCards[1], sf, () => {\r\n\t\t// \t// \tlet handRank = this.getHandRank(this.myPrimaryCardIndex, this.mySecondaryCardIndex, this.numberCommunityCards);\r\n\t\t// \t// \tuiEntity.setUiHandRank(handRank);\r\n\t\t// \t// });\r\n\r\n\t\t// \tif (myEntity.fold === true) {\r\n\t\t// \t\tuiEntity.setUiHandCardsFold();\r\n\t\t// \t}\r\n\t\t// }\r\n\r\n\t\tif (msg[\"centerCardState\"] != 0) {\r\n\t\t\tmsg[\"entities\"].forEach(element => {\r\n\t\t\t\tlet seatNumber = element.seat;\r\n\t\t\t\tlet entity = this.GetEntityFromSeat(seatNumber);\r\n\r\n\t\t\t\tif (seatNumber === this.mySeat || true === element.wait) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// entity.setShowHiddenCard( true );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tlet uiDealer = this.GetEntityFromSeat( this.seatDealer );\r\n\t\tif ( uiDealer != null ) {\r\n\t\t\tuiDealer.SetButtons( 'DEALER');\r\n\t\t}\r\n\r\n\t\tlet uiSB = this.GetEntityFromSeat( this.seatSB );\r\n\t\tif ( uiSB != null ) {\r\n\t\t\tuiSB.SetButtons('SB');\r\n\t\t}\r\n\r\n\t\tlet uiBB = this.GetEntityFromSeat( this.seatBB );\r\n\t\tif ( uiBB != null ) {\r\n\t\t\tuiBB.SetButtons('BB');\r\n\t\t}\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.show();\r\n    }\r\n\r\n    public onJOIN( room, msg) {\r\n\t\tconsole.log('onJOIN');\r\n\r\n\t\tBoard.big = msg[\"big\"];\r\n\t\tBoard.small = msg[\"small\"];\r\n\t\tBoard.minStakePrice = msg[\"minStakePrice\"];\r\n\t\tBoard.maxStakePrice = msg[\"maxStakePrice\"];\r\n\r\n        this.room = room;\r\n\r\n\t\tthis.GAME_STATE = msg['gameState'];\r\n\t\tthis.SHOWDOWN_STATE = msg['showdownState'];\r\n\r\n\t\tthis.uiCommunityCards.Reset();\r\n\t\tthis.uiPot.maxPotRoot.active = false;\r\n\t\tthis.labelCurrentPot.node.active = false;\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\r\n\t\tthis.uiPot.Hide();\r\n\t\tthis.uiPotChips.hide();\r\n\t\tthis.uiRoundPotValue.hide();\r\n\t\tthis.uiProfile.hide();\r\n\r\n\t\tlet hands = msg['hands'];\r\n\t\tif ( this.cbHandInfo != null ) {\r\n\t\t\tthis.cbHandInfo( hands );\r\n\t\t}\r\n\r\n\t\tthis.msgWINNERS = '';\r\n\r\n\t\tthis.uiPlayerAction.init( Board.small, Board.big );\r\n\t\tthis.uiPlayerAction.hide();\r\n\t\tthis.uiPlayerActionReservation.hide();\r\n\r\n\t\tlet myEntity = msg[\"yourself\"];\t\t\r\n\t\tBoard.balance = myEntity.balance;\r\n\t\tthis.mySeat = myEntity.seat;\r\n\t\tthis.myChips = myEntity.chips;\r\n\t\tthis.myWaitStatus = myEntity.wait;\r\n        this.isFold = false;\r\n\t\tthis.isAllIn = false;\r\n\t\tthis.isSitout = myEntity.isSitOut;\r\n\r\n\t\tconsole.log('myEntity: ' + myEntity.sid );\r\n\t\tthis.room_id = this.room.id;\r\n\t\tthis.session_id = myEntity.sid;\r\n\r\n\t\t// console.log('this room_id: ' + this.room.id );\r\n\t\t// console.log('this session_id: ' + myEntity.sid );\r\n\r\n        let players: any = msg[\"entities\"];\r\n\t\tthis.countPlayers = players.length;\r\n        this.SEAT_PLAYERS = [];\r\n\r\n        for ( let i = 0; i < this.seatMax ; i++) {\r\n            let seat = this.mySeat + i;\r\n            this.SEAT_PLAYERS.push( seat % this.seatMax );\r\n        }\r\n\r\n        this.SetEntities( players );\r\n\t\tthis.enableSeats = [];\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity =  msg[ \"entities\" ].find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\r\n\t\t\tif( null == entity ) {\r\n\t\t\t\tuiEntity.SetEscape();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tthis.enableSeats.push( entity.seat );\r\n\t\t}\t\t\r\n\r\n\t\tif ( this.GAME_STATE == GAME_STATE_SUSPEND ) {\r\n\r\n\t\t\tthis.labelReadyMessage.string = '다른 플레이어를 기다리고 있습니다';\r\n\t\t\tthis.labelReadyMessage.node.active = true;\r\n\r\n\t\t\tthis.uiPot.Hide();\r\n\r\n\t\t} else {\r\n\t\t\tthis.seatDealer = msg[\"dealer\"];\r\n\t\t\tlet uiDealer = this.GetEntityFromSeat( this.seatDealer );\r\n\t\t\tif ( uiDealer != null ) {\r\n\t\t\t\tuiDealer.SetButtons('DEALER');\r\n\t\t\t}\r\n\r\n\t\t\tthis.seatSB = msg['sb'];\r\n\t\t\tlet uiSB = this.GetEntityFromSeat( this.seatSB );\r\n\t\t\tif ( uiSB != null ) {\r\n\t\t\t\tuiSB.SetButtons('SB');\r\n\t\t\t}\r\n\r\n\t\t\tthis.seatBB = msg['bb'];\r\n\t\t\tlet uiBB = this.GetEntityFromSeat( this.seatBB );\r\n\t\t\tif ( uiBB != null ) {\r\n\t\t\t\tuiBB.SetButtons('BB');\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.GAME_STATE == GAME_STATE_PREFLOP ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_BET || \r\n\t\t\t\t this.GAME_STATE == GAME_STATE_FLOP ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_TURN ||\r\n\t\t\t\t this.GAME_STATE == GAME_STATE_RIVER )\r\n\t\t\t{\r\n\t\t\t\tthis.curPotValue = msg['pot'];\r\n\t\t\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\t\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\r\n\t\t\t\tplayers.forEach( ( e )=> {\r\n\t\t\t\t\tlet uiEntity = this.GetEntityFromSeat( e.seat );\r\n\t\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\t\tif ( e.wait == true ) {\r\n\t\t\t\t\t\t\tuiEntity.SetWait( e );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif ( e.fold == true ) {\r\n\t\t\t\t\t\t\t\tuiEntity.SetFold( true );\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif ( e.seat != this.mySeat ) {\r\n\t\t\t\t\t\t\t\t\tuiEntity.ClearHands();\r\n\t\t\t\t\t\t\t\t\tuiEntity.SetShowHiddenCard();\r\n\t\t\t\t\t\t\t\t\tuiEntity.SetBetValue( e.roundBet );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis.curPotValue = msg['pot'];\r\n\t\t\t\tif ( this.curPotValue > 0 ) {\r\n\t\t\t\t\tthis.labelCurrentPot.string = '현재 팟: ' + CommonUtil.getKoreanNumber(this.curPotValue);\r\n\t\t\t\t}\r\n\t\t\t\tthis.uiPotChips.show( msg['initPot'] );\r\n\t\t\t\tthis.uiRoundPotValue.show( msg['initPot'] );\r\n\t\t\t\t\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\t\t\t} else if ( this.GAME_STATE == GAME_STATE_RESULT ) {\r\n\t\t\t\tlet playerCards = msg['playerCards'];\r\n\t\t\t\tlet winners = msg['winners'];\r\n\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\r\n\t\t\t\tif ( playerCards != null ) {\r\n\t\t\t\t\tthis.onPLAYER_CARDS(playerCards);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( winners != null ) {\r\n\t\t\t\t\tthis.onWINNERS(winners);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else if ( this.GAME_STATE == GAME_STATE_SHOWDOWN ) {\r\n\t\t\t\tlet showdown = msg['showdown'];\r\n\t\t\t\tlet winners = msg['winners'];\r\n\t\t\t\t\r\n\t\t\t\tthis.ShowdownOpenHands(showdown);\r\n\t\t\t\tthis.SetUiCommunityCards( msg[ \"openCards\" ] );\r\n\t\t\t\tthis.UpdatePlayerHandRank();\r\n\r\n\t\t\t\tif ( this.SHOWDOWN_STATE == SHOWDOWN_END ) {\r\n\t\t\t\t\tif ( winners != null ) {\r\n\t\t\t\t\t\tthis.onWINNERS( winners );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.SetSitoutButtons( this.isSitout );\r\n\r\n\t\tthis.scheduleOnce(()=>{\r\n\t\t\tAudioController.instance.PlaySound('VOICE_WELCOME');\r\n\t\t}, 0.5);\r\n\r\n    }\r\n\r\n    leaveRoom( code: any ) {\r\n        this.ClearEntities();\r\n\t\tthis.ClearPot();\r\n\r\n\t\tthis.uiPlayerAction.hide();\r\n\t\tthis.uiBuyIn.node.active = false;\r\n\t\tthis.uiGamePOPUP_MESSAGES.hide();\r\n\r\n\t\tthis.unscheduleAllCallbacks();\r\n\t\tthis.isAllIn = false;\r\n\t\tthis.room = null;\r\n    }\r\n\r\n\tprivate SetEntities( entities: any ) {\r\n\t\tif ( entities == null || entities.length == 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n        for (let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n            let seat = this.SEAT_PLAYERS[i];\r\n\r\n\t\t\tlet entity = entities.find( (e)=> {\r\n\t\t\t\treturn e.seat == seat;\r\n\t\t\t} );\r\n\r\n\t\t\tif ( entity != null ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tuiEntity.SetEntity( entity, this.OpenProfile.bind(this), this.CloseProfile.bind(this) );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n    private ClearEntities() {\r\n        for ( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n            let seat = this.SEAT_PLAYERS[ i ];\r\n            let uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetEntity( null, null, null );\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n    private setUiPot(pots: any[]) {\r\n\t\tthis.spritePotRoot.node.active = true;\r\n\t\tif (null !== pots || undefined !== pots) {\r\n\t\t\tthis.uiPot.Show(pots);\r\n\t\t}\r\n    }\r\n\r\n    private ClearPot() {\r\n\t\tthis.spritePotRoot.node.active = false;\r\n\t\tthis.labelCurrentPot.node.active = false;\r\n\t\tthis.uiPot.Hide();\r\n    }\r\n\r\n    private ClearEntitiesButtons() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => element.ClearButtons() );        \r\n    }\r\n\r\n\tprivate SetUiCommunityCards( cards: number[] ) {\r\n\t\tif ( cards != null ) {\r\n\t\t\tthis.uiCommunityCards.SetCommunityCards( cards );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate GetEntityFromSeat( seat: number ) {\r\n\t\tlet idx = this.SEAT_PLAYERS.findIndex( ( element )=> (element == seat) );\r\n\t\tif ( idx == -1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn this.ENTITY_ELEMENTS[idx];\r\n\t}\r\n\r\n\tpublic GetHandsEval( hands: number[], communities: number[] ): string {\r\n\t\tif ( hands == null || hands.length != 2 || hands[0] < 0 || hands[1] < 0 || hands[0] == hands[1] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( communities == null ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet array = [];\r\n\r\n\t\thands.forEach( e => {\r\n\t\t\tif( -1 == e ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tarray.push( totalCards[ e ] );\r\n\t\t} );\r\n\r\n\t\tcommunities.forEach( e => {\r\n\t\t\tif( -1 == e ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet d = array.find( (element)=>{\r\n\t\t\t\treturn element == totalCards[e];\r\n\t\t\t});\r\n\r\n\t\t\tarray.push( totalCards[ e ] );\r\n\t\t} );\r\n\r\n\t\tlet rs = array.join();\r\n\t\tlet handRank = globalThis.lib[ \"Hand\" ].solve( rs.split( \",\" ) );\r\n\t\treturn handRank;\r\n\t}\r\n\r\n\tprivate SetMyHandRank() {\t\t\r\n\t\tif ( this.myCards[0] < 0 || this.myCards[1] < 0 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet hand = this.myCards;\r\n\t\tlet communities = this.uiCommunityCards.GetCommunityCards();\r\n\r\n\t\tlet evaluate: any = this.GetHandsEval( hand, communities);\r\n\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.SetHandRank( evaluate );\r\n\t\t}\r\n    }\r\n\r\n\tprivate SetPlayerHandRank( cards: number[], uiEntity: any ) {\r\n\t\tif ( cards.length != 2) {\r\n\t\t\treturn;\r\n\t\t}\t\t\r\n\r\n\t\tlet hand = cards;\r\n\t\tlet communities = this.uiCommunityCards.GetCommunityCards();\r\n\r\n\t\tlet evaluate: any = this.GetHandsEval( hand, communities);\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.SetHandRank( evaluate );\r\n\t\t}\r\n\t}\r\n\r\n\tprivate EndTurns() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.endTurn();\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate ClearUiEntities() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.endTurn();\r\n\t\t\telement.ClearAction();\r\n\t\t\telement.clearUiBetValue();\t\t\t\r\n\t\t} );\t\t\r\n\t}\r\n\r\n    private clearUiEntitiesAction() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.ClearAction();\r\n\t\t} );\r\n    }\r\n\r\n\tprivate CLEAR_ENTITIES_ROUND_ACTION() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.CLEAR_ROUND_ACTION();\r\n\t\t} );\t\t\r\n\t}\r\n\r\n    private clearUiEntitiesBetValue() {\r\n\t\tthis.ENTITY_ELEMENTS.forEach( element => {\r\n\t\t\telement.clearUiBetValue();\r\n\t\t} );\r\n    }\r\n\r\n    private isEnableSeat( seat: number ): boolean {\r\n\t\treturn null != this.enableSeats.find( elem => elem == seat );\r\n    }\r\n\r\n    public sendMsg(key: string, msg: object) {\r\n        this.room?.send(key, msg);\r\n    }\r\n\r\n    private onNEW_ENTITY( msg ) {\r\n\t\tlet entity = msg[ \"newEntity\" ];\r\n\t\tif ( entity != null ) {\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( entity.seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetEntity( entity, this.OpenProfile.bind(this), this.CloseProfile.bind(this) );\r\n\t\t\t}\r\n\t\t} else {\r\n\r\n\t\t}\r\n    }\r\n\r\n    private onCARD_DISPENSING( msg ) {\r\n\t\tconsole.log('onCARD_DISPENSING');\r\n\t\tthis.uiCommunityCards.Reset();\r\n\t\tlet hands = msg['hands'];\r\n\t\tif ( this.cbHandInfo != null ) {\r\n\t\t\tthis.cbHandInfo( hands );\r\n\t\t}\r\n\r\n\t\tthis.myCards = [msg[ \"primary\" ], msg[ \"secondary\" ]];\r\n\t\tthis.CardDispensing();\r\n    }\r\n\r\n    private onYOUR_TURN( msg ) {\r\n\t\tconsole.log('onYOUR_TURN');\r\n\r\n\t\tlet seat = msg[ \"player\" ];\r\n\t\tlet duration = msg[\"duration\"];\r\n\t\tlet timerUnit = msg['betTimeUnit'];\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\t\t\tif( seat == this.SEAT_PLAYERS[ i ] ) {\r\n\t\t\t\tuiEntity?.startTurn(duration, timerUnit);\r\n\t\t\t\tuiEntity?.StartActionTimer();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tuiEntity?.endTurn();\r\n\t\t}\r\n\r\n\t\tif( this.mySeat == seat ) {\r\n\r\n\t\t\tlet curBet = msg[ \"maxBet\" ];\r\n\t\t\tlet myBet = msg[ \"currBet\" ];\r\n\r\n\t\t\tAudioController.instance.PlaySound('MY_TURN');\r\n\t\t\tlet reservation = this.uiPlayerActionReservation.checkReservation( myBet, curBet );\r\n\t\t\tif ( reservation != ENUM_RESERVATION_TYPE.RESERVATION_NONE ) {\r\n\r\n\t\t\t\tthis.uiPlayerActionReservation.hide();\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\t\t\t\t\t\r\n\t\t\t\tif ( reservation == ENUM_RESERVATION_TYPE.RESERVATION_FOLD ) {\r\n\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tseat: this.mySeat\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tthis.uiPlayerActionReservation.reset( true );\r\n\t\t\t\t\tthis.scheduleOnce(()=>{\r\n\t\t\t\t\t\tthis.sendMsg( \"FOLD\", obj );\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t\t\r\n\t\t\t\t} else if ( reservation == ENUM_RESERVATION_TYPE.RESERVATION_CHECK ) {\r\n\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tthis.uiPlayerActionReservation.reset( true );\r\n\t\t\t\t\tthis.scheduleOnce(()=>{\r\n\t\t\t\t\t\tthis.sendMsg( \"CHECK\", obj );\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\treturn;\r\n\r\n\t\t\t} else {\r\n\t\t\t\tlet uiEntity =  this.GetEntityFromSeat(this.mySeat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tuiEntity.StartActionTimer();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.uiPlayerActionReservation.hide();\r\n\t\t\tthis.uiPlayerAction.show( msg, this.betMin );\r\n\r\n\t\t\tthis.uiPlayerAction.cbCheck = () => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t};\r\n\t\t\t\tthis.sendMsg( \"CHECK\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbCall = ( betValue ) => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tbetAmount: betValue,\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t};\r\n\t\t\t\tthis.sendMsg( \"CALL\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbBet = ( betValue, callValue, sound ) => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tbetAmount: betValue,\r\n\t\t\t\t\tcallValue: callValue,\t\t\t\t\t\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\tsound: sound\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.sendMsg( \"BET\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbRaise = ( betValue, callValue, sound ) => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tbetAmount: betValue,\r\n\t\t\t\t\tcallValue: callValue,\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\tsound: sound\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis.sendMsg( \"RAISE\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbAllIn = ( betValue, callValue ) => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tbetAmount: betValue,\r\n\t\t\t\t\tcallValue: callValue,\t\t\t\t\t\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t};\r\n\t\t\t\tthis.sendMsg( \"ALLIN\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\r\n\t\t\tthis.uiPlayerAction.cbFold = () => {\r\n\t\t\t\tthis.ENTITY_ELEMENTS.forEach( element => element.endTurn() );\r\n\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tseat: this.mySeat\r\n\t\t\t\t};\r\n\t\t\t\tthis.sendMsg( \"FOLD\", obj );\r\n\t\t\t\tthis.uiPlayerAction.hide();\r\n\t\t\t};\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.uiPlayerAction.hide();\r\n\r\n\t\t\tlet uiEntity =  this.GetEntityFromSeat(this.mySeat);\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tif ( uiEntity.isFold == true || this.myWaitStatus == true ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet curBet = msg[ \"maxBet\" ];\r\n\t\t\t\tlet myBet = msg[ \"currBet\" ];\r\n\r\n\t\t\t\tthis.uiPlayerActionReservation.show( myBet, curBet);\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    private onBLIND_BET( msg ) {\r\n\t\tconsole.log('onBLIND_BET');\r\n\r\n\t\tthis.roundState = \"BLIND_BET\";\r\n\r\n\t\tlet PLAYERS = msg[\"player\"];\r\n\t\tlet sb = msg[ \"sb\" ];\r\n\t\tlet bb = msg[ \"bb\" ];\r\n\t\tthis.betMin = msg[ \"maxBet\" ];\r\n\r\n\t\tthis.CLEAR_EFFECT();\r\n\r\n\t\tthis.clearUiEntitiesAction();\r\n\t\tthis.clearUiEntitiesBetValue();\r\n\r\n\t\tthis.uiPlayerActionReservation.reset();\r\n\t\tthis.uiPlayerActionReservation.showCheck( false );\r\n\r\n\t\tfor ( let i: number = 0 ; i < PLAYERS.length ; i++ ) {\r\n\t\t\tif ( PLAYERS[i] == null || PLAYERS[i].seat == null ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( PLAYERS[i].seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetStatus( PLAYERS[i] );\r\n\t\t\t\tuiEntity.SetBetValue( PLAYERS[i].totalBet );\r\n\r\n\t\t\t\tif ( PLAYERS[i].seat == sb.seat ) {\r\n\t\t\t\t\tuiEntity.SetBlindBet( PLAYERS[i].chips, true, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( PLAYERS[i].seat == bb.seat ) {\r\n\t\t\t\t\tuiEntity.SetBlindBet( PLAYERS[i].chips, false, true )\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuiEntity.SetChips( PLAYERS[i].chips );\r\n\r\n\t\t\t\tif ( PLAYERS[i].seat == this.mySeat ) {\r\n\t\t\t\t\tthis.myChips == PLAYERS[i].chips;\r\n\t\t\t\t\tif ( PLAYERS[i].isBB == true) {\r\n\t\t\t\t\t\tthis.uiPlayerActionReservation.showCheck( true );\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.uiPotChips.show( 0 );\r\n\t\tthis.uiRoundPotValue.show( 0 );\r\n\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onSUSPEND_ROUND( msg ) {\r\n\t\tconsole.log('onSUSPEND_ROUND');\r\n\t\tclearInterval(this.readyMessageHandler);\r\n\r\n\t\tthis.roundState = \"SUSPEND_ROUND\";\r\n\t\tthis.labelReadyMessage.node.active = false;\r\n\r\n\t\tlet entities = msg[ \"entities\" ];\r\n\t\tthis.countPlayers = entities.length;\r\n\r\n\t\tthis.enableSeats = [];\r\n\r\n\t\tthis.CLEAR_EFFECT();\r\n\r\n\t\tthis.labelReadyMessage.string = '다른 플레이어를 기다리고 있습니다';\r\n\t\tthis.labelReadyMessage.node.active = true;\r\n\r\n\t\tthis.nodeCardShuffleMessage.active = false;\r\n\r\n\t\tthis.uiPot.Hide();\r\n\t\tthis.labelCurrentPot.node.active = false;\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity = entities.find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tif ( entity != null ) {\r\n\t\t\t\t\tuiEntity.SetPrepareRound( entity );\r\n\t\t\t\t\tif( seat == this.mySeat ) {\r\n\t\t\t\t\t\tthis.myWaitStatus = entity.wait;\r\n\t\t\t\t\t\t// this.isSitout = \r\n\t\t\t\t\t\tthis.isFold = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.enableSeats.push( entity.seat );\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuiEntity.SetEscape();\t\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.ResetCurrentPot();\r\n    }\r\n\r\n\tprivate CLEAR_EFFECT() {\r\n\t\tthis.uiWinEffect.hide();\r\n\t\tthis.uiEffectShowRiver.Hide();\r\n\t\tthis.uiShowDownEffect.Hide();\r\n\t}\r\n\r\n    private onREADY_ROUND( msg ) {\r\n\t\tconsole.log('onREADY_ROUND');\t\t\r\n\t\tthis.roundState = \"READY_ROUND\";\r\n\r\n\t\tthis.CLEAR_EFFECT();\r\n\t\tclearInterval(this.readyMessageHandler);\t\t\r\n\r\n\t\tlet timeMs = msg[ \"timeMS\" ] / 1000;\r\n\t\tlet lb:string = \"새로운 게임이 \" + timeMs + \" 초 후에 시작합니다\";\r\n\r\n\t\tthis.labelReadyMessage.string = lb;\r\n\t\tthis.labelReadyMessage.node.active = true;\r\n\r\n\t\tthis.readyMessageHandler = setInterval(()=> {\r\n\t\t\ttimeMs--;\r\n\t\t\tlb = \"새로운 게임이 \" + timeMs + \" 초 후에 시작합니다\";\r\n\t\t\tthis.labelReadyMessage.string = lb;\r\n\t\t\tif (timeMs < 0) {\r\n\t\t\t\tthis.labelReadyMessage.node.active = false;\r\n\t\t\t\tclearInterval(this.readyMessageHandler);\r\n\t\t\t}\r\n\t\t}, 1000);\r\n    }\r\n\r\n    private onPREPARE_ROUND( msg ) {\r\n\t\tconsole.log('onPREPARE_ROUND');\r\n\t\tthis.roundState = \"PREPARE_ROUND\";\r\n\r\n\t\tthis.CLEAR_EFFECT();\r\n\r\n\t\tthis.nodeCardShuffleMessage.active = false;\r\n\t\tthis.labelReadyMessage.node.active = false;\r\n\r\n\t\tthis.seatDealer = msg['dealerSeatPos'];\r\n\t\tthis.seatSB = msg['sbSeatPos'];\r\n\t\tthis.seatBB = msg['bbSeatPos'];\r\n\r\n\t\tlet entities = msg[ \"entities\" ];\r\n\t\tthis.countPlayers = entities.length;\r\n\r\n\t\tthis.startBetFromServer = msg[ \"startBet\" ];\r\n\t\tthis.betMin = msg[ \"startBet\" ];\r\n\r\n\t\tthis.enableSeats = [];\r\n\t\tthis.isAllIn = false;\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet entity = entities.find( elem => elem.seat == seat );\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ i ];\r\n\r\n\t\t\tif( null == entity ) {\r\n\t\t\t\tuiEntity.SetEscape();\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif( seat == this.mySeat ) {\r\n\t\t\t\tthis.myWaitStatus = entity.wait;\r\n\t\t\t\tthis.isFold = false;\r\n\t\t\t}\r\n\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tif ( entity.wait == true ) {\r\n\t\t\t\t\tuiEntity.SetWait( entity );\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.enableSeats.push( entity.seat );\r\n\t\t\t\t\tuiEntity.SetPrepareRound( entity );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.ClearPot();\r\n\t\tthis.ClearEntitiesButtons();\r\n\t\tthis.uiCommunityCards.Ready();\r\n\t\tthis.ResetCurrentPot();\r\n\r\n\t\tlet uiDealer = this.GetEntityFromSeat( this.seatDealer );\r\n\t\tif ( uiDealer != null ) {\r\n\t\t\tuiDealer.SetButtons('DEALER');\r\n\t\t}\r\n\r\n\t\tlet uiSB = this.GetEntityFromSeat( this.seatSB );\r\n\t\tif ( uiSB != null ) {\r\n\t\t\tuiSB.SetButtons('SB');\r\n\t\t}\r\n\r\n\t\tlet uiBB = this.GetEntityFromSeat( this.seatBB );\r\n\t\tif ( uiBB != null ) {\r\n\t\t\tuiBB.SetButtons('BB');\r\n\t\t}\r\n    }\r\n\r\n    private onHANDLE_ESCAPEE( msg ) {\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet id = msg['user_id'];\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.SetEscape();\r\n\t\t}\r\n\r\n\t\tconsole.log('onHANDLE_ESCAPEE');\r\n\r\n\t\tlet user = NetworkManager.Instance().GetUser();\t\t\t\t\t\t\r\n\t\tif ( id == user.id ) {\r\n\t\t\tthis.onEXIT_TABLE(null);\r\n\t\t}\r\n    }\r\n\r\n\tprivate onPRE_FLOP_END( msg ) {\r\n\t\tconsole.log('onPRE_FLOP_END');\r\n\t\tlet potValue = msg['pot'];\r\n\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.show( potValue );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    private onSHOW_FLOP( msg ) {\r\n\t\tconsole.log('onSHOW_FLOP');\r\n\t\tthis.roundState = \"SHOW_FLOP\";\r\n\r\n\t\tthis.uiPlayerActionReservation.resetCheck();\r\n\r\n\t\tthis.CLEAR_ENTITIES_ROUND_ACTION();\r\n\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\r\n\t\tthis.uiCommunityCards.ShowFlopCards( cards, ()=>{\r\n\t\t\tif ( this.isEnableSeat( this.mySeat ) == true ) {\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tthis.curPotValue = msg['pot'];\r\n\t\tthis.uiPot.UpdatePotTotal( this.curPotValue );\r\n\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n\tprivate onFLOP_END( msg ) {\r\n\t\tconsole.log('onFLOP_END');\r\n\t\tlet potValue = msg['pot'];\r\n\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.updatePotVaule( potValue );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    private onSHOW_TURN( msg ) {\r\n\t\tconsole.log( 'onSHOW_TURN' );\t\t\r\n\t\tthis.roundState = \"SHOW_TURN\";\r\n\r\n\t\tthis.uiPlayerActionReservation.resetCheck();\r\n\t\tthis.CLEAR_ENTITIES_ROUND_ACTION();\r\n\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\r\n\t\tthis.uiCommunityCards.ShowTurnCard( cards, ()=>{\r\n\t\t\tif ( this.isEnableSeat( this.mySeat ) == true ) {\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tthis.curPotValue = msg['pot'];\r\n\t\tthis.uiPot.UpdatePotTotal( this.curPotValue );\r\n\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n\tprivate onTURN_END( msg ) {\r\n\t\tconsole.log('onTURN_END');\r\n\t\tlet potValue = msg['pot'];\r\n\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.updatePotVaule( potValue );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\t\r\n\r\n    private onSHOW_RIVER( msg ) {\r\n\t\tconsole.log('onSHOW_RIVER');\r\n\t\tthis.roundState = \"SHOW_RIVER\";\r\n\r\n\t\tthis.uiPlayerActionReservation.resetCheck();\r\n\t\tthis.CLEAR_ENTITIES_ROUND_ACTION();\r\n\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\r\n\t\tthis.uiCommunityCards.ShowRiverCard( cards, ()=>{\r\n\t\t\tif ( this.isEnableSeat( this.mySeat ) == true ) {\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.curPotValue = msg['pot'];\r\n\t\tthis.uiPot.UpdatePotTotal( this.curPotValue );\r\n\t\tthis.uiPotChips.show( this.curPotValue );\r\n\t\tthis.uiRoundPotValue.show( this.curPotValue );\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n\tprivate onRIVER_END( msg ) {\r\n\t\tconsole.log('onRIVER_END');\r\n\t\tlet potValue = msg['pot'];\r\n\r\n\t\t// this.clearUiEntitiesAction();\r\n\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.updatePotVaule( potValue );\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n\tprivate ShowdownOpenHands( msg ) {\r\n\t\tlet pot: any = msg['pot'];\r\n\t\tthis.uiRoundPotValue.show(pot);\r\n\r\n\t\tlet hands = msg['hands'];\r\n\t\tlet keys = Object.keys( hands );\r\n\t\tthis.PLAYER_CARDS = {};\r\n\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif( false == this.isEnableSeat( seat ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.PLAYER_CARDS[ seat ] = {\r\n\t\t\t\tcards: [ hands[key][0], hands[key][1] ],\r\n\t\t\t};\r\n\t\t} );\r\n\t\tthis.ShowPlayersHand();\r\n\t}\r\n\r\n\tprivate onSHOWDOWN_START ( msg ) {\r\n\t\tconsole.log('onSHOWDOWN_START');\r\n\r\n\t\tlet pot: any = msg['pot'];\r\n\r\n\t\tthis.uiPlayerActionReservation.reset();\r\n\t\tthis.uiPlayerAction.hide();\r\n\t\tthis.ENTITY_ELEMENTS.forEach(element => element.endTurn());\r\n\r\n\t\tlet hands = msg['hands'];\r\n\t\tlet keys = Object.keys( hands );\r\n\t\tthis.PLAYER_CARDS = {};\r\n\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif( false == this.isEnableSeat( seat ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.PLAYER_CARDS[ seat ] = {\r\n\t\t\t\tcards: [ hands[key][0], hands[key][1] ],\r\n\t\t\t};\r\n\t\t} );\r\n\r\n\t\tthis.ChipsMoveToPot( pot, ()=>{\r\n\t\t\tthis.uiRoundPotValue.show(pot);\r\n\t\t\tthis.uiShowDownEffect.Show(()=>{\r\n\t\t\t\tthis.ShowPlayersHand();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onSHOWDOWN_FLOP( msg ) {\r\n\t\tconsole.log('onSHOWDOWN_FLOP');\r\n\t\tlet cards = msg['cards'];\r\n\r\n\t\tthis.uiCommunityCards.ShowFlopCards( cards, ()=>{\r\n\t\t\tthis.UpdatePlayerHandRank();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onSHOWDOWN_TURN( msg ) {\r\n\t\tconsole.log('onSHOWDOWN_TURN');\r\n\t\tlet cards = msg['cards'];\r\n\r\n\t\tthis.uiCommunityCards.ShowTurnCard( cards, ()=>{\r\n\t\t\tthis.UpdatePlayerHandRank();\t\t\t\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onSHOWDOWN_RIVER( msg ) {\r\n\r\n\t\tconsole.log('onSHOWDOWN_RIVER');\r\n\t\tlet cards = msg['cards'];\r\n\t\tlet river = cards[0];\r\n\r\n\t\tthis.uiEffectShowRiver.Show( river, ()=>{\r\n\t\t\tthis.uiCommunityCards.ShowRiverCardImmediate( cards );\r\n\t\t\tthis.UpdatePlayerHandRank();\r\n\t\t});\r\n\t}\r\n\t\r\n\tprivate ChipsMoveToPot( value, cbDone: ()=>void ) {\r\n\t\tlet cnt = 0;\r\n\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tcnt++;\r\n\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.rootPotChips, ( idx: number )=>{\r\n\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\tif ( (cnt) == idx) {\r\n\t\t\t\t\t\t\tthis.uiPotChips.show( value );\r\n\t\t\t\t\t\t\tthis.uiRoundPotValue.updatePotVaule( value );\r\n\r\n\t\t\t\t\t\t\tif ( cbDone != null ) {\r\n\t\t\t\t\t\t\t\tcbDone();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t}\r\n\r\n    private onCLEAR_ROUND( msg ) {\r\n\t\tconsole.log('onCLEAR_ROUND');\r\n\r\n\t\tthis.uiCommunityCards.Reset();\r\n\t\tthis.ResetCurrentPot();\r\n\t\tthis.buttonShowCard.node.active = false;\r\n\r\n\t\tthis.labelReadyMessage.node.active = false;\r\n\t\tthis.nodeCardShuffleMessage.active = false;\r\n\r\n\t\tthis.uiWinEffect.hide();\r\n\t\tthis.uiEffectShowRiver.Hide();\r\n\t\tthis.uiShowDownEffect.Hide();\r\n\r\n\t\tthis.uiPotChips.hide();\r\n\t\tthis.uiRoundPotValue.hide();\r\n\r\n\t\tthis.isAllIn = false;\r\n\t\tlet entities = msg[ \"entities\" ];\r\n\t\tthis.countPlayers = entities.length;\r\n\r\n\t\tthis.uiPlayerActionReservation.reset();\r\n\r\n\t\tthis.nodeCardShuffleMessage.active = true;\r\n\t\tAudioController.instance.PlaySound('CARD_SHUFFLE');\r\n\r\n\t\tfor( let i = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\tlet entity = entities.find( (elem) => {\r\n\t\t\t\treturn elem.seat == seat} \r\n\t\t\t\t);\r\n\r\n\t\t\tif ( uiEntity != null && entity != null ) {\r\n\t\t\t\tuiEntity.SetClearRound( entity );\r\n\t\t\t\tif( seat == this.mySeat ) {\r\n\t\t\t\t\tthis.myChips = entity.chips;\r\n\t\t\t\t\tthis.isSitout = entity.isSitOut;\r\n\t\t\t\t}\t\r\n\t\t\t} else {\r\n\t\t\t\tuiEntity.SetEscape();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.ClearPot();\r\n\t\tthis.uiCommunityCards.Ready();\r\n\r\n\t\tlet me = entities.find( elem => elem.seat == this.mySeat );\r\n\r\n\t\tif(me === null || me === undefined)\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tBoard.balance = me.balance;\r\n\t\tif( me.enoughChip == false ) {\r\n\r\n\t\t\tlet self = this;\r\n\t\t\tlet leave: boolean = false;\r\n\t\t\tif( Board.balance + me.chips < Board.minStakePrice ) {\r\n\r\n\t\t\t\tthis.scheduleOnce(()=>{\r\n\t\t\t\t\tif ( self != null ) {\r\n\t\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t\t\tself.room?.leave( true );\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}, 5 );\r\n\r\n\t\t\t\tUiGameSystemPopup.instance.showOkPopup('리 바이인', '최소 바이인을 할 수 없습니다.\\r\\n테이블에서 나갑니다.', ()=>{\r\n\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t\tself.room?.leave( true );\r\n\t\t\t\t\tself = null;\r\n\t\t\t\t} );\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tthis.uiBuyIn.reBuyIn( Board.balance, this.myChips , (res)=>{\r\n\t\t\t\tthis.sendMsg('RE_BUY', {\r\n\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\tamount: res,\r\n\t\t\t\t});\r\n\t\t\t}, ()=>{\r\n\t\t\t\tself.room?.leave( true );\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t//\r\n    }\r\n\r\n    private onCHECK( msg ) {\r\n\t\tconsole.log('onCHECK');\r\n\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tthis.labelCurrentPot.string = CommonUtil.getKoreanNumber( this.curPotValue );\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\r\n\t\tAudioController.instance.PlaySound('VOICE_ACTION_CHECK');\r\n\t\tthis.uiPlayerActionReservation.showCheck( true );\r\n\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.SetAction( \"check\" );\t\t\t\r\n\t\t}\r\n\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onRAISE( msg ) {\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tthis.uiPlayerActionReservation.showCheck( false );\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet chips = Number.parseInt( msg[ \"chips\" ] );\r\n\t\tlet sound = Number.parseInt( msg['sound'] );\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity?.SetChips( chips );\r\n\r\n\t\t\tif( this.mySeat == seat ) {\r\n\t\t\t\tthis.myChips = chips;\r\n\t\t\t}\r\n\r\n\t\t\tif( true == msg[ \"allin\" ] ) {\r\n\t\t\t\tuiEntity.SetAllIn();\t\t\t\r\n\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tuiEntity.SetAction( \"raise\" );\r\n\t\t\t\tswitch ( sound) {\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET ) :\t//quater\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_BET');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.RAISE) :\t//half\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_RAISE');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_QUATER ) :\t//quater\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_QUATER');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_HALF) :\t//half\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_HALF');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_FULL) :\t//full\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_FULL');\r\n\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_MAX) :\t//max\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('BET_CHIPS');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuiEntity.SetBetValue( msg[ \"bet\" ] );\r\n\t\t}\r\n\r\n\t\tthis.setUiPot(msg[\"dpPot\"]);\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onFOLD( msg ) {\r\n\t\tconsole.log( 'onFOLD' );\r\n\t\tAudioController.instance.PlaySound('VOICE_ACTION_DIE');\r\n\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.ClearAction();\r\n\r\n\t\t\tif( this.mySeat != seat ) {\r\n\t\t\t\tuiEntity.ClearHandRank();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.isFold = true;\r\n\t\t\t}\r\n\t\t\tuiEntity.SetFold( true );\r\n\t\t}\r\n    }\r\n\r\n    private onCALL ( msg ) {\r\n\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tlet chips = Number.parseInt( msg[ \"chips\" ] );\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.SetChips( chips );\r\n\r\n\t\t\tif( true == msg[ \"allin\" ] ) {\r\n\t\t\t\tuiEntity?.SetAllIn();\r\n\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tuiEntity?.SetAction( \"call\" );\r\n\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_CALL');\r\n\t\t\t}\r\n\t\t\tuiEntity.SetBetValue( msg[ \"bet\" ] );\r\n\t\t}\r\n\r\n\t\tif( this.mySeat == seat ) {\r\n\t\t\tthis.myChips = chips;\r\n\t\t}\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onBET ( msg ) {\r\n\r\n\t\tthis.curPotValue = msg[ \"pot\" ];\r\n\t\tthis.uiPlayerActionReservation.showCheck( false );\r\n\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet sound = Number.parseInt( msg['sound'] );\r\n\t\tlet chips = Number.parseInt( msg[ \"chips\" ] );\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.SetChips( chips );\r\n\t\t\tif ( seat == this.mySeat ) {\r\n\t\t\t\tthis.myChips = chips;\r\n\t\t\t}\r\n\r\n\t\t\tif ( msg['allin'] == true ) {\r\n\t\t\t\tuiEntity.SetAllIn();\r\n\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t\t\t} else {\r\n\t\t\t\tuiEntity.SetAction( \"bet\" );\r\n\t\t\t\tswitch ( sound) {\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET ) :\t//quater\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_BET');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.RAISE ) :\t//quater\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_RAISE');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\t\t\t\t\t\t\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_QUATER ) :\t//quater\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_QUATER');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_HALF) :\t//half\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_HALF');\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_FULL) :\t//full\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_BETTING_FULL');\r\n\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\tcase Number( ENUM_BET_SOUND.BET_MAX) :\t//max\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('VOICE_ACTION_ALLIN');\r\n\t\t\t\t\tbreak;\r\n\t\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('BET_CHIPS');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tuiEntity.SetBetValue( msg[ \"bet\" ] );\r\n\t\t}\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(this.curPotValue);\r\n\t\tthis.SetCurrentPot( this.curPotValue );\r\n    }\r\n\r\n    private onSIT_OUT( msg: any ) {\r\n\t\tconsole.log('onSIT_OUT');\r\n\r\n\t\tlet seat = msg['seat'];\r\n\r\n\t\tif( seat == null || seat == undefined ){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.endTurn();\r\n\t\t\tuiEntity.SetSitout();\r\n\t\t}\r\n\r\n\t\tif ( seat == this.mySeat ) {\r\n\t\t\tthis.buttonSitout.interactable = true;\r\n\t\t\tthis.buttonSitout.node.active = false;\r\n\t\t\tthis.labelReservationSitout.node.active = false;\r\n\t\t\tthis.buttonSitoutCancel.interactable = true;\r\n\t\t\tthis.buttonSitoutCancel.node.active = false;\r\n\r\n\t\t\tthis.buttonSitback.node.active = true;\r\n\t\t\tthis.buttonSitback.interactable = false;\r\n\r\n\t\t\tthis.scheduleOnce( ()=>{\r\n\t\t\t\tthis.buttonSitback.interactable = true;\r\n\t\t\t}, 1.5);\r\n\t\t}\r\n    }\r\n\r\n\tprivate onSIT_OUT_PEND( msg: any ) {\r\n\t\tthis.buttonSitout.interactable = true;\r\n\t\tthis.buttonSitout.node.active = false;\r\n\t\tthis.buttonSitback.node.active = false;\r\n\t\tthis.buttonSitoutCancel.interactable = false;\r\n\t\tthis.buttonSitoutCancel.node.active = true;\r\n\t\tthis.labelReservationSitout.node.active = true;\r\n\r\n\t\tthis.scheduleOnce(()=>{\r\n\t\t\tthis.buttonSitoutCancel.interactable = true;\r\n\t\t}, 1.5);\r\n    }\r\n\r\n\tprivate onSIT_OUT_CANCEL( msg: any ) {\r\n\t\tthis.buttonSitoutCancel.interactable = true;\r\n\t\tthis.buttonSitoutCancel.node.active = false;\r\n\t\tthis.labelReservationSitout.node.active = false;\r\n\r\n\t\tthis.buttonSitout.interactable = false;\r\n\t\tthis.buttonSitout.node.active = true;\r\n\r\n\t\tthis.scheduleOnce( ()=>{\r\n\t\t\tthis.buttonSitout.interactable = true;\r\n\t\t}, 1.5);\r\n\t}\r\n\r\n    private onSIT_BACK( msg: any ) {\r\n\t\tlet seat = msg['seat'];\r\n\t\t\r\n\t\tif ( seat == null || seat == undefined ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\tif ( uiEntity != null ) {\r\n\t\t\tuiEntity.SetSitback( msg );\r\n\t\t}\r\n\r\n\t\tif ( seat == this.mySeat ) {\r\n\t\t\tthis.buttonSitback.interactable = true;\r\n\t\t\tthis.buttonSitback.node.active = false;\r\n\t\t\tthis.labelReservationSitout.node.active = false;\r\n\t\t\tthis.buttonSitoutCancel.node.active = false;\r\n\r\n\t\t\tthis.buttonSitout.interactable = false;\r\n\t\t\tthis.buttonSitout.node.active = true;\r\n\r\n\t\t\tthis.scheduleOnce( ()=>{\r\n\t\t\t\tthis.buttonSitout.interactable = true;\r\n\t\t\t}, 1.5);\r\n\t\t}\r\n    }\r\n\r\n    private onSHOW_CARD( msg ) {\r\n\t\tlet seat = msg[ \"seat\" ];\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\r\n\t\tif ( seat == this.mySeat ) {\r\n\r\n\t\t} else {\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.HideHiddenCard();\r\n\r\n\t\t\t\tlet hands: number[] = [cards[0], cards[1]];\r\n\t\t\t\tuiEntity.ShowHands( hands, ()=>{\r\n\t\t\t\t\tthis.SetPlayerHandRank( hands, uiEntity );\r\n\t\t\t\t\tAudioController.instance.PlaySound('CARD_SHOW');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n    }\r\n\r\n    private onPLAYER_CARDS( msg ) {\r\n\t\tconsole.log( 'onPLAYER_CARDS ');\r\n\r\n\t\tlet allin = msg[ \"allin\" ];\r\n\r\n\t\tif ( allin == true ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet cards = msg[ \"cards\" ];\r\n\t\tlet keys = Object.keys( cards );\r\n\t\tthis.PLAYER_CARDS = {};\r\n\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif( false == this.isEnableSeat( seat ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.PLAYER_CARDS[ seat ] = {\r\n\t\t\t\tcards: [ cards[key][0], cards[key][1] ],\r\n\t\t\t};\r\n\t\t} );\r\n\r\n\t\tthis.ShowPlayersHand();\r\n\t\tthis.ClearUiEntities();\r\n    }\r\n\r\n    private onWINNERS ( msg ) {\r\n\t\tconsole.log('onWINNERS');\r\n\r\n\t\tthis.msgWINNERS = msg;\r\n\t\tthis.uiPlayerActionReservation.reset();\r\n\t\tthis.uiPlayerAction.hide();\r\n\r\n\t\tthis.EndTurns();\r\n\t\tthis.SetWinners();\r\n\r\n\t\tlet folders = msg['folders'];\r\n\t\tlet folder = folders.find( (e)=>{\r\n\t\t\treturn e == this.mySeat;\r\n\t\t});\r\n\r\n\t\tlet skip = msg['skip'];\r\n\r\n\t\tif ( folder != null || skip == true ) {\r\n\t\t\tthis.buttonShowCard.node.active = true;\r\n\t\t} else {\r\n\t\t\tthis.buttonShowCard.node.active = false;\t\t\t\r\n\t\t}\r\n    }\r\n\r\n    private onClickShowCard( button: Button ) {\r\n\t\tbutton.node.active = false;\r\n\t\tAudioController.instance.ButtonClick();\r\n\t\tif(null == this.msgWINNERS){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet obj = {\r\n\t\t\tseat: this.mySeat\r\n\t\t};\r\n\r\n\t\tthis.sendMsg( \"SHOW_CARD\", obj );\r\n    }\r\n\r\n    private SetWinners() {\r\n\t\tlet entities = this.msgWINNERS[ \"winners\" ];\r\n\r\n\t\tif ( this.msgWINNERS['skip'] == true ) {\r\n\t\t\tlet cnt: number = 0;\r\n\t\t\tlet potValue = this.msgWINNERS['pot'];\r\n\r\n\t\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\t\tif( this.isEnableSeat( seat ) == true ) {\r\n\t\t\t\t\tlet uiEntity = this.GetEntityFromSeat(seat);\r\n\t\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\t\tcnt++;\r\n\t\t\t\t\t\tuiEntity.setChipsMoveToPot( cnt, this.uiRoundPotValue.node , ( idx: number )=>{\r\n\t\t\t\t\t\t\tuiEntity.clearUiBetValue();\r\n\r\n\t\t\t\t\t\t\tif ( ( cnt ) == idx) {\r\n\t\t\t\t\t\t\t\tthis.uiPotChips.show( potValue );\r\n\t\t\t\t\t\t\t\tthis.uiRoundPotValue.show( potValue );\r\n\r\n\t\t\t\t\t\t\t\tthis.scheduleOnce(()=>{\r\n\t\t\t\t\t\t\t\t\tthis.ResultSkipAnimation( entities, this.msgWINNERS[\"dpPot\"] );\r\n\t\t\t\t\t\t\t\t}, 1.0 );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tthis.ResultPotAnimation( entities, this.msgWINNERS[\"dpPot\"]).then(() =>{\r\n\t\t\t\tthis.setAniPotUiFadeOut();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n\tprivate async ResultSkipAnimation ( winners: any[], pot: any[] ) {\r\n\t\tlet uiPots : Pot[] = this.uiPot.GetPots();\t\t\r\n\t\tfor(let i = 0; i < winners.length; i++){\r\n\t\t\tlet winner = winners[i];\r\n\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( winner.seat );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetPlay();\r\n\t\t\t\tthis.uiPot.UpdatePotTotal( winner.winAmount );\r\n\r\n\t\t\t\tlet isReturn : boolean = winner.fold;\r\n\t\t\t\tif ( isReturn == false ) {\r\n\t\t\t\t\tuiEntity.SetWinner( this.uiRoundPotValue.node , winner.winAmount );\r\n\t\t\t\t\tAudioController.instance.PlaySound('WIN');\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tuiPots.forEach(element => {\r\n\t\t\telement.ClearCallback();\r\n\t\t});\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(0);\r\n\t\tthis.uiPot.HidePotInfo();\r\n\t\tawait new Promise(ret => setTimeout(ret, 2000));\r\n\t}\r\n\r\n    private async ResultPotAnimation(winners: any[], pot: any[] ) {\r\n\r\n\t\tlet uiPots : Pot[] = this.uiPot.GetPots();\r\n\t\t\r\n\t\tthis.setUiPot(pot);\r\n\r\n\t\tlet svPots : any[] = this.uiPot.svPots;\r\n\r\n\t\tlet returnPot : any[] = [];\r\n\t\tlet showPot : any[] = [];\r\n\r\n\t\tlet totalPotValue = 0;\r\n\r\n\t\tsvPots.forEach(element => {\r\n\t\t\ttotalPotValue += element.total;\r\n\r\n\t\t\tif(element.players.length <= 1){\r\n\t\t\t\treturnPot.push(element);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tshowPot.push(element);\r\n\t\t});\r\n\r\n\t\tlet potCount = showPot.length;\r\n\r\n\t\tthis.uiPot.UpdatePotTotal(totalPotValue);\r\n\t\tthis.uiPot.SetPotCount(potCount);\r\n\r\n\t\tlet retAnimCount = 0;\r\n\r\n\t\tfor (let i = 0; i < returnPot.length; i++) {\r\n\t\t\tlet pot: any = returnPot[i];\r\n\r\n\t\t\tif (pot.players.length > 1) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif ( pot.rake != null ) {\r\n\t\t\t\ttotalPotValue -= pot.total - pot.rake;\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\ttotalPotValue -= pot.total;\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( pot.players[0] );\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetPlay();\r\n\t\t\t\tuiEntity.SetReturn( pot.total );\r\n\t\t\t\tretAnimCount++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tawait new Promise( ret => setTimeout(ret, 1500) );\r\n\r\n\t\tfor(let i = 0; i < showPot.length; i++){\r\n\t\t\tlet pot = showPot[i];\r\n\r\n\t\t\tlet info: any = null;\r\n\t\t\tfor(let j = 0; j < pot.winner.length; j++){\r\n\t\t\t\tlet chip: any = null;\r\n\t\t\t\tif ( pot.rake != null ) {\r\n\t\t\t\t\tchip = Math.trunc( (pot.total - pot.rake) / pot.winner.length ) ;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tchip = Math.trunc( (pot.total / pot.winner.length) ) ;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( pot.winner[j] );\t\t\t\t\r\n\t\t\t\tif(uiEntity != null ){\r\n\t\t\t\t\tuiEntity.SetPlay();\r\n\t\t\t\t\tuiEntity.SetWinner( this.uiRoundPotValue.node , chip );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet wns: any[] = [];\r\n\t\t\tfor ( let w: number = 0 ; w < pot.winner.length ; w++ ) {\r\n\t\t\t\tlet e = winners.find ( (elem) => { \r\n\t\t\t\t\treturn elem.seat == pot.winner[w];\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif ( e != null ) {\r\n\t\t\t\t\twns.push(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tinfo = winners.find((elem) => {return elem.seat == pot.winner[0];});\r\n\t\t\tif ( info != null ) {\r\n\t\t\t\tlet cards: any = this.msgWINNERS['cards'];\r\n\r\n\t\t\t\tlet ev = this.GetHandsEval( wns[0].cards, cards );\r\n\t\t\t\tthis.uiWinEffect.show( wns, info.eval.handType, ev );\r\n\t\t\t}\r\n\r\n\t\t\tthis.ShowWinningCards(wns);\r\n\t\t\tAudioController.instance.PlaySound('WIN');\r\n\r\n\t\t\tpotCount--;\r\n\t\t\tthis.uiPot.SetPotCount(potCount);\r\n\r\n\t\t\tif ( pot.rake != null ) {\r\n\t\t\t\ttotalPotValue -=  pot.total - pot.rake;\r\n\t\t\t} else {\r\n\t\t\t\ttotalPotValue =  pot.total;\r\n\t\t\t}\r\n\r\n\t\t\tthis.uiPot.UpdatePotTotal(totalPotValue);\r\n\r\n\t\t\tlet count = i + 1;\r\n\r\n\t\t\tfor(let j = 0; j < uiPots.length; j++){\r\n\t\t\t\tlet ui = uiPots[j];\r\n\t\t\t\tui.ClearCallback();\r\n\t\t\t\t\r\n\t\t\t\tif(count >= showPot.length){\r\n\t\t\t\t\tui.showRoot.active = false;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet potInfo = showPot[count];\r\n\r\n\t\t\t\tui.showRoot.active = true;\r\n\r\n\t\t\t\tif ( potInfo.rake != null ) {\r\n\t\t\t\t\tui.valueLabel.string = CommonUtil.getKoreanNumber(potInfo.total - potInfo.rake);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tui.valueLabel.string = CommonUtil.getKoreanNumber(potInfo.total);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tthis.uiPot.HidePotInfo();\r\n\t\t\tawait new Promise(ret => setTimeout(ret, 2500));\r\n\t\t}\r\n    }\r\n\r\n\tprivate ShowWinningCards( wns: any ) {\r\n\t\tlet cards: any = this.msgWINNERS['cards'];\r\n\r\n\t\tlet pools: number[] = [];\r\n\t\twns.forEach( ( e )=>{\r\n\t\t\tlet c: any = this.GetHandsEval( e.cards, cards )['cards'];\r\n\t\t\tc.forEach( (elem)=> {\r\n\t\t\t\tlet name = elem.value + elem.suit;\r\n\t\t\t\tlet num = this.ConvertCardNameToIndex( name );\r\n\r\n\t\t\t\tpools.push(num);\r\n\t\t\t});\r\n\r\n\t\t\tthis.uiCommunityCards.SetWinCards( pools );\r\n\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat(e.seat);\r\n\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\tuiEntity.SetWinCards(pools);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tprivate ConvertCardNameToIndex( name: string ): number {\r\n\t\tlet n: number = -1;\r\n\t\tfor ( let i: number = 0 ; i < totalCards.length; i++ ) {\r\n\t\t\tif ( name == totalCards[i] ) {\r\n\t\t\t\tn = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\n\tprivate CardDispensing() {\r\n\t\tlet seats: number[] = [];\r\n\t\tfor( let i: number = 0; i < this.SEAT_PLAYERS.length; i++ ) {\r\n\t\t\tlet seat = this.SEAT_PLAYERS[ i ];\r\n\r\n\t\t\tif ( this.isEnableSeat ( seat) == false ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tseats.push(i);\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[i];\r\n\t\t\tif ( uiEntity != null ) {\r\n\r\n\t\t\t\tuiEntity.PrepareDispensingCards();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.SetDispensingAnimation( seats, 0, ()=>{\r\n\t\t\tthis.SetDispensingAnimation( seats, 1, ()=>{\r\n\r\n\t\t\t\tif ( this.isEnableSeat ( this.mySeat ) == true ) {\r\n\t\t\t\t\tthis.ShowMyHands();\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate SetDispensingAnimation( seats: any, card: number, cb: ()=> void ) {\r\n\t\tlet interval = 0.1;\r\n\t\tlet duration = 0.2;\r\n\r\n\t\tfor ( let i: number = 0 ; i < seats.length; i++ ) {\r\n\t\t\tlet uiEntity = this.ENTITY_ELEMENTS[ seats[i] ];\r\n\t\t\tif (uiEntity != null ) {\r\n\r\n\t\t\t\tuiEntity.CardDispensing( card, i, duration, i * interval, (idx)=>{\r\n\t\t\t\t\tif ( (seats.length - 1 ) == idx ) {\r\n\t\t\t\t\t\tif ( cb != null ) {\r\n\t\t\t\t\t\t\tcb();\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate ShowPlayersHand() {\r\n\t\tlet keys = Object.keys( this.PLAYER_CARDS );\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif ( seat != this.mySeat ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tuiEntity.HideHiddenCard();\r\n\r\n\t\t\t\t\tuiEntity.ShowHands( this.PLAYER_CARDS[key].cards, ()=>{\r\n\t\t\t\t\t\tthis.SetPlayerHandRank( this.PLAYER_CARDS[key].cards, uiEntity );\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate UpdatePlayerHandRank() {\r\n\t\tlet keys = Object.keys( this.PLAYER_CARDS );\r\n\t\tkeys.forEach( key => {\r\n\t\t\tlet seat = Number.parseInt( key );\r\n\r\n\t\t\tif ( seat != this.mySeat ) {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\t\t\tif ( uiEntity != null ) {\r\n\t\t\t\t\tthis.SetPlayerHandRank( this.PLAYER_CARDS[key].cards, uiEntity );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate ShowMyHands() {\r\n\r\n\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\tif ( uiEntity != null ) {\r\n\r\n\t\t\tuiEntity.ShowHands( this.myCards, ()=>{\r\n\t\t\t\tAudioController.instance.PlaySound('CARD_FLIP');\r\n\t\t\t\tthis.SetMyHandRank();\r\n\t\t\t} );\r\n\t\t}\r\n\t}\r\n    \r\n    private setAniPotMoveToWinner( startNode: Node, seat: number, movingChipsIdx: number, chips: number, \r\n        isPlaySound: boolean, isReturn: boolean, duration: number = 1) {\r\n\r\n\t\t\tlet obj = false === isReturn ?  this.objPotMoveToWinnerChips[ movingChipsIdx ] : this.objPotReturnChips[ movingChipsIdx ];\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( seat );\r\n\t\r\n\t\t\tif(null == uiEntity){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\tif (true === isReturn) {\r\n\t\r\n\t\t\t\tfor (let i = 0; i < obj.sprChips.length; i++) {\r\n\t\t\t\t\tlet moveTarget = obj.sprChips[i];\r\n\t\t\t\t\tlet delay = i * 0.05;\r\n\t\r\n\t\t\t\t\tlet fromNode = null === startNode || undefined === startNode ? this.uiPot.maxPotRoot : startNode;\r\n\t\r\n\t\t\t\t\tlet pos = fromNode.parent.getComponent(UITransform).convertToWorldSpaceAR(fromNode.position);\r\n\t\t\t\t\tpos = moveTarget.node.parent.getComponent(UITransform).convertToNodeSpaceAR(pos);\r\n\t\r\n\t\t\t\t\tlet to = uiEntity.node.parent.getComponent(UITransform).convertToWorldSpaceAR(uiEntity.node.position);\r\n\t\t\t\t\tto = uiEntity.node.parent.getComponent(UITransform).convertToNodeSpaceAR(to);\r\n\t\r\n\t\t\t\t\tlet isLast = i == obj.sprChips.length - 1;\r\n\t\t\t\t\tlet dur = 0.8;\r\n\t\t\t\t\tthis.setTweenMoveFromTo(moveTarget, new Color(Color.WHITE), pos, to, delay, dur, this.easeOutQuart, () => {\r\n\t\t\t\t\t\tif (true == isPlaySound) {\r\n\t\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_START');\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, isLast ? () => {\r\n\t\t\t\t\t\tuiEntity?.SetChips(chips);\r\n\t\t\t\t\t\tif (true == isPlaySound) {\r\n\t\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_END');\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} : () => {\r\n\t\t\t\t\t\tif (true == isPlaySound) {\r\n\t\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_END');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\tlet bezierPathNodes: Node[] = [];\r\n\t\t\tbezierPathNodes.push( null=== startNode || undefined === startNode ? this.uiPot.maxPotRoot : startNode);\r\n\t\r\n\t\t\tuiEntity.bezierPoints.forEach(elem => bezierPathNodes.push(elem));\r\n\t\r\n\t\t\tbezierPathNodes.push(uiEntity.node);\r\n\t\r\n\t\t\tfor( let i = 0; i < obj.sprChips.length; i++ ) {\r\n\t\t\t\tlet moveTarget = obj.sprChips[ i ];\r\n\t\t\t\tlet delay = i * 0.05;\r\n\t\r\n\t\t\t\tlet bezierPts = [];\r\n\t\t\t\tfor( let i = 0; i < bezierPathNodes.length; i++ ) {\r\n\t\t\t\t\tlet pos = bezierPathNodes[ i ].parent.getComponent( UITransform ).convertToWorldSpaceAR( bezierPathNodes[ i ].position );\r\n\t\t\t\t\tpos = moveTarget.node.parent.getComponent( UITransform ).convertToNodeSpaceAR( pos );\r\n\t\t\t\t\tbezierPts.push( pos );\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tlet isLast = i == obj.sprChips.length - 1;\r\n\t\r\n\t\t\t\tthis.setTweenFadeInOutFromToMove( moveTarget, new Color( Color.WHITE ), bezierPts, delay, duration, this.easeOutQuart, () => {\r\n\t\t\t\t\tif( true == isPlaySound ) {\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_START');\r\n\t\t\t\t\t}\r\n\t\t\t\t}, isLast ? () => {\r\n\t\t\t\t\tuiEntity?.SetChips( chips );\r\n\t\t\t\t\tif( true == isPlaySound ) {\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_END');\r\n\t\t\t\t\t}\r\n\t\t\t\t} : () => {\r\n\t\t\t\t\tif( true == isPlaySound ) {\r\n\t\t\t\t\t\tAudioController.instance.PlaySound('CHIP_END');\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}\r\n    }\r\n\r\n    private setAniPotUiFadeOut() {\r\n\t\tif (this.spritePotRoot != null ) {\r\n\t\t\tthis.spritePotRoot.node.active = false;\r\n\t\t}\r\n    }\r\n\r\n    setTweenMoveFromTo( sprite: Sprite, originalColor, from: Vec3, to: Vec3, delay: number,\r\n        duration: number, easingFunc: ( k: number )=> number, onStart: ()=>void, onFinished: ()=>void ) {\r\n\r\n\t\t\tsprite.node.active = true;\r\n\t\t\tsprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, 0 );\r\n\t\r\n\t\t\tlet tw = tween( sprite.node )\r\n\t\t\t\t.set( {\r\n\t\t\t\t\tposition: from\r\n\t\t\t\t} )\r\n\t\t\t\t.delay( delay );\r\n\t\r\n\t\t\tif( null != onStart ) {\r\n\t\t\t\ttw.call( onStart );\r\n\t\t\t}\r\n\t\r\n\t\t\ttw.to( duration, {\r\n\t\t\t\tposition: to,\r\n\t\t\t}, {\r\n\t\t\t\tonUpdate: ( target: Node, ratio: number ) => {\r\n\t\r\n\t\t\t\t\tlet tv = bezier( 0, 0.25, 0.25, 1, ratio );\r\n\t\r\n\t\t\t\t\tlet a = bezier( 255, 255, 255, 0, tv );\r\n\t\t\t\t\tif( a > originalColor.a ) {\r\n\t\t\t\t\t\ta = originalColor.a;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, a );\r\n\t\t\t\t},\r\n\t\t\t} );\r\n\t\r\n\t\t\tif( null != onFinished ) {\r\n\t\t\t\ttw.call( onFinished );\r\n\t\t\t}\r\n\t\r\n\t\t\ttw.union();\r\n\t\t\ttw.start();\r\n    }\r\n\r\n\tsetTweenFadeInOutFromToMove( sprite: Sprite, originalColor: Color, bezierPath: Vec3[], delay: number,\r\n\t\tduration: number, easingFunc: ( k: number ) => number, onStart: () => void, onFinished: () => void ) {\r\n\r\n\t\tsprite.node.active = true;\r\n\r\n\t\tsprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, 0 );\r\n\r\n\t\tlet tw = tween( sprite.node )\r\n\t\t\t.set( {\r\n\t\t\t\tposition: bezierPath[ 0 ]\r\n\t\t\t} )\r\n\t\t\t.delay( delay );\r\n\r\n\t\tif( null != onStart ) {\r\n\t\t\ttw.call( onStart );\r\n\t\t}\r\n\r\n\t\ttw.to( duration, {\r\n\t\t\t// position: to,\r\n\t\t}, {\r\n\t\t\tonUpdate: ( target: Node, ratio: number ) => {\r\n\r\n\t\t\t\tlet tv = bezier( 0, 0.25, 0.25, 1, ratio );\r\n\t\t\t\tlet x = bezier( bezierPath[ 0 ].x, bezierPath[ 1 ].x, bezierPath[ 2 ].x, bezierPath[ 3 ].x, tv );\r\n\t\t\t\tlet y = bezier( bezierPath[ 0 ].y, bezierPath[ 1 ].y, bezierPath[ 2 ].y, bezierPath[ 3 ].y, tv );\r\n\t\t\t\tsprite.node.position = new Vec3( x, y, 0 );\r\n\r\n\t\t\t\tlet a = bezier( 255, 255, 255, 0, tv );\r\n\t\t\t\tif( a > originalColor.a ) {\r\n\t\t\t\t\ta = originalColor.a;\r\n\t\t\t\t}\r\n\t\t\t\tsprite.color = new Color( originalColor.r, originalColor.g, originalColor.b, a );\r\n\t\t\t},\r\n\t\t} );\r\n\r\n\t\tif( null != onFinished ) {\r\n\t\t\ttw.call( onFinished );\r\n\t\t}\r\n\r\n\t\ttw.union();\r\n\t\ttw.start();\r\n\t}\r\n\r\n\r\n    easeOutQuart( x: number ): number {\r\n\t\treturn 1 - Math.pow( 1 - x, 4 );        \r\n    }\r\n\r\n\tgetBezierSampleValue( points: Vec3[], t: number ): Vec3 {\r\n\t\tlet x = bezier( points[ 0 ].x, points[ 1 ].x, points[ 2 ].x, points[ 3 ].x, t );\r\n\t\tlet y = bezier( points[ 0 ].y, points[ 1 ].y, points[ 2 ].y, points[ 3 ].y, t );\r\n\t\treturn new Vec3( x, y, 0 );\r\n\t}\r\n\r\n    private onBUY_IN( msg ) {\r\n\r\n\t\tBoard.balance = Number.parseInt( msg[ \"balance\" ] );\r\n\t\tBoard.small = Number.parseInt( msg[ \"small\" ] );\r\n\t\tBoard.big = Number.parseInt( msg[ \"big\" ] );\r\n\t\tBoard.id = Number.parseInt( msg[ \"id\" ] );\r\n\t\tBoard.passPrice = msg[ \"passPrice\" ];\r\n\t\tBoard.minStakePrice = msg[\"minStakePrice\"];\r\n\t\tBoard.maxStakePrice = msg[\"maxStakePrice\"];\r\n\r\n\t\tlet self =this;\r\n\t\tthis.uiBuyIn.buyIn((res)=>{\r\n\t\t\tBoard.room.send( \"BUY_IN\", { id: Board.id, buyInAmount: res } );\r\n\t\t\tthis.uiBuyIn.closePopup();\r\n\r\n\t\t}, ()=>{\r\n\t\t\tself.room.send('CANCEL_BUY_IN');\r\n\t\t\tthis.uiSeats.onResultFail();\r\n\t\t\tthis.uiBuyIn.closePopup();\r\n\t\t});\r\n    }\r\n\r\n    private onRES_BUY_IN( msg ) {\r\n        let ret: number = msg[\"ret\"];\r\n        if (ret === -1) {\r\n\r\n        } else {\r\n\t\t\tthis.uiBuyIn.buyInDone();\r\n            this.uiSeats.end();\r\n            this.show();\r\n\r\n\t\t\tif ( ret != 0 ) {\r\n\t\t\t\tthis.room?.leave( true );\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n        }\r\n    }\r\n\r\n    private onRES_RE_BUY( msg ) {\r\n\r\n\t\tif ( 0 != msg['resultCode'] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tBoard.balance = Number.parseInt( msg['balance']);\r\n\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\tlet chips = Number.parseInt( msg ['chips'] );\r\n\r\n\t\tuiEntity.SetChips( chips);\r\n\t\tthis.myChips = chips;\r\n    }\r\n\r\n    private onRE_BUY_IN( msg ) {\r\n\r\n    }\r\n\r\n    private onRES_ADD_CHIPS_REQUEST( msg ) {\r\n\t\tlet code = msg[\"code\"];\r\n\r\n\t\tif ( code === -1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( code > 0 ) {\r\n\t\t\tlet message: string = this.getAddChipsErrorMessage(code);\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\tlet balance: number = msg[\"balance\"];\r\n\t\t\tlet chips: number = msg[\"initChips\"];\r\n\t\t\tlet amount:number = msg[\"amount\"];\r\n\r\n\t\t\tthis.uiBuyIn.addChips( balance, amount, (res)=>{\r\n\t\t\t\tif ( res > 0 ) {\r\n\t\t\t\t\tthis.sendMsg('ADD_CHIPS', {\r\n\t\t\t\t\t\tseat: this.mySeat,\r\n\t\t\t\t\t\tamount: res,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', '칩 추가가 취소되었습니다', ()=>{\r\n\t\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    private onRES_ADD_CHIPS( msg ) {\r\n\t\tthis.uiSeats.end();\r\n\t\tlet code: number = msg[ \"code\" ];\r\n\t\tif ( 0 === code ) {\r\n\t\t\tlet pending: boolean = msg[\"pending\"];\r\n\t\t\tlet balance = msg[ \"balance\" ];\r\n\t\t\tlet chips = msg[ \"chips\" ];\r\n\t\t\tlet amount = msg[ \"amount\" ];\r\n\t\t\tif ( true === pending ) {\r\n\t\t\t\tlet message: string = \"칩은 현재 핸드가 종료된 다음에 적용됩니다.\";\r\n\t\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t});\r\n\r\n\t\t\t} else {\r\n\t\t\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\t\t\tBoard.balance = balance;\r\n\t\t\t\tuiEntity.SetChips( chips );\r\n\t\t\t\tthis.myChips = chips;\r\n\r\n\t\t\t\tlet message: string = CommonUtil.getNumberStringWithComma(amount) + \" 칩이 추가되었습니다.\";\r\n\t\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet message: string = this.getAddChipsErrorMessage(code);\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    private onRES_ADD_CHIPS_PEND( msg ) {\r\n\t\tlet code: number = msg[ \"code\" ];\r\n\t\tif ( 0 === code ) {\r\n\t\t\tlet uiEntity = this.GetEntityFromSeat( this.mySeat );\r\n\t\t\tlet balance = msg[ \"balance\" ];\r\n\t\t\tlet chips = msg[ \"chips\" ];\r\n\t\t\tlet amount = msg[ \"amount\" ];\r\n\r\n\t\t\tBoard.balance = balance;\r\n\t\t\tuiEntity.SetChips( chips );\r\n\t\t\tthis.myChips = chips;\r\n\r\n\t\t\tlet message: string = CommonUtil.getNumberStringWithComma(amount) + \" 칩이 추가되었습니다.\";\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tlet message: string = this.getAddChipsErrorMessage(code);\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('칩 추가', message, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\r\n    private onPing ( msg ) {\r\n\t\tthis.room.send( \"pong\", { seat: this.mySeat } );\r\n    }\r\n\r\n    public leave() {\r\n\t\tif ( this.uiProfile != null ) {\r\n\t\t\tthis.uiProfile.hide();\r\n\t\t}\r\n\t\tthis.room?.leave( true );\r\n    }\r\n\r\n    private getAddChipsErrorMessage( code: number ) : string {\r\n\t\tlet ret: string = \"UNKNOWN MESSAGE\";\r\n\t\tswitch (code) {\r\n\t\t\tcase -1:\r\n\t\t\t\tret = \"플레이어 정보가 없거나 잘못되었습니다\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tret = \"바이인 할 수 없습니다. 다시 신청해주세요\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tret = \"이미 바이인 요청이 있습니다.\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n \t\t\t\tret = \"더 이상 바이인을 할 수 없습니다.\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tret = \"바이인할 칩이 없습니다.\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tret = \"더 이상 바이인 할 수 없습니다.\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tret = \"최대 바이인 횟수에 도달했습니다.\";\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\t\treturn ret;\r\n    }\r\n\r\n\tpublic OpenUserProfile( id :number, seat: number ) {\r\n\t\tthis.sendMsg(\"SHOW_PROFILE\", { \r\n\t\t\tid: id,\r\n\t\t\tseat: seat,\r\n\t\t});\r\n\t}\r\n\r\n\tpublic onEVENT_FOREGROUND() {\r\n\t\tif ( this.uiSeats != null && this.uiSeats.node.active == true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( this.reconnect == true ) {\r\n\t\t\tNetworkManager.Instance().reconnect( this.room_id, this.session_id );\r\n\t\t}\r\n\r\n\t\t// this.updateClinet = true;\r\n\t\t// this.sendMsg(\"FORE_GROUND\", { \r\n\t\t// \tseat: this.mySeat,\r\n\t\t// });\r\n\t}\r\n\r\n\tpublic onEVENT_BACKGROUND() {\r\n\t\tif ( this.uiSeats != null && this.uiSeats.node.active == true) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// this.updateClinet = false;\t\t\r\n\t\t// this.sendMsg(\"BACK_GROUND\", { \r\n\t\t// \tseat: this.mySeat,\t\t\t\r\n\t\t// });\r\n\t}\r\n\r\n\tprivate SetSitoutButtons( isSitout: boolean, reservable: boolean = false ) {\r\n\t\tif ( isSitout == true ) {\r\n\t\t\tthis.buttonSitout.node.active = false;\r\n\r\n\t\t\tthis.buttonSitback.node.active = true;\r\n\t\t\tthis.labelSitback.string = '자리복귀';\t\t\t\r\n\t\t} else {\t\t\t\r\n\t\t\tif ( reservable == true ) {\r\n\r\n\t\t\t}\r\n\t\t\tthis.buttonSitback.node.active = false;\r\n\r\n\t\t\tthis.buttonSitout.node.active = true;\r\n\t\t\tthis.labelSitout.string = '자리비움';\r\n\t\t}\r\n\t}\r\n\r\n\tprivate OpenProfile(id: number, seat: number) {\r\n\t\tthis.OpenUserProfile(id, seat )\r\n\t}\r\n\r\n\tprivate CloseProfile( seat: number ) {\r\n\r\n\t}\r\n\r\n\tprivate onREFRESH_UNREAD_MSG() {\r\n\t\tUiControls.instance.onREFRESH_UNREAD_BADGE();\r\n\t}\r\n\r\n\tprivate onMASTER_CALL( msg ) {\r\n\t\tlet popup = msg['popup'];\r\n\t\tif ( popup != null ) {\r\n\t\t\tUiGameSystemPopup.instance.showOkPopup('SYSTEM', popup, ()=>{\r\n\t\t\t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onFORCE_LEAVE( msg ) {\r\n\t\tlet user = NetworkManager.Instance().GetUser();\r\n\t\tif ( user != null && user.id > 0) {\r\n\t\t\tthis.sendMsg(\"EXIT_TABLE\", {\r\n\r\n\t\t\t\tseat : this.mySeat,\r\n\t\t\t\tid : user.id,\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onMASTER_MESSAGE( msg ) {\r\n\t\t// let popup = msg['popup'];\r\n\t\t// if ( popup != null ) {\r\n\t\t// \tUiGameSystemPopup.instance.showOkPopup('SYSTEM', popup, ()=>{\r\n\t\t// \t\tUiGameSystemPopup.instance.closePopup();\r\n\t\t// \t});\r\n\t\t// }\r\n\t}\r\n\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Button, UITransform, director, Scene, Label, instantiate, Layout, ToggleContainer, Toggle } from 'cc';\r\nimport { Board } from '../Board';\r\nimport { CommonUtil } from '../CommonUtil';\r\nimport { LobbySystemPopup } from '../LobbySystemPopup';\r\nimport { ENUM_RESULT_CODE, NetworkManager } from '../NetworkManager';\r\nimport { UiTable } from '../UiTable';\r\nimport { LobbyAudioContoller } from './LobbyAudioContoller';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('TableListUiElement')\r\nexport class TableListUiElement {\r\n    @property(Node) nodeRoot: Node = null;\r\n    @property(Label) labelTableName: Label = null;\r\n    @property(Label) labelTableMax: Label = null;\r\n    @property(Label) labelBlind: Label = null;\r\n    @property(Label) labelAnte: Label = null;\r\n    @property(Label) labelBuyIn: Label = null;\r\n    @property(Label) labelPlayers: Label = null;\r\n    @property(Button) buttonJoin: Button = null;\r\n\r\n    private table: any = null;\r\n    private cbJoinTable: ( button:Button, table: any ) => void = null;\r\n\r\n    public copy(): TableListUiElement {\r\n        let copyObject: TableListUiElement = new TableListUiElement();\r\n        let newObject = instantiate (this.nodeRoot );\r\n\r\n        copyObject.nodeRoot = newObject;\r\n        copyObject.labelTableName = newObject.getChildByPath(\"LABEL_TABLE_NAME\")?.getComponent(Label);\r\n        copyObject.labelTableMax = newObject.getChildByPath(\"LABEL_TABLE_MAX\")?.getComponent(Label);        \r\n        copyObject.labelBlind = newObject.getChildByPath(\"VALUES/LABEL_BLIND\")?.getComponent(Label);\r\n        copyObject.labelAnte = newObject.getChildByPath(\"VALUES/LABEL_ANTE\")?.getComponent(Label);        \r\n        copyObject.labelBuyIn = newObject.getChildByPath(\"VALUES/LABEL_MIN_BUYIN\")?.getComponent(Label);\r\n        copyObject.labelPlayers = newObject.getChildByPath(\"VALUES/LABEL_PLAYERS\")?.getComponent(Label);        \r\n        copyObject.buttonJoin = newObject.getChildByPath(\"BUTTON_JOIN\")?.getComponent(Button);\r\n\r\n        return copyObject;\r\n    }\r\n\r\n    public clear() {\r\n        this.labelTableName.string = \"\";\r\n        this.labelTableMax.string = \"\";        \r\n        this.labelBlind.string = \"\";\r\n        this.labelAnte.string = '';\r\n        this.labelBuyIn.string = \"\";\r\n\r\n        if ( this.cbJoinTable != null ) {\r\n            this.cbJoinTable = null;\r\n        }\r\n    }\r\n\r\n    public setTable( table: any, cb: ( button:Button, table: any )=>void ) {\r\n        this.table = table;\r\n        this.labelTableName.string = '[' + this.table.id + '] ' + this.table.name;\r\n\r\n        if ( table.maxPlayers == 9 ) {\r\n            this.labelTableMax.string = '9인';\r\n\r\n        } else if ( table.maxPlayers == 6 ) {\r\n            this.labelTableMax.string = '6인';\r\n        }\r\n\r\n        this.labelBlind.string = \r\n            CommonUtil.getNumberStringWithComma( this.table.smallBlind )  + \" / \" + \r\n            CommonUtil.getNumberStringWithComma( this.table.bigBlind );\r\n        this.labelAnte.string = CommonUtil.getNumberStringWithComma ( this.table.ante );\r\n        this.labelBuyIn.string = CommonUtil.getNumberStringWithComma( this.table.minBuyIn );\r\n        this.labelPlayers.string = table.players;\r\n\r\n        this.cbJoinTable = null;\r\n        this.cbJoinTable = cb;\r\n\r\n        this.buttonJoin.node.off(\"click\");        \r\n        this.buttonJoin.node.on(\"click\", this.onClickJoinTable.bind(this), this);\r\n    }\r\n\r\n    public setActive( active: boolean ) {\r\n        this.nodeRoot.active = active;\r\n    }\r\n\r\n    public setParent( parent: Node ) {        \r\n        this.nodeRoot.parent = parent;\r\n    }\r\n\r\n    private onClickJoinTable( button: Button ) {\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n\r\n        this.cbJoinTable( button, this.table );\r\n    }\r\n}\r\n\r\n@ccclass('UiTableList')\r\nexport class UiTableList extends Component {\r\n\r\n    @property(Layout) contents: Layout = null;\r\n    @property(TableListUiElement) origin: TableListUiElement = new TableListUiElement();\r\n    @property(Toggle) toggleHoldemTable: Toggle = null;\r\n    @property(Toggle) toggleTournament: Toggle = null;\r\n\r\n    @property(ToggleContainer) tg: ToggleContainer = null;\r\n\r\n    private info: any = null;\r\n    private res: any = null;\r\n\r\n    private tables: any[] = [];\r\n    private elementOnList: TableListUiElement[] = [];\r\n    private elementPool: TableListUiElement[] = [];\r\n\r\n    private cbJoinTable: ( button: Button, table: any)=>void = null;\r\n    private cbExitLobby: ()=>void = null;\r\n\r\n    public init( cbJoinTable: (table: any)=>void, exitLobby: ()=> void  ) {\r\n        if ( cbJoinTable != null ) {\r\n            this.cbJoinTable = cbJoinTable;\r\n        }\r\n\r\n        if ( exitLobby != null ) {\r\n            this.cbExitLobby = exitLobby;\r\n        }\r\n\r\n        this.toggleHoldemTable.node.on('toggle', this.onToggleHoldemTable.bind(this), this);\r\n        this.toggleTournament.node.on('toggle', this.onToggleTournament.bind(this), this);\r\n\r\n        this.origin.nodeRoot.active = false;\r\n        this.node.active = false;\r\n    }\r\n\r\n    private onToggleHoldemTable( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n    }\r\n\r\n    private onToggleTournament( toggle: Toggle ) {\r\n        if ( toggle.isChecked == false ) {\r\n            return;\r\n        }\r\n\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n    }\r\n\r\n    private clearList() {\r\n        if ( this.elementOnList == null ) {\r\n            this.elementOnList = [];\r\n            return;\r\n        }\r\n\r\n        this.elementOnList.forEach( (e)=> {\r\n            e.clear();\r\n            e.setActive(false);\r\n            e.setParent(this.node);\r\n\r\n            this.elementPool.push(e);\r\n        } );\r\n\r\n        this.elementOnList.splice(0);\r\n    }\r\n\r\n    private showTableList(tables: any[]) {\r\n        if (tables == null) {\r\n            return;\r\n        }\r\n\r\n        this.clearList();\r\n        this.tables = [];\r\n        this.tables = tables;\r\n\r\n        this.elementOnList = [];\r\n        this.elementPool = [];\r\n\r\n        if ( this.tables.length < this.elementOnList.length ) {\r\n            let toPool: TableListUiElement[] = this.elementOnList.splice( this.tables.length - 1 );\r\n\r\n            toPool.forEach( (e)=>{\r\n                e.clear();\r\n                e.setActive(false);\r\n                e.setParent(this.node);\r\n            } );\r\n            this.elementOnList.push(...toPool);\r\n        }\r\n\r\n        for ( let i = 0 ; i < this.tables.length; i++ ) {\r\n            let table: any = this.tables[i];\r\n\r\n            if ( this.elementOnList.length - 1 < i ) {\r\n                let e: TableListUiElement = null;\r\n\r\n                if ( this.elementPool.length > 0 ) {\r\n                    e = this.elementPool.pop();\r\n                } else {\r\n                    e = this.origin.copy();\r\n                }\r\n\r\n                e.clear();\r\n                e.setTable( table, this.onClickJoinRoom.bind(this) );\r\n                e.setParent( this.contents.node );\r\n                e.setActive( true );\r\n\r\n                this.elementOnList.push( e );\r\n                continue;\r\n            }\r\n\r\n            this.elementOnList[i].setTable( table, this.onClickJoinRoom.bind(this) );\r\n            this.elementOnList[i].setActive( true );\r\n        }\r\n    }\r\n\r\n    private onClickJoinRoom( button: Button, table: any) {\r\n        if ( button == null ) {\r\n            return;\r\n        }\r\n\r\n        button.interactable = false;\r\n\r\n        LobbyAudioContoller.instance.PlayButtonClick();\r\n        this.cbJoinTable( button, table );\r\n    }\r\n\r\n    public show() {\r\n        this.node.active = true;\r\n        // this.getTableList();\r\n\r\n        // this.schedule( ()=>{\r\n        //     this.getTableList();\r\n        // }, 10 );\r\n    }\r\n\r\n    public end() {\r\n        // this.unscheduleAllCallbacks();\r\n    }\r\n\r\n    public getTableList() {\r\n        NetworkManager.Instance().getTABLE_LIST( (res)=>{\r\n            if ( res.code == ENUM_RESULT_CODE.SUCCESS ) {\r\n                this.showTableList(res.tables);\r\n            } else {\r\n\r\n            }\r\n        }, (err)=>{\r\n            if ( err.code == ENUM_RESULT_CODE.DISCONNECT_SERVER ) {\r\n                LobbySystemPopup.instance.showPopUpOk('로비', '게임서버에 연결할 수 없습니다.', ()=>{\r\n                    if ( this.cbExitLobby != null ) {\r\n                        this.cbExitLobby();\r\n\r\n                    }\r\n\r\n                    // this.end();\r\n                    // director.loadScene('LoginScene', ()=>{\r\n\r\n                    // }, ()=>{\r\n\r\n                    // });\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n","import { _decorator, Component, Node, Sprite, resources, SpriteFrame, Label } from 'cc';\r\nimport { Board } from '../Board';\r\nimport { AudioController } from './AudioController';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('UiWinEffect')\r\nexport class UiWinEffect extends Component {\r\n    @property(SpriteFrame) spriteFrameGrades: SpriteFrame[] = [];\r\n    @property(SpriteFrame) spriteFrameRanks: SpriteFrame[] = [];    \r\n\r\n    @property(Sprite) spriteWinEffectBackGround: Sprite = null;\r\n    @property(Sprite) spriteWinEffectRank: Sprite = null;\r\n\r\n    @property(Node) rootInfo: Node = null;\r\n    @property(Label) labelWinners: Label = null;\r\n    @property(Label) labelHands: Label = null;\r\n\r\n\r\n    init() {\r\n        this.spriteWinEffectBackGround.node.active = false;\r\n        this.spriteWinEffectRank.node.active = false;\r\n\r\n        this.rootInfo.active = false;\r\n        this.labelWinners.string = '';\r\n        this.labelWinners.node.active = false;\r\n\r\n        this.labelHands.string = '';\r\n        this.labelHands.node.active = false;\r\n\r\n        this.node.active = false;\r\n    }\r\n\r\n    show( winners: any, type: number, e: any ) {\r\n        this.labelWinners.string = '';\r\n        this.labelHands.string = '';\r\n\r\n        let wns: string[] = [];\r\n        winners.forEach( (e)=>{\r\n            wns.push( e.nickname );\r\n        });\r\n\r\n        let ws = wns.toString();\r\n        this.labelWinners.string = ws;\r\n        this.labelHands.string = e.descr;\r\n\r\n        this.labelWinners.node.active = true;\r\n        this.labelHands.node.active = true;\r\n\r\n        if ( type > 0 ) {\r\n            type = ( type - 1 );\r\n            \r\n            this.spriteWinEffectRank.spriteFrame = this.spriteFrameRanks[ type ];\r\n            this.spriteWinEffectRank.node.active = true;\r\n            let grade = Math.floor( ( type ) / 3 );\r\n\r\n            this.spriteWinEffectBackGround.spriteFrame = this.spriteFrameGrades[ grade ];\r\n            this.spriteWinEffectBackGround.node.active = true;\r\n        }\r\n\r\n        switch ( type ) {\r\n            case 0:\r\n                AudioController.instance.PlaySound('VOICE_RANK_TOP');\r\n                break;\r\n            case 1:\r\n                AudioController.instance.PlaySound('VOICE_RANK_ONEPAIR');                \r\n                break;\r\n            case 2:\r\n                AudioController.instance.PlaySound('VOICE_RANK_TWOPAIR');                \r\n                break;\r\n            case 3:\r\n                AudioController.instance.PlaySound('VOICE_RANK_TRIPLE');                \r\n                break;\r\n            case 4:\r\n                AudioController.instance.PlaySound('VOICE_RANK_STRAIGHT');                \r\n                break;\r\n            case 5:\r\n                AudioController.instance.PlaySound('VOICE_RANK_FLUSH');                \r\n                break;\r\n            case 6:\r\n                AudioController.instance.PlaySound('VOICE_RANK_FULL_HOUSE');                \r\n                break;\r\n            case 7:\r\n                AudioController.instance.PlaySound('VOICE_RANK_FOURCARD');\r\n                break;                \r\n            case 8:\r\n                AudioController.instance.PlaySound('VOICE_RANK_STRAIGHT_FLUSH');\r\n                break;\r\n       }\r\n\r\n        this.rootInfo.active = true;\r\n        this.node.active = true;\r\n    }\r\n\r\n    hide() {\r\n        this.spriteWinEffectBackGround.node.active = false;\r\n        this.spriteWinEffectRank.node.active = false;\r\n        this.node.active = false;\r\n    }\r\n}\r\n\r\n\r\n"]}